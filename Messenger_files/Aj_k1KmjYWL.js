if (self.CavalryLogger) { CavalryLogger.start_js(["s3m6D"]); }

__d("ActorURIConfig",[],(function a(b,c,d,e,f,g){f.exports={PARAMETER_ACTOR:"av"};}),null);
__d("ChatPerfEvent",[],(function a(b,c,d,e,f,g){f.exports={ASYNC_REQUEST:"async_request",SIDEBAR_FROM_CLIENT_TTI:"sidebar_from_client_tti",SIDEBAR_FROM_SERVER_TTI:"sidebar_from_server_tti",SIDEBAR_DISPLAY_DONE:"sidebar_display_done",TTI:"tti",CHAT_CONVERSATION_TTI:"chat_conversation_tti",CHAT_INIT_STORES:"chat_init_stores",CHAT_INIT_DATA:"chat_init_data",CHAT_INIT_UI:"chat_init_ui",CHAT_INIT_SOUND:"chat_init_sound",CHAT_DISPLAY_DONE:"chat_display_done"};}),null);
__d("EmojiStaticConfig",[],(function a(b,c,d,e,f,g){f.exports={checksumBase:317426846,fileExt:".png",supportedSizes:{"16":"DP16","18":"DP18","20":"DP20","24":"DP24","30":"DP30","32":"DP32","64":"DP64","128":"DP128"},types:{FBEMOJI:"f",FB_EMOJI_EXTENDED:"e",MESSENGER:"z",UNICODE:"u"},sizeMap:{dp16:16,dp18:18,dp20:20,dp24:24,dp30:30,dp32:32,dp64:64,dp128:128,xsmall:16,small:32,medium:64,large:128}};}),null);
__d("FunnelRegistry",[],(function a(b,c,d,e,f,g){f.exports={WWW_EXAMPLE_FUNNEL:true,MSITE_EXAMPLE_FUNNEL:true,WWW_FEED_SHARE_DIALOG_FUNNEL:true,MSITE_FEED_SHARE_DIALOG_FUNNEL:true,PLATFORM_SHARE_DIALOG_FUNNEL:true,WWW_RECRUITING_SEARCH_FUNNEL:true,WWW_CANVAS_EDITOR_FUNNEL:true,MSITE_COMMENT_TYPING_FUNNEL:true,MSITE_NOTE_READING_FUNNEL:true,WWW_CAMPFIRE_COMPOSER_UPSELL_FUNNEL:true,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:true,WWW_REACTIONS_NUX_FUNNEL:true,WWW_COMMENT_REACTIONS_NUX_FUNNEL:true,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:true,WWW_LEAD_GEN_FORM_CREATION_FUNNEL:true,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:true,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:true,WWW_LINK_PICKER_DIALOG_FUNNEL:true,WWW_MEME_PICKER_DIALOG_FUNNEL:true,WWW_SNOWLIFT_ACTIONS_FUNNEL:true,WWW_CANVAS_AD_CREATION_FUNNEL:true,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:true,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:true,WWW_PAGE_CREATION_FUNNEL:true,WWW_VIDEOS_CASTING_FUNNEL:true,MSITE_PPD_FUNNEL:true,WWW_CMS_SEARCH_FUNNEL:true,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:true,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:true,GAMES_QUICKSILVER_FUNNEL:true,SRT_USER_FLOW_FUNNEL:true,WWW_MEME_PIVOT_FUNNEL:true,WWW_NOTIFICATION_FUNNEL:true,MSITE_HASHTAG_PROMPT_FUNNEL:true,MSITE_FEED_ALBUM_CTA_FUNNEL:true,MTOUCH_COMMENT_STORIES_FUNNEL:true,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:true,MISINFORMATION_RESHARE_ALERT_FUNNEL:true,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:true,MTOUCH_FEED_MISSED_STORIES_FUNNEL:true,WWW_STORYSET_FUNNEL:true,POLYGLOT_MAIN_FUNNEL:true,CREATIVE_STUDIO_CREATION_FUNNEL:true,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:true};}),null);
__d("MercuryActionStatus",[],(function a(b,c,d,e,f,g){f.exports={UNSENT:0,SUCCESS:1,UNCONFIRMED:3,FAILED_UNKNOWN_REASON:4,UNABLE_TO_CONFIRM:5,RESENT:6,RESENDING:7,ERROR:10};}),null);
__d("MercuryActionType",[],(function a(b,c,d,e,f,g){f.exports={LOG_MESSAGE:"ma-type:log-message",USER_GENERATED_MESSAGE:"ma-type:user-generated-message",ADD_GROUP_ADMINS:"ma-type:add_group_admins",REMOVE_GROUP_ADMINS:"ma-type:remove_group_admins",CHANGE_READ_STATUS:"ma-type:change_read_status",MARK_THREAD_SEEN:"ma-type:mark_thread_seen",CHANGE_MUTE_SETTINGS:"ma-type:change-mute-settings",SEND_MESSAGE:"ma-type:send-message",DELETE_MESSAGES:"ma-type:delete-messages",DELETE_THREAD:"ma-type:delete-thread",UPDATE_SNIPPET:"ma-type:update-snippet",CHANGE_ARCHIVED_STATUS:"ma-type:change-archived-status",CHANGE_FOLDER:"ma-type:change-folder",ADD_PARTICIPANTS:"ma-type:add-participants",CANCEL_ATTACHMENT_PLACEHOLDER:"ma-type:cancel-attachment-placeholder",CONFIRM_ATTACHMENT_PLACEHOLDER:"ma-type:confirm-attachment-placeholder",CHANGE_FLAG:"ma-type:change_flag",UPDATE_PRIORITY:"ma-type:update_priority",MOVE_PENDING_TO_INBOX:"ma-type:move_pending_to_inbox",CREATE_PAGE_ADMIN_NOTE:"ma-type:create-page-admin-note",REPLACE_MESSAGE:"ma-type:replace-message",UPDATE_CUSTOM_LIKE:"ma-type:update_custom_like",UNWRAP_MESSAGE:"ma-type:unwrap-message",JOINABLE_MODE:"ma-type:joinable-mode",APPROVAL_MODE:"ma-type:approval-mode",APPROVAL_QUEUE:"ma-type:approval-queue",IS_PIN_PROTECTED:"ma-type:is_pin_protected",REACTION_UPDATE:"ma-type:reaction-update",UPDATE_RTC_CALL_DATA:"ma-type:update-rtc-call-data"};}),null);
__d("MercuryAPIArgsSource",[],(function a(b,c,d,e,f,g){f.exports={CHAT:"chat",JEWEL:"jewel",MERCURY:"mercury",MERCURYSYNC:"mercury_sync",WEBMESSENGER:"web_messenger",MESSENGER:"messenger"};}),null);
__d("MercuryAttachmentContentType",[],(function a(b,c,d,e,f,g){f.exports={PHOTO:"attach:image",VIDEO:"attach:video",MUSIC:"attach:music",VOICE:"attach:voice",TEXT:"attach:text",MSWORD:"attach:ms:word",MSXLS:"attach:ms:xls",MSPPT:"attach:ms:ppt",ORION:"attach:orion",SHOERACK_INVITATION:"attach:shoerackinvite",UNKNOWN:"attach:unknown"};}),null);
__d("MercuryAttachmentType",[],(function a(b,c,d,e,f,g){f.exports={ERROR:"error",FILE:"file",PHOTO:"photo",STICKER:"sticker",SHARE:"share",UNKNOWN:"unknown",VIDEO:"video",ANIMATED_IMAGE:"animated_image",EMOJI_LIKE:"emoji_like",GIFT:"gift",THIRDPARTYSTICKER:"third_party_sticker"};}),null);
__d("MercuryAudioType",[],(function a(b,c,d,e,f,g){f.exports={AudioClip:"fb_voice_message",VoiceMessageWithTranscript:"fb_voice_message_with_transcript"};}),null);
__d("MercuryErrorType",[],(function a(b,c,d,e,f,g){f.exports={SERVER:1,TRANSPORT:2,TIMEOUT:3};}),null);
__d("MercuryGlobalActionType",[],(function a(b,c,d,e,f,g){f.exports={MARK_ALL_READ:"mga-type:mark-all-read"};}),null);
__d("MercuryLogMessageType",[],(function a(b,c,d,e,f,g){f.exports={SUBSCRIBE:"log:subscribe",UNSUBSCRIBE:"log:unsubscribe",VIDEO_CALL:"log:video-call",PHONE_CALL:"log:phone-call",THREAD_NAME:"log:thread-name",THREAD_IMAGE:"log:thread-image",SERVER_ERROR:"log:error-msg",LIVE_LISTEN:"log:live-listen",WALLPAPER:"log:wallpaper",ORION:"log:orion",SWITCH_TO_WORK:"log:switch",PAGE_REPLY:"log:page-reply",GENERIC_ADMIN_TEXT:"log:generic-admin-text"};}),null);
__d("MercuryParticipantTypes",[],(function a(b,c,d,e,f,g){f.exports={USER:"user",THREAD:"thread",EVENT:"event",PAGE:"page",FRIEND:"friend",FB4C:"fb4c",NON_FRIEND:"non_friend"};}),null);
__d("MercuryPayloadSource",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:"unknown",CLIENT_CHANNEL_MESSAGE:"client_channel_message",CLIENT_SEND_MESSAGE:"client_send_message",CLIENT_CHANGE_ARCHIVED_STATUS:"client_change-archived_status",CLIENT_CHANGE_FOLDER:"client_change_folder",CLIENT_CHANGE_MUTE_SETTINGS:"client_change_mute_settings",CLIENT_CHANGE_READ_STATUS:"client_change_read_status",CLIENT_CHANGE_CUSTOM_LIKE:"client_change_custom_like",CLIENT_MARK_THREAD_SEEN:"client_mark_thread_seen",CLIENT_ADD_PARTICIPANTS:"client_add_participants",CLIENT_FETCH_PARTICIPANTS:"client_fetch_participants",CLIENT_DELETE_MESSAGES:"client_delete_messages",CLIENT_DELETE_THREAD:"client_delete_thread",CLIENT_UPDATE_SNIPPET:"client_update_snippet",CLIENT_HANDLE_ERROR:"client_handle_error",CLIENT_CHANGE_FLAG:"client_change_flag",CLIENT_MOVE_PENDING_TO_INBOX:"client_move_pending_to_inbox",CLIENT_CREATE_PAGE_ADMIN_NOTE:"client_create_page_admin_note",CLIENT_UNWRAP_MESSAGE:"client_unwrap_message",SERVER_INITIAL_DATA:"server_initial_data",SERVER_SEND_MESSAGE:"server_send_message",SERVER_CHANGE_ARCHIVED_STATUS:"server_change_archived_status",SERVER_CHANGE_READ_STATUS:"server_change_read_status",SERVER_MARK_FOLDER_READ:"server_mark_folder_read",SERVER_MARK_SEEN:"server_mark_seen",SERVER_FETCH_PARTICIPANTS:"server_fetch_participants",SERVER_FETCH_THREAD_INFO:"server_fetch_thread_info",SERVER_FETCH_THREADLIST_INFO:"server_fetch_threadlist_info",SERVER_STANDALONE_NOTIFICATIONS:"server_standalone_notifications",SERVER_THREAD_SYNC:"server_thread_sync",SERVER_TAB_PRESENCE:"server_tab_presence",SERVER_UNREAD_THREADS:"server_unread_threads",SERVER_UNSEEN_THREADS:"server_unseen_threads",SERVER_SEARCH:"server_search",SERVER_CHANGE_FLAG:"server_change_flag",SERVER_INVALIDATE_THREAD_STATE:"server_invalidate_thread_state",SERVER_INVALIDATE_GLOBAL_STATE:"server_invalidate_global_state"};}),null);
__d("MercurySourceType",[],(function a(b,c,d,e,f,g){f.exports={CHAT_ORCA:"source:chat:orca",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",CONTACT_ADD_MUTATION:"source:contact_add:graphql_mutation",CONTACT_ADD_CYMK:"source:contact_add:cymk_suggestion",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",EVENT_REMINDERS:"source:event_reminders",FUNDRAISER_MESSAGE_BLAST:"source:fundraiser_message_blast",GENERIC_ADMIN_TEXT:"source:generic_admin_text",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",INVITE:"source:invite",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",UNKNOWN:"source:unknown",WEB:"source:web",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",MESSENGER_OMNIM:"source:messenger:omnim",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MESSENGER_LEAD_GEN:"source:messenger:lead_gen",PAGES_MESSAGE_SHORTLINK:"source:pages:message_shortlink",STICKER_SUBSCRIBE:"source:messenger:sticker_subscribe",PHOTO_TAG:"source:messenger:photo_tag",INTERNAL_TEST_PENDING:"source:internal:test_pending",JOB_SEARCH_APPLICATION:"source:job_search:application",MESSENGER_JOINABLE_LINK:"source:messenger:joinable_link",MESSENGER_SMS_BRIDGE_CONVERT:"source:messenger:sms_bridge_conversion",TINCAN_ORCA:"source:tincan:orca",TINCAN_IOS:"source:tincan:ios",TINCAN_UNKNOWN:"source:tincan:unknown",FACEBOOK_GROUPS_CHANNELS:"source:groups:channels",GROUP_COMMERCE:"source:group_commerce",INTERNAL_TOOL:"source:internal:tool",PAGES_PLATFORM:"source:pages:platform",PAGES_RECOMMENDATION:"source:pages:recommendation"};}),null);
__d("MercuryTimePassed",[],(function a(b,c,d,e,f,g){f.exports={TODAY:0,WEEK_AGO:1,MONTH_AGO:2,CURRENT_YEAR:3,OTHER_YEAR:4};}),null);
__d("MercuryTypeaheadConstants",[],(function a(b,c,d,e,f,g){f.exports={COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:4,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_MESSENGER_ONLY_CONTACT_MAX:4,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:5,COMPOSER_WM_MAX:19,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",SEARCH_TYPE:"search",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game",VALID_EMAIL:"^([A-Z0-9._\u0025+-]+\u0040((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._\u0025+-]+[A-Z0-9._\u0025+-]*)|([A-Z0-9._\u0025+-]+[A-Z._\u0025+-]+[A-Z0-9._\u0025+-]*))\u0040(?:facebook\\.com))$"};}),null);
__d("MessageShareType",[],(function a(b,c,d,e,f,g){f.exports={IMAGE:"image",PLATFORM_SHARE_CTA:"platform_share_CTA"};}),null);
__d("MessagingGenericAdminTextType",[],(function a(b,c,d,e,f,g){f.exports={MADE_POLL_VOTE:"made_poll_vote",GROUP_POLL:"group_poll",CONFIRM_FRIEND_REQUEST:"confirm_friend_request",PHONE_CONTACT_UPLOAD:"phone_contact_upload",ACCEPT_PENDING_THREAD:"accept_pending_thread",RAMP_UP_WELCOME_MESSAGE:"ramp_up_welcome_message",CHANGE_THREAD_THEME:"change_thread_theme",CHANGE_THREAD_ICON:"change_thread_icon",GROUP_THREAD_CREATED:"group_thread_created",THREAD_EPHEMERAL_SEND_MODE:"thread_ephemeral_send_mode",INVITE_ACCEPTED:"invite_accepted",MESSENGER_INVITE_SENT:"messenger_invite_sent",TURN_ON_PUSH:"turn_on_push",JOURNEY_PROMPT_COLOR:"journey_prompt_color",JOURNEY_PROMPT_LIKE:"journey_prompt_like",JOURNEY_PROMPT_NICKNAME:"journey_prompt_nickname",JOURNEY_PROMPT_SETUP:"journey_prompt_setup",CHANGE_THREAD_NICKNAME:"change_thread_nickname",BOT_THREAD_SUBSCRIPTION:"bot_thread_subscription",RTC_CALL_LOG:"rtc_call_log",RTC_INSTANT_VIDEO_LIFECYCLE:"rtc_instant_video_lifecycle",JOURNEY_PROMPT_BOT:"journey_prompt_bot",RIDE_ORDERED_MESSAGE:"ride_ordered_message",DESTINATION_ETA_MESSAGE:"destination_eta_message",RIDE_ARRIVED_MESSAGE:"ride_arrived_message",JOURNEY_PROMPT_NEW_SETUP:"journey_prompt_new_setup",LIGHTWEIGHT_EVENT_CREATE:"lightweight_event_create",LIGHTWEIGHT_EVENT_DELETE:"lightweight_event_delete",LIGHTWEIGHT_EVENT_NOTIFY:"lightweight_event_notify",LIGHTWEIGHT_EVENT_NOTIFY_BEFORE_EVENT:"lightweight_event_notify_before_event",LIGHTWEIGHT_EVENT_RSVP:"lightweight_event_rsvp",LIGHTWEIGHT_EVENT_UPDATE:"lightweight_event_update",LIGHTWEIGHT_EVENT_UPDATE_LOCATION:"lightweight_event_update_location",LIGHTWEIGHT_EVENT_UPDATE_TIME:"lightweight_event_update_time",LIGHTWEIGHT_EVENT_UPDATE_TITLE:"lightweight_event_update_title",SAFETY_LOCATION_REQUEST_SENT:"safety_location_request_sent",SAFETY_LOCATION_REQUEST_RESPONDED:"safety_location_request_responded",SAFETY_LOCATION_REQUEST_DENIED:"safety_location_request_denied",AD_MANAGE_MESSAGE:"ad_manage_message",AD_REPLY_MESSAGE:"ad_reply_message",TAGGED_PHOTO:"tagged_photo",GAME_SCORE:"game_score",INSTANT_GAME_UPDATE:"instant_game_update",MEDIA_SUBSCRIPTION_MANAGE:"media_subscription_manage",M_AI_SURVEY:"m_ai_survey",PHONE_NUMBER_LOOKUP_NOTICE:"phone_number_lookup_notice",MESSENGER_PRECHECKED_PLUGIN:"messenger_prechecked_plugin",ADD_CONTACT:"add_contact",PRODUCT_INVOICE_RECEIPT_REJECTED:"product_invoice_receipt_rejected",PRODUCT_INVOICE_PAID:"product_invoice_paid",PRODUCT_INVOICE_VOIDED:"product_invoice_voided",PRODUCT_INVOICE_SHIPPED:"product_invoice_shipped",PRODUCT_INVOICE_PAYMENT_EXPIRED:"product_invoice_payment_expired",PRODUCT_INVOICE_RECEIPT_UPLOADED:"product_invoice_receipt_uploaded",CHANGE_JOINABLE_SETTING:"change_joinable_setting",CHANGE_THREAD_ADMINS:"change_thread_admins",CHANGE_THREAD_APPROVAL_MODE:"change_thread_approval_mode",CAPY_SESSION_BEGIN:"capy_session_begin",CAPY_SESSION_END:"capy_session_end",CAPY_AGENT_JOIN:"capy_agent_join",GROUP_SMS_PARTICIPANT_JOINED:"group_sms_participant_joined",GROUP_SMS_PARTICIPANT_CAPPED:"group_sms_participant_capped",SMS_PHONE_NUMBER_CHECK:"sms_phone_number_check",MESSENGER_BOT_REVIEW_SENT:"messenger_bot_review_sent",MN_ACCOUNT_LINKING_TEXT:"mn_account_linking_text",MN_ACCOUNT_UNLINKING_TEXT:"mn_account_unlinking_text",MN_ACCOUNT_FORCED_UNLINKING_TEXT:"mn_account_forced_unlinking_text",MN_REF_SEND_TEXT:"mn_ref_send_text",ADS_WELCOME_MSG:"ads_welcome_msg",THREAD_JOINABLE_PROMOTION_TEXT:"thread_joinable_promotion_text",PAGES_PLATFORM_REQUEST_TEXT:"pages_platform_request_text",MESSENGER_NEW_USER_GET_STARTED:"messenger_new_user_get_started",SMS_PHONE_NUMBER_TOGGLE:"sms_phone_number_toggle",PAGES_PLATFORM_CREATE_APPOINTMENT:"Pages_Platform_create_appointment",JOINABLE_GROUP_THREAD_CREATED:"joinable_group_thread_created",PAGES_PLATFORM_ACCEPT_APPOINTMENT:"pages_platform_accept_appointment",PAGES_PLATFORM_DECLINE_APPOINTMENT:"pages_platform_decline_appointment",PAGES_PLATFORM_USER_CANCEL:"pages_platform_user_cancel",PAGES_PLATFORM_ADMIN_CANCEL:"pages_platform_admin_cancel",MESSENGER_OMNIM_CREATE_FLOW:"messenger_omnim_create_flow",MESSENGER_OMNIM_UPDATE_FLOW_STATE:"messenger_omnim_update_flow_state",MESSENGER_GROUP_DESCRITPION_UPDATE:"messenger_group_description_update",MESSENGER_EXTENSION_ADD_CART:"messenger_extension_add_cart",MESSENGER_EXTENSION_ADD_FAVORITE:"messenger_extension_add_favorite",PAGES_PLATFORM_APPOINTMENT_REMINDER:"pages_platform_appointment_reminder",PAGES_PLATFORM_ADMIN_DECLINE:"pages_platform_admin_decline",POKE_RECEIVED:"poke_received",MESSENGER_STATION_SUBSCRIPTION:"messenger_station_subscription",MESSENGER_USER_ALSO_ON_MESSENGER:"messenger_user_also_on_messenger",MESSENGER_INBOX2_BIRTHDAY_BUMP:"messenger_inbox2_birthday_bump",STARTED_SHARING_VIDEO:"started_sharing_video",LIVE_VIDEO_CHAT:"live_video_chat",PARTICIPANT_JOINED_GROUP_CALL:"participant_joined_group_call",MESSENGER_ONLY_PHONE_JOINED_WITH_NEW_ACCOUNT:"messenger_only_phone_joined_with_new_account"};}),null);
__d("MessagingTag",[],(function a(b,c,d,e,f,g){f.exports={GROUPS:"groups",UNREAD:"unread",FLAGGED:"flagged",ACTION_ARCHIVED:"action:archived",INBOX:"inbox",OTHER:"other",PENDING:"pending",MONTAGE:"montage",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace",ROOM:"room"};}),null);
__d("MessengerEmojiConfig",[],(function a(b,c,d,e,f,g){f.exports={emoji_colors:[0,127995,127996,127997,127998,127999]};}),null);
__d("MessengerThreadCannotReplyReason",[],(function a(b,c,d,e,f,g){f.exports={BLOCKED:"blocked",COMPOSER_DISABLED_BOT:"composer_disabled_bot",HAS_EMAIL_PARTICIPANT:"has_email_participant",OBJECT_ORIGINATED:"object_originated",READ_ONLY:"read_only",VIEWER_NOT_SUBSCRIBED:"viewer_not_subscribed",RECIPIENTS_NOT_LOADABLE:"recipients_not_loadable",RECIPIENTS_UNAVAILABLE:"recipients_unavailable",RECIPIENTS_INVALID:"recipients_invalid",RECIPIENTS_INACTIVE_WORK_ACC:"recipients_inactive_work_account",MONTAGE_NOT_AUTHOR:"montage_not_author"};}),null);
__d("MessengerView",[],(function a(b,c,d,e,f,g){f.exports={DETAIL:{COMPOSE:"detail\/compose",THREAD:"detail\/thread"},MASTER:{GROUPS:"master\/groups",PEOPLE:"master\/people",RECENT:"master\/recent",SUPPORT:"master\/support",SEARCH:"master\/search"}};}),null);
__d("PageMessageEnumTag",[],(function a(b,c,d,e,f,g){f.exports={FLAG:"flag",IMPORTANT:"important",LOW_VALUE:"low_value",SPAM_SPOOFING:"spam_spoofing"};}),null);
__d("PhotoResizeModeConst",[],(function a(b,c,d,e,f,g){f.exports={CONTAIN:"s",COVER:"p"};}),null);
__d("StoryAttachmentStyle",[],(function a(b,c,d,e,f,g){f.exports={FALLBACK:"fallback",SHARE:"share",OG_COMPOSER_SIMPLE:"og_composer_simple",SPORTS_MATCHUP:"sports_matchup",SHARE_LARGE_IMAGE:"share_large_image",PHOTO:"photo",COVER_PHOTO:"cover_photo",INSPIRATION_PHOTO:"inspiration_photo",ALBUM:"album",NEW_ALBUM:"new_album",COUPON:"coupon",QUESTION:"question",ANSWER:"answer",OPTION:"option",GALLERY:"gallery",STREAM_PUBLISH:"stream_publish",MUSIC_AGGREGATION:"music_aggregation",ITEM_LIST:"list",HIGH_SCORE:"high_score",SCORE_LEADERBOARD:"score_leaderboard",FRIEND_LIST:"friend_list",POPULAR_OBJECTS:"popular_objects",AVATAR_LIST:"avatar_list",AVATAR:"avatar",AVATAR_WITH_VIDEO:"avatar_with_video",EVENT:"event",CANCELED_EVENT:"canceled_event",MINUTIAE_EVENT:"minutiae_event",EXPERIENCE:"experience",LIFE_EVENT:"life_event",GIFT:"gift",IMAGE_SHARE:"image_share",ANIMATED_IMAGE_SHARE:"animated_image_share",ANIMATED_IMAGE_AUTOPLAY:"animated_image_autoplay",ANIMATED_IMAGE_VIDEO:"animated_image_video",ANIMATED_IMAGE_VIDEO_AUTOPLAY:"animated_image_video_autoplay",NOTE:"note",TOPIC:"topic",FILE_UPLOAD:"file_upload",NOTIFICATION_TARGET:"notification_target",UNAVAILABLE:"unavailable",PAGE_RECOMMENDATION:"page_recommendation",PAGE_VIDEO_PLAYLIST:"page_video_playlist",VIDEO:"video",VIDEO_INLINE:"video_inline",VIDEO_AUTOPLAY:"video_autoplay",VIDEO_SHARE:"video_share",VIDEO_SHARE_HIGHLIGHTED:"video_share_highlighted",VIDEO_SHARE_YOUTUBE:"video_share_youtube",VIDEO_DIRECT_RESPONSE:"video_direct_response",VIDEO_DIRECT_RESPONSE_AUTOPLAY:"video_direct_response_autoplay",VIDEO_SHOP:"video_shop",INSPIRATION_VIDEO:"inspiration_video",MULTI_VIDEOS_STITCHED:"multi_videos_stitched",MAP:"map",OG_MAP:"og_map",PRODUCT:"product",EXTERNAL_PRODUCT:"external_product",FITNESS_COURSE:"fitness_course",APPLICATION:"application",STICKER:"sticker",EXTERNAL_OG_PRODUCT:"external_og_product",TRAVEL_LOG:"travel_log",MULTI_SHARE:"multi_share",MULTI_SHARE_NO_END_CARD:"multi_share_no_end_card",MULTI_SHARE_NON_LINK_VIDEO:"multi_share_non_link_video",MULTI_SHARE_SEARCH_END_CARD:"multi_share_search_end_card",MULTI_SHARE_FIXED_TEXT:"multi_share_fixed_text",YEAR_IN_REVIEW:"year_in_review",AVATAR_LARGE_COVER:"avatar_large_cover",COMMERCE_PRODUCT_ITEM:"commerce_product_item",COMMERCE_STORE:"commerce_store",THIRD_PARTY_PHOTO:"third_party_photo",PROMPT:"prompt",BIRTHDAY:"birthday",DISCUSSION_CONVERSATION:"discussion_conversation",DISCUSSION_COMMENT:"discussion_comment",GROUP_SELL_PRODUCT_ITEM:"group_sell_product_item",GROUP_SELL_PRODUCT_ITEM_MARK_AS_SOLD:"group_sell_mark_as_sold",GAMETIME:"gametime",GAMETIME_LEAGUE:"gametime_league",GAMETIME_PLAY:"gametime_play",GROUP_REPORTED_POST_QUEUE:"group_reported_post_queue",GROUP_PENDING_POST_QUEUE:"group_pending_post_queue",GROUP_JOIN_REQUEST_QUEUE:"group_join_request_queue",GREETING_CARD:"greeting_card",LEAD_GEN:"lead_gen",ATTACHED_STORY:"attached_story",POST_CHANNEL:"post_channel",TEXT_FOR_COLLAGE:"text_for_collage",SOUVENIR:"souvenir",SLIDESHOW:"slideshow",ORION:"orion",ORION_REQUEST:"orion_request",INSTANT_ARTICLE:"instant_article",MOMENTS_APP_INVITATION:"moments_app_invitation",MOMENTS_APP_PHOTO_REQUEST:"moments_app_photo_request",RIDE_ORDERED:"ride_ordered",RIDE_RECEIPT:"ride_receipt",BUSINESS_MESSAGE_ITEMS:"business_message_items",RETAIL_CANCELLATION:"retail_cancellation",RETAIL_PROMOTION:"retail_promotion",RETAIL_ITEM:"retail_item",RETAIL_NOW_IN_STOCK:"retail_now_in_stock",RETAIL_RECEIPT:"retail_receipt",RETAIL_SHIPMENT:"retail_shipment",RETAIL_SHIPMENT_FOR_SUPPORTED_CARRIER:"retail_shipment_for_supported_carrier",RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:"retail_shipment_for_unsupported_carrier",RETAIL_SHIPMENT_TRACKING_EVENT:"retail_shipment_tracking_event",RETAIL_SHIPMENT_TRACKING_EVENT_ETA:"retail_shipment_tracking_event_eta",RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:"retail_shipment_tracking_event_in_transit",RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:"retail_shipment_tracking_event_out_for_delivery",RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:"retail_shipment_tracking_event_delayed",RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:"retail_shipment_tracking_event_delivered",SURVEY:"survey",MESSAGE_LOCATION:"message_location",JOB_OFFER:"job_offer",GROUP_ADD_MEMBERS:"group_add_memebers",GROUP_MEMBER_ADDED:"group_member_added",RTC_CALL_LOG:"rtc_call_log",EVENTS_PENDING_POST_QUEUE:"events_pending_post_queue",EVENT_CALENDAR:"event_calendar",FACEPILE:"facepile",ATTRIBUTED_SHARE:"attributed_share",VIDEO_CINEMAGRAPH:"video_cinemagraph",LOCAL_CONTEXT_SHARE:"local_context_share",H_SCROLL:"h_scroll",EGO_HSCROLL:"ego_hscroll",MEDIA_QUESTION:"media_question",RICH_MEDIA:"rich_media",RICH_MEDIA_COLLECTION:"rich_media_collection",SQUARE_IMAGE_SHARE:"square_image_share",RETAIL_AGENT_ITEM_SUGGESTION:"retail_agent_item_suggestion",RETAIL_AGENT_ITEM_RECEIPT:"retail_agent_item_receipt",NOTE_COMPOSED:"note_composed",AVATAR_WITH_BIRTHDAY:"avatar_with_birthday",AIRLINE_FLIGHT_RESCHEDULE_UPDATE_BUBBLE:"airline_flight_reschedule_update_bubble",AIRLINE_CONFIRMATION:"airline_confirmation",AIRLINE_CHECK_IN:"airline_check_in",AIRLINE_BOARDING_PASS:"airline_boarding_pass",AIRLINE_FLIGHT_RESCHEDULE_UPDATE:"airline_flight_reschedule_update",LIGHTBOX_VIDEO:"lightbox_video",GLOBALLY_DELETED_MESSAGE_PLACEHOLDER:"globally_deleted_message_placeholder",GENIE_MESSAGE:"genie_message",MOVIE_BOT_MOVIE_LIST:"movie_bot_movie_list",MOVIE_BOT_MOVIE_SHOWTIME_LIST:"movie_bot_movie_showtime_list",AVATAR_WITH_EGO_ACTION:"avatar_with_ego_action",EVENT_TICKET_DEPRECATED:"event_ticket",VERTICAL_ATTACHMENT_LIST:"vertical_attachment_list",INSTANT_ARTICLE_LEGACY:"instant_article_legacy",FUNDRAISER_PAGE:"fundraiser_page",FINANCIAL_BILL_PAYMENT_REQUEST:"financial_bill_payment_request",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD:"goodwill_throwback_friendversary_polaroids_card",WELCOME_CARD_IMAGE:"welcome_card_image",LARGE_IMAGE_LIKE:"large_image_like",ASK_FRIENDS:"ask_friends",CULTURAL_MOMENT:"cultural_moment",TELEPHONE_CALL_LOG:"telephone_call_log",SUPER_EMOJI:"super_emoji",BOOK:"book",SUBTOPIC_CUSTOMIZATION_QUESTION:"subtopic_customization_question",SUBTOPIC_CUSTOMIZATION_OPTION:"subtopic_customization_option",RESTAURANT:"restaurant",CONNECTION_QUESTION:"connection_question",CONNECTION_QUESTION_OPTION:"connection_question_option",PYMI_ITEM:"pymi_item",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD:"goodwill_throwback_friendversary_collage_card",CITY:"city",AVATAR_WITH_SHARE:"avatar_with_share",LIGHTWEIGHT_PLACE:"lightweight_place",QUOTED_SHARE:"quoted_share",SMS_LOG:"sms_log",CENTERED_TEXT:"centered_text",GOODWILL_THROWBACK_FRIENDVERSARY_DATA_CARD:"goodwill_throwback_friendversary_data_card",GOODWILL_THROWBACK_FACEVERSARY_COLLAGE_CARD:"goodwill_throwback_faceversary_collage_card",GOODWILL_THROWBACK_ANNIVERSARY_COLLAGE_CARD:"goodwill_throwback_anniversary_collage_card",MESSAGE_EVENT:"message_event",MESSAGE_THREAD:"message_thread",QUOTE:"quote",VOTER_REGISTRATION_SHARE:"voter_registration_share",AIRLINE_ITINERARY:"airline_itinerary",AIRLINE_UPDATE:"airline_update",PLACE_LIST:"place_list",IMPLICIT_PLACE_LIST_CONVERSION:"implicit_place_list_conversion",AIRLINE_CHECKIN_REMINDER:"airline_checkin_reminder",MINUTIAE_UNIT:"minutiae_unit",INSTANT_ARTICLE_PHOTO:"instant_article_photo",INSTANT_ARTICLE_VIDEO:"instant_article_video",PHOTO_LINK_SHARE:"photo_link_share",BUSINESS_LOCATION:"business_location",GOODWILL_WEATHER:"goodwill_weather",CULTURAL_MOMENT_HOLIDAY_CARD:"cultural_moment_holiday_card",TRANSACTION_INVOICE:"transaction_invoice",GROUP:"group",COMMENT_PLACE_INFO:"comment_place_info",GOODWILL_THROWBACK_FRIENDVERSARY_POLAROIDS_CARD_IPB:"goodwill_throwback_friendversary_polaroids_card_ipb",GOODWILL_THROWBACK_FRIENDVERSARY_COLLAGE_CARD_IPB:"goodwill_throwback_friendversary_collage_card_ipb",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",FUNDRAISER_FOR_STORY:"fundraiser_for_story",MESSAGE_LIVE_LOCATION:"message_live_location",MESSENGER_INVITE:"messenger_invite",GAMES_INSTANT_PLAY:"games_instant_play",PROFILE_MEDIA:"profile_media",NATIVE_TEMPLATES:"native_templates",GOODWILL_THROWBACK_VIDEO_BASIC:"goodwill_throwback_video_basic",COMMERCE_PRODUCT_MINI:"commerce_product_mini",COMMERCE_PRODUCT_MINI_LIST:"commerce_product_mini_list",COMMENT:"comment",MESSENGER_TEAM_BOT_SHARE:"messenger_team_bot_share",LIVE_VIDEO_SCHEDULE:"live_video_schedule",PRODUCT_ITEM:"product_item",PLATFORM_INSTANT_APP:"platform_instant_app",YEAR_OVERVIEW:"year_overview",NATIVE_COMPONENT_FLOW_BOOKING_REQUEST:"native_component_flow_booking_request",FRIEND_REQUEST:"friend_request",MESSENGER_GROUP_JOINABLE_LINK:"messenger_group_joinable_link",SOCIAL_SEARCH_CONVERSION_PROMPT:"social_search_conversion_prompt",MDOTME_USER_LINK:"mdotme_user_link",DYNAMIC_MULTI_SHARE_ITEMS:"dynamic_multi_share_items",EVENT_REMINDER:"event_reminder",INSTANT_GAMES_SHARE_MESSAGE:"instant_games_share_message",MESSENGER_PLATFORM_COMPACT_ITEM:"messenger_platform_compact_item",MESSENGER_PLATFORM_COVER_ITEM:"messenger_platform_cover_item",MULTI_SHARE_NON_LINK_VIDEO_AUTO_SCROLL:"multi_share_non_link_video_auto_scroll",ENDORSEMENT:"endorsement",OFFER_VIEW_LIVE_COUNTDOWN:"offer_view_live_countdown",ENHANCED_LINK_REDDIT_POST:"enhanced_link_reddit_post",MESSENGER_COMMERCE_COVER_ITEM:"messenger_commerce_cover_item",ENHANCED_LINK_YELP_BUSINESS:"enhanced_link_yelp_business",PAGES_PLATFORM_LEAD_GEN:"pages_platform_lead_gen",NATIVE_STORY:"native_story",MFS_BILL_PAY_CREATION_UPDATE:"mfs_bill_pay_creation_update",MFS_BILL_PAY_REFERENCE_CODE_UPDATE:"mfs_bill_pay_reference_code_update",MFS_BILL_PAY_AGENT_CASH_IN_UPDATE:"mfs_bill_pay_agent_cash_in_update",ISSUE_POSITION:"issue_position",PAGES_PLATFORM_BOOKING_MESSAGE:"pages_platform_booking_message",EXTERNAL_GALLERY:"external_gallery",MEME_SHARE:"meme_share",MESSENGER_PLATFORM_ELEMENT:"messenger_platform_element",INSTANT_GAMES_SHARE_SCORE_MESSAGE:"instant_games_share_score_message",MESSENGER_PLATFORM_BUTTON_LIST:"messenger_platform_button_list",BALLOT:"ballot",LIGHTWEIGHT_ACTION:"lightweight_action",TAROT_DIGEST:"tarot_digest",EVENT_TOUR:"event_tour",DYNAMIC_GAME_BOARD:"dynamic_game_board",PAYMENT_PLATFORM:"payment_platform",OMNI_M_FLOW:"omni_m_flow",GROUP_QUIZ:"group_quiz",TRIAL_AD:"trial_ad",TEEM_COLLECTIONS:"teem_collections"};}),null);
__d('BaseAsyncLoader',['KeyedCallbackManager','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){var h={};function i(k,l,m){var n=new (c('KeyedCallbackManager'))(),o=false,p=[];function q(){if(!p.length||o)return;o=true;c('setTimeoutAcrossTransitions')(s,0);}function r(v){o=false;v.forEach(n.unsubscribe.bind(n));q();}function s(){var v={},w=[];p=p.filter(function(y){var z=n.getUnavailableResources(y);if(z.length){z.forEach(function(aa){v[aa]=true;});w.push(y);return true;}return false;});var x=Object.keys(v);if(x.length){m(k,x,w,t.bind(null,w),u.bind(null,w));}else o=false;}function t(v,w){var x=w.payload[l]||w.payload;n.addResourcesAndExecute(x);r(v);}function u(v){r(v);}return {get:function v(w,x){var y=n.executeOrEnqueue(w,x),z=n.getUnavailableResources(y);if(z.length){p.push(y);q();}},getCachedKeys:function v(){return Object.keys(n.getAllResources());},getNow:function v(w){return n.getResource(w)||null;},set:function v(w){n.addResourcesAndExecute(w);}};}function j(k,l){throw new Error('BaseAsyncLoader can\'t be instantiated');}Object.assign(j.prototype,{_getLoader:function k(){if(!h[this._endpoint])h[this._endpoint]=i(this._endpoint,this._type,this.send);return h[this._endpoint];},get:function k(l,m){return this._getLoader().get(l,m);},getCachedKeys:function k(){return this._getLoader().getCachedKeys();},getNow:function k(l){return this._getLoader().getNow(l);},reset:function k(){h[this._endpoint]=null;},set:function k(l){this._getLoader().set(l);}});f.exports=j;}),null);
__d('LogHistory',['CircularBuffer'],(function a(b,c,d,e,f,g){var h=500,i={},j=new (c('CircularBuffer'))(h);function k(s,t,event,u){if(typeof u[0]!=='string'||u.length!==1)return;j.write({date:Date.now(),level:s,category:t,event:event,args:u[0]});}function l(s){'use strict';this.category=s;}l.prototype.debug=function(event){'use strict';for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k('debug',this.category,event,t);return this;};l.prototype.log=function(event){'use strict';for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k('log',this.category,event,t);return this;};l.prototype.warn=function(event){'use strict';for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k('warn',this.category,event,t);return this;};l.prototype.error=function(event){'use strict';for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];k('error',this.category,event,t);return this;};function m(s){if(!i[s])i[s]=new l(s);return i[s];}function n(){return j.read();}function o(){j.clear();}function p(s){}function q(s){return s.map(function(t){var u=/\d\d:\d\d:\d\d/.exec(new Date(t.date));return [u&&u[0],t.level,t.category,t.event,t.args].join(' | ');}).join('\n');}var r={MAX:h,getInstance:m,getEntries:n,clearEntries:o,toConsole:p,formatEntries:q};f.exports=r;}),null);
__d('AjaxLoader',['AsyncRequest','BaseAsyncLoader','LogHistory'],(function a(b,c,d,e,f,g){var h=c('LogHistory').getInstance('ajax_loader');function i(j,k){this._endpoint=j;this._type=k;}Object.assign(i.prototype,c('BaseAsyncLoader').prototype);i.prototype.send=function(j,k,l,m,n){new (c('AsyncRequest'))().setURI(j).setData({ids:k}).setMethod('POST').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(function(o){m(o);}).setErrorHandler(function(o){n();h.error('fetch_error',{error_type:o.errorSummary,error_text:o.errorDescription});}).send();};f.exports=i;}),null);
__d('ChatConfig',['ChatConfigInitialData'],(function a(b,c,d,e,f,g){var h={},i={get:function j(k,l){return k in h?h[k]:l;},set:function j(k){if(arguments.length>1){var l={};l[k]=arguments[1];k=l;}Object.assign(h,k);},getDebugInfo:function j(){return h;}};i.set(c('ChatConfigInitialData'));f.exports=i;}),null);
__d('AbstractSearchSource',['Promise'],(function a(b,c,d,e,f,g){h.prototype.bootstrap=function(i){'use strict';if(!this.$AbstractSearchSource1)this.$AbstractSearchSource1=new (c('Promise'))(function(j){this.bootstrapImpl(j);}.bind(this));return this.$AbstractSearchSource1.then(i);};h.prototype.search=function(i,j,k){'use strict';this.searchImpl(i,j,k);};h.prototype.bootstrapImpl=function(i){'use strict';i();};h.prototype.searchImpl=function(i,j,k){'use strict';throw new Error('Abstract method #searchImpl is not implemented.');};h.prototype.clearBootstrappedData=function(){'use strict';this.$AbstractSearchSource1=null;};function h(){'use strict';}f.exports=h;}),null);
__d('SearchSourceQueryStatus',[],(function a(b,c,d,e,f,g){var h={ACTIVE:'ACTIVE',COMPLETE:'COMPLETE'};f.exports=h;}),null);
__d('SearchSourceCallbackManager',['invariant','SearchSourceQueryStatus','createObjectFrom'],(function a(b,c,d,e,f,g,h){var i=c('SearchSourceQueryStatus').ACTIVE,j=c('SearchSourceQueryStatus').COMPLETE;function k(m){'use strict';this.$SearchSourceCallbackManager1=m.parseFn;typeof this.$SearchSourceCallbackManager1==='function'||h(0);this.$SearchSourceCallbackManager2=m.matchFn;typeof this.$SearchSourceCallbackManager2==='function'||h(0);this.$SearchSourceCallbackManager3=m.alwaysPrefixMatch||false;this.$SearchSourceCallbackManager4=m.indexFn||l;this.reset();}k.prototype.search=function(m,n,o){'use strict';var p=this.$SearchSourceCallbackManager5(m,n,o);if(p)return 0;this.$SearchSourceCallbackManager6.push({queryString:m,callback:n,options:o});var q=this.$SearchSourceCallbackManager6.length-1;this.$SearchSourceCallbackManager7.push(q);return q;};k.prototype.$SearchSourceCallbackManager5=function(m,n,o){'use strict';var p=this.$SearchSourceCallbackManager8(m),q=!!this.$SearchSourceCallbackManager9[m];if(!p.length){n([],m,q?j:i);return q;}var r=p.map(function(s){return this.$SearchSourceCallbackManager10[s];},this);n(r,m,q?j:i);return q;};k.prototype.$SearchSourceCallbackManager11=function(){'use strict';var m=this.$SearchSourceCallbackManager7;this.$SearchSourceCallbackManager7=[];m.forEach(this.$SearchSourceCallbackManager12,this);};k.prototype.$SearchSourceCallbackManager12=function(m){'use strict';var n=this.$SearchSourceCallbackManager6[m];if(!n)return;var o=this.$SearchSourceCallbackManager5(n.queryString,n.callback,n.options);if(o){delete this.$SearchSourceCallbackManager6[m];return;}this.$SearchSourceCallbackManager7.push(m);};k.prototype.reset=function(){'use strict';this.$SearchSourceCallbackManager10={};this.$SearchSourceCallbackManager13={};this.$SearchSourceCallbackManager14={};this.$SearchSourceCallbackManager15={};this.$SearchSourceCallbackManager9={};this.$SearchSourceCallbackManager7=[];this.$SearchSourceCallbackManager6=[undefined];};k.prototype.addLocalEntries=function(m){'use strict';m.forEach(function(n){var o=n.getUniqueID(),p=this.$SearchSourceCallbackManager4(n);this.$SearchSourceCallbackManager10[o]=n;this.$SearchSourceCallbackManager13[o]=p;var q=this.$SearchSourceCallbackManager1(p);q.tokens.forEach(function(r){if(!this.$SearchSourceCallbackManager14.hasOwnProperty(r))this.$SearchSourceCallbackManager14[r]={};this.$SearchSourceCallbackManager14[r][o]=true;},this);},this);this.$SearchSourceCallbackManager11();};k.prototype.addQueryEntries=function(m,n,o){'use strict';if(o===j)this.setQueryStringAsExhausted(n);var p=this.$SearchSourceCallbackManager8(n),q=this.$SearchSourceCallbackManager1(n).flatValue;this.$SearchSourceCallbackManager15[q]=c('createObjectFrom')(p,true);m.forEach(function(r){var s=r.getUniqueID();this.$SearchSourceCallbackManager10[s]=r;this.$SearchSourceCallbackManager13[s]=this.$SearchSourceCallbackManager4(r);this.$SearchSourceCallbackManager15[q][s]=true;},this);this.$SearchSourceCallbackManager11();};k.prototype.unsubscribe=function(m){'use strict';delete this.$SearchSourceCallbackManager6[m];};k.prototype.removeEntry=function(m){'use strict';delete this.$SearchSourceCallbackManager10[m];};k.prototype.getAllEntriesMap=function(){'use strict';return this.$SearchSourceCallbackManager10;};k.prototype.setQueryStringAsExhausted=function(m){'use strict';this.$SearchSourceCallbackManager9[m]=true;};k.prototype.unsetQueryStringAsExhausted=function(m){'use strict';delete this.$SearchSourceCallbackManager9[m];};k.prototype.$SearchSourceCallbackManager8=function(m){'use strict';var n=this.$SearchSourceCallbackManager16(m,this.$SearchSourceCallbackManager17(m)),o=this.$SearchSourceCallbackManager16(m,this.$SearchSourceCallbackManager18(m)),p=n.concat(o),q={},r=[];p.forEach(function(s){if(!q[s]&&this.$SearchSourceCallbackManager10[s]!==undefined){r.push(s);q[s]=true;}},this);return r;};k.prototype.$SearchSourceCallbackManager16=function(m,n){'use strict';var o=this.$SearchSourceCallbackManager19(m,n),p=this.$SearchSourceCallbackManager10;function q(r,s){if(o[r]!==o[s])return o[r]?-1:1;var t=p[r],u=p[s];if(t.getOrder()!==u.getOrder())return t.getOrder()-u.getOrder();var v=t.getTitle().length,w=u.getTitle().length;if(v!==w)return v-w;return t.getUniqueID()-u.getUniqueID();}return n.sort(q).slice();};k.prototype.$SearchSourceCallbackManager19=function(m,n){'use strict';var o={};n.forEach(function(p){o[p]=this.$SearchSourceCallbackManager2(m,this.$SearchSourceCallbackManager13[p]);},this);return o;};k.prototype.$SearchSourceCallbackManager17=function(m){'use strict';var n=this.$SearchSourceCallbackManager1(m,this.$SearchSourceCallbackManager3),o=this.$SearchSourceCallbackManager3?n.sortedTokens:n.tokens,p=o.length,q=n.isPrefixQuery?p-1:null,r={},s={},t={},u=false,v={},w=0;o.forEach(function(y,z){if(v.hasOwnProperty(y))return;w++;v[y]=true;for(var aa in this.$SearchSourceCallbackManager14){var ba=aa===y&&!r.hasOwnProperty(aa),ca=false;if(!ba)ca=(this.$SearchSourceCallbackManager3||q===z)&&aa.indexOf(y)===0;if(!ba&&!ca)continue;if(aa===y){if(s.hasOwnProperty(aa))u=true;r[aa]=true;}else{if(r.hasOwnProperty(aa)||s.hasOwnProperty(aa))u=true;s[aa]=true;}for(var da in this.$SearchSourceCallbackManager14[aa])if(z===0||t.hasOwnProperty(da)&&t[da]==w-1)t[da]=w;}},this);var x=Object.keys(t).filter(function(y){return t[y]==w;});if(u||w<p)x=this.$SearchSourceCallbackManager20(m,x);return x;};k.prototype.$SearchSourceCallbackManager18=function(m){'use strict';var n=this.$SearchSourceCallbackManager1(m).flatValue,o=this.$SearchSourceCallbackManager21(n);if(this.$SearchSourceCallbackManager15.hasOwnProperty(n))return o;return this.$SearchSourceCallbackManager20(m,o);};k.prototype.$SearchSourceCallbackManager21=function(m){'use strict';var n=0,o=null,p=this.$SearchSourceCallbackManager15;Object.keys(p).forEach(function(q){if(m.indexOf(q)===0&&q.length>n){n=q.length;o=q;}});return (p.hasOwnProperty(o)?Object.keys(p[o]):[]);};k.prototype.$SearchSourceCallbackManager20=function(m,n){'use strict';return n.filter(function(o){return this.$SearchSourceCallbackManager2(m,this.$SearchSourceCallbackManager13[o]);},this);};function l(m){return [m.getTitle(),m.getKeywordString()].join(' ');}f.exports=k;}),null);
__d('isValidUniqueID',[],(function a(b,c,d,e,f,g){function h(i){return (i!==null&&i!==undefined&&i!==''&&(typeof i==='string'||typeof i==='number'));}f.exports=h;}),null);
__d('SearchableEntry',['invariant','HTML','isValidUniqueID','FbtResult'],(function a(b,c,d,e,f,g,h){function i(k){if(!k){return '';}else if(typeof k==='string'){return k;}else if(k instanceof c('FbtResult')){return k.toString();}else if(typeof k==='object'){var l=c('HTML').replaceJSONWrapper(k);if(c('HTML').isHTML(l)){var m=l.getRootNode();return m.textContent||m.innerText||'';}else return '';}else return '';}function j(k){'use strict';c('isValidUniqueID')(k.uniqueID)||h(0);this.$SearchableEntry8=k.uniqueID+'';if(k.title instanceof c('FbtResult'))k.title=k.title.toString();k.title!=null&&typeof k.title==='string'||h(0);this.$SearchableEntry6=k.title;this.$SearchableEntry3=k.order||0;this.$SearchableEntry5=i(k.subtitle);this.$SearchableEntry2=k.keywordString||'';this.$SearchableEntry4=k.photo||'';this.$SearchableEntry9=k.uri||'';this.$SearchableEntry7=k.type||'';var l=k.auxiliaryData||{};this.$SearchableEntry1=l;}j.prototype.getUniqueID=function(){'use strict';return this.$SearchableEntry8;};j.prototype.getOrder=function(){'use strict';return this.$SearchableEntry3;};j.prototype.getTitle=function(){'use strict';return this.$SearchableEntry6;};j.prototype.getSubtitle=function(){'use strict';return this.$SearchableEntry5;};j.prototype.getKeywordString=function(){'use strict';return this.$SearchableEntry2;};j.prototype.getPhoto=function(){'use strict';return this.$SearchableEntry4;};j.prototype.getURI=function(){'use strict';return this.$SearchableEntry9;};j.prototype.getType=function(){'use strict';return this.$SearchableEntry7;};j.prototype.getAuxiliaryData=function(){'use strict';return this.$SearchableEntry1;};j.prototype.toPlainObject=function(){'use strict';return {auxiliaryData:this.$SearchableEntry1,keywordString:this.$SearchableEntry2,order:this.$SearchableEntry3,photo:this.$SearchableEntry4,subtitle:this.$SearchableEntry5,title:this.$SearchableEntry6,type:this.$SearchableEntry7,uniqueID:this.$SearchableEntry8,uri:this.$SearchableEntry9};};f.exports=j;}),null);
__d('BanzaiODS',['invariant','Banzai'],(function a(b,c,d,e,f,g,h){function i(){var k={},l={};function m(n,o,p,q){if(p===undefined)p=1;if(q===undefined)q=1;if(n in l)if(l[n]<=0){return;}else p/=l[n];var r=k[n]||(k[n]={}),s=r[o]||(r[o]=[0]);p=Number(p);q=Number(q);if(!isFinite(p)||!isFinite(q))return;s[0]+=p;if(arguments.length>=4){if(!s[1])s[1]=0;s[1]+=q;}}return {setEntitySample:function n(o,p){l[o]=Math.random()<p?p:0;},bumpEntityKey:function n(o,p,q){m(o,p,q);},bumpFraction:function n(o,p,q,r){m(o,p,q,r);},flush:function n(o){for(var p in k)c('Banzai').post('ods:'+p,k[p],o);k={};}};}var j=i();j.create=i;c('Banzai').subscribe(c('Banzai').SEND,j.flush.bind(j,null));f.exports=j;}),null);
__d("XChatUserInfoAllAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/chat\/user_info_all\/",{viewer:{type:"Int",required:true}});}),null);
__d('ShortProfilesBootstrapper',['Promise','AsyncRequest','BanzaiODS','CurrentUser','JSLogger','XChatUserInfoAllAsyncController'],(function a(b,c,d,e,f,g){'use strict';var h=5,i=10000,j=c('XChatUserInfoAllAsyncController').getURIBuilder().setInt('viewer',c('CurrentUser').getID()).getURI(),k=c('JSLogger').create('short_profiles');function l(m){this.$ShortProfilesBootstrapper1=m;this.$ShortProfilesBootstrapper2=new (c('Promise'))(function(n,o){this.$ShortProfilesBootstrapper3=n;this.$ShortProfilesBootstrapper4=o;}.bind(this));this.$ShortProfilesBootstrapper5=false;this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper7=0;this.$ShortProfilesBootstrapper8=0;this.$ShortProfilesBootstrapper9=0;this.$ShortProfilesBootstrapper10=false;this.$ShortProfilesBootstrapper11=false;}l.prototype.fetchAll=function(){this.$ShortProfilesBootstrapper12();if(this.$ShortProfilesBootstrapper5||this.$ShortProfilesBootstrapper6)return this.$ShortProfilesBootstrapper2;if(this.$ShortProfilesBootstrapper7>=h){this.$ShortProfilesBootstrapper13();return this.$ShortProfilesBootstrapper2;}this.$ShortProfilesBootstrapper7++;this.$ShortProfilesBootstrapper14();this.$ShortProfilesBootstrapper6=new (c('AsyncRequest'))(j).setHandler(function(m){this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper5=true;this.$ShortProfilesBootstrapper15();this.$ShortProfilesBootstrapper1(m.payload);this.$ShortProfilesBootstrapper3();}.bind(this)).setErrorHandler(function(){this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper8++;this.$ShortProfilesBootstrapper16();}.bind(this)).setTimeoutHandler(i,function(){this.$ShortProfilesBootstrapper6=null;this.$ShortProfilesBootstrapper9++;this.$ShortProfilesBootstrapper17();this.fetchAll();}.bind(this)).setAllowCrossPageTransition(true);this.$ShortProfilesBootstrapper6.send();return this.$ShortProfilesBootstrapper2;};l.prototype.isBootstrapped=function(){return this.$ShortProfilesBootstrapper5;};l.prototype.isBootstrapping=function(){return !!this.$ShortProfilesBootstrapper6;};l.prototype.getAttemptCount=function(){return this.$ShortProfilesBootstrapper7;};l.prototype.getErrorCount=function(){return this.$ShortProfilesBootstrapper8;};l.prototype.getTimeoutCount=function(){return this.$ShortProfilesBootstrapper9;};l.prototype.$ShortProfilesBootstrapper12=function(){if(!this.$ShortProfilesBootstrapper10){k.log('bootstrap_start');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.starts');this.$ShortProfilesBootstrapper10=true;}};l.prototype.$ShortProfilesBootstrapper14=function(){k.log('bootstrap_attempt');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.attempts');};l.prototype.$ShortProfilesBootstrapper15=function(){k.log('bootstrap_success');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.successes');if(this.$ShortProfilesBootstrapper7>1)c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.successes_after_retries');};l.prototype.$ShortProfilesBootstrapper16=function(){k.log('bootstrap_error');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.errors');};l.prototype.$ShortProfilesBootstrapper17=function(){k.log('bootstrap_timeout');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.timeouts');};l.prototype.$ShortProfilesBootstrapper13=function(){if(!this.$ShortProfilesBootstrapper11){k.log('bootstrap_giveup');c('BanzaiODS').bumpEntityKey('chat.web','typeahead.bootstrap.giveups');this.$ShortProfilesBootstrapper11=true;this.$ShortProfilesBootstrapper4();}};f.exports=l;}),null);
__d("XChatUserInfoAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/chat\/user_info\/",{ids:{type:"IntVector",defaultValue:[]}});}),null);
__d('ShortProfiles',['AjaxLoader','Arbiter','JSLogger','ShortProfilesBootstrapper','XChatUserInfoAsyncController','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=null,i=new (c('AjaxLoader'))(c('XChatUserInfoAsyncController').getURIBuilder().getURI().toString(),'profiles'),j={get:function k(l,m){this.getMulti([l],function(n){return m(n[l],l);});},getMulti:function k(l,m){i.get(l,m||c('emptyFunction'));},getNow:function k(l){return i.getNow(l)||null;},getMultiNow:function k(l){var m={};l.forEach(function(n){return m[n]=j.getNow(n);});return m;},getCachedProfileIDs:function k(){return i.getCachedKeys();},hasAll:function k(){return !!h&&h.isBootstrapped();},fetchAll:function k(){if(!h)h=new (c('ShortProfilesBootstrapper'))(function(l){i.set(l);});return h.fetchAll();},set:function k(l,m){var n={};n[l]=m;this.setMulti(n);},setMulti:function k(l){i.set(l);}};c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(k,l){var m=j.getCachedProfileIDs(),n=c('JSLogger').getEntries(function(o){return (o.cat=='short_profiles'||o.cat=='chat_typeahead');});l.chat_typeahead={bootstrapped:h&&h.isBootstrapped(),bootstrapping:h&&h.isBootstrapping(),bootstrap_attempts:h&&h.getAttemptCount(),bootstrap_errors:h&&h.getErrorCount(),bootstrap_timeouts:h&&h.getTimeoutCount(),entries:m,entry_count:m.length,history:n};});f.exports=j;}),null);
__d('TokenizeUtil',[],(function a(b,c,d,e,f,g){var h=/[ ]+/g,i=/[^ ]+/g,j=new RegExp(k(),'g');function k(){return '[.,+*?$|#{}()\'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;'+'\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f'+'\uff3b-\uff40\uff5b-\uff65\u2E2E\u061f\u066a-\u066c\u061b\u060c\u060d'+'\uFD3e\uFD3F\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e'+'\u00a1-\u00b1\u00b4-\u00b8\u00ba\u00bb\u00bf]';}var l={},m={a:"\u0430 \u00e0 \u00e1 \u00e2 \u00e3 \u00e4 \u00e5 \u0101",b:"\u0431",c:"\u0446 \u00e7 \u010d",d:"\u0434 \u00f0 \u010f \u0111",e:"\u044d \u0435 \u00e8 \u00e9 \u00ea \u00eb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \u00ec \u00ed \u00ee \u00ef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \u00f1 \u0148 \u0149 \u014b \u0146",o:"\u043e \u00f8 \u00f6 \u00f5 \u00f4 \u00f3 \u00f2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \u00fe",u:"\u0443 \u044e \u00fc \u00fb \u00fa \u00f9 \u016f \u016b",v:"\u0432",y:"\u044b \u00ff \u00fd",z:"\u0437 \u017e",ae:"\u00e6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\u00df",ya:"\u044f"};for(var n in m){var o=m[n].split(' ');for(var p=0;p<o.length;p++)l[o[p]]=n;}function q(x){return x?x.replace(j,' '):'';}function r(x){x=x.toLowerCase();var y='',z='';for(var aa=x.length;aa--;){z=x.charAt(aa);y=(l[z]||z)+y;}return y.replace(h,' ');}function s(x){var y=[],z=i.exec(x);while(z){z=z[0];y.push(z);z=i.exec(x);}return y;}function t(x){var y={};return function z(aa,ba){if(!y.hasOwnProperty(aa)){var ca=r(aa),da=x(ca);y[aa]={value:aa,flatValue:ca,tokens:s(da),isPrefixQuery:da&&da[da.length-1]!=' '};}if(ba&&typeof y[aa].sortedTokens=='undefined'){y[aa].sortedTokens=y[aa].tokens.slice();y[aa].sortedTokens.sort(function(ea,fa){return fa.length-ea.length;});}return y[aa];};}var u=t(q);function v(x,y,z){var aa=u(y,x=='prefix'),ba=x=='prefix'?aa.sortedTokens:aa.tokens,ca=u(z).tokens,da={},ea=aa.isPrefixQuery&&x=='query'?ba.length-1:null,fa=function ga(ha,ia){for(var ja=0;ja<ca.length;++ja){var ka=ca[ja];if(!da[ja]&&(ka==ha||(x=='query'&&ia===ea||x=='prefix')&&ka.indexOf(ha)===0))return da[ja]=true;}return false;};return Boolean(ba.length&&ba.every(fa));}var w={flatten:r,parse:u,getPunctuation:k,makeParse:t,isExactMatch:v.bind(null,'exact'),isQueryMatch:v.bind(null,'query'),isPrefixMatch:v.bind(null,'prefix'),tokenize:s};f.exports=w;}),null);
__d('ChatSearchSource',['requireWeak','AbstractSearchSource','AsyncRequest','CurrentUser','MercuryConfig','MercuryParticipantTypes','SearchableEntry','SearchSourceCallbackManager','ShortProfiles','TokenizeUtil','debounce','emptyFunction','isValidUniqueID'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=null;c('requireWeak')('OrderedFriendsList',function(l){j=l;});h=babelHelpers.inherits(k,c('AbstractSearchSource'));i=h&&h.prototype;function k(l){i.constructor.call(this);this.$ChatSearchSource1=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:c('TokenizeUtil').isQueryMatch,indexFn:l.indexFn});this.$ChatSearchSource2=l.queryRequests||[];this.$ChatSearchSource3=false;this.$ChatSearchSource4=c('debounce')(this.$ChatSearchSource4,100,this);}k.prototype.bootstrapImpl=function(l){c('ShortProfiles').fetchAll().done(function(){this.$ChatSearchSource3=true;this.$ChatSearchSource5();l();}.bind(this));};k.prototype.searchImpl=function(l,m,n){var o=null,p={},q=n&&n.onQueryFinished,r=n&&n.onQueryStarted;r&&r(l);var s=this.$ChatSearchSource1.search(l,function(v){if(!o){o=v;o.forEach(function(w){return p[w.getUniqueID()]=true;});}else v.forEach(function(w){var x=w.getUniqueID();if(!p[x]){o.push(w);p[x]=true;}});m(o,l);if(l.length===1&&this.$ChatSearchSource3)q&&q(l);}.bind(this),n);if(!s||!this.$ChatSearchSource2||!this.$ChatSearchSource2.length||l.length===0){q&&q(l);return;}if(l.length===1){if(this.$ChatSearchSource3)q&&q(l);return;}var t={value:l,existing_ids:o&&o.map(function(v){return v.getUniqueID();}).join(','),limit:n&&n.threadLimit},u=this.$ChatSearchSource2.length;this.$ChatSearchSource2.forEach(function(v){this.$ChatSearchSource4(t,v,function(w){this.$ChatSearchSource6(this.$ChatSearchSource7(this.$ChatSearchSource8(w)).filter(function(x){return !!x;}),l);u--;if(u===0){this.$ChatSearchSource1.setQueryStringAsExhausted(l);q&&q(l);}}.bind(this));}.bind(this),this);};k.prototype.getAllEntriesMap=function(){return this.$ChatSearchSource1.getAllEntries();};k.prototype.$ChatSearchSource5=function(){var l=c('ShortProfiles').getCachedProfileIDs(),m=l.filter(function(o){var p=c('ShortProfiles').getNow(o);return (o==c('CurrentUser').getID()||p.type===c('MercuryParticipantTypes').FRIEND||p.type===c('MercuryParticipantTypes').PAGE&&c('MercuryConfig').LinkedAgents&&c('MercuryConfig').LinkedAgents.indexOf(o.toString())>-1);}),n=m.map(this.$ChatSearchSource9);if(n.length)this.$ChatSearchSource1.addLocalEntries(n);};k.prototype.$ChatSearchSource7=function(l){return l.map(this.$ChatSearchSource10,this);};k.prototype.$ChatSearchSource10=function(l,m){if(l.mercury_thread){if(!j)return null;return j.normalizeThreadEntry(l,m);}var n=l.text,o=l.uid;if(!n||!c('isValidUniqueID')(o))return null;var p=j?j.getActiveRank(o):0;if(j&&!j.contains(o))p+=m;return new (c('SearchableEntry'))({uniqueID:o,title:n,order:p,subtitle:l.subtext,type:l.render_type||l.type,photo:l.photo,uri:l.path,auxiliaryData:{isMessengerUser:l.is_messenger_user,alias:l.alias}});};k.prototype.$ChatSearchSource8=function(l){var m=l.getPayload();if(Array.isArray(m)){return m;}else if(m&&m.entries){return m.entries;}else return [];};k.prototype.$ChatSearchSource9=function(l){var m=c('ShortProfiles').getNow(l),n=l==c('CurrentUser').getID()?c('MercuryParticipantTypes').FRIEND:m.type,o=[m.additionalName,m.alternateName].concat(m.searchTokens||[]).join(' '),p=m.name,q=null;return new (c('SearchableEntry'))({uniqueID:l,title:p,order:j?j.getActiveRank(l):0,subtitle:q,keywordString:o,type:n,photo:m.thumbSrc,uri:m.uri,auxiliaryData:{isMessengerUser:m.is_messenger_user,alias:m.alias}});};k.prototype.$ChatSearchSource4=function(l,m,n,o){new (c('AsyncRequest'))(m.uri).setData(babelHelpers['extends']({},l,m.data)).setMethod('GET').setReadOnly(true).setHandler(n).setErrorHandler(o||c('emptyFunction')).setAllowCrossPageTransition(true).send();};k.prototype.$ChatSearchSource6=function(l,m){if(l.length)this.$ChatSearchSource1.addQueryEntries(l,m);};k.prototype.addLocalEntries=function(l){this.$ChatSearchSource1.addLocalEntries(l);};k.prototype.refreshData=function(){c('ShortProfiles').fetchAll();};f.exports=k;}),null);
__d('ChatTypeaheadConstants',[],(function a(b,c,d,e,f,g){var h={USER_TYPE:'user',THREAD_TYPE:'thread',FRIEND_TYPE:'friend',NON_FRIEND_TYPE:'non_friend',FB4C_TYPE:'fb4c',PAGE_TYPE:'page',MEETING_ROOM_PAGE_TYPE:'meeting_room_page',COMMERCE_PAGE_TYPE:'commerce_page',HEADER_TYPE:'header',INTERNAL_BOT_PAGE_TYPE:'internal_bot_page',GAME_TYPE:'game'};f.exports=h;}),null);
__d('CenteredContainer.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=(this.props.vertical?"_3bwv":'')+(this.props.horizontal?' '+"_3bww":''),n=c('React').Children.map(this.props.children,function(p){return (c('React').createElement('div',{className:"_3bwx"},p));}),o=c('joinClasses')(this.props.className,this.props.fullHeight?"_5bpf":'');return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:o}),c('React').createElement('div',{className:m},c('React').createElement('div',{className:"_3bwy"},n))));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={fullHeight:k.bool,vertical:k.bool,horizontal:k.bool};l.defaultProps={fullHeight:false,vertical:false,horizontal:true};f.exports=l;}),null);
__d('EncryptedImg',['URI','XHRRequest','EncryptedImgUtils','getCrossOriginTransport'],(function a(b,c,d,e,f,g){var h={insertIntoStyleBackgroundImage:function m(n,o){var p=function(q,r){if(q)q.style.backgroundImage="url('"+r+"')";}.bind(undefined,o);h.load(n,p);},insertIntoDOM:function m(n,o){var p=function(q,r){if(q)q.setAttribute('src',r);}.bind(undefined,o);h.load(n,p);},load:function m(n,o){var p=arguments.length<=2||arguments[2]===undefined?true:arguments[2],q=new (c('URI'))(n),r=c('EncryptedImgUtils').extractKey(q),s=i.bind(undefined,r,o,p);s.includeHeaders=true;new (c('XHRRequest'))(q.toString()).setTransportBuilder(c('getCrossOriginTransport')).setMethod('GET').setResponseType('arraybuffer').setResponseHandler(s).send();},dataUrlPrefix:function m(n){var o=arguments.length<=1||arguments[1]===undefined?32:arguments[1];if(!n.startsWith('data:'))return n;var p=n.indexOf(',');if(p<0||p>o)p=o;return n.slice(0,p);}};Object.assign(h,c('EncryptedImgUtils'));f.exports=h;function i(m,n,o,p,q){if(!m){n(l(p,k(q)));return;}var r=j(m),s=new Uint8Array(p),t=s.subarray(2,14);s=s.subarray(14,s.length);var u={name:'AES-GCM',iv:t,tagLength:128};window.crypto.subtle.importKey('raw',r,u,false,['encrypt','decrypt']).then(function(v){return window.crypto.subtle.decrypt(u,v,s);}).then(function(v){if(o){n(l(v,k(q)));}else n(v);})['catch'](function(){});}function j(m){if(typeof m=='string'){var n=new Uint8Array(Math.floor(m.length/2)),o=0;m.replace(/(..)/g,function(p){n[o++]=parseInt(p,16);});return n;}return null;}function k(m){var n='image/jpeg',o=m.toLowerCase().match(/content-type:\s?([\w\/]*)\s/);if(o&&o.length>1)n=o[1];return n;}function l(m,n){var o=new Uint8Array(m),p='';for(var q=0,r=o.byteLength;q<r;++q)p+=String.fromCharCode(o[q]);return 'data:'+n+';base64,'+window.btoa(p);}}),null);
__d('getDOMImageSize',['EncryptedImg','URI'],(function a(b,c,d,e,f,g){function h(m){m.onload=null;m.onerror=null;m.onreadystatechange=null;m._callback=null;m._thisObj=null;m._srcStr=null;m.parentNode&&m.parentNode.removeChild(m);}function i(){var m=this;if(m._callback)m._callback.call(m._thisObj,m.naturalWidth||m.width,m.naturalHeight||m.height,m._srcStr);h(m);}function j(){var m=this;if(m.readyState==='complete')i.call(m);}function k(){var m=this;if(m._callback)m._callback.call(m._thisObj,0,0,m._srcStr);h(m);}function l(m,n,o){o=o||null;if(!m){n.call(o,0,0,'');return;}var p=document.body;if(!p){setTimeout(l.bind(this,m,n,o),500);return;}var q;if(typeof m==='string'){q=m;}else if(typeof m==='object')if(typeof m.width==='number'&&typeof m.height==='number'){if(typeof m.src==='string'){q=m.src;if(m.naturalWidth&&m.naturalHeight){n.call(o,m.naturalWidth,m.naturalHeight,q);return;}}if(typeof m.uri==='string'){q=m.uri;if(m.width&&m.height){n.call(o,m.width,m.height,q);return;}}}else if(m instanceof c('URI'))q=m.toString();if(!q){n(0,0,m);return;}var r=document.createElement('img');r.onreadystatechange=j;r.onload=i;r.onerror=k;r._callback=n;r._thisObj=o;r._srcStr=q;if(c('EncryptedImg').isEncrypted(q)){c('EncryptedImg').insertIntoDOM(q,r);}else r.src=q;r.style.cssText='\n    position:absolute;\n    left:-5000px;\n    top:-5000px;\n    width:auto;\n    height:auto;\n    clip:rect(0 0 0 0);\n  '.replace(/\s+/,' ');p.insertBefore(r,p.firstChild);}f.exports=l;}),null);
__d('CachedDOMImageSizePool',['debounce','getDOMImageSize'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$CachedDOMImageSizePool1={};this.$CachedDOMImageSizePool2=j;this.$CachedDOMImageSizePool3=0;this.$CachedDOMImageSizePool4=i;this.$CachedDOMImageSizePool5=c('debounce')(this.$CachedDOMImageSizePool6,5000,this);this.$CachedDOMImageSizePool7={};this.$CachedDOMImageSizePool8={};}h.prototype.get=function(i,j,k){'use strict';if(!i){j.call(k,0,0,i);return;}var l=this.$CachedDOMImageSizePool1[i];if(l){l.lastAccessTime=Date.now();j.call(k,l.width,l.height,l.src);}else if(this.$CachedDOMImageSizePool7[i]){this.$CachedDOMImageSizePool7[i].push(j);this.$CachedDOMImageSizePool8[i].push(k);}else{this.$CachedDOMImageSizePool7[i]=[j];this.$CachedDOMImageSizePool8[i]=[k];c('getDOMImageSize')(i,this.$CachedDOMImageSizePool9,this);}};h.prototype.set=function(i,j,k){'use strict';if(this.$CachedDOMImageSizePool3>this.$CachedDOMImageSizePool4)this.$CachedDOMImageSizePool5();var l=this.$CachedDOMImageSizePool1;if(i&&!l[i]){var m={width:j,height:k,src:i,lastAccessTime:Date.now()};l[i]=m;this.$CachedDOMImageSizePool3++;}};h.prototype.$CachedDOMImageSizePool9=function(i,j,k){'use strict';this.set(k,i,j);var l=this.$CachedDOMImageSizePool7[k],m=this.$CachedDOMImageSizePool8[k];for(var n=0,o=l.length;n<o;n++)l[n].call(m[n],i,j,k);delete this.$CachedDOMImageSizePool7[k];delete this.$CachedDOMImageSizePool8[k];};h.prototype.$CachedDOMImageSizePool6=function(){'use strict';var i=Date.now(),j=this.$CachedDOMImageSizePool1,k=this.$CachedDOMImageSizePool3,l=this.$CachedDOMImageSizePool2;for(var m in j){var n=j[m];if(i-n.lastAccessTime>l){delete j[m];k--;}}this.$CachedDOMImageSizePool3=k;};f.exports=h;}),null);
__d('XUISpinner.react',['cx','fbt','BrowserSupport','React','UserAgent','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=c('BrowserSupport').hasCSSAnimations()&&!(c('UserAgent').isEngine('Trident < 6')||c('UserAgent').isEngine('Gecko < 39')||c('UserAgent').isBrowser('Safari < 6'));j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){'use strict';var o="img"+(' '+"_55ym")+(this.props.size=='small'?' '+"_55yn":'')+(this.props.size=='large'?' '+"_55yq":'')+(this.props.background=='light'?' '+"_55yo":'')+(this.props.background=='dark'?' '+"_55yp":'')+(this.props.showOnAsync?' '+"_5tqs":'')+(!m?' '+"_5d9-":'')+(m&&this.props.paused?' '+"_2y32":'');return (c('React').createElement('span',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,o),role:'progressbar','aria-valuetext':i._("Chargement..."),'aria-busy':'true','aria-valuemin':'0','aria-valuemax':'100'})));};function n(){'use strict';j.apply(this,arguments);}n.propTypes={paused:l.bool,showOnAsync:l.bool,size:l.oneOf(['small','large']),background:l.oneOf(['light','dark'])};n.defaultProps={showOnAsync:false,size:'small',background:'light'};f.exports=n;}),null);
__d("clamp",[],(function a(b,c,d,e,f,g){function h(i,j,k){if(i<j)return j;if(i>k)return k;return i;}f.exports=h;}),null);
__d('BackgroundImage.react',['cx','invariant','CachedDOMImageSizePool','Image.react','React','XUISpinner.react','joinClasses','clamp'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k='(-?(\\d+\\.)?\\d+(px|\\%))',l=new RegExp('^'+k+'?(\\s'+k+')?$','g'),m=new (c('CachedDOMImageSizePool'))(50,10*60*1000),n=c('React').createClass({displayName:'BackgroundImage',propTypes:{src:j.string,width:j.number.isRequired,height:j.number.isRequired,backgroundSize:j.oneOf(['contain','cover','containinside','coverinside']),loadingIndicatorStyle:j.oneOf(['none','large','small']),backgroundPosition:function o(p,q,r){var s=p[q];if(s){typeof s==='string'||i(0);s.match(l)||i(0);}p.backgroundFocus==null||p.backgroundPosition==null||i(0);},backgroundFocus:function o(p,q,r){var s=p[q];if(s){typeof s==='string'||i(0);s.match(l)||i(0);}p.backgroundFocus==null||p.backgroundPosition==null||i(0);},onImageLoad:j.func,optimizeResizeSpeed:j.bool,onContextMenu:j.func},getInitialState:function o(){return {imageWidth:null,imageHeight:null,imageSrc:this.props.src,loading:true};},getDefaultProps:function o(){return {optimizeResizeSpeed:false,loadingIndicatorStyle:'none'};},componentDidMount:function o(){this._resolveImageSize();},componentDidUpdate:function o(p){if(this.props.src!==this.state.imageSrc)this.setState({imageWidth:0,imageHeight:0,imageSrc:this.props.src,loading:true},this._resolveImageSize);},_resolveImageSize:function o(){var p=this.state.imageSrc;if(p)m.get(p,this._onImageSizeResolved,this);},render:function o(){var p={width:this.props.width+'px',height:this.props.height+'px'},q=c('joinClasses')(this.props.className,"_5f0d");return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,q),style:babelHelpers['extends']({},this.props.style||{},p),onContextMenu:this.props.onContextMenu}),this._renderImage(),this._renderContent(),this._renderLoadingIndicator()));},_renderLoadingIndicator:function o(){if(!this.state.loading||this.props.loadingIndicatorStyle==='none')return null;return (c('React').createElement('div',{className:"_1qe- _5lar"},c('React').createElement('div',{className:"_1qe_"},c('React').createElement('div',{className:"_1qf0"},c('React').createElement(c('XUISpinner.react'),{size:this.props.loadingIndicatorStyle})))));},_renderContent:function o(){if(this.props.children)return (c('React').createElement('div',{className:"_1qe-"},c('React').createElement('div',{className:"_1qe_"},c('React').createElement('div',{className:"_1qf0"},this.props.children))));},_renderImage:function o(){if(!this.state.imageWidth||!this.state.imageHeight)return;var p=this.props.width,q=this.props.height,r,s;switch(this.props.backgroundSize){case 'cover':r='cover';s=false;break;case 'coverinside':r='cover';s=true;break;case 'contain':r='contain';s=false;break;case 'containinside':r='contain';s=true;}var t=this.state.imageWidth,u=this.state.imageHeight,v=p/q,w=t/u;if(r==='contain')if((t>p||!s)&&w>=v){t=p;u=t/w;}else if(u>q||!s){u=q;t=u*w;}if(r==='cover')if((t>p||!s)&&w>=v){u=q;t=u*w;}else if(u>q||!s){t=p;u=t/w;}var x=this._getImageStyle(t,u);return (c('React').createElement(c('Image.react'),{alt:'',className:"_5i4g"+(this.props.optimizeResizeSpeed?' '+"_5sjv":''),style:x,src:this.state.imageSrc}));},_getImageStyle:function o(p,q){var r=['50%','50%'],s=this._getBackgroundPositionPxValue;if(this.props.backgroundPosition){r=this.props.backgroundPosition.split(' ');}else if(this.props.backgroundFocus){r=this.props.backgroundFocus.split(' ');s=this._getBackgroundFocusPxValue;}return {width:Math.round(p)+'px',height:Math.round(q)+'px',left:s(r[0],p,this.props.width),top:s(r[1]||r[0],q,this.props.height)};},_getBackgroundPositionPxValue:function o(p,q,r){var s=parseFloat(p),t=p.substr(s.toString().length);if(t==='px')return p;return Math.round((r-q)*(s/100))+'px';},_getBackgroundFocusPxValue:function o(p,q,r){var s=parseFloat(p),t=p.substr(s.toString().length);if(q<r)return '0';var u=t==='px'?s:Math.round(q*(s/100)),v=u-r/2;v=c('clamp')(v,0,q-r);return -v+'px';},_onImageSizeResolved:function o(p,q,r){if(!this.isMounted()||this.state.imageSrc!==r)return;var s=this.props.onImageLoad?this.props.onImageLoad.bind(null,p,q):null;this.setState({imageWidth:p,imageHeight:q,loading:false},s);}});f.exports=n;}),null);
__d('SplitImage.react',['cx','React','Image.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.renderImages=function(){if(!this.props.srcs)return null;var q=this.props.srcs,r=Array.isArray(q);if(r){q=q.filter(function(s){return s!==null;});if(!q.length)return null;}if(!r||q.length==1)return this.renderOne(r?q[0]:q);return q.length==2?this.renderTwo(q):this.renderThree(q);}.bind(this),this.renderOne=function(q){return (c('React').createElement(c('Image.react'),{src:q,width:this.props.size,height:this.props.size,alt:''}));}.bind(this),this.renderTwo=function(q){var r=this.props.size,s=Math.floor(r/2),t=-Math.floor(s/2),u="_55lu"+(this.props.border?' '+"_57xo":'');return (c('React').createElement('div',null,c('React').createElement('div',{className:"_55lu",style:{width:s}},c('React').createElement(c('Image.react'),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:''})),c('React').createElement('div',{className:u,style:{width:s}},c('React').createElement(c('Image.react'),{src:q[1],width:r,height:r,style:{marginLeft:t},alt:''}))));}.bind(this),this.renderThree=function(q){var r=this.props.size,s=Math.floor(r/3*2),t=-Math.floor((r-s)/2),u=Math.floor(r/2),v=r-s,w=-Math.floor((u-v)/2),x="_55lu"+(this.props.border?' '+"_57pl":''),y="_55lu"+(this.props.border?' '+"_57pm":'');return (c('React').createElement('div',null,c('React').createElement('div',{className:x,style:{width:s}},c('React').createElement(c('Image.react'),{src:q[0],width:r,height:r,style:{marginLeft:t},alt:''})),c('React').createElement('div',{className:y,style:{width:v,height:u}},c('React').createElement(c('Image.react'),{src:q[1],width:u,height:u,style:{marginLeft:w},alt:''})),c('React').createElement('div',{className:"_55lu",style:{width:v,height:u}},c('React').createElement(c('Image.react'),{src:q[2],width:u,height:u,style:{marginLeft:w},alt:''}))));}.bind(this),m;}k.prototype.render=function(){'use strict';var l=this.props.size;return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_55lt"),style:babelHelpers['extends']({},this.props.style||{},{width:l,height:l})}),this.renderImages());};f.exports=k;}),null);
__d('TooltipMixin',['React','ReactDOM','TooltipData','DOM'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes;function i(k){var l=k.tooltip;return l!=null&&typeof l!=='string';}var j={propTypes:{tooltip:h.oneOfType([h.element,h.string]),position:h.oneOf(['above','below','left','right']),alignH:h.oneOf(['left','center','right'])},getInitialState:function k(){return {tooltipContainer:i(this.props)?c('DOM').create('div'):null};},componentWillReceiveProps:function k(l){var m=i(l),n=this.state.tooltipContainer;if(n&&!m){this.setState({tooltipContainer:null});}else if(!n&&m)this.setState({tooltipContainer:c('DOM').create('div')});},componentDidMount:function k(){this._updateTooltip();},componentDidUpdate:function k(l,m){if(m.tooltipContainer&&!this.state.tooltipContainer)this._cleanupContainer(m.tooltipContainer);this._updateTooltip();},_updateTooltip:function k(){var l;if(i(this.props)){l=this.state.tooltipContainer;c('ReactDOM').render(this.props.tooltip,l);}else l=this.props.tooltip;if(l!=null){c('TooltipData').set(c('ReactDOM').findDOMNode(this),l,this.props.position,this.props.alignH);}else c('TooltipData').remove(c('ReactDOM').findDOMNode(this));},componentWillUnmount:function k(){if(this.state.tooltipContainer)this._cleanupContainer(this.state.tooltipContainer);c('TooltipData').remove(c('ReactDOM').findDOMNode(this));},_cleanupContainer:function k(l){c('ReactDOM').unmountComponentAtNode(l);}};f.exports=j;}),null);
__d('TooltipLink.react',['React','TooltipMixin'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'TooltipLink',mixins:[c('TooltipMixin')],render:function i(){return c('React').createElement('a',this.props,this.props.children);}});f.exports=h;}),null);
__d('DialogPosition',['Vector'],(function a(b,c,d,e,f,g){var h=40,i,j={calculateTopMargin:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?null:arguments[2],o=arguments.length<=3||arguments[3]===undefined?false:arguments[3],p=c('Vector').getViewportDimensions(),q=false;if(o&&n)q=n+m>p.y;if(n&&!q)return n;if(i)return i;var r=Math.floor((p.x+l)*(p.y-m)/(4*p.x));return Math.max(r,h);},setFixedTopMargin:function k(l){i=l;}};f.exports=j;}),null);
__d('TabIsolation',['Event','Focus','Keys','TabbableElements','containsNode'],(function a(b,c,d,e,f,g){var h=[],i=0;function j(k){'use strict';this.$TabIsolation3=k;this.$TabIsolation1=null;this.$TabIsolation2=i++;}j.prototype.enable=function(){'use strict';h.unshift(this.$TabIsolation2);this.$TabIsolation1=c('Event').listen(window,'keydown',function(k){if(h[0]===this.$TabIsolation2)this.$TabIsolation4(k);}.bind(this),c('Event').Priority.URGENT);};j.prototype.disable=function(){'use strict';if(this.$TabIsolation1){var k=h.indexOf(this.$TabIsolation2);if(k>-1)h.splice(k,1);this.$TabIsolation1.remove();this.$TabIsolation1=null;}};j.prototype.$TabIsolation4=function(k){'use strict';if(c('Event').getKeyCode(k)!==c('Keys').TAB)return;var l=k.getTarget();if(!l)return;var m=c('TabbableElements').find(this.$TabIsolation3),n=m[0],o=m[m.length-1],p=k.getModifiers(),q=p.shift;if(q&&l===n){k.preventDefault();c('Focus').set(o);}else if(!q&&l===o||!c('containsNode')(this.$TabIsolation3,l)){k.preventDefault();c('Focus').set(n);}};f.exports=j;}),null);
__d('LayerTabIsolation',['TabIsolation'],(function a(b,c,d,e,f,g){function h(i){'use strict';this._layer=i;this._tabIsolation=null;}h.prototype.enable=function(){'use strict';this._tabIsolation=new (c('TabIsolation'))(this._layer.getRoot());this._subscriptions=[this._layer.subscribe('show',this._tabIsolation.enable.bind(this._tabIsolation)),this._layer.subscribe('hide',this._tabIsolation.disable.bind(this._tabIsolation))];};h.prototype.disable=function(){'use strict';while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._tabIsolation.disable();this._tabIsolation=null;};Object.assign(h.prototype,{_subscriptions:[]});f.exports=h;}),null);
__d('LayerTogglerContext',['Toggler'],(function a(b,c,d,e,f,g){function h(i){'use strict';this._layer=i;}h.prototype.enable=function(){'use strict';this._root=this._layer.getRoot();c('Toggler').createInstance(this._root).setSticky(false);};h.prototype.disable=function(){'use strict';c('Toggler').destroyInstance(this._root);this._root=null;};f.exports=h;}),null);
__d('isAsyncScrollQuery',['UserAgent'],(function a(b,c,d,e,f,g){var h=null;function i(){if(h===null)h=c('UserAgent').isPlatform('Mac OS X >= 10.8')&&c('UserAgent').isBrowser('Safari >= 6.0');return h;}f.exports=i;}),null);
__d('ScrollAwareDOM',['ArbiterMixin','CSS','DOM','DOMDimensions','HTML','Vector','ViewportBounds','getDocumentScrollElement','getElementPosition','getViewportDimensions','isAsyncScrollQuery','isNode'],(function a(b,c,d,e,f,g){function h(m,n){return function(){var o=arguments;l.monitor(arguments[m],function(){n.apply(null,o);});};}function i(m){if(!(m instanceof Array))m=[m];for(var n=0;n<m.length;n++){var o=c('HTML').replaceJSONWrapper(m[n]);if(o instanceof c('HTML')){return o.getRootNode();}else if(c('isNode')(o))return o;}return null;}function j(m){return c('getElementPosition')(m).y>c('ViewportBounds').getTop();}function k(m){var n=c('getElementPosition')(m).y+c('DOMDimensions').getElementDimensions(m).height,o=c('getViewportDimensions')().height-c('ViewportBounds').getBottom();return n>=o;}var l=babelHelpers['extends']({monitor:function m(n,o){if(c('isAsyncScrollQuery')())return o();var p=i(n);if(p){var q=!!p.offsetParent;if(q&&(j(p)||k(p)))return o();var r=c('Vector').getDocumentDimensions(),s=o();if(q||p.offsetParent&&!j(p)){var t=c('Vector').getDocumentDimensions().sub(r),u={delta:t,target:p};if(l.inform('scroll',u)!==false)t.scrollElementBy(c('getDocumentScrollElement')());}return s;}else return o();},replace:function m(n,o){var p=i(o);if(!p||c('CSS').hasClass(p,'hidden_elem'))p=n;return l.monitor(p,function(){c('DOM').replace(n,o);});},prependContent:h(1,c('DOM').prependContent),insertAfter:h(1,c('DOM').insertAfter),insertBefore:h(1,c('DOM').insertBefore),setContent:h(0,c('DOM').setContent),appendContent:h(1,c('DOM').appendContent),remove:h(0,c('DOM').remove),empty:h(0,c('DOM').empty)},c('ArbiterMixin'));f.exports=l;}),null);
__d('debounceAcrossTransitions',['debounce'],(function a(b,c,d,e,f,g){function h(i,j,k){return c('debounce')(i,j,k,true);}f.exports=h;}),null);
__d('ModalLayer',['csx','cx','Arbiter','ArbiterMixin','CSS','DataStore','DOM','DOMDimensions','DOMQuery','Event','Scroll','ScrollAwareDOM','Style','UserAgent_DEPRECATED','Vector','debounceAcrossTransitions','getDocumentScrollElement','isAsyncScrollQuery','removeFromArray','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i){var j=[],k=null,l=null,m=null,n=false;function o(){if(!m)m=c('DOMQuery').scry(document.body,"._li")[0];return m;}function p(w,x){var y={position:c('Vector').getScrollPosition()},z=w.offsetTop-y.position.y;c('CSS').addClass(w,"_31e");if(!x)c('Style').set(w,'top',z+'px');c('Arbiter').inform('reflow');y.listener=c('ScrollAwareDOM').subscribe('scroll',function(aa,ba){if(c('DOMQuery').contains(w,ba.target)){var ca=w.offsetTop-ba.delta.y;c('Style').set(w,'top',ca+'px');y.position=y.position.add(ba.delta);return false;}});c('DataStore').set(w,'ModalLayerData',y);}function q(w,x){var y=c('DataStore').get(w,'ModalLayerData');if(y){var z=function ca(){c('CSS').removeClass(w,"_31e");c('Style').set(w,'top','');if(x){var da=c('getDocumentScrollElement')();c('Scroll').setTop(da,y.position.y);if(c('Scroll').getTop(da)!==y.position.y){c('Scroll').setTop(da,y.position.y+1);c('Scroll').setTop(da,y.position.y);}}c('Arbiter').inform('reflow');y.listener.unsubscribe();y.listener=null;c('DataStore').remove(w,'ModalLayerData');};if(x&&c('isAsyncScrollQuery')()){var aa=c('DOM').create('div',{className:"_42w"});c('Style').set(aa,'height',w.offsetHeight+'px');c('DOM').appendContent(document.body,aa);var ba=c('getDocumentScrollElement')();c('Scroll').setTop(ba,y.position.y);x=false;setTimeout(function(){z();c('DOM').remove(aa);},0);}else z();}}function r(){var w=o();if(!c('CSS').matchesSelector(w,"._31e"))p(w,n);}function s(){if(!j.length){var w=o();q(w,!n);}}function t(){var w=j.length;while(w--){var x=j[w],y=x.getLayerRoot();u(y,'');var z=x.getLayerContentRoot(),aa=z.offsetWidth+c('DOMDimensions').measureElementBox(z,'width',0,0,1);u(y,aa);}}function u(w,x){c('Style').set(w,'min-width',x+(x?'px':''));}function v(w){'use strict';this._layer=w;this._enabled=false;}v.prototype.enable=function(){'use strict';if(!o())return;this._subscription=this._layer.subscribe(['show','hide'],function(w){w=='show'?this._addModal():this._removeModal();}.bind(this));if(this._layer.isShown())this._addModal();this._enabled=true;};v.prototype.disable=function(){'use strict';if(!o())return;this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._removeModal();this._enabled=false;};v.prototype._addModal=function(){'use strict';var w=this.getLayerRoot();c('CSS').addClass(w,"_3qw");this._wash=c('DOM').create('div',{className:"_3ixn"});c('DOM').prependContent(w,this._wash);var x=j[j.length-1];if(x){p(x.getLayerRoot());}else r();var y=c('getDocumentScrollElement')();c('Scroll').setTop(y,0);if(!j.length){var z=c('debounceAcrossTransitions')(t,100);k=c('Event').listen(window,'resize',z);l=c('Arbiter').subscribe('reflow',z);}j.push(this);v.inform('show',this);setTimeout(t,0);};v.prototype._removeModal=function(){'use strict';var w=this.getLayerRoot();c('CSS').removeClass(w,"_3qw");c('DOM').remove(this._wash);this._wash=null;u(w,'');var x=this===j[j.length-1];c('removeFromArray')(j,this);if(!j.length){k.remove();k=null;l.unsubscribe();l=null;}var y=c('Event').listen(document.documentElement,'mousewheel',c('Event').prevent),z=y.remove.bind(y);c('setTimeoutAcrossTransitions')(function(){var aa=j[j.length-1];if(aa){q(aa.getLayerRoot(),x);v.inform('show',aa);}else{s();v.inform('hide',this);}if(j.length)setTimeout(t,0);setTimeout(z,0);}.bind(this),400);};v.prototype.getLayerRoot=function(){'use strict';return this._enabled?this._layer.getRoot():null;};v.prototype.getLayerContentRoot=function(){'use strict';return this._enabled?this._layer.getContentRoot():null;};v.getTopmostModalLayer=function(){'use strict';return j[j.length-1];};v.unfixed=function(w){'use strict';if(c('UserAgent_DEPRECATED').chrome()){var x=o();if(x&&c('CSS').matchesSelector(x,"._31e")){var y=c('getDocumentScrollElement')(),z=c('Scroll').getTop(y);q(x,true);w();p(x);c('Scroll').setTop(y,z);return;}}w();};v.setPageRootAdjusted=function(w){'use strict';n=w;};Object.assign(v,c('ArbiterMixin'));f.exports=v;}),null);
__d('DialogX',['cx','Arbiter','CSS','DialogPosition','Event','JSXDOM','Layer','LayerAutoFocus','LayerButtons','LayerFormHooks','LayerRefocusOnHide','LayerTabIsolation','LayerTogglerContext','ModalLayer','Style','Vector','debounce','goURI','shield'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('Layer'));j=i&&i.prototype;k.prototype._configure=function(m,n){'use strict';j._configure.call(this,m,n);c('CSS').addClass(this.getRoot(),"_4-hy");if(m.autohide)var o=this.subscribe('show',function(){o.unsubscribe();setTimeout(c('shield')(this.hide,this),m.autohide);}.bind(this));if(m.redirectURI)var p=this.subscribe('hide',function(){p.unsubscribe();c('goURI')(m.redirectURI);});this._fixedTopPosition=m.fixedTopPosition;this._ignoreFixedTopInShortViewport=m.ignoreFixedTopInShortViewport;};k.prototype._getDefaultBehaviors=function(){'use strict';return j._getDefaultBehaviors.call(this).concat([l,c('ModalLayer'),c('LayerAutoFocus'),c('LayerButtons'),c('LayerFormHooks'),c('LayerTabIsolation'),c('LayerTogglerContext'),c('LayerRefocusOnHide')]);};k.prototype._buildWrapper=function(m,n){'use strict';var o=m.xui?"_4t2a":"_t",p=m.xui?"_59s7":"_1yv";this._innerContent=c('JSXDOM').div(null,n);this._wrapper=c('JSXDOM').div({className:p,role:'dialog','aria-labelledby':m.titleID||null},c('JSXDOM').div({className:o},this._innerContent));this.setWidth(m.width);return (c('JSXDOM').div({className:"_10"},this._wrapper));};k.prototype.getContentRoot=function(){'use strict';return this._wrapper;};k.prototype.getInnerContent=function(){'use strict';return this._innerContent;};k.prototype.updatePosition=function(){'use strict';var m=c('Vector').getElementDimensions(this._wrapper),n=c('DialogPosition').calculateTopMargin(m.x,m.y,this._fixedTopPosition,this._ignoreFixedTopInShortViewport);c('Style').set(this._wrapper,'margin-top',n+'px');this.inform('update_position',{type:'DialogX',top:n});};k.prototype.setWidth=function(m){'use strict';m=Math.floor(m);if(m===this._width)return;this._width=m;c('Style').set(this._wrapper,'width',m+'px');};k.prototype.getWidth=function(){'use strict';return this._width;};k.prototype.getFixedTopPosition=function(){'use strict';return this._fixedTopPosition;};k.prototype.shouldIgnoreFixedTopInShortViewport=function(){'use strict';return this._ignoreFixedTopInShortViewport;};function k(){'use strict';i.apply(this,arguments);}function l(m){'use strict';this._layer=m;}l.prototype.enable=function(){'use strict';this._subscription=this._layer.subscribe(['show','hide'],function(m){if(m==='show'){this._attach();c('Arbiter').inform('layer_shown',{type:'DialogX'});}else{this._detach();c('Arbiter').inform('layer_hidden',{type:'DialogX'});}}.bind(this));};l.prototype.disable=function(){'use strict';this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach();};l.prototype._attach=function(){'use strict';this._layer.updatePosition();this._resize=c('Event').listen(window,'resize',c('debounce')(this._layer.updatePosition.bind(this._layer)));};l.prototype._detach=function(){'use strict';this._resize.remove();this._resize=null;};Object.assign(l.prototype,{_subscription:null,_resize:null});f.exports=k;}),null);
__d('AbstractDialog.react',['DialogX','LayerHideOnBlur','LayerHideOnEscape','React','ReactDOM'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={createSpec:function j(k){return {displayName:k.displayName,propTypes:{behaviors:h.object,className:h.string,modal:h.bool,autohide:h.number,width:h.number,titleID:h.string,causalElement:h.object,causalElementRef:h.func,shown:h.bool,layerHideOnBlur:h.bool,hideOnEscape:h.bool,onToggle:h.func,fixedTopPosition:h.number},createLayer:function l(m){var n=this.props.className,o=babelHelpers['extends']({width:this.props.width,xui:true,autohide:this.props.autohide,classNames:n?n.split(' '):null,titleID:this.props.titleID,causalElement:this._getCausalElement(),fixedTopPosition:this.props.fixedTopPosition},k||{}),p=babelHelpers['extends']({},k.addedBehaviors,this.props.behaviors);if(this.props.layerHideOnBlur!==false)p.LayerHideOnBlur=c('LayerHideOnBlur');if(this.props.hideOnEscape===true)p.LayerHideOnEscape=c('LayerHideOnEscape');o.addedBehaviors=this.enumerateBehaviors(p);var q=new (c('DialogX'))(o,m);q.conditionShow(this.props.shown);return q;},receiveProps:function l(m,n){this.updateBehaviors(n.behaviors,m.behaviors);if(this.layer){this.layer.setCausalElement(this._getCausalElement());this.layer.conditionShow(m.shown);this.layer.setWidth(m.width);m.shown&&this.layer.updatePosition();}},_getCausalElement:function l(){var m;if(this.props.causalElementRef){m=c('ReactDOM').findDOMNode(this.props.causalElementRef());}else m=this.props.causalElement;return m;}};}};f.exports=i;}),null);
__d('Scrollable',['Event','Parent','Scroll','UserAgent_DEPRECATED'],(function a(b,c,d,e,f,g){var h=function k(event){var l=c('Parent').byClass(event.getTarget(),'scrollable');if(!l)return;if(typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS||event.wheelDeltaX&&!event.wheelDeltaY||event.deltaX&&!event.deltaY)return;var m=event.wheelDelta||-event.deltaY||-event.detail,n=l.scrollHeight,o=l.clientHeight;if(n>o){var p=c('Scroll').getTop(l);if(m>0&&p===0||m<0&&p>=n-o-1){event.prevent();}else if(c('UserAgent_DEPRECATED').ie()<9)if(l.currentStyle){var q=l.currentStyle.fontSize;if(q.indexOf('px')<0){var r=document.createElement('div');r.style.fontSize=q;r.style.height='1em';q=r.style.pixelHeight;}else q=parseInt(q,10);c('Scroll').setTop(l,p-Math.round(m/120*q));event.prevent();}}},i=document.documentElement;if(c('UserAgent_DEPRECATED').firefox()){var j='WheelEvent' in window?'wheel':'DOMMouseScroll';i.addEventListener(j,h,false);}else c('Event').listen(i,'mousewheel',h);}),null);
__d('ScrollableArea.react',['cx','Scrollable','Bootloader','React','ReactDOM','Style','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;c('Scrollable');var k=c('React').PropTypes,l="uiScrollableArea native",m="uiScrollableAreaWrap scrollable",n="uiScrollableAreaBody",o="uiScrollableAreaContent";i=babelHelpers.inherits(p,c('React').Component);j=i&&i.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.getArea=function(){return this.$ReactScrollableArea1;}.bind(this),this.$ReactScrollableArea3=function(v){if(this.$ReactScrollableArea2)return;this.$ReactScrollableArea1=v.fromNative(c('ReactDOM').findDOMNode(this.refs.root),{fade:this.props.fade,persistent:this.props.persistent,shadow:this.props.shadow===undefined?true:this.props.shadow,tabIndex:this.props.tabIndex});this.$ReactScrollableArea4();if(this.props.onScroll&&this.$ReactScrollableArea1)this.$ReactScrollableArea1.subscribe('scroll',this.props.onScroll);}.bind(this),r;}p.prototype.render=function(){var q={height:this.props.height};return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,l),ref:'root',style:babelHelpers['extends']({},this.props.style||{},q)}),c('React').createElement('div',{className:m,ref:'wrap',style:{maxHeight:this.props.maxHeight}},c('React').createElement('div',{className:n,ref:'body'},c('React').createElement('div',{className:o},this.props.children))));};p.prototype.componentDidMount=function(){c('Bootloader').loadModules(["ScrollableArea"],this.$ReactScrollableArea3,'ScrollableArea.react');};p.prototype.componentDidUpdate=function(q){if(q.width!==this.props.width)this.$ReactScrollableArea4();var r=this.getArea();if(r)r.throttledAdjustGripper();};p.prototype.componentWillUnmount=function(){this.$ReactScrollableArea1&&this.$ReactScrollableArea1.destroy();this.$ReactScrollableArea2=true;};p.prototype.$ReactScrollableArea4=function(){var q=c('ReactDOM').findDOMNode(this.refs.body);c('Style').set(q,'width',this.props.width+'px');};p.propTypes={width:k.number,height:k.oneOfType([k.number,k.string]),maxHeight:k.oneOfType([k.number,k.string]),onScroll:k.func,shadow:k.bool,fade:k.bool,persistent:k.bool};f.exports=p;}),null);
__d('LayerAutoFocusReact',['focusWithinLayer'],(function a(b,c,d,e,f,g){'use strict';function h(i){this._layer=i;this._subscription=null;}h.prototype.enable=function(){if(this._layer.containsReactComponent)this._subscription=this._layer.subscribe('reactshow',this._focus.bind(this));};h.prototype.disable=function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};h.prototype._focus=function(){var i=this._layer.getRoot();i&&c('focusWithinLayer')(i);};f.exports=h;}),null);
__d('Spotlight',['csx','cx','Arbiter','ArbiterMixin','DOM','JSXDOM','Layer','LayerAutoFocus','LayerTabIsolation','ModalLayer','Vector','classWithMixins','joinClasses','mixin'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('classWithMixins')(c('Layer'),c('mixin')(c('ArbiterMixin'))));k=j&&j.prototype;function l(n,o){'use strict';k.constructor.call(this,n,o);this.stageMinSize=new (c('Vector'))(0,0);this.stagePadding=new (c('Vector'))(0,0);}l.prototype._buildWrapper=function(n,o){'use strict';var p=c('joinClasses')("_n8 _3qx",n.rootClassName);return (c('JSXDOM').div({className:p},c('JSXDOM').div({className:"_n9"},o)));};l.prototype._getDefaultBehaviors=function(){'use strict';return k._getDefaultBehaviors.call(this).concat([m,c('LayerAutoFocus'),c('LayerTabIsolation'),c('ModalLayer')]);};l.prototype.getContentRoot=function(){'use strict';if(!this._content)this._content=c('DOM').find(this.getRoot(),"div._n3");return this._content;};l.prototype.configure=function(n){'use strict';if(n.stageMinSize)this.stageMinSize=n.stageMinSize;if(n.stagePadding)this.stagePadding=n.stagePadding;};l.prototype.onContentLoaded=function(){'use strict';this.inform('content-load');};l.prototype.updatePermalink=function(n){'use strict';this.inform('permalinkchange',n);};Object.assign(l.prototype,{stageMinSize:null,stagePadding:null});function m(n){'use strict';this._layer=n;}m.prototype.enable=function(){'use strict';this._subscription=this._layer.subscribe(['show','hide'],function(n,o){if(n==='show'){c('Arbiter').inform('layer_shown',{type:'Spotlight'});}else c('Arbiter').inform('layer_hidden',{type:'Spotlight'});});};m.prototype.disable=function(){'use strict';this._subscription.unsubscribe();this._subscription=null;};Object.assign(m.prototype,{_subscription:null});f.exports=l;}),null);
__d('Spotlight.react',['LayerAutoFocusReact','LayerHideOnBlur','LayerHideOnEscape','LayerRefocusOnHide','ReactLayer','Spotlight','React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('ReactLayer').createClass({propTypes:{causalElement:h.instanceOf(HTMLElement),onHide:h.func,rootClassName:h.string,shown:h.bool},getDefaultEnabledBehaviors:function j(){return {hideOnBlur:c('LayerHideOnBlur'),hideOnEscape:c('LayerHideOnEscape'),refocusOnHide:c('LayerRefocusOnHide'),autoFocus:c('LayerAutoFocusReact')};},createLayer:function j(k){var l=this.enumerateBehaviors(this.props.behaviors),m={addedBehaviors:l,rootClassName:this.props.rootClassName},n=new (c('Spotlight'))(m,k);n.setCausalElement(this.props.causalElement);n.conditionShow(this.props.shown);if(this.props.onBeforeHide)n.subscribe('beforehide',this.props.onBeforeHide);if(this.props.onHide)n.subscribe('hide',this.props.onHide);return n;},receiveProps:function j(k){if(this.layer){this.layer.setCausalElement(k.causalElement);this.layer.conditionShow(k.shown);}}});f.exports=i;}),null);
__d('RTLKeys',['Keys','Locale'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('Keys')),i=null;function j(){if(i===null)i=c('Locale').isRTL();return i;}h.REAL_RIGHT=c('Keys').RIGHT;h.REAL_LEFT=c('Keys').LEFT;delete h.LEFT;delete h.RIGHT;h.getLeft=function(){return j()?h.REAL_RIGHT:h.REAL_LEFT;};h.getRight=function(){return j()?h.REAL_LEFT:h.REAL_RIGHT;};f.exports=h;}),null);
__d('TabBarItem.react',['cx','React','ReactDOM','Focus','Event','Keys','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$TabBarItem1=function(r,s){var t=this.props,u=t.className,v=t.href,w=t.ajaxify,x=t.tabIndex,y=t.rel,z=t.target,aa=t.selected,ba=t.wrapper,ca=t.mockSpacebarClick;v=v||'#';var da={};if(ca)da.onKeyDown=this.onKeyDown;var ea=c('React').createElement('a',{ref:'tab',ajaxify:w,href:v,role:'tab',rel:y,target:z,tabIndex:x,className:s,'aria-selected':aa},this.props.children);return (c('React').createElement(ba,babelHelpers['extends']({},this.props,{tabIndex:null,className:c('joinClasses')(u,r),role:'presentation'}),c('React').cloneElement(ea,da)));}.bind(this),this.$TabBarItem2=function(r){var s=this.props,t=s.className,u=s.href,v=s.selected,w=s.mockSpacebarClick;u=u||'#';var x={};if(w)x.onKeyDown=this.onKeyDown;var y=c('React').createElement('a',babelHelpers['extends']({},this.props,{href:u,ref:'tab',role:'tab',className:c('joinClasses')(t,r),'aria-selected':v}),this.props.children);return c('React').cloneElement(y,x);}.bind(this),this.focus=function(){if(this.props.focused)c('Focus').set(this.refs.tab);}.bind(this),this.onKeyDown=function(event){var r=c('Event').getKeyCode(event);if(r===c('Keys').SPACE&&this.refs.tab){c('ReactDOM').findDOMNode(this.refs.tab).click();c('Event').prevent(event);}}.bind(this),n;}l.prototype.render=function(){'use strict';var m=this.props,n=m.selected,o=m.focused,p=m.hideFocusRing,q=m.shouldWrapTab,r="_45hc"+(n?' '+"_1hqh":''),s=o&&p?"_468f":'';if(q)return this.$TabBarItem1(r,s);return this.$TabBarItem2(c('joinClasses')(r,s));};l.prototype.componentDidMount=function(){'use strict';this.focus();};l.prototype.componentDidUpdate=function(){'use strict';this.focus();};l.propTypes={wrapper:k.func.isRequired,shouldWrapTab:k.bool,tabIndex:k.oneOf([-1,0]),selected:k.bool,focused:k.bool,hideFocusRing:k.bool,mockSpacebarClick:k.bool};l.defaultProps={wrapper:function(){var m,n;m=babelHelpers.inherits(o,c('React').Component);n=m&&m.prototype;o.prototype.render=function(){'use strict';return c('React').createElement('li',this.props,this.props.children);};function o(){'use strict';m.apply(this,arguments);}return o;}(),shouldWrapTab:true,tabIndex:-1,selected:false,focused:false,hideFocusRing:false,mockSpacebarClick:true};f.exports=l;}),null);
__d('clearTimeout',['TimerStorage'],(function a(b,c,d,e,f,g){var h=b.clearTimeout.nativeBackup||b.clearTimeout;f.exports=function(){for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];c('TimerStorage').unset(c('TimerStorage').TIMEOUT,j[0]);return Function.prototype.apply.call(h,b,j);};}),null);
__d('TabBar.react',['cx','fbt','invariant','React','ReactDOM','TabBarItem.react','Event','RTLKeys','BootloadedComponent.react','JSResource','joinClasses','setTimeout','clearTimeout','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes,n=i._("Plus");k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;o.getComponent=function(q){'use strict';return q.component;};o.prototype.render=function(){'use strict';return this.props.component;};function o(){'use strict';k.apply(this,arguments);}var p=c('React').createClass({displayName:'TabBar',_blurTimeout:null,propTypes:{activeTabKey:m.string,alwaysShowActive:m.bool,defaultActiveTabKey:m.string,dropdownMenuAlignh:m.string,dropdownMenuClassName:m.string,maxTabsVisible:m.number.isRequired,moreLabel:m.node,onTabClick:m.func.isRequired,dropdownTabComponent:m.func.isRequired,onWidthCalculated:m.func.isRequired,shouldCalculateVisibleTabs:m.bool,maxDropdownHeight:m.number},getDefaultProps:function q(){return {alwaysShowActive:true,dropdownTabComponent:c('TabBarItem.react'),maxTabsVisible:Infinity,moreLabel:n,onTabClick:c('emptyFunction').thatReturnsTrue,onWidthCalculated:c('emptyFunction'),shouldCalculateVisibleTabs:true};},getInitialState:function q(){return {activeTabKey:this.props.activeTabKey||this.props.defaultActiveTabKey,focusedTabKey:null,previousFocusedTabKey:null,visibleTabsCount:0,shouldCalculateVisibleTabs:true,hideFocusRing:true};},setWidth:function q(r){c('ReactDOM').findDOMNode(this).style.width=r;this.setState({shouldCalculateVisibleTabs:true});},render:function q(){var r=this.getTabs(),s=r.length,t=this.getActiveTabIndex(),u=r[t],v=this.getActiveTabIndex(true),w,x,y;if(u)w=u.key;var z=this.props.dropdownTabComponent,aa=c('React').createElement(z,{key:'_dropdown',ref:'more',className:"_45hd _2pik"},c('React').createElement('span',{className:"_1b0"},this.props.moreLabel));if(this.state.shouldCalculateVisibleTabs){x=r.map(function(ja,ka){return this._wrapTab(ja,ka,w,null,v,false,false);}.bind(this));if(s>2)x.push(aa);}else{var ba=this._groupTabsByVisibility();x=ba.visibleTabs;y=ba.extraTabs;var ca=this._isDropdownSelected(),da=this.state.visibleTabsCount,ea=this.state.focusedTabKey;ea=ea&&this.getFocusedTabIndex()===-1?p.MORE_TAB_KEY:ea;x=x.map(function(ja,ka){return this._wrapTab(ja,ka,w,ea,v,true,true);}.bind(this));y=y.map(function(ja,ka){return this._wrapTab(ja,ka,w,null,v,true,false);}.bind(this));if(y.length){var fa;if(da===0&&u)fa=u;var ga=fa&&fa.props.children||this.props.moreLabel,ha='_dropdown',ia=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('TabBarDropdownItem.react').__setRef('TabBar.react'),bootloadPlaceholder:aa,menuAlignh:this.props.dropdownMenuAlignh,menuClassName:this.props.dropdownMenuClassName,selected:ca,focused:ea===p.MORE_TAB_KEY,hideFocusRing:this.state.hideFocusRing,onMouseDown:this.onMouseDown,onFocus:this.onFocus.bind(this,ha),onBlur:this.onBlur,key:ha,ref:'more',label:ga,tabComponent:this.props.dropdownTabComponent,maxDropdownHeight:this.props.maxDropdownHeight},y);if(da===0){x=ia;}else x.push(ia);}}return (c('React').createElement('ul',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_43o4"),role:'tablist',onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp}),x));},componentDidMount:function q(){this.calculateVisibleTabs();this.calculateWidth();},componentWillUnmount:function q(){c('clearTimeout')(this._blurTimeout);},componentWillReceiveProps:function q(r){this.setState({shouldCalculateVisibleTabs:true,activeTabKey:r.activeTabKey||this.state.activeTabKey});},shouldComponentUpdate:function q(r,s){if(this.state.focusedTabKey&&!s.focusedTabKey)return false;if(!this.state.focusedTabKey&&!s.focusedTabKey&&this.state.previousFocusedTabKey&&!s.previousFocusedTabKey)return false;return true;},componentDidUpdate:function q(){if(this.state.shouldCalculateVisibleTabs)this.calculateVisibleTabs();this.calculateWidth();},calculateWidth:function q(){this.props.onWidthCalculated(c('ReactDOM').findDOMNode(this).clientWidth);},calculateVisibleTabs:function q(){var r=this.getTabs(),s=r.length,t=Math.min(s,this.props.maxTabsVisible);if(!this.props.shouldCalculateVisibleTabs){this.setState({visibleTabsCount:t,shouldCalculateVisibleTabs:false});return;}var u=[];for(var v=0;v<s;v++)u.push(c('ReactDOM').findDOMNode(this.refs[v]).offsetWidth);var w=this.getActiveTabIndex();if(this.props.alwaysShowActive&&w!==-1){r.unshift(r.splice(w,1)[0]);u.unshift(u.splice(w,1)[0]);}var x=c('ReactDOM').findDOMNode(this).offsetWidth;t=0;var y=0;for(v=0;v<s;v++){var z=u[v];if(y+z>x){if(t>0&&s>2){var aa=c('ReactDOM').findDOMNode(this.refs.more).offsetWidth;while(t>0&&(y+aa>x||s-t<2)){t--;y-=u[t];}}else t=0;break;}t++;y+=z;}this.setState({visibleTabsCount:Math.min(t,this.props.maxTabsVisible),shouldCalculateVisibleTabs:false});},getActiveTabIndex:function q(){var r=arguments.length<=0||arguments[0]===undefined?false:arguments[0],s=this.state.activeTabKey,t=[];if(r){var u=this._groupTabsByVisibility(),v=u.visibleTabs;t=v;}else t=this.getTabs();return t.findIndex(function(w){return w&&w.key===s;});},getFocusedTabIndex:function q(){var r=this.state.focusedTabKey||this.state.previousFocusedTabKey,s=this._groupTabsByVisibility(),t=s.visibleTabs;return t.findIndex(function(u){return u&&u.key===r;});},getFocusedTab:function q(){var r=this.state.focusedTabKey,s=this._groupTabsByVisibility(),t=s.visibleTabs,u=t.findIndex(function(v){return v&&v.key===r;});return t[u];},onClick:function q(r,event){var s=this.props.onTabClick(r,event);if(s!==false&&this.isMounted())this.activateTab(r);},onMouseDown:function q(){this.setState({hideFocusRing:true});},onKeyDown:function q(event){var r=c('Event').getKeyCode(event);switch(r){case c('RTLKeys').UP:case c('RTLKeys').getRight():case c('RTLKeys').DOWN:case c('RTLKeys').getLeft():var s,t,u,v=this._groupTabsByVisibility(),w=v.visibleTabs,x=r===c('RTLKeys').UP||r===c('RTLKeys').getLeft(),y=x?-1:1,z=x?0:w.length-1,aa=this.getFocusedTabIndex();if(aa===-1&&y===-1)aa=w.length;if(aa===-1){u=null;}else if(aa===z&&y===1){u=p.MORE_TAB_KEY;}else{s=x?Math.max:Math.min;t=s(aa+y,z);u=w[t].key;}if(u)this.setState({focusedTabKey:u,hideFocusRing:false});break;case c('RTLKeys').RETURN:var ba=this.getFocusedTab();if(ba){var ca=ba.key,da=this.props.onTabClick(ca,event);if(da!==false&&this.isMounted())this.activateTab(ca);}break;}},onKeyUp:function q(event){if(c('Event').getKeyCode(event)===c('RTLKeys').TAB&&this.state.hideFocusRing)this.setState({hideFocusRing:false});},onFocus:function q(r,event){c('clearTimeout')(this._blurTimeout);if(r!==this.state.focusedTabKey){this.setState({focusedTabKey:r,previousFocusedTabKey:null});event.preventDefault();event.stopPropagation();}},onBlur:function q(){this.setState({previousFocusedTabKey:this.state.focusedTabKey,focusedTabKey:null});this._blurTimeout=c('setTimeout')(function(){this.setState({previousFocusedTabKey:null});}.bind(this),p.BLUR_TIMEOUT);},_wrapTab:function q(r,s,t,u,v,w,x){r.key!==p.MORE_TAB_KEY||j(0);var y=t===r.key,z=u===r.key,aa={selected:y,focused:z,tabIndex:y||v===-1&&s===0?0:-1,hideFocusRing:this.state.hideFocusRing};if(w){aa.onClick=this.onClick.bind(this,r.key);aa.onMouseDown=this.onMouseDown;}else aa.mockSpacebarClick=false;if(x){aa.onFocus=this.onFocus.bind(this,r.key);aa.onBlur=this.onBlur;}r=c('React').cloneElement(r,aa);return (c('React').createElement(o,{key:r.key,component:r,ref:s}));},activateTab:function q(r){if(r)this.setState({activeTabKey:r,focusedTabKey:r,shouldCalculateVisibleTabs:true});},getTabs:function q(){var r=[];c('React').Children.forEach(this.props.children,function(s){if(s)r.push(s);});return r;},_groupTabsByVisibility:function q(){var r=this.state.visibleTabsCount,s=this.getTabs(),t=this.getActiveTabIndex(),u,v,w;if(!this.props.alwaysShowActive||t<r||r===0){w=s.slice(r);v=s.slice(0,r);}else{u=s.splice(t,1)[0];var x=r>0?r-1:0;w=s.slice(x);v=s.slice(0,x);v.push(u);}return {visibleTabs:v,extraTabs:w};},_isDropdownSelected:function q(){var r=this.state.visibleTabsCount,s=this.getActiveTabIndex(),t=!this.props.alwaysShowActive&&s>=r||r===0&&s>-1;return t;}});p.MORE_TAB_KEY='_moreTab';p.BLUR_TIMEOUT=120;p.Tab=c('TabBarItem.react');f.exports=p;}),null);
__d('XUIButton.react',['cx','AbstractButton.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l='medium';i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.getButtonSize=function(n){'use strict';return n.size||l;};m.prototype.render=function(){'use strict';var n=this.props,o=n.use,p=n.size,q=n.borderShade,r=n.suppressed,s=babelHelpers.objectWithoutProperties(n,['use','size','borderShade','suppressed']),t="_4jy0"+(p==='small'?' '+"_517i":'')+(p==='medium'?' '+"_4jy3":'')+(p==='large'?' '+"_4jy4":'')+(p==='xlarge'?' '+"_4jy5":'')+(p==='xxlarge'?' '+"_4jy6":'')+(o==='default'?' '+"_517h":'')+(o==='confirm'?' '+"_4jy1":'')+(o==='special'?' '+"_4jy2":'')+(q==='light'?' '+"_51sy":'')+(q==='dark'?' '+"_9c6":'')+(r?' '+"_59pe":'')+(o==='confirm'||o==='special'?' '+"selected":'');return (c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},s,{className:c('joinClasses')(this.props.className,t)})));};function m(){'use strict';i.apply(this,arguments);}m.propTypes={use:k.oneOf(['default','special','confirm']),size:k.oneOf(['small','medium','large','xlarge','xxlarge']),borderShade:k.oneOf(['light','dark']),suppressed:k.bool};m.defaultProps={use:'default',size:l,borderShade:'light',suppressed:false};f.exports=m;}),null);
__d('XUIBlock',['cx','React'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j={propTypes:{background:i.oneOf(['base-wash','light-wash','white','highlight','transparent'])},getDefaultProps:function k(){return {background:'transparent'};},getBackgroundClass:function k(l){var m=(l.background==='base-wash'?"_4-u5":'')+(l.background==='light-wash'?' '+"_57d8":'')+(l.background==='white'?' '+"_4-u8":'')+(l.background==='highlight'?' '+"_4-u7":'');return m;}};f.exports=j;}),null);
__d('XUICardHeaderTitle.react',['cx','React','TabBarItem.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.itemComponent,n=null;if(this.props.count>0)n=c('React').createElement('span',{className:"_c1b"},this.props.count);return (c('React').createElement(m,babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_38my")}),this.props.children,n,c('React').createElement('span',{className:"_c1c"})));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={count:k.number,href:k.string,itemComponent:k.any};l.defaultProps={itemComponent:c('TabBarItem.react')};f.exports=l;}),null);
__d('XUICardSection.react',['cx','React','XUIBlock','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=c('joinClasses')("_4-u3",c('XUIBlock').getBackgroundClass(this.props));return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,l)}),this.props.children));};function k(){i.apply(this,arguments);}k.propTypes=c('XUIBlock').propTypes;k.defaultProps=c('XUIBlock').getDefaultProps();f.exports=k;}),null);
__d('XUIDialogHeaderTitle.react',['XUICardHeaderTitle.react'],(function a(b,c,d,e,f,g){f.exports=c('XUICardHeaderTitle.react');}),null);
__d('XUICardHeader.react',['cx','invariant','React','TabBar.react','XUICardHeaderTitle.react','XUICardSection.react','XUIDialogHeaderTitle.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$XUICardHeader1=function(){var s=0;c('React').Children.forEach(this.props.children,function(t){t.type===c('XUICardHeaderTitle.react')||t.type===c('XUIDialogHeaderTitle.react')||i(0);s++;});return s;}.bind(this),this.$XUICardHeader2=function(){if(this.props.type==='primary')this.props.itemCount==null||i(0);if(this.props.itemCount!=null)return (c('React').createElement('span',{className:"_5dw7"},this.props.itemCount));}.bind(this),this.$XUICardHeader3=function(){if(this.props.link)return (c('React').createElement('span',{className:"_5dw8"},this.props.link));}.bind(this),this.$XUICardHeader4=function(){var s=this.$XUICardHeader1();if(s===1){return c('React').Children.map(this.props.children,function(t){return c('React').cloneElement(t,{itemComponent:'span'});});}else return (c('React').createElement(c('TabBar.react'),{activeTabKey:this.props.activeTabKey,defaultActiveTabKey:this.props.defaultActiveTabKey,onTabClick:this.props.onTabClick},this.props.children));}.bind(this),o;}m.prototype.render=function(){'use strict';var n=(this.props.type==='primary'?"_5dw9":'')+(' '+"_5dwa")+(this.props.type==='secondary'?' '+"_5dwb":'')+(this.$XUICardHeader1()!==1?' '+"_3s3z":'');return (c('React').createElement(c('XUICardSection.react'),{className:c('joinClasses')(this.props.className,n)},this.$XUICardHeader4(),this.$XUICardHeader2(),this.$XUICardHeader3(),c('React').createElement('div',{className:"_3s3-"})));};m.propTypes={activeTabKey:l.string,defaultActiveTabKey:l.string,onTabClick:l.func,type:l.oneOf(['primary','secondary'])};m.defaultProps={onTabClick:function n(){return true;},type:'secondary'};f.exports=m;}),null);
__d('XUIDialogButton.react',['cx','React','XUIButton.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.action,n=(m=='confirm'?"layerConfirm":'')+(m=='cancel'?' '+"layerCancel":'')+(m=='button'?' '+"layerButton":''),o=this.props.href;if(m=='cancel'){o='#';}else if(m=='button')o=o||'#';return (c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n),href:o})));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={action:k.oneOf(['cancel','confirm','button'])};f.exports=l;}),null);
__d('XUIDialogCancelButton.react',['fbt','React','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement(c('XUIDialogButton.react'),babelHelpers['extends']({},this.props,{action:'cancel',label:h._("Annuler")})));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('LayerFadeOnShow',['Bootloader','Run','Style','UserAgent_DEPRECATED','emptyFunction','ifRequired'],(function a(b,c,d,e,f,g){function h(i){'use strict';this._layer=i;c('Run').onAfterLoad(function(){c('Bootloader').loadModules(["Animation"],c('emptyFunction'),'LayerFadeOnShow');});}h.prototype.enable=function(){'use strict';if(c('UserAgent_DEPRECATED').ie()<9)return;this._subscriptions=[this._layer.subscribe('beforeshow',function(){c('Style').set(this._layer.getRoot(),'opacity',0);}.bind(this)),this._layer.subscribe('show',this._animate.bind(this))];};h.prototype.disable=function(){'use strict';if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;}};h.prototype._getDuration=function(){'use strict';return 100;};h.prototype._animate=function(){'use strict';var i=this._layer.getRoot();c('ifRequired')('Animation',function(j){return (new j(i).from('opacity',0).to('opacity',1).duration(this._getDuration()).ondone(c('Style').set.bind(null,i,'opacity','')).go());}.bind(this),c('Style').set.bind(null,i,'opacity',''));};h.forDuration=function(i){var j,k;'use strict';j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(){j.apply(this,arguments);}l.prototype._getDuration=c('emptyFunction').thatReturns(i);return l;};Object.assign(h.prototype,{_subscriptions:null});f.exports=h;}),null);
__d('XUIDialog.react',['AbstractDialog.react','LayerFadeOnShow','ReactLayer'],(function a(b,c,d,e,f,g){var h=c('ReactLayer').createClass(c('AbstractDialog.react').createSpec({displayName:'XUIDialog',addedBehaviors:{LayerFadeOnShow:c('LayerFadeOnShow')}}));f.exports=h;}),null);
__d('XUIDialogBody.react',['cx','React','joinClasses','XUIText.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m="_4-i2"+(!this.props.useCustomPadding?' '+"_pig":'');return (c('React').createElement(c('XUIText.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,m),display:'block',size:this.props.fontSize}),this.props.children));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={fontSize:k.oneOf(['medium','inherit']),useCustomPadding:k.bool};l.defaultProps={fontSize:'medium'};f.exports=l;}),null);
__d('keyMirror',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l={},m;k instanceof Object&&!Array.isArray(k)||h(0);for(m in k){if(!k.hasOwnProperty(m))continue;l[m]=m;}return l;};f.exports=i;}),null);
__d('LeftRight.react',['cx','invariant','React','keyMirror','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('keyMirror')({left:true,right:true,both:true});function m(p){p&&(p.length===1||p.length===2)||i(0);}function n(p){var q=[];c('React').Children.forEach(p,function(r){q.push(r);},this);return q;}j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.prototype.render=function(){'use strict';var p=n(this.props.children);m(p);var q=this.props.direction||l.both,r=q===l.both,s=r||q===l.left?"_ohe lfloat":'',t=r||q===l.right?"_ohf rfloat":'',u=c('React').createElement('div',{key:'left',className:s},p[0]),v=p.length<2?null:c('React').createElement('div',{key:'right',className:t},p[1]),w=q===l.right&&v?[v,u]:[u,v];return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"clearfix")}),w));};function o(){'use strict';j.apply(this,arguments);}o.DIRECTION=l;f.exports=o;}),null);
__d('XUIOverlayFooter.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_5lnf uiOverlayFooter")}),this.props.children));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('XUIDialogFooter.react',['cx','LeftRight.react','React','XUIOverlayFooter.react','XUIText.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m="_5a8u"+(this.props.fullBleedBorder?' '+"_27qq":'');return (c('React').createElement(c('XUIOverlayFooter.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,m)}),c('React').createElement(c('XUIText.react'),{display:'block',fontSize:this.props.fontSize},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',null,this.props.leftContent),c('React').createElement('div',null,this.props.children)))));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={fontSize:k.oneOf(['medium','inherit']),fullBleedBorder:k.bool,leftContent:k.object};l.defaultProps={fontSize:'medium'};f.exports=l;}),null);
__d('XUIDialogHeader.react',['cx','fbt','React','XUICardHeader.react','XUICloseButton.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=null;if(this.props.showCloseButton)n=c('React').createElement(c('XUICloseButton.react'),{label:this.props.closeButtonText,className:"layerCancel _51-t"});return (c('React').createElement(c('XUICardHeader.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_4-i0"),link:n,type:'primary'}),this.props.children));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={closeButtonText:l.string,showCloseButton:l.bool,activeTabKey:l.string,defaultActiveTabKey:l.string,onTabClick:l.func};m.defaultProps={closeButtonText:i._("Fermer"),onTabClick:function n(){return true;},showCloseButton:true};f.exports=m;}),null);
__d('sliceChildren',['ReactChildren'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){if(i==null)return i;var l=c('ReactChildren').toArray(i);return l.slice(j,k);}f.exports=h;}),null);
__d('XUIDialogTitle.react',['cx','fbt','LeftRight.react','React','XUICloseButton.react','sliceChildren','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=null,o=this.props,p=o.closeButtonText,q=o.showCloseButton,r=babelHelpers.objectWithoutProperties(o,['closeButtonText','showCloseButton']);if(q)n=c('React').createElement(c('XUICloseButton.react'),{label:p,className:"layerCancel _51-t"});return (c('React').createElement('div',babelHelpers['extends']({},r,{className:c('joinClasses')(this.props.className,"_4-i0")}),c('React').createElement(c('LeftRight.react'),null,c('React').createElement('h3',{className:"_52c9"},c('sliceChildren')(this.props.children,0,1)),c('React').createElement('div',{className:"_51-u"},c('sliceChildren')(this.props.children,1),n))));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={closeButtonText:l.string,showCloseButton:l.bool};m.defaultProps={closeButtonText:i._("Fermer"),showCloseButton:true};f.exports=m;}),null);
__d('TypeaheadViewPropTypes',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i={ariaOwneeID:h.string,highlightedEntry:h.object,entries:h.array.isRequired,onSelect:h.func.isRequired,onHighlight:h.func,onRenderHighlight:h.func,role:h.string};f.exports=i;}),null);
__d('MercuryMessageClientState',[],(function a(b,c,d,e,f,g){var h={DO_NOT_SEND_TO_SERVER:'do_not_send_to_server',SEND_TO_SERVER:'send_to_server'};f.exports=h;}),null);
__d('Animation',['BrowserSupport','CSS','DataStore','DOM','Style','clearTimeout','clearInterval','getVendorPrefixedName','setIntervalAcrossTransitions','setTimeoutAcrossTransitions','shield','requestAnimationFrame'],(function a(b,c,d,e,f,g){var h=c('requestAnimationFrame'),i=[],j;function k(ba){if(b==this){return new k(ba);}else{this.obj=ba;this._reset_state();this.queue=[];this.last_attr=null;}}function l(ba){if(c('BrowserSupport').hasCSS3DTransforms()){return o(ba);}else return n(ba);}function m(ba){return ba.toFixed(8);}function n(ba){ba=[ba[0],ba[4],ba[1],ba[5],ba[12],ba[13]];return 'matrix('+ba.map(m).join(',')+')';}function o(ba){return 'matrix3d('+ba.map(m).join(',')+')';}function p(ba,ca){if(!ba)ba=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var da=[];for(var ea=0;ea<4;ea++)for(var fa=0;fa<4;fa++){var ga=0;for(var ha=0;ha<4;ha++)ga+=ba[ea*4+ha]*ca[ha*4+fa];da[ea*4+fa]=ga;}return da;}var q=0;k.prototype._reset_state=function(){this.state={attrs:{},duration:500};};k.prototype.stop=function(){this._reset_state();this.queue=[];return this;};k.prototype._build_container=function(){if(this.container_div){this._refresh_container();return;}if(this.obj.firstChild&&this.obj.firstChild.__animation_refs){this.container_div=this.obj.firstChild;this.container_div.__animation_refs++;this._refresh_container();return;}var ba=document.createElement('div');ba.style.padding='0px';ba.style.margin='0px';ba.style.border='0px';ba.__animation_refs=1;var ca=this.obj.childNodes;while(ca.length)ba.appendChild(ca[0]);this.obj.appendChild(ba);this._orig_overflow=this.obj.style.overflow;this.obj.style.overflow='hidden';this.container_div=ba;this._refresh_container();};k.prototype._refresh_container=function(){this.container_div.style.height='auto';this.container_div.style.width='auto';this.container_div.style.height=this.container_div.offsetHeight+'px';this.container_div.style.width=this.container_div.offsetWidth+'px';};k.prototype._destroy_container=function(){if(!this.container_div)return;if(!--this.container_div.__animation_refs){var ba=this.container_div.childNodes;while(ba.length)this.obj.appendChild(ba[0]);this.obj.removeChild(this.container_div);}this.container_div=null;this.obj.style.overflow=this._orig_overflow;};var r=1,s=2,t=3;k.prototype._attr=function(ba,ca,da){ba=ba.replace(/-[a-z]/gi,function(fa){return fa.substring(1).toUpperCase();});var ea=false;switch(ba){case 'background':this._attr('backgroundColor',ca,da);return this;case 'backgroundColor':case 'borderColor':case 'color':ca=x(ca);break;case 'opacity':ca=parseFloat(ca,10);break;case 'height':case 'width':if(ca=='auto'){ea=true;}else ca=parseInt(ca,10);break;case 'borderWidth':case 'lineHeight':case 'fontSize':case 'margin':case 'marginBottom':case 'marginLeft':case 'marginRight':case 'marginTop':case 'padding':case 'paddingBottom':case 'paddingLeft':case 'paddingRight':case 'paddingTop':case 'bottom':case 'left':case 'right':case 'top':case 'scrollTop':case 'scrollLeft':ca=parseInt(ca,10);break;case 'rotateX':case 'rotateY':case 'rotateZ':ca=parseInt(ca,10)*Math.PI/180;break;case 'translateX':case 'translateY':case 'translateZ':case 'scaleX':case 'scaleY':case 'scaleZ':ca=parseFloat(ca,10);break;case 'rotate3d':this._attr('rotateX',ca[0],da);this._attr('rotateY',ca[1],da);this._attr('rotateZ',ca[2],da);return this;case 'rotate':this._attr('rotateZ',ca,da);return this;case 'scale3d':this._attr('scaleZ',ca[2],da);case 'scale':this._attr('scaleX',ca[0],da);this._attr('scaleY',ca[1],da);return this;case 'translate3d':this._attr('translateZ',ca[2],da);case 'translate':this._attr('translateX',ca[0],da);this._attr('translateY',ca[1],da);return this;default:throw new Error(ba+' is not a supported attribute!');}if(this.state.attrs[ba]===undefined)this.state.attrs[ba]={};if(ea)this.state.attrs[ba].auto=true;switch(da){case t:this.state.attrs[ba].start=ca;break;case s:this.state.attrs[ba].by=true;case r:this.state.attrs[ba].value=ca;break;}};function u(ba){var ca=parseInt(c('Style').get(ba,'paddingLeft'),10),da=parseInt(c('Style').get(ba,'paddingRight'),10),ea=parseInt(c('Style').get(ba,'borderLeftWidth'),10),fa=parseInt(c('Style').get(ba,'borderRightWidth'),10);return ba.offsetWidth-(ca?ca:0)-(da?da:0)-(ea?ea:0)-(fa?fa:0);}function v(ba){var ca=parseInt(c('Style').get(ba,'paddingTop'),10),da=parseInt(c('Style').get(ba,'paddingBottom'),10),ea=parseInt(c('Style').get(ba,'borderTopWidth'),10),fa=parseInt(c('Style').get(ba,'borderBottomWidth'),10);return ba.offsetHeight-(ca?ca:0)-(da?da:0)-(ea?ea:0)-(fa?fa:0);}k.prototype.to=function(ba,ca){if(ca===undefined){this._attr(this.last_attr,ba,r);}else{this._attr(ba,ca,r);this.last_attr=ba;}return this;};k.prototype.by=function(ba,ca){if(ca===undefined){this._attr(this.last_attr,ba,s);}else{this._attr(ba,ca,s);this.last_attr=ba;}return this;};k.prototype.from=function(ba,ca){if(ca===undefined){this._attr(this.last_attr,ba,t);}else{this._attr(ba,ca,t);this.last_attr=ba;}return this;};k.prototype.duration=function(ba){this.state.duration=ba?ba:0;return this;};k.prototype.checkpoint=function(ba,ca){if(ba===undefined)ba=1;this.state.checkpoint=ba;this.queue.push(this.state);this._reset_state();this.state.checkpointcb=ca;return this;};k.prototype.blind=function(){this.state.blind=true;return this;};k.prototype.hide=function(){this.state.hide=true;return this;};k.prototype.show=function(){this.state.show=true;return this;};k.prototype.ease=function(ba){this.state.ease=ba;return this;};k.prototype.go=function(){var ba=Date.now();this.queue.push(this.state);for(var ca=0;ca<this.queue.length;ca++){this.queue[ca].start=ba-q;if(this.queue[ca].checkpoint)ba+=this.queue[ca].checkpoint*this.queue[ca].duration;}y(this);return this;};k.prototype._show=function(){c('CSS').show(this.obj);};k.prototype._hide=function(){c('CSS').hide(this.obj);};k.prototype._frame=function(ba){var ca=true,da=false,ea;function fa(cb){return document.documentElement[cb]||document.body[cb];}function ga(cb,db){return (cb===document.body?fa(db):cb[db]);}function ha(cb,db){return (db.lastScrollTop!==undefined&&db.lastScrollTop!==ga(cb.obj,'scrollTop')||db.lastScrollLeft!==undefined&&db.lastScrollLeft!==ga(cb.obj,'scrollLeft'));}function ia(cb,db){db.lastScrollTop=ga(cb.obj,'scrollTop');db.lastScrollLeft=ga(cb.obj,'scrollLeft');}for(var ja=0;ja<this.queue.length;ja++){var ka=this.queue[ja];if(ka.start>ba){ca=false;continue;}if(ka.checkpointcb){this._callback(ka.checkpointcb,ba-ka.start);ka.checkpointcb=null;}if(ka.started===undefined){if(ka.show)this._show();for(var la in ka.attrs){if(ka.attrs[la].start!==undefined)continue;switch(la){case 'backgroundColor':case 'borderColor':case 'color':ea=x(c('Style').get(this.obj,la=='borderColor'?'borderLeftColor':la));if(ka.attrs[la].by){ka.attrs[la].value[0]=Math.min(255,Math.max(0,ka.attrs[la].value[0]+ea[0]));ka.attrs[la].value[1]=Math.min(255,Math.max(0,ka.attrs[la].value[1]+ea[1]));ka.attrs[la].value[2]=Math.min(255,Math.max(0,ka.attrs[la].value[2]+ea[2]));}break;case 'opacity':ea=c('Style').getOpacity(this.obj);if(ka.attrs[la].by)ka.attrs[la].value=Math.min(1,Math.max(0,ka.attrs[la].value+ea));break;case 'height':ea=v(this.obj);if(ka.attrs[la].by)ka.attrs[la].value+=ea;break;case 'width':ea=u(this.obj);if(ka.attrs[la].by)ka.attrs[la].value+=ea;break;case 'scrollLeft':case 'scrollTop':ea=ga(this.obj,la);if(ka.attrs[la].by)ka.attrs[la].value+=ea;ia(this,ka);break;case 'rotateX':case 'rotateY':case 'rotateZ':case 'translateX':case 'translateY':case 'translateZ':ea=c('DataStore').get(this.obj,la,0);if(ka.attrs[la].by)ka.attrs[la].value+=ea;break;case 'scaleX':case 'scaleY':case 'scaleZ':ea=c('DataStore').get(this.obj,la,1);if(ka.attrs[la].by)ka.attrs[la].value+=ea;break;default:ea=parseInt(c('Style').get(this.obj,la),10)||0;if(ka.attrs[la].by)ka.attrs[la].value+=ea;break;}ka.attrs[la].start=ea;}if(ka.attrs.height&&ka.attrs.height.auto||ka.attrs.width&&ka.attrs.width.auto){this._destroy_container();for(var la in {height:1,width:1,fontSize:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1})if(ka.attrs[la])this.obj.style[la]=ka.attrs[la].value+(typeof ka.attrs[la].value=='number'?'px':'');if(ka.attrs.height&&ka.attrs.height.auto)ka.attrs.height.value=v(this.obj);if(ka.attrs.width&&ka.attrs.width.auto)ka.attrs.width.value=u(this.obj);}ka.started=true;if(ka.blind)this._build_container();}var ma=(ba-ka.start)/ka.duration;if(ma>=1){ma=1;if(ka.hide)this._hide();}else ca=false;var na=ka.ease?ka.ease(ma):ma;if(!da&&ma!=1&&ka.blind)da=true;for(var la in ka.attrs)switch(la){case 'backgroundColor':case 'borderColor':case 'color':if(ka.attrs[la].start[3]!=ka.attrs[la].value[3]){this.obj.style[la]='rgba('+w(na,ka.attrs[la].start[0],ka.attrs[la].value[0],true)+','+w(na,ka.attrs[la].start[1],ka.attrs[la].value[1],true)+','+w(na,ka.attrs[la].start[2],ka.attrs[la].value[2],true)+','+w(na,ka.attrs[la].start[3],ka.attrs[la].value[3],false)+')';}else this.obj.style[la]='rgb('+w(na,ka.attrs[la].start[0],ka.attrs[la].value[0],true)+','+w(na,ka.attrs[la].start[1],ka.attrs[la].value[1],true)+','+w(na,ka.attrs[la].start[2],ka.attrs[la].value[2],true)+')';break;case 'opacity':c('Style').set(this.obj,'opacity',w(na,ka.attrs[la].start,ka.attrs[la].value));break;case 'height':case 'width':this.obj.style[la]=na==1&&ka.attrs[la].auto?'auto':w(na,ka.attrs[la].start,ka.attrs[la].value,true)+'px';break;case 'scrollLeft':case 'scrollTop':var oa=this.obj===document.body;if(ha(this,ka)){delete ka.attrs.scrollTop;delete ka.attrs.scrollLeft;}else{var pa=w(na,ka.attrs[la].start,ka.attrs[la].value,true);if(!oa){this.obj[la]=pa;}else if(la=='scrollLeft'){b.scrollTo(pa,fa('scrollTop'));}else b.scrollTo(fa('scrollLeft'),pa);ia(this,ka);}break;case 'translateX':case 'translateY':case 'translateZ':case 'rotateX':case 'rotateY':case 'rotateZ':case 'scaleX':case 'scaleY':case 'scaleZ':c('DataStore').set(this.obj,la,w(na,ka.attrs[la].start,ka.attrs[la].value,false));break;default:this.obj.style[la]=w(na,ka.attrs[la].start,ka.attrs[la].value,true)+'px';break;}var qa=null,ra=c('DataStore').get(this.obj,'translateX',0),sa=c('DataStore').get(this.obj,'translateY',0),ta=c('DataStore').get(this.obj,'translateZ',0);if(ra||sa||ta)qa=p(qa,[1,0,0,0,0,1,0,0,0,0,1,0,ra,sa,ta,1]);var ua=c('DataStore').get(this.obj,'scaleX',1),va=c('DataStore').get(this.obj,'scaleY',1),wa=c('DataStore').get(this.obj,'scaleZ',1);if(ua-1||va-1||wa-1)qa=p(qa,[ua,0,0,0,0,va,0,0,0,0,wa,0,0,0,0,1]);var xa=c('DataStore').get(this.obj,'rotateX',0);if(xa)qa=p(qa,[1,0,0,0,0,Math.cos(xa),Math.sin(-xa),0,0,Math.sin(xa),Math.cos(xa),0,0,0,0,1]);var ya=c('DataStore').get(this.obj,'rotateY',0);if(ya)qa=p(qa,[Math.cos(ya),0,Math.sin(ya),0,0,1,0,0,Math.sin(-ya),0,Math.cos(ya),0,0,0,0,1]);var za=c('DataStore').get(this.obj,'rotateZ',0);if(za)qa=p(qa,[Math.cos(za),Math.sin(-za),0,0,Math.sin(za),Math.cos(za),0,0,0,0,1,0,0,0,0,1]);var ab=c('getVendorPrefixedName')('transform');if(ab)if(qa){var bb=l(qa);c('Style').set(this.obj,ab,bb);}else if(ca)c('Style').set(this.obj,ab,null);if(ma==1){this.queue.splice(ja--,1);this._callback(ka.ondone,ba-ka.start-ka.duration);}}if(!da&&this.container_div)this._destroy_container();return !ca;};k.prototype.ondone=function(ba){this.state.ondone=ba;return this;};k.prototype._callback=function(ba,ca){if(ba){q=ca;ba.call(this);q=0;}};function w(ba,ca,da,ea){return (ea?parseInt:parseFloat)((da-ca)*ba+ca,10);}function x(ba){var ca=/^#([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})$/i.exec(ba);if(ca){return [parseInt(ca[1].length==1?ca[1]+ca[1]:ca[1],16),parseInt(ca[2].length==1?ca[2]+ca[2]:ca[2],16),parseInt(ca[3].length==1?ca[3]+ca[3]:ca[3],16),1];}else{var da=/^rgba? *\(([0-9]+), *([0-9]+), *([0-9]+)(?:, *([0-9\.]+))?\)$/.exec(ba);if(da){return [parseInt(da[1],10),parseInt(da[2],10),parseInt(da[3],10),da[4]?parseFloat(da[4]):1];}else if(ba=='transparent'){return [255,255,255,0];}else throw new Error('Named color attributes are not supported.');}}function y(ba){i.push(ba);if(i.length===1)if(h){h(aa);}else j=c('setIntervalAcrossTransitions')(aa,20);if(h)z();aa(Date.now(),true);}function z(){if(!h)throw new Error('Ending timer only valid with requestAnimationFrame');var ba=0;for(var ca=0;ca<i.length;ca++){var da=i[ca];for(var ea=0;ea<da.queue.length;ea++){var fa=da.queue[ea].start+da.queue[ea].duration;if(fa>ba)ba=fa;}}if(j){c('clearTimeout')(j);j=null;}var ga=Date.now();if(ba>ga)j=c('setTimeoutAcrossTransitions')(c('shield')(aa),ba-ga);}function aa(ba,ca){var da=Date.now();for(var ea=ca===true?i.length-1:0;ea<i.length;ea++)try{if(!i[ea]._frame(da))i.splice(ea--,1);}catch(fa){i.splice(ea--,1);}if(i.length===0){if(j){if(h){c('clearTimeout')(j);}else c('clearInterval')(j);j=null;}}else if(h)h(aa);}k.ease={};k.ease.begin=function(ba){return Math.sin(Math.PI/2*(ba-1))+1;};k.ease.end=function(ba){return Math.sin(.5*Math.PI*ba);};k.ease.both=function(ba){return .5*Math.sin(Math.PI*(ba-.5))+.5;};k.prependInsert=function(ba,ca){k.insert(ba,ca,c('DOM').prependContent);};k.appendInsert=function(ba,ca){k.insert(ba,ca,c('DOM').appendContent);};k.insert=function(ba,ca,da){c('Style').set(ca,'opacity',0);da(ba,ca);new k(ca).from('opacity',0).to('opacity',1).duration(400).go();};f.exports=k;}),null);
__d('MessengerSharedPhoto.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MessengerSharedPhoto1=function(q){q.preventDefault();this.props.onClick(this.props.fbid);}.bind(this),m;}k.prototype.render=function(){return c('React').createElement('a',{className:this.props.className,href:this.props.uri,onClick:this.$MessengerSharedPhoto1,style:{backgroundImage:'url('+this.props.uri+')'}});};k.propTypes={className:j.string.isRequired,fbid:j.string.isRequired,onClick:j.func.isRequired,uri:j.string.isRequired};f.exports=k;}),null);
__d('ChatPhotoViewFooterHScroll.react',['cx','Animation','MessengerSharedPhoto.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=200,m=74,n=140,o=30;i=babelHelpers.inherits(p,c('React').Component);j=i&&i.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$ChatPhotoViewFooterHScroll1=null,this.state={currentPhoto:'',prevScrollLeft:0,scrollLeft:0},this.$ChatPhotoViewFooterHScroll2=function(v){return v?Math.ceil((v-n*2)/m):o;},r;}p.prototype.componentDidMount=function(){if(this.props.width)this.props.updateNumberInOneBatch(this.$ChatPhotoViewFooterHScroll2(this.props.width));this.$ChatPhotoViewFooterHScroll1=new (c('Animation'))(this.refs.childContainer).to('scrollLeft',0).duration(l).go();};p.prototype.componentWillReceiveProps=function(q){if(q.photoID!=this.state.currentPhoto||this.props.sharedPhotos.length!==q.sharedPhotos.length){var r=q.width?(q.width-m)/2-n:0,s=q.sharedPhotos.findIndex(function(t){return t.node.id===q.photoID;});this.setState({currentPhoto:q.photoID,prevScrollLeft:this.state.scrollLeft,scrollLeft:s*m-r});}if(q.width!=this.props.width)this.props.updateNumberInOneBatch(this.$ChatPhotoViewFooterHScroll2(q.width));};p.prototype.componentDidUpdate=function(){if(this.$ChatPhotoViewFooterHScroll1)this.$ChatPhotoViewFooterHScroll1.from('scrollLeft',this.state.prevScrollLeft).to('scrollLeft',this.state.scrollLeft).duration(l).go();};p.prototype.componentWillUnmount=function(){this.$ChatPhotoViewFooterHScroll1&&this.$ChatPhotoViewFooterHScroll1.stop();};p.prototype.shouldComponentUpdate=function(q,r){if(q.photoID!=this.state.currentPhoto||q.sharedPhotos.length!==this.props.sharedPhotos.length)return true;return false;};p.prototype.render=function(){var q=this.props.sharedPhotos,r=q.map(function(s){return c('React').createElement('div',{className:"_1oyb",key:s.node.legacy_attachment_id},c('React').createElement(c('MessengerSharedPhoto.react'),{className:"_1oyc"+(this.state.currentPhoto!==s.node.id?' '+"_1oyd":''),fbid:s.node.legacy_attachment_id,onClick:this.props.onScroll,photoID:s.node.id,uri:s.node.image1.uri}));}.bind(this));return c('React').createElement('div',{className:"_1oye"},c('React').createElement('div',{className:"_1oyf",ref:'childContainer'},c('React').createElement('div',{className:"_1oyh",ref:'scrollable'},r)));};p.propTypes={onScroll:k.func,photoID:k.string,sharedPhotos:k.array,updateNumberInOneBatch:k.func,width:k.number};f.exports=p;}),null);
__d('MessengerPhotoViewCloseLink.react',['cx','fbt','React','TooltipLink.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=function l(m){var n=c('React').createElement('span',null,i._("Appuyez sur \u00c9chap pour fermer"));return (c('React').createElement(c('TooltipLink.react'),{className:"_51ok _50-m _51an",onClick:m.onClick,tooltip:n},c('React').createElement('div',{className:"_387s"})));};k.propTypes={onClick:j.func};f.exports=k;}),null);
__d('SpotlightViewerBottomBarLink',['cx','Link.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=this.props.className||"_4_8j _4_8k";return (c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.props,{className:l}),this.props.children));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ChatPhotoViewHeader.react',['cx','fbt','MessengerPhotoViewCloseLink.react','React','SpotlightViewerBottomBarLink'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){return (c('React').createElement('div',{className:"_51an _50-m _3h_t _5l-3",role:'banner'},this.$ChatPhotoViewHeader1(),c('React').createElement(c('MessengerPhotoViewCloseLink.react'),{onClick:this.props.onClose})));};m.prototype.$ChatPhotoViewHeader1=function(){var n=void 0,o=void 0;if(!this.props.disableForward)n=c('React').createElement(c('SpotlightViewerBottomBarLink'),{className:"_3h_u",onClick:this.props.showForwardDialog,ref:'forwardButton'},c('React').createElement('div',{className:"_3h_v _3h_w"}),i._("Transf\u00e9rer"));if(this.props.enableShareToFB)o=c('React').createElement('div',{className:"_3h_u",onClick:this.props.showShareDialog,ref:'shareButton',role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_3tth _3h_w"}),i._("Partager sur Facebook"));return (c('React').createElement('div',{key:'buttonsContainer',ref:'buttons'},c('React').createElement(c('SpotlightViewerBottomBarLink'),{className:"_3h_u",rel:'async',ajaxify:this.props.url,ref:'downloadButton'},c('React').createElement('div',{className:"_3h_x _3h_w"}),i._("T\u00e9l\u00e9charger")),n,o,c('React').createElement('div',{className:"_3h_u",onClick:this.props.openInfo,ref:'moreInfo'},c('React').createElement('div',{className:"_3h_y _3h_w"}),i._("Infos"))));};function m(){j.apply(this,arguments);}m.propTypes={disableForward:l.bool,enableShareToFB:l.bool,onClose:l.func,openInfo:l.func,showForwardDialog:l.func,showShareDialog:l.func,url:l.object};f.exports=m;}),null);
__d('MercuryIDs',[],(function a(b,c,d,e,f,g){'use strict';var h={isValid:function i(j){if(!j||typeof j!=='string')return false;return /^\w{3,12}:.+/.test(j);},isValidThreadID:function i(j){if(!h.isValid(j))return false;var k=h.tokenize(j);switch(k.type){case 'user':case 'group':case 'support':case 'thread':case 'root':case 'pending':return true;default:return false;}},tokenize:function i(j){if(!j||!h.isValid(j))throw new Error('bad_id_format '+String(j));var k=j.indexOf(':');return {type:j.substr(0,k),value:j.substr(k+1)};},getUserIDFromParticipantID:function i(j){if(!h.isValid(j))throw new Error('bad_id_format '+j);var k=h.tokenize(j),l=k.type,m=k.value;return l==='fbid'?m:null;},getParticipantIDFromUserID:function i(j){if(isNaN(j))throw new Error('Not a user ID: '+j);return 'fbid:'+j;},getUserIDFromThreadID:function i(j){if(!this.isCanonical(j))return null;return this.tokenize(j).value;},getThreadIDFromUserID:function i(j){return 'user:'+j;},getThreadIDFromThreadFBID:function i(j){return 'thread:'+j;},getThreadIDFromSupportInboxItemID:function i(j){return 'support:'+j;},getThreadFBIDFromThreadID:function i(j){return this.tokenize(j).value;},getThreadIDFromParticipantID:function i(j){var k=this.getUserIDFromParticipantID(j);return k?this.getThreadIDFromUserID(k):null;},getParticipantIDFromFromThreadID:function i(j){var k=this.getUserIDFromThreadID(j);return k?this.getParticipantIDFromUserID(k):null;},getSupportInboxItemIDFromThreadID:function i(j){return this.tokenize(j).value;},isCanonical:function i(j){return this.isValid(j)&&this.tokenize(j).type==='user';},isGroupChat:function i(j){return this.isValid(j)&&this.tokenize(j).type!=='user';},isLocalThread:function i(j){return this.isValid(j)&&this.tokenize(j).type==='root';}};f.exports=h;}),null);
__d('Dispatcher_DEPRECATED',['invariant','monitorCodeUse'],(function a(b,c,d,e,f,g,h){'use strict';var i='ID_';function j(){this.$Dispatcher_DEPRECATED1={};this.$Dispatcher_DEPRECATED2=false;this.$Dispatcher_DEPRECATED3={};this.$Dispatcher_DEPRECATED4={};this.$Dispatcher_DEPRECATED5=1;}j.prototype.register=function(k,l){l=this.__genID(l);this.$Dispatcher_DEPRECATED1[l]=k;return l;};j.prototype.unregister=function(k){this.$Dispatcher_DEPRECATED1[k]||h(0);delete this.$Dispatcher_DEPRECATED1[k];};j.prototype.waitFor=function(k){this.$Dispatcher_DEPRECATED2||h(0);for(var l=0;l<k.length;l++){var m=k[l];if(this.$Dispatcher_DEPRECATED4[m]){this.$Dispatcher_DEPRECATED3[m]||h(0);continue;}this.$Dispatcher_DEPRECATED1[m]||h(0);this.$Dispatcher_DEPRECATED7(m);}};j.prototype.dispatch=function(k){!this.$Dispatcher_DEPRECATED2||h(0);this.$Dispatcher_DEPRECATED8(k);try{for(var l in this.$Dispatcher_DEPRECATED1){if(this.$Dispatcher_DEPRECATED4[l])continue;this.$Dispatcher_DEPRECATED7(l);}}finally{this.$Dispatcher_DEPRECATED9();}};j.prototype.isDispatching=function(){return this.$Dispatcher_DEPRECATED2;};j.prototype.$Dispatcher_DEPRECATED7=function(k){this.$Dispatcher_DEPRECATED4[k]=true;this.__invokeCallback(k,this.$Dispatcher_DEPRECATED1[k],this.$Dispatcher_DEPRECATED6);this.$Dispatcher_DEPRECATED3[k]=true;};j.prototype.__invokeCallback=function(k,l,m){l(m);};j.prototype.$Dispatcher_DEPRECATED8=function(k){for(var l in this.$Dispatcher_DEPRECATED1){this.$Dispatcher_DEPRECATED4[l]=false;this.$Dispatcher_DEPRECATED3[l]=false;}this.$Dispatcher_DEPRECATED6=k;this.$Dispatcher_DEPRECATED2=true;};j.prototype.$Dispatcher_DEPRECATED9=function(){delete this.$Dispatcher_DEPRECATED6;this.$Dispatcher_DEPRECATED2=false;};j.prototype.__genID=function(k){k=k||i+this.$Dispatcher_DEPRECATED5++;while(this.$Dispatcher_DEPRECATED1[k])k=i+this.$Dispatcher_DEPRECATED5++;return k;};f.exports=j;}),null);
__d('MessengerDispatcher',['Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('Dispatcher_DEPRECATED'))();}),null);
__d('MercuryFilters',['MessagingTag','arrayContains'],(function a(b,c,d,e,f,g){var h=[c('MessagingTag').UNREAD],i={ALL:'all',NONPRIORITY:'non-priority',UNREAD:c('MessagingTag').UNREAD,getSupportedFilters:function j(){return h.concat();},isSupportedFilter:function j(k){return c('arrayContains')(h,k);}};f.exports=i;}),null);
__d('ImageSourceType',[],(function a(b,c,d,e,f,g){var h={PROFILE_PICTURE:'profile_picture',IMAGE:'image'};f.exports=h;}),null);
__d('MercuryLoggingHelper',[],(function a(b,c,d,e,f,g){function h(j){return Array.from(j).slice(0,6).join('');}var i={obfuscateThread:function j(k){var l=babelHelpers['extends']({},k);if(k&&k.snippet&&k.snippet.length>9)l.snippet=h(k.snippet)+'...';return l;},obfuscateMessage:function j(k){var l=babelHelpers['extends']({},k);if(k&&k.body&&k.body.length>9)l.body=h(k.body)+'...';return l;}};f.exports=i;}),null);
__d("areJSONRepresentationsEqual",[],(function a(b,c,d,e,f,g){function h(i,j){return JSON.stringify(i)==JSON.stringify(j);}f.exports=h;}),null);
__d('MercuryServerDispatcher',['AsyncRequest','BanzaiLogger','ChatPerfEvent','CurrentUser','LogHistory','MercuryLoggingHelper','areJSONRepresentationsEqual','debounceAcrossTransitions','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){'use strict';var h={},i=c('LogHistory').getInstance('mercury_server_dispatcher'),j=false,k={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',DEFAULT_ENDPOINT_ID:'mercuryServerDispatcherDefaultEndpointID',registerEndpoints:function n(o){for(var p in o){var q=o[p],r=q.request_user_id||c('CurrentUser').getID(),s=q.endpoint_id||k.DEFAULT_ENDPOINT_ID;if(!h[p])h[p]={};if(!h[p][r])h[p][r]={};h[p][r][s]=new l(p,q);}},trySend:function n(o,p,q,r,s){r=r||c('CurrentUser').getID();s=s||k.DEFAULT_ENDPOINT_ID;h[o][r][s].trySend(p,q);}};function l(n,o){var p=o.mode||k.IMMEDIATE;switch(p){case k.IMMEDIATE:case k.IDEMPOTENT:case k.BATCH_SUCCESSIVE:case k.BATCH_SUCCESSIVE_UNIQUE:case k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case k.BATCH_DEFERRED_MULTI:case k.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+p);}this._endpoint=n;this._mode=p;this._customHeader=o.customHeader;this._requestUserID=o.request_user_id;this._combineData=o.batch_function;this._combineDataIf=o.batch_if;this._batchSizeLimit=o.batch_size_limit;this._batches=[];this._handler=o.handler;this._errorHandler=o.error_handler;this._transportErrorHandler=o.transport_error_handler||o.error_handler;this._connectionRetries=o.connection_retries||0;this._timeoutHandler=o.timeout_handler;this._timeout=o.timeout;this._serverDialogCancelHandler=o.server_dialog_cancel_handler||o.error_handler;this._deferredSend=c('debounceAcrossTransitions')(this._batchSend,0,this);}Object.assign(l.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function n(o,p){if(j)return;if(o===undefined)o=null;var q=p||this._mode;if(q==k.IMMEDIATE){this._send(o);}else if(q==k.IDEMPOTENT){if(!this._inFlight)this._send(o);}else if(q==k.BATCH_SUCCESSIVE||q==k.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(o);}else this._batchData(o);}else if(q==k.BATCH_CONDITIONAL){var r=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,o)||this._combineDataIf(r,o))){this._batchData(o);}else this._send(o);}else if(q==k.BATCH_DEFERRED_MULTI){this._batchData(o);this._deferredSend();}else if(q==k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(o);if(!this._inFlight)this._batchSend();}},_send:function n(o){this._inFlight++;this._pendingRequestData=babelHelpers['extends']({},o);if(this._requestUserID!=c('CurrentUser').getID())o.request_user_id=this._requestUserID;i.log('send',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var p=c('performanceAbsoluteNow')(),q=new (c('AsyncRequest'))(this._endpoint).setData(o).setOption('retries',this._connectionRetries).setHandler(function(r){c('BanzaiLogger').log('ChatPerfLoggerConfig',{event:c('ChatPerfEvent').ASYNC_REQUEST,duration:c('performanceAbsoluteNow')()-p,endpoint:this._endpoint});this._handleResponse(r);}.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this)).setAllowCrossPageTransition(true);if(this._customHeader)q.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._timeout&&this._timeoutHandler)q.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));q.send();},_batchData:function n(o,p){if(this._mode==k.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==undefined&&c('areJSONRepresentationsEqual')(o,this._pendingRequestData)){return;}else{var q=this._batches.length-1;if(q>=0&&!this._hasReachedBatchLimit(this._batches[q])){p?this._batches[q].combineWithOlder(o,this._combineData):this._batches[q].combineWith(o,this._combineData);}else this._batches.push(new m(o));i.debug('batch',JSON.stringify({endpoint:this._endpoint,batch_limit:this._batchSizeLimit}));}},_hasReachedBatchLimit:function n(o){return this._batchSizeLimit&&o.getSize()>=this._batchSizeLimit;},_batchSend:function n(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function n(o){this._inFlight--;i.log('response',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var p=o.getPayload();j=p&&p.kill_chat;if(j)i.log('killswitch_enabled',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));if(p&&p.error_payload){if(this._errorHandler)this._errorHandler(o);}else this._handler&&this._handler(p,o.getRequest());if(this._mode==k.BATCH_SUCCESSIVE||this._mode==k.BATCH_SUCCESSIVE_UNIQUE||this._mode==k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==k.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function n(){this._inFlight--;i.error('error',JSON.stringify({endpoint:this._endpoint,inflight_count:this._inFlight}));var o=this._mode;if(o==k.BATCH_SUCCESSIVE||o==k.BATCH_SUCCESSIVE_UNIQUE||o==k.BATCH_CONDITIONAL){this._batchSend();}else if(o==k.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_handleError:function n(o){this._errorHandler&&this._errorHandler(o);this._postErrorHandler();},_handleTransportError:function n(o){this._transportErrorHandler&&this._transportErrorHandler(o);this._postErrorHandler();},_handleTimeout:function n(o){this._timeoutHandler&&this._timeoutHandler(o);this._postErrorHandler();},_handleServerDialogCancel:function n(o){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(o);this._postErrorHandler();}});function m(n){this._data=n;this._size=1;}Object.assign(m.prototype,{getData:function n(){return this._data;},getSize:function n(){return this._size;},combineWith:function n(o,p){this._data=p(this._data,o);this._size++;},combineWithOlder:function n(o,p){this._data=p(o,this._data);this._size++;}});f.exports=k;}),null);
__d('ImageSourceRequest',['CurrentUser','ImageSourceType','KeyedCallbackManager','PhotoResizeModeConst','MercuryServerDispatcher','arrayContains'],(function a(b,c,d,e,f,g){function h(){'use strict';this._request={fbid:null,type:null,width:null,height:null,resize_mode:null};this._callback=null;}h.prototype.setFBID=function(l){'use strict';this._request.fbid=l;return this;};h.prototype.setType=function(l){'use strict';if(!c('arrayContains')([c('ImageSourceType').PROFILE_PICTURE,c('ImageSourceType').IMAGE],l))throw new TypeError('ImageSourceRequest.setType: invalid type '+l);this._request.type=l;return this;};h.prototype.setDimensions=function(l,m){'use strict';this._request.width=l;this._request.height=m;return this;};h.prototype.setResizeMode=function(l){'use strict';if(!c('arrayContains')([c('PhotoResizeModeConst').COVER,c('PhotoResizeModeConst').CONTAIN],l))throw new TypeError('ImageSourceRequest.setResizeMode: invalid resize mode '+l);this._request.resize_mode=l;return this;};h.prototype.setCallback=function(l){'use strict';this._callback=l;return this;};h.prototype.send=function(){'use strict';if(!this._request.fbid||!this._request.width||!this._request.height||!this._request.type||!this._request.resize_mode||!this._callback)throw new Error('ImageSourceRequest: You must set all the fields');var l=j(),m=k(this._request);l.executeOrEnqueue(m,this._callback);if(l.getUnavailableResourcesFromRequest(m).length===1){c('MercuryServerDispatcher').trySend('/ajax/image_source.php',{requests:[this._request]});return true;}return false;};var i=null;function j(){if(i)return i;var l=new (c('KeyedCallbackManager'))();i=l;c('MercuryServerDispatcher').registerEndpoints({'/ajax/image_source.php':{request_user_id:c('CurrentUser').getID(),mode:c('MercuryServerDispatcher').BATCH_DEFERRED_MULTI,batch_function:function m(n,o){var p;(p=n.requests).push.apply(p,o.requests);return n;},handler:function m(n,o){var p=o.getData().requests;for(var q=0;q<p.length;++q)l.setResource(k(p[q]),n[q]);}}});return l;}function k(l){return [l.fbid,l.type,l.width,l.height,l.resize_mode].join('|');}f.exports=h;}),null);
__d('ImmutableValue',['invariant','isNode','keyOf'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('keyOf')({_DONT_EVER_TYPE_THIS_SECRET_KEY:null});function j(k){k===j[i]||h(0);}j.mergeAllPropertiesInto=function(k,l){var m=l.length;for(var n=0;n<m;n++)Object.assign(k,l[n]);};j.deepFreezeRootNode=function(k){if(c('isNode')(k))return;Object.freeze(k);for(var l in k)if(k.hasOwnProperty(l))j.recurseDeepFreeze(k[l]);Object.seal(k);};j.recurseDeepFreeze=function(k){if(c('isNode')(k)||!j.shouldRecurseFreeze(k))return;Object.freeze(k);for(var l in k)if(k.hasOwnProperty(l))j.recurseDeepFreeze(k[l]);Object.seal(k);};j.shouldRecurseFreeze=function(k){return (typeof k==='object'&&!(k instanceof j)&&k!==null);};j._DONT_EVER_TYPE_THIS_SECRET_KEY=Math.random();f.exports=j;}),null);
__d('mergeHelpers',['invariant','keyMirror','FbtResult'],(function a(b,c,d,e,f,g,h){'use strict';var i=36,j=function l(m){return typeof m!=='object'||m instanceof Date||m===null||m instanceof c('FbtResult');},k={MAX_MERGE_DEPTH:i,isTerminal:j,normalizeMergeArg:function l(m){return m===undefined||m===null?{}:m;},checkMergeArrayArgs:function l(m,n){Array.isArray(m)&&Array.isArray(n)||h(0);},checkMergeObjectArgs:function l(m,n){k.checkMergeObjectArg(m);k.checkMergeObjectArg(n);},checkMergeObjectArg:function l(m){!j(m)&&!Array.isArray(m)||h(0);},checkMergeIntoObjectArg:function l(m){(!j(m)||typeof m==='function')&&!Array.isArray(m)||h(0);},checkMergeLevel:function l(m){m<i||h(0);},checkArrayStrategy:function l(m){m===undefined||m in k.ArrayStrategies||h(0);},ArrayStrategies:c('keyMirror')({Clobber:true,IndexByIndex:true})};f.exports=k;}),null);
__d('ImmutableObject',['invariant','ImmutableValue','keyOf','mergeHelpers'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('mergeHelpers').checkMergeObjectArgs,l=c('mergeHelpers').isTerminal,m=c('keyOf')({_DONT_EVER_TYPE_THIS_SECRET_KEY:null});function n(q){q instanceof c('ImmutableValue')||h(0);}i=babelHelpers.inherits(o,c('ImmutableValue'));j=i&&i.prototype;function o(){j.constructor.call(this,c('ImmutableValue')[m]);c('ImmutableValue').mergeAllPropertiesInto(this,arguments);}o.create=function(){var q=Object.create(o.prototype);o.apply(q,arguments);return q;};o.set=function(q,r){n(q);typeof r==='object'&&r!==undefined&&!Array.isArray(r)||h(0);return new o(q,r);};o.setProperty=function(q,r,s){var t={};t[r]=s;return o.set(q,t);};o.deleteProperty=function(q,r){var s={};for(var t in q)if(t!==r&&q.hasOwnProperty(t))s[t]=q[t];return new o(s);};o.setDeep=function(q,r){n(q);return p(q,r);};o.values=function(q){return Object.keys(q).map(function(r){return q[r];});};function p(q,r){k(q,r);var s={},t=Object.keys(q);for(var u=0;u<t.length;u++){var v=t[u];if(!r.hasOwnProperty(v)){s[v]=q[v];}else if(l(q[v])||l(r[v])){s[v]=r[v];}else s[v]=p(q[v],r[v]);}var w=Object.keys(r);for(u=0;u<w.length;u++){var x=w[u];if(q.hasOwnProperty(x))continue;s[x]=r[x];}return (q instanceof c('ImmutableValue')?new o(s):r instanceof c('ImmutableValue')?new o(s):s);}f.exports=o;}),null);
__d('MercuryAssert',['MercuryIDs'],(function a(b,c,d,e,f,g){f.exports={isParticipantID:function h(i){if(!c('MercuryIDs').isValid(i))throw new Error('bad_participant_id '+i);},allParticipantIDs:function h(i){i.forEach(this.isParticipantID);},isUserParticipantID:function h(i){var j=c('MercuryIDs').tokenize(i);if(j.type!='fbid')throw new Error('bad_user_id '+i);},isEmailParticipantID:function h(i){var j=c('MercuryIDs').tokenize(i);if(j.type!='email')throw new Error('bad_email_id '+i);},allThreadID:function h(i){i.forEach(this.isThreadID);},isThreadID:function h(i){if(!c('MercuryIDs').isValid(i))throw new Error('bad_thread_id '+i);}};}),null);
__d('MercurySingletonProvider',['CurrentUser'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$MercurySingletonProvider1={};this.$MercurySingletonProvider2=i;}h.prototype.getForFBID=function(i){if(!this.$MercurySingletonProvider1[i])this.$MercurySingletonProvider1[i]=new this.$MercurySingletonProvider2(i);return this.$MercurySingletonProvider1[i];};h.prototype.get=function(){return this.getForFBID(c('CurrentUser').getID());};h.mock=function(i){throw new Error('MercurySingletonProvider.mock() must only be used in tests.');};f.exports=h;}),null);
__d('MercuryThreadInformer',['ArbiterMixin','LogHistory','MercuryAssert','MercurySingletonProvider','mapObject','mixin'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LogHistory').getInstance('mercury_informer');h=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;k.get=function(){return l.get();};k.getForFBID=function(m){return l.getForFBID(m);};function k(m){i.constructor.call(this);this.$MercuryThreadInformer1=m;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5={};this.$MercuryThreadInformer6=false;this.$MercuryThreadInformer7=false;this.$MercuryThreadInformer8=false;this.$MercuryThreadInformer9={};this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11={};this.$MercuryThreadInformer12=0;}k.prototype.updatedThread=function(m){this.$MercuryThreadInformer3[m]=true;this.$MercuryThreadInformer13();};k.prototype.invalidatedThread=function(m){this.$MercuryThreadInformer4[m]=true;this.$MercuryThreadInformer13();};k.prototype.deletedThread=function(m){this.$MercuryThreadInformer2[m]=true;this.$MercuryThreadInformer13();};k.prototype.updatedThreadlist=function(){this.$MercuryThreadInformer6=true;this.$MercuryThreadInformer13();};k.prototype.updatedUnseenState=function(){this.$MercuryThreadInformer7=true;this.$MercuryThreadInformer13();};k.prototype.updatedUnreadState=function(){this.$MercuryThreadInformer8=true;this.$MercuryThreadInformer13();};k.prototype.changedThreadReadState=function(m,n,o){if(!this.$MercuryThreadInformer5[m]||this.$MercuryThreadInformer5[m].timestamp<o)this.$MercuryThreadInformer5[m]={mark_as_read:n,timestamp:o};this.$MercuryThreadInformer13();};k.prototype.receivedMessage=function(m){c('MercuryAssert').isThreadID(m.thread_id);var n=m.thread_id;if(!this.$MercuryThreadInformer9[n])this.$MercuryThreadInformer9[n]=[];this.$MercuryThreadInformer9[n].push(m);this.updatedThread(n);};k.prototype.reorderedMessages=function(m,n){this.$MercuryThreadInformer10[m]={source:n};this.$MercuryThreadInformer13();};k.prototype.updatedMessage=function(m,n,o){if(!this.$MercuryThreadInformer11[m])this.$MercuryThreadInformer11[m]={};this.$MercuryThreadInformer11[m][n]={source:o};this.updatedThread(m);};k.prototype.synchronizeInforms=function(m){this.$MercuryThreadInformer12++;try{m();}catch(n){throw n;}finally{this.$MercuryThreadInformer12--;this.$MercuryThreadInformer13();}};k.prototype.listen=function(m,n){return this.subscribe('threads-updated',function(o,p){if(p[m])n(m);});};k.prototype.$MercuryThreadInformer13=function(){if(!this.$MercuryThreadInformer12){var m=this.$MercuryThreadInformer2,n=this.$MercuryThreadInformer3,o=this.$MercuryThreadInformer4,p=this.$MercuryThreadInformer5,q=this.$MercuryThreadInformer6,r=this.$MercuryThreadInformer7,s=this.$MercuryThreadInformer8,t=this.$MercuryThreadInformer9,u=this.$MercuryThreadInformer10,v=this.$MercuryThreadInformer11;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5={};this.$MercuryThreadInformer6=false;this.$MercuryThreadInformer7=false;this.$MercuryThreadInformer8=false;this.$MercuryThreadInformer9={};this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11={};var w=Object.keys(n);if(w.length||q)this.inform('threadlist-updated',w);if(w.length)this.$MercuryThreadInformer14('threads-updated',n);for(var x in o){this.$MercuryThreadInformer14('thread-invalidated',o);break;}for(var x in p){this.$MercuryThreadInformer14('thread-read-changed',p);break;}for(x in m){this.$MercuryThreadInformer14('threads-deleted',m);break;}if(r)this.$MercuryThreadInformer14('unseen-updated',null);if(s)this.$MercuryThreadInformer14('unread-updated',null);for(x in t){this.$MercuryThreadInformer14('messages-received',t);break;}for(x in u){this.$MercuryThreadInformer14('messages-reordered',u);break;}for(x in v){this.$MercuryThreadInformer14('messages-updated',v);break;}}};k.prototype.$MercuryThreadInformer14=function(m,n){j.debug(m,'{}');this.inform(m,n);};var l=new (c('MercurySingletonProvider'))(k);f.exports=k;}),null);
__d('MercuryDispatcher',['invariant','ArbiterMixin','LogHistory','MercuryActionType','MercuryLoggingHelper','MercuryPayloadSource','MercurySingletonProvider','MercuryThreadInformer','isEmpty','mixin'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('LogHistory').getInstance('mercury_dispatcher');i=babelHelpers.inherits(l,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;l.getForFBID=function(n){return m.getForFBID(n);};l.get=function(){return m.get();};function l(n){j.constructor.call(this);this.$MercuryDispatcher1=n;}l.prototype.handleUpdate=function(n){this.$MercuryDispatcher2(n);!!n.from_client!==!!n.preprocessed||h(0);delete n.preprocessed;if(!c('isEmpty')(n))c('MercuryThreadInformer').getForFBID(this.$MercuryDispatcher1).synchronizeInforms(function(){if(n.payload_source===c('MercuryPayloadSource').SERVER_INVALIDATE_GLOBAL_STATE)this.inform('invalidate-global-state',{});if(n.payload_source===c('MercuryPayloadSource').SERVER_INVALIDATE_THREAD_STATE){var o=n.threads&&n.threads.length>0&&n.threads[0]&&n.threads[0].thread_id;if(o)this.inform('invalidate-thread-state',o);}this.inform('update-thread-ids',n.newlyAddedClientIDs||{});this.inform('update-participants',n);this.inform('update-threads',n);this.inform('update-unread',n);this.inform('update-threadlist',n);this.inform('update-messages',n);this.inform('update-unseen',n);this.inform('update-typing-state',n);this.inform('update-delivery',n);this.inform('update-roger',n.roger);this.inform('update-blocked-users',n);this.inform('model-update-completed',null);}.bind(this));};l.prototype.$MercuryDispatcher2=function(n){var o=n.payload_source;if(o===c('MercuryPayloadSource').CLIENT_CHANGE_READ_STATUS||o===c('MercuryPayloadSource').CLIENT_MARK_THREAD_SEEN)return;var p={from_client:n.from_client,messages:null};if(n.actions){var q=n.actions.filter(function(r){return (r.action_type===c('MercuryActionType').USER_GENERATED_MESSAGE||r.action_type===c('MercuryActionType').LOG_MESSAGE);}).map(function(r){return {action_type:r.action_type,other_user_fbid:r.other_user_fbid,thread_fbid:r.thread_fbid,message_id:r.message_id};});if(q.length)p.messages=q;}k.debug('update:'+o,JSON.stringify(p));};var m=new (c('MercurySingletonProvider'))(l);f.exports=l;}),null);
__d('EmojiLikeConstants',['EmojiStaticConfig'],(function a(b,c,d,e,f,g){'use strict';var h=c('EmojiStaticConfig').sizeMap,i={XSMALL:'xsmall',SMALL:'small',MEDIUM:'medium',LARGE:'large'},j={dp16:'xsmall',dp32:'small',dp64:'medium',db64:'medium',dp128:'large'},k={PICKER:'picker',HOT_LIKE:'hot_like'},l=[983040],m='hot_emoji_source',n='hot_emoji_size',o='emoji_like',p='\uD83D\uDC4D',q=[128077];f.exports={FB_THUMBS_UP_EMOJI:l,size:i,sizeMap:h,sizeMapTransfer:j,source:k,SOURCE_TAG_PREFIX:m,TAG_PREFIX_NEW:n,TAG_PREFIX_OLD:o,THUMBS_UP_EMOJI:p,THUMBS_UP_EMOJI_CODES:q};}),null);
__d('EmojiFormat',[],(function a(b,c,d,e,f,g){'use strict';function h(k){return k.split('_').map(function(l){return parseInt(l,16);});}function i(k){return k.map(function(l){return l.toString(16);}).join('_');}function j(k){var l='';for(var m=0;m<k.length;m++)l+=String.fromCodePoint(k[m]);return l;}f.exports={codeArrayToCodeString:i,codeArrayToUnicode:j,codeStringToCodeArray:h};}),null);
__d('EmojiImageURL',['invariant','EmojiStaticConfig','EmojiConfig'],(function a(b,c,d,e,f,g,h){function i(k,l){k=b.unescape(encodeURIComponent(k));for(var m=0;m<k.length;m++){l=(l<<5)-l+k.charCodeAt(m);l&=4294967295;}return (l&255).toString(16);}function j(k,l,m){l in c('EmojiStaticConfig').supportedSizes||h(0);var n=c('EmojiConfig').pixelRatio+'/'+l+'/'+k+c('EmojiStaticConfig').fileExt,o=i(n,c('EmojiStaticConfig').checksumBase);return c('EmojiConfig').schemaAuth+'/'+m+o+'/'+n;}f.exports={getUnicodeURL:function k(l){var m=arguments.length<=1||arguments[1]===undefined?16:arguments[1];return j(l,m,c('EmojiStaticConfig').types.UNICODE);},getMessengerURL:function k(l,m){return j(l,m,c('EmojiStaticConfig').types.MESSENGER);},getFBEmojiURL:function k(l){var m=arguments.length<=1||arguments[1]===undefined?16:arguments[1];return j(l,m,c('EmojiStaticConfig').types.FBEMOJI);},getFBEmojiExtendedURL:function k(l){var m=arguments.length<=1||arguments[1]===undefined?16:arguments[1];return j(l,m,c('EmojiStaticConfig').types.FB_EMOJI_EXTENDED);}};}),null);
__d('EmoticonEmojiList',[],(function a(b,c,d,e,f,g){f.exports={names:{':)':'slightsmile',':-)':'slightsmile',':]':'slightsmile','=)':'smile','(:':'slightsmile','(=':'smile',':(':'frown',':-(':'frown',':[':'frown','=(':'frown',')=':'frown',';-P':'winktongue',';P':'winktongue',';-p':'winktongue',';p':'winktongue',':poop:':'poop',':P':'tongue',':-P':'tongue',':-p':'tongue',':p':'tongue','=P':'tongue','=p':'tongue','=D':'grin',':-D':'slightgrin',':D':'slightgrin',':o':'gasp',':-O':'gasp',':O':'gasp',':-o':'gasp',';)':'wink',';-)':'wink','8-)':'glasses','8)':'glasses','B-)':'glasses','B)':'glasses','>:(':'grumpy','>:-(':'grumpy',':/':'unsure',':-/':'unsure',':\\':'unsure',':-\\':'unsure','=/':'unsure','=\\':'unsure',':\'(':'cry',':\'-(':'cry','3:)':'devil','3:-)':'devil','O:)':'angel','O:-)':'angel','0:)':'angel','0:-)':'angel',':*':'kiss',':-*':'kiss',';-*':'winkkiss',';*':'winkkiss','<3':'heart','&lt;3':'heart','\u2665':'heart','^_^':'kiki','^~^':'kiki','-_-':'expressionless',':-|':'squint',':|':'squint','>:o':'upset','>:O':'upset','>:-O':'upset','>:-o':'upset','>_<':'persevere','>.<':'persevere','<(")':'penguin',O_O:'flushface',o_o:'flushface','0_0':'flushface',T_T:'crying','T-T':'crying',ToT:'crying','-3-':'flushkiss','\'-_-':'sweating','(y)':'like',':like:':'like','(Y)':'like','(n)':'dislike','(N)':'dislike'},emote2emojis:{slightsmile:'1f642',smile:'1f60a',frown:'1f61e',winktongue:'1f61c',poop:'1f4a9',tongue:'1f61b',slightgrin:'1f600',grin:'1f603',gasp:'1f62e',wink:'1f609',glasses:'1f60e',grumpy:'1f620',unsure:'1f615',cry:'1f622',devil:'1f608',angel:'1f607',kiss:'1f617',winkkiss:'1f618',heart:'2764',kiki:'1f60a',expressionless:'1f611',squint:'1f610',upset:'1f620',persevere:'1f623',penguin:'1f427',flushface:'1f633',crying:'1f62d',flushkiss:'1f61a',sweating:'1f613',like:'f0000',dislike:'1f44e'},symbols:{slightsmile:':)',smile:'=)',frown:':(',winktongue:';-P',poop:':poop:',tongue:':P',slightgrin:':D',grin:'=D',gasp:':o',wink:';)',glasses:'8-)',grumpy:'>:(',unsure:':/',cry:':\'(',devil:'3:)',angel:'O:)',kiss:':*',winkkiss:';*',heart:'<3',kiki:'^_^',expressionless:'-_-',squint:':-|',upset:'>:o',persevere:'>_<',penguin:'<(")',flushface:'O_O',crying:'T_T',flushkiss:'-3-',sweating:'\'-_-',like:'(y)',dislike:'(n)'},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|\-3\-|\'\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|\-3\-|\'\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/};}),null);
__d("Utf16",[],(function a(b,c,d,e,f,g){var h={decode:function i(j){switch(j.length){case 1:return j.charCodeAt(0);case 2:return 65536|(j.charCodeAt(0)-55296)*1024|j.charCodeAt(1)-56320;}},encode:function i(j){if(j<65536){return String.fromCharCode(j);}else return String.fromCharCode(55296+(j-65536>>10))+String.fromCharCode(56320+j%1024);}};f.exports=h;}),null);
__d('SkinToneEmoji',['EmojiFormat','MessengerEmojiConfig'],(function a(b,c,d,e,f,g){'use strict';var h=65039,i={'261d':1,'26f9':1,'270a':1,'270b':1,'270c':1,'270d':1,'1f385':1,'1f3c3':1,'1f3c4':1,'1f3ca':1,'1f3cb':1,'1f442':1,'1f443':1,'1f446':1,'1f447':1,'1f448':1,'1f449':1,'1f44a':1,'1f44b':1,'1f44c':1,'1f44d':1,'1f44e':1,'1f44f':1,'1f450':1,'1f466':1,'1f467':1,'1f468':1,'1f469':1,'1f46e':1,'1f470':1,'1f471':1,'1f472':1,'1f473':1,'1f474':1,'1f475':1,'1f476':1,'1f477':1,'1f478':1,'1f47c':1,'1f481':1,'1f482':1,'1f483':1,'1f485':1,'1f486':1,'1f487':1,'1f4aa':1,'1f575':1,'1f590':1,'1f595':1,'1f596':1,'1f645':1,'1f646':1,'1f647':1,'1f64b':1,'1f64c':1,'1f64d':1,'1f64e':1,'1f64f':1,'1f6a3':1,'1f6b4':1,'1f6b5':1,'1f6b6':1,'1f6c0':1,'1f918':1};function j(s){if(s[s.length-1]===h)return s[s.length-1];return 0;}function k(s){if(s[s.length-1]===h)return s;var t=s.slice(0);t.push(h);return t;}function l(s){if(j(s)===0)return s;return s.slice(0,s.length-1);}function m(s){return p(l(s));}function n(s){var t=c('EmojiFormat').codeArrayToCodeString(m(s));return !!i[t];}function o(s,t){if(t===0)return s;var u=j(s),v=u===0?s.slice(0):s.slice(0,s.length-1);if(q(v)!==0)return s;v.push(t);if(u!==0)v.push(u);return v;}function p(s){var t=j(s),u=t===0?q(s):q(s.slice(0,s.length-1));if(u===0)return s;return t===0?s.slice(0,s.length-1):k(s.slice(0,s.length-2));}function q(s){var t=l(s);if(t.length<=1||!r(t[t.length-1]))return 0;return t[t.length-1];}function r(s){return c('MessengerEmojiConfig').emoji_colors.filter(function(t){return t===s;}).length!==0;}f.exports={addEmojiModifier:k,applyTone:o,getEmojiModifier:j,getTone:q,removeEmojiModifier:l,removeTone:p,emoji:i,hasVariations:n};}),null);
__d('EmojiLikeCxData',['cx','EmojiFormat','EmojiImageURL','EmojiLikeConstants','Image.react','MercuryConfig','MessengerSupportedEmoji','React','SkinToneEmoji','Utf16','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('EmojiLikeConstants').size,j=c('EmojiLikeConstants').sizeMap,k=c('EmojiLikeConstants').sizeMapTransfer,l=new RegExp('([\u00A9\u00AE\u203C\u2049\u2100-\u21FF'+'\u2300-\u27FF\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|'+'\uDB80[\uDC00-\uDC01]|'+'\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])([\uFE00-\uFE0F])?'),m=new RegExp('([\u0023\u0030-\u0039][\uFE00-\uFE0F]?'+'\u20E3|[\u261D\u270A-\u270C]\uD83C[\uDFFB-\uDFFF]|[\uD83C\uD83D]'+'[\uDC00-\uDFFF]\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDDE6-\uDDFF]\uD83C'+'[\uDDE6-\uDDFF])([\uFE00-\uFE0F])?'),n=new RegExp('(\u20E3|\uD83C[\uDFFB-\uDFFF])'+'([\uFE00-\uFE0F])?'),o=new RegExp('(\uD83C[\uDDE6-\uDDFF])'+'([\uFE00-\uFE0F])?'),p=new RegExp('([\uFE00-\uFE0F])'),q=new RegExp('([\uFE0F])'),r=new RegExp('(\uD83D[\uDC68\uDC69]\u200D)'+'(\uD83D[\uDC68\uDC69]\u200D\uD83D[\uDC66\uDC67]\u200D|'+'\uD83D[\uDC68\uDC69]\u200D|'+'\u2764\uFE0F\u200D\uD83D\uDC8B\u200D|'+'\u2764\uFE0F\u200D)'+'(\uD83D[\uDC66-\uDC69])'),s=new RegExp('([\u200D])'),t='fe0f';function u(){var z;return z={},z[i.XSMALL]="_2560",z[i.SMALL]="_1ifu",z[i.MEDIUM]="_19_r",z[i.LARGE]="_19_s",z;}function v(z,aa){if(!c('MercuryConfig').MessengerNewEmojiGK)return false;var ba=u(),ca={},da='',ea=null,fa=null,ga=null,ha=r.exec(z);if(ha&&ha.index>0||!ha){fa=l.exec(z);ga=m.exec(z);}if(fa&&fa.length&&ga&&ga.length)if(fa.index<ga.index){ga=null;}else fa=null;if(fa&&ha){ha=fa.index<ha.index?null:ha;}else if(ga&&ha)ha=ga.index<ha.index?null:ha;if(ha&&ha.length){var ia=ha[0],ja=ia.split(s).map(function(ra){if(q.test(ra)){ra=ra.replace(q,'');return c('Utf16').decode(ra).toString(16)+'_'+t;}return c('Utf16').decode(ra).toString(16);});da=ja.join('_');ea=c('MessengerSupportedEmoji').emoji[da];}if(fa&&fa.length){var ka=fa[1];da=c('Utf16').decode(ka).toString(16);ea=c('MessengerSupportedEmoji').emoji[da];}else if(ga&&ga.length){var la=ga[1],ma=o.exec(la),na='',oa='';if(ma&&ma.length){na=ma[1];oa=la.replace(o,'');}else{var pa=n.exec(la);oa=pa[1];na=la.replace(n,'');if(p.test(na))na=na.replace(p,'');}da=c('Utf16').decode(na).toString(16)+'_'+c('Utf16').decode(oa).toString(16);ea=c('MessengerSupportedEmoji').emoji[da];}if(!ea)return false;aa=y(aa);var qa=c('joinClasses')(ba[aa],"_1ift");ca.id=da;ca.url=c('EmojiImageURL').getMessengerURL(da,j[aa]);ca.emoji=c('React').createElement(c('Image.react'),{className:qa,src:ca.url});return ca;}function w(z,aa){if(z.endsWith(t))z=z.replace('_'+t,'');if(!c('MessengerSupportedEmoji').emoji[z])return null;var ba=c('EmojiFormat').codeStringToCodeArray(z),ca=c('EmojiFormat').codeArrayToCodeString(c('SkinToneEmoji').removeEmojiModifier(ba));aa=y(aa);return c('EmojiImageURL').getMessengerURL(ca,j[aa]);}function x(z,aa){aa=y(aa);var ba=u(),ca=c('joinClasses')(ba[aa],"_1ift"),da=c('React').createElement(c('Image.react'),{className:ca,src:w(z,aa)});return da;}function y(z){return k[z]||z;}f.exports={emoji:c('MessengerSupportedEmoji').emoji,getClassSizeMap:u,getNewEmojiData:v,getUrl:w,renderFromSize:x,transferSize:y};}),null);
__d("EmoticonsList",[],(function a(b,c,d,e,f,g){f.exports={emotes:{"O:)":"angel","O:-)":"angel",":3":"colonthree","o.O":"confused","O.o":"confused_rev",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp","8-)":"glasses","B-)":"glasses","=D":"grin",":-D":"grin",":D":"grin",">:(":"grumpy",">:-(":"grumpy","<3":"heart","&lt;3":"heart","^_^":"kiki","^~^":"kiki",":*":"kiss",":-*":"kiss","(y)":"like",":like:":"like","(Y)":"like",":v":"pacman",":V":"pacman","<(\")":"penguin",":poop:":"poop",":putnam:":"putnam",":|]":"robot","(^^^)":"shark",":)":"smile",":-)":"smile",":]":"smile","=)":"smile","(:":"smile","(=":"smile","-_-":"squint","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"upset",">.<":"upset",";)":"wink",";-)":"wink"},symbols:{angel:"O:)",colonthree:":3",confused:"o.O",confused_rev:"O.o",cry:":'(",devil:"3:)",frown:":(",gasp:":o",glasses:"8-)",grin:"=D",grumpy:">:(",heart:"<3",kiki:"^_^",kiss:":*",like:"(y)",pacman:":v",penguin:"<(\")",poop:":poop:",putnam:":putnam:",robot:":|]",shark:"(^^^)",smile:":)",squint:"-_-",sunglasses:"B|",tongue:":P",unsure:":/",upset:">:o",wink:";)"},emoji:{angel:"1f607",colonthree:"FACE_WITH_COLON_THREE",confused:"1f633",confused_rev:"1f633",cry:"1f622",devil:"1f608",frown:"1f641",gasp:"1f62e",glasses:"1f913",grin:"1f603",grumpy:"1f620",heart:"2764",kiki:"1f60a",kiss:"1f618",pacman:"PACMAN_2",penguin:"1f427",poop:"1f4a9",robot:"1f916",shark:"1f988",smile:"1f642",squint:"1f611",sunglasses:"1f60e",tongue:"1f61b",unsure:"1f615",upset:"1f621",wink:"1f609"},regexp:/(^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|:3|o\.O|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|8\-\)(?!\))|B\-\)(?!\))|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|:v|:V|<\(\"\)(?!\))|:poop:|:putnam:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|\-_\-|B\||8\-\||8\||B\-\||:P|:\-P|:\-p|:p|=P|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|;\)(?!\))|;\-\)(?!\)))([\s\'\".,!?\)]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|:3|o\.O|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|8\-\)(?!\))|B\-\)(?!\))|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|:v|:V|<\(\"\)(?!\))|:poop:|:putnam:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|\-_\-|B\||8\-\||8\||B\-\||:P|:\-P|:\-p|:p|=P|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|;\)(?!\))|;\-\)(?!\)))(?:[\s\'\".,!?\)]|<br>|$)/};}),null);
__d('MercuryTagHelper',[],(function a(b,c,d,e,f,g){'use strict';var h={get:function i(j,k){var l=j.find(function(m){return m.startsWith(k);});return l&&l.substr(l.indexOf(':')+1);}};f.exports=h;}),null);
__d('EmojiLikeUtils',['EmojiLikeConstants','EmojiLikeCxData','EmoticonsList','EmoticonEmojiList','MercuryConfig','MercuryTagHelper','SupportedEmoji','Utf16'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('EmojiLikeConstants').size,k='/images/emoji/unicode/emoji_',l='/images/emoticons/',m=(h={},h[j.SMALL]='_16-2x',h[j.MEDIUM]='_64',h[j.LARGE]='_64',h),n=(i={},i[j.MEDIUM]='-2x',i),o='.png',p='emoji',q='emoticon',r='text',s=new RegExp('([\u203C\u2049\u2100-\u21FF\u2300-\u27FF'+'\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|'+'\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])([\uFE00-\uFE0F])?'),t=new RegExp('([\u00A9\u00AE\u203C\u2049\u2100-\u21FF'+'\u2300-\u27FF\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|'+'\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])([\uFE00-\uFE0F])?'),u=new RegExp('([\u0023\u0030-\u0039][\uFE00-\uFE0F]?'+'\u20E3|[\u261D\u270A-\u270C]\uD83C[\uDFFB-\uDFFF]|[\uD83C\uD83D]'+'[\uDC00-\uDFFF]\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDDE6-\uDDFF]\uD83C'+'[\uDDE6-\uDDFF])([\uFE00-\uFE0F])?'),v=new RegExp('(\u20E3|\uD83C[\uDFFB-\uDFFF])'+'([\uFE00-\uFE0F])?'),w=new RegExp('(\uD83C[\uDDE6-\uDDFF])'+'([\uFE00-\uFE0F])?'),x=new RegExp('([\uFE00-\uFE0F])'),y=new RegExp('([\uFE0F])'),z=new RegExp('(\uD83D[\uDC68\uDC69]\u200D)'+'(\uD83D[\uDC68\uDC69]\u200D\uD83D[\uDC66\uDC67]\u200D|'+'\uD83D[\uDC68\uDC69]\u200D|'+'\u2764\uFE0F\u200D\uD83D\uDC8B\u200D|'+'\u2764\uFE0F\u200D)'+'(\uD83D[\uDC66-\uDC69])'),aa=new RegExp('([\u200D])'),ba=new RegExp('(\r\n|[ \r\n]|\s)'),ca='fe0f',da=function ma(na){if(!c('MercuryConfig').BubblelessEmojiRenderingGK)return false;var oa=na||'',ma=[],pa=null;while(oa.length>0&&oa.trim().length>0){var qa=ba.exec(oa),ra='';while(qa&&qa.length&&qa.index===0){ra+=qa[0];oa=oa.replace(ba,'');qa=ba.exec(oa);}if(ra.length>0)ma.push({type:r,text:ra});if(c('MercuryConfig').MessengerNewEmojiGK){if(c('EmoticonEmojiList').noncapturingRegexp.test(oa)){pa=c('EmoticonEmojiList').noncapturingRegexp.exec(oa);var sa=c('EmoticonEmojiList').names[pa[1]],ta=c('EmoticonEmojiList').emote2emojis[sa];ma.push({emoji:c('EmojiLikeCxData').renderFromSize(ta,j.SMALL),type:p,title:pa[1],id:ta});oa=oa.replace(pa[1],'');}else{var ua=null,va=null,wa=z.exec(oa);if(wa&&wa.index>0||!wa){ua=t.exec(oa);va=u.exec(oa);}if(ua&&ua.length&&va&&va.length)if(ua.index<va.index){va=null;}else ua=null;if(ua&&wa){wa=ua.index<wa.index?null:wa;}else if(va&&wa)wa=va.index<wa.index?null:wa;if(wa&&wa.length){var xa=wa[0],ya=xa.split(aa).map(function(lb){if(y.test(lb)){lb=lb.replace(y,'');return c('Utf16').decode(lb).toString(16)+'_'+ca;}return c('Utf16').decode(lb).toString(16);}),za=ya.join('_'),ab=c('EmojiLikeCxData').emoji[za];if(!ab)return false;ma.push({emoji:c('EmojiLikeCxData').renderFromSize(za,j.SMALL),id:za,type:p});oa=oa.replace(z,'');continue;}if(va&&va.length){pa=va[1];var bb=w.exec(pa),cb='',db='';if(bb&&bb.length){cb=bb[1];db=pa.replace(w,'');}else{var eb=v.exec(pa);db=eb[1];cb=pa.replace(v,'');if(x.test(cb))cb=cb.replace(x,'');}var fb=c('Utf16').decode(cb).toString(16)+'_'+c('Utf16').decode(db).toString(16),gb=c('EmojiLikeCxData').emoji[fb];if(!gb)return false;ma.push({emoji:c('EmojiLikeCxData').renderFromSize(fb,j.SMALL),id:fb,type:p});oa=oa.replace(u,'');}else if(ua&&ua.length){pa=ua[1];var hb=c('Utf16').decode(pa).toString(16),ib=c('EmojiLikeCxData').emoji[hb];if(!ib)return false;ma.push({emoji:c('EmojiLikeCxData').renderFromSize(hb,j.SMALL),id:hb,type:p});oa=oa.replace(t,'');}else return false;}}else if(c('EmoticonsList').noncapturingRegexp.test(oa)){pa=c('EmoticonsList').noncapturingRegexp.exec(oa);ma.push({emoji:undefined,type:q,title:pa[1],id:c('EmoticonsList').emotes[pa[1]]});oa=oa.replace(c('EmoticonsList').noncapturingRegexp,'');}else if(s.test(oa)){var jb=s.exec(oa);if(!jb||!jb.length)return false;pa=jb[1];var kb=c('Utf16').decode(pa).toString(16);if(!c('SupportedEmoji').emoji[kb])return false;ma.push({emoji:undefined,id:kb,type:p});oa=oa.replace(s,'');}else return false;}return ma;};function ea(ma,na){if(!ma.tags){ma.tags=[fa(na)];}else ma.tags.push(fa(na));return ma;}function fa(ma){var na=c('MercuryConfig').WWWMessengerNewEmojiSizeTagGK?c('EmojiLikeConstants').TAG_PREFIX_NEW:c('EmojiLikeConstants').TAG_PREFIX_OLD;return na+':'+ma;}function ga(ma,na){if(!ma.tags){ma.tags=[ha(na)];}else ma.tags.push(ha(na));return ma;}function ha(ma){return c('EmojiLikeConstants').SOURCE_TAG_PREFIX+':'+ma;}function ia(ma){return ja(ma)!=null;}function ja(ma){if(!ma.tags)return null;var na=c('MercuryTagHelper').get(ma.tags,c('EmojiLikeConstants').TAG_PREFIX_NEW);if(na)return na;return c('MercuryTagHelper').get(ma.tags,c('EmojiLikeConstants').TAG_PREFIX_OLD);}function ka(ma,na){var oa=c('Utf16').decode(ma).toString(16);if(!c('SupportedEmoji').emoji[oa])return null;return (k+oa+m[na]+o);}function la(ma){var na=j.LARGE,oa=j.MEDIUM,pa=[];if(ma)ma.forEach(function(qa){if(qa.type===p){pa.push({emoji:qa.emoji,text:qa.text,title:qa.title,type:qa.type,url:k+qa.id+m[na]+o});}else if(qa.type===q){pa.push({emoji:undefined,text:qa.text,title:qa.title,type:qa.type,url:l+qa.id+n[oa]+o});}else pa.push({emoji:undefined,text:qa.text,title:qa.title,type:qa.type,url:''});});return pa;}f.exports={getEmojiSize:ja,getURI:ka,getSourceURIs:la,isEmojiLike:ia,richContent:da,setEmojiSize:ea,setEmojiSource:ga,EMOJI_TYPE:p,EMOTE_TYPE:q,TEXT_TYPE:r};}),null);
__d('MercuryAttachment',['cx','EmojiLikeUtils','MercuryAttachmentContentType','MercuryAttachmentType','MercuryAudioType','StoryAttachmentStyle'],(function a(b,c,d,e,f,g,h){'use strict';var i=function l(m){return m===Object(m);},j="_1c_u",k={getAttachIconClass:function l(m){switch(m){case c('MercuryAttachmentContentType').PHOTO:return "_y2-";case c('MercuryAttachmentContentType').VIDEO:return "_y2_";case c('MercuryAttachmentContentType').MUSIC:return "_y30";case c('MercuryAttachmentContentType').VOICE:return "_y31";case c('MercuryAttachmentContentType').TEXT:return "_y32";case c('MercuryAttachmentContentType').MSWORD:return "_y33";case c('MercuryAttachmentContentType').MSXLS:return "_y34";case c('MercuryAttachmentContentType').MSPPT:return "_y35";}return "_y36";},getAttachIconClassByMime:function l(m){if(m.startsWith('image')){return "_y2-";}else if(m.startsWith('video')){return "_y2_";}else if(m.startsWith('audio')){return "_y30";}else if(m.startsWith('text/plain')){return "_y32";}else return "_y36";},getAttachTypeByMime:function l(m){if(m.startsWith('image')){return c('MercuryAttachmentContentType').PHOTO;}else if(m.startsWith('video')){return c('MercuryAttachmentContentType').VIDEO;}else if(m.startsWith('audio')){return c('MercuryAttachmentContentType').MUSIC;}else if(m.startsWith('text/plain')){return c('MercuryAttachmentContentType').TEXT;}else return c('MercuryAttachmentContentType').UNKNOWN;},convertRaw:function l(m){var n=[];for(var o=0;o<m.length;o++){var p=m[o];if(p.attach_type===c('MercuryAttachmentType').PHOTO){n.push(p);}else if(p.filename){var q=k.getAttachTypeByMime(p.filetype),r={};r.attach_type=c('MercuryAttachmentType').FILE;r.name=p.filename;r.icon_type=q;r.url='';n.push(r);}}return n;},get:function l(m){var n=[];if(m.attachments){n=m.attachments;}else if(m.raw_attachments)n=this.convertRaw(m.raw_attachments);var o=c('EmojiLikeUtils').getEmojiSize(m);if(o)n=n.concat([{attach_type:c('MercuryAttachmentType').EMOJI_LIKE,size:o}]);if(!(m.attachments&&m.attachments.length>0)){if(m.sticker_id)return n.concat([{attach_type:c('MercuryAttachmentType').STICKER}]);if(m.preview_attachments&&m.preview_attachments.length>0)return n.concat(m.preview_attachments);}return n;},resizeContain:function l(m,n){var o=m.width/m.height,p=n.width/n.height;if(p<o){return {width:Math.ceil(Math.min(m.height*p,n.width)),height:Math.ceil(Math.min(m.height,n.height))};}else return {width:Math.ceil(Math.min(m.width,n.width)),height:Math.ceil(Math.min(m.width/p,n.height))};},isBubblePreferred:function l(m){return this.isFileAttachment(m);},isPhotoAttachment:function l(m){return !!(m.attach_type==c('MercuryAttachmentType').PHOTO||m.attach_type==c('MercuryAttachmentType').ANIMATED_IMAGE||m.attach_type==c('MercuryAttachmentType').THIRDPARTYSTICKER||m.attach_type==c('MercuryAttachmentType').FILE&&m.preview_url);},isVideoAttachment:function l(m){return m.attach_type==c('MercuryAttachmentType').VIDEO;},isShareAttachment:function l(m){return m.attach_type==c('MercuryAttachmentType').SHARE;},isFileAttachment:function l(m){return m.attach_type==c('MercuryAttachmentType').FILE;},isErrorAttachment:function l(m){return m.attach_type==c('MercuryAttachmentType').ERROR;},isStickerAttachment:function l(m){return m.attach_type==c('MercuryAttachmentType').STICKER;},isEmojiLikeAttachment:function l(m){return m.attach_type===c('MercuryAttachmentType').EMOJI_LIKE;},isVoiceAttachment:function l(m){if(!m.metadata)return false;return (m.metadata.type===c('MercuryAudioType').AudioClip||m.metadata.type===c('MercuryAudioType').VoiceMessageWithTranscript);},hasAttribution:function l(m){return !!m.app_attribution;},isSingleVideoAttachment:function l(m){var n=this.get(m).filter(i).filter(function(o){return (this.isVideoAttachment(o));}.bind(this));return n.length===1;},isSharedVideoAttachment:function l(m){var n=m.attach_type===c('MercuryAttachmentType').SHARE&&m.share&&m.share.subattachments&&m.share.subattachments[0];return !!(n&&n.target&&n.target.video_id);},isGenieSharedVideoAttachment:function l(m){return !!(m.attach_type===c('MercuryAttachmentType').SHARE&&m.share&&m.share.style_list.indexOf(c('StoryAttachmentStyle').GENIE_MESSAGE)>-1&&m.share.target&&m.share.target.attachment&&this.isSharedVideoAttachment(m.share.target.attachment));},isSharedVideoAttachmentMessage:function l(m){var n=this.get(m).filter(i).filter(function(o){return (this.isSharedVideoAttachment(o)||this.isGenieSharedVideoAttachment(o));}.bind(this));return n.length===1;},getVideoElem:function l(m,n){var o=n.getMessageElement(m);if(!o)return null;var p=o.getElementsByClassName(j);return p&&p.length?p[0]:o;}};f.exports=k;}),null);
__d('MercurySendErrorLogger',['Banzai','BanzaiLogger'],(function a(b,c,d,e,f,g){var h=c('BanzaiLogger').create({retry:true}),i=c('Banzai').isEnabled('mercury_send_error_logging'),j={log:function k(l){if(!i)return;var m={message_id:l.message_id,timestamp_client:Date.now(),error_type:l.error_data.type,error_code:l.error_data.code,error_description:l.error_data.description,is_transient:l.error_data.is_transient};h.log('MercurySendErrorLoggerConfig',m);}};f.exports=j;}),null);
__d('MessengerEnvironment',['CurrentEnvironment'],(function a(b,c,d,e,f,g){'use strict';var h=babelHelpers['extends']({},c('CurrentEnvironment'),{messengerui:false,setMessengerUI:function i(j){this.messengerui=j;}});f.exports=h;}),null);
__d('MercuryServerPayloadPreprocessor',['invariant','MessengerEnvironment','MercuryIDs','MercuryConfig','MercuryActionStatus','MercuryActionType','MercuryAttachment','MercuryDispatcher','MercurySendErrorLogger','MercurySingletonProvider','MercuryThreadIDMap','URI'],(function a(b,c,d,e,f,g,h){'use strict';function i(k){this.$MercuryServerPayloadPreprocessor1=k;this.$MercuryServerPayloadPreprocessor2=c('MercuryThreadIDMap').getForFBID(this.$MercuryServerPayloadPreprocessor1);this.$MercuryServerPayloadPreprocessor3=c('MercuryDispatcher').getForFBID(this.$MercuryServerPayloadPreprocessor1);}i.getForFBID=function(k){return j.getForFBID(k);};i.get=function(){return j.get();};i.prototype.handleUpdate=function(k){var l={};!k.from_client||h(0);(k.threads||[]).forEach(function(x){this.$MercuryServerPayloadPreprocessor4(x,l);var y=this.$MercuryServerPayloadPreprocessor2.getServerIDFromClientIDNow(x.thread_id);e(['MercuryServerRequests'],function(z){var aa=z.getForFBID(this.$MercuryServerPayloadPreprocessor1);aa.markThreadFetched(x.thread_id);if(y)aa.markThreadFetched(y);aa.updateLastActionTimestamp(x.timestamp);}.bind(this));}.bind(this));(k.ordered_threadlists||[]).forEach(function(x){var y=x.thread_fbids||[];y=y.concat(x.other_user_fbids||[]);x.thread_ids=y.map(function(z){return this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(z.toString());}.bind(this));}.bind(this));if(k.pinned_threads&&k.pinned_threads.thread_fbids)k.pinned_threads.thread_fbids=k.pinned_threads.thread_fbids.map(function(x){return this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(x);}.bind(this));if(k.delivery_receipts){var m={};for(var n=k.delivery_receipts,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q,s=r.other_user_fbid?c('MercuryIDs').getThreadIDFromUserID(r.other_user_fbid):this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(r.thread_fbid);if(s)m[s]=r.time;}k.delivery_receipts=m;}k.actions=k.actions||[];k.actions.forEach(function(x){if(x.action_type===c('MercuryActionType').SEND_MESSAGE&&x.status===c('MercuryActionStatus').ERROR)c('MercurySendErrorLogger').log(x);var y=null,z=null;if(x.other_user_fbid){z=c('MercuryIDs').getThreadIDFromUserID(x.other_user_fbid);y=x.other_user_fbid;}else if(x.thread_fbid){z=c('MercuryIDs').getThreadIDFromThreadFBID(x.thread_fbid);y=x.thread_fbid;}else if(x.thread_id){z=c('MercuryIDs').getThreadIDFromThreadFBID(x.thread_id);y=x.thread_id;}else if(x.status&&x.status!=c('MercuryActionStatus').SUCCESS&&x.client_thread_id){z=x.client_thread_id;}else h(0);y=y&&y.toString();x.thread_id=this.$MercuryServerPayloadPreprocessor2.hasClientIDForServerID(y)?this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(y):z;if(x.action_type==c('MercuryActionType').SEND_MESSAGE&&x.client_thread_id&&y){x.thread_id=x.client_thread_id;this.$MercuryServerPayloadPreprocessor2.forceSetServerIDToClientID(y,x.client_thread_id);l[y]=x.client_thread_id;}x.thread_id||h(0);if(!k.payload_source||!k.payload_source.startsWith('server'))e(['MercuryServerRequests'],function(aa){aa.getForFBID(this.$MercuryServerPayloadPreprocessor1).updateLastActionTimestamp(x.timestamp);}.bind(this));}.bind(this));this.$MercuryServerPayloadPreprocessor5(k);this.$MercuryServerPayloadPreprocessor6(k);if(k.end_of_history){var t=[];for(var u=0;u<k.end_of_history.length;u++){var v=k.end_of_history[u];if(v.type=='user'){t.push('user:'+v.fbid);}else if(v.type=='thread'&&this.$MercuryServerPayloadPreprocessor2.hasClientIDForServerID(v.fbid))t.push(this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(v.fbid));}k.end_of_history=t;}if(k.roger){var w={};Object.keys(k.roger).forEach(function(x){var y=Object.keys(k.roger[x]),z=void 0;if(x){z=this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(x);}else if(y.length===1)z=c('MercuryIDs').getThreadIDFromUserID(y[0]);if(z){var aa=k.roger[x];w[z]={};for(var ba in aa)if(aa.hasOwnProperty(ba)){var ca=c('MercuryIDs').getParticipantIDFromUserID(ba);w[z][ca]=aa[ba];}}}.bind(this));k.roger=w;}k.newlyAddedClientIDs=l;k.preprocessed=true;this.$MercuryServerPayloadPreprocessor3.handleUpdate(k);};i.prototype.$MercuryServerPayloadPreprocessor4=function(k,l){var m=k.other_user_fbid?k.other_user_fbid:k.thread_fbid;m||h(0);var n=this.$MercuryServerPayloadPreprocessor2.getClientIDFromServerIDNow(m);if(!n){n=k.other_user_fbid?c('MercuryIDs').getThreadIDFromUserID(k.other_user_fbid):c('MercuryIDs').getThreadIDFromThreadFBID(k.thread_fbid);this.$MercuryServerPayloadPreprocessor2.setServerIDToClientID(m,n);this.$MercuryServerPayloadPreprocessor2.setDeprecatedServerIDToClientID(k.thread_id,n);l[m]=n;}k.thread_id=n;};i.prototype.$MercuryServerPayloadPreprocessor5=function(k){k.actions.forEach(function(l){if(l.action_type===c('MercuryActionType').USER_GENERATED_MESSAGE){l.attachments=l.attachments||[];l.attachments.forEach(function(m){if(c('MercuryAttachment').isShareAttachment(m)&&c('MessengerEnvironment').messengerui){var n=new (c('URI'))(m.share.uri);if(!n.getDomain())m.share.uri=n.setDomain('facebook.com').setSubdomain(c('URI').getRequestURI().getSubdomain()).setProtocol('https').toString();}});}});};i.prototype.$MercuryServerPayloadPreprocessor6=function(k){if(!c('MercuryConfig').MercuryGenieRendering)return;k.actions.forEach(function(l){if(l.action_type!==c('MercuryActionType').USER_GENERATED_MESSAGE)return;var m=l;if(!m.has_attachment||!m.attachments)return;for(var n=m.attachments.length-1;n>=0;n-=1){var o=m.attachments[n];if(!o.share||!o.share.style_list||o.share.style_list[0]!='genie_message')continue;if(o.share.target.genie_id)m.author=c('MercuryIDs').getParticipantIDFromUserID(o.share.target.genie_id);if(o.share.target&&!o.share.target.attachment){m.attachments.splice(n,1);m.has_attachment=m.attachments.length>0;}}});};var j=new (c('MercurySingletonProvider'))(i);f.exports=i;}),null);
__d('FBID',[],(function a(b,c,d,e,f,g){'use strict';var h={isUser:function i(j){return j<2.2e+09||j>=1e+14&&j<=100099999989999||j>=8.9e+13&&j<=89999999999999||j>=6.000001e+13&&j<=60000019999999;}};f.exports=h;}),null);
__d('MercuryMessageIDs',['KeyedCallbackManager'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('KeyedCallbackManager'))(),i={getServerIDs:function j(k,l){var m=k.filter(function(o){return o.indexOf('id')===-1;}),n=function o(p){var q=k.map(function(r){return p[r]?p[r]:r;});l(q);};return h.executeOrEnqueue(m,n);},addServerID:function j(k,l){h.setResource(k,l);}};f.exports=i;}),null);
__d('MercuryServerSendMessageQueueOptions',[],(function a(b,c,d,e,f,g){function h(i,j,k,l,m,n){'use strict';this.success_handler=i;this.error_handler=j;this.transport_error_handler=k;this.timeout_handler=l;this.timeout=m;this.connection_retries=n;}f.exports=h;}),null);
__d('MercuryServerSendMessageQueueSimulatedError',['AsyncRequest','AsyncResponse'],(function a(b,c,d,e,f,g){var h=9999,i={create:function j(k){var l=new (c('AsyncRequest'))(this.endpoint_uri).setData({message_batch:[k],client:this.client}),m=new (c('AsyncResponse'))(l,{});Object.assign(m,{error:h,silentError:false,transientError:true,request:l});return m;}};f.exports=i;}),null);
__d("XMessagingSendController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messaging\/send\/",{});}),null);
__d('MercuryServerSendMessageQueue',['BanzaiODS','LogHistory','MercuryLoggingHelper','MercuryServerRequestsConfig','MercuryServerDispatcher','MercuryServerSendMessageQueueSimulatedError','XMessagingSendController'],(function a(b,c,d,e,f,g){var h=c('LogHistory').getInstance('mercury_server_send_message_queue');function i(j,k,l,m){var n;'use strict';this.pending_message=null;this.queue=[];this.sender_id=j;this.queue_id=k;this.$MercuryServerSendMessageQueue2=l.success_handler;this.$MercuryServerSendMessageQueue1=l.error_handler;this.$MercuryServerSendMessageQueue4=l.transport_error_handler;this.$MercuryServerSendMessageQueue3=l.timeout_handler;this.client=m;var o=null;if(c('MercuryServerRequestsConfig').msgrRegion)o={name:'X-MSGR-Region',value:c('MercuryServerRequestsConfig').msgrRegion};var p=c('XMessagingSendController').getURIBuilder().getURI().toString(),q=(n={},n[p]={request_user_id:this.sender_id,endpoint_id:this.queue_id,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:o,handler:this.handleSuccess.bind(this),error_handler:this.handleError.bind(this),transport_error_handler:this.handleTransportError.bind(this),timeout:l.timeout,timeout_handler:this.handleTimeout.bind(this),connection_retries:l.connection_retries},n);c('MercuryServerDispatcher').registerEndpoints(q);}i.prototype.enqueue=function(j){'use strict';this.queue.push(j);this.$MercuryServerSendMessageQueue5();};i.prototype.$MercuryServerSendMessageQueue5=function(){'use strict';if(this.pending_message||!this.queue.length){if(this.pending_message)this.$MercuryServerSendMessageQueue6();return;}this.pending_message=this.queue.shift();var j={client:this.client,action_type:this.pending_message.action_type,app_id:this.pending_message.app_id,audio_ids:this.pending_message.audio_ids,body:this.pending_message.body,client_thread_id:this.pending_message.client_thread_id,content_attachment:this.pending_message.content_attachment,ephemeral_ttl_mode:this.pending_message.ephemeral_ttl_mode,file_ids:this.pending_message.file_ids,force_sms:this.pending_message.force_sms,gif_ids:this.pending_message.gif_ids,has_attachment:this.pending_message.has_attachment,image_ids:this.pending_message.image_ids,location_attachment:this.pending_message.location_attachment,log_message_data:this.pending_message.log_message_data,log_message_type:this.pending_message.log_message_type,message_id:this.pending_message.message_id,message_source_data:this.pending_message.message_source_data,offline_threading_id:this.pending_message.offline_threading_id,other_user_fbid:this.pending_message.other_user_fbid,photo_fbids:this.pending_message.photo_fbids,shareable_attachment:this.pending_message.shareable_attachment,signature_id:this.pending_message.signatureID,source:this.pending_message.source,specific_to_list:this.pending_message.specific_to_list,sticker_id:this.pending_message.sticker_id,tags:this.pending_message.tags,thread_fbid:this.pending_message.thread_fbid,timestamp:this.pending_message.timestamp,ui_push_phase:this.pending_message.ui_push_phase,video_ids:this.pending_message.video_ids,platform_xmd:this.pending_message.platform_xmd,profile_xmd:this.pending_message.profile_xmd};for(var k in j)if(j[k]===undefined||j[k]===null)delete j[k];c('MercuryServerDispatcher').trySend(c('XMessagingSendController').getURIBuilder().getURI().toString(),j,null,this.sender_id,this.queue_id);};i.prototype.$MercuryServerSendMessageQueue7=function(){'use strict';while(this.queue.length)this.$MercuryServerSendMessageQueue8(this.queue.shift());};i.prototype.$MercuryServerSendMessageQueue8=function(j){'use strict';this.$MercuryServerSendMessageQueue1(c('MercuryServerSendMessageQueueSimulatedError').create(j));h.error('mark_as_failed',JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,message:c('MercuryLoggingHelper').obfuscateMessage(j)}));};i.prototype.handleSuccess=function(j,k){'use strict';this.$MercuryServerSendMessageQueue2(j,k);this.pending_message=null;this.$MercuryServerSendMessageQueue5();};i.prototype.handleError=function(j){'use strict';this.$MercuryServerSendMessageQueue1(j);this.$MercuryServerSendMessageQueue7();this.pending_message=null;};i.prototype.handleTransportError=function(j){'use strict';this.$MercuryServerSendMessageQueue4(j);this.$MercuryServerSendMessageQueue7();this.pending_message=null;};i.prototype.handleTimeout=function(j){'use strict';this.$MercuryServerSendMessageQueue3(j);this.$MercuryServerSendMessageQueue7();this.pending_message=null;};i.prototype.$MercuryServerSendMessageQueue6=function(){'use strict';h.debug('maybe_send_next_pending_message',JSON.stringify({fbid:this.sender_id,queue_id:this.queue_id,pending_message:c('MercuryLoggingHelper').obfuscateMessage(this.pending_message),queue:this.queue.map(function(k){return c('MercuryLoggingHelper').obfuscateMessage(k);})}));var j='send_queue.delayed.queue_length.'+this.queue.length.toString();c('BanzaiODS').bumpEntityKey('chat.web',j);};f.exports=i;}),null);
__d('MercurySingletonMixin',['CurrentUser'],(function a(b,c,d,e,f,g){var h={_getInstances:function i(){if(!this._instances)this._instances={};return this._instances;},get:function i(){return this.getForFBID(c('CurrentUser').getID());},getForFBID:function i(j){var k=this._getInstances();if(!k[j])k[j]=new this(j);return k[j];}};f.exports=h;}),null);
__d('MercuryServerSendMessageQueueRouter',['BanzaiODS','LogHistory','Map','MercuryServerSendMessageQueue','MercurySingletonMixin'],(function a(b,c,d,e,f,g){var h=c('LogHistory').getInstance('mercury_server_send_message_queue_router'),i='chat.web.send_queue_router';c('BanzaiODS').setEntitySample(i,.1);function j(k){'use strict';this.queues=new (c('Map'))();this.fbid=k;}j.prototype.enqueue=function(k,l,m,n){'use strict';var o=this.queues.get(k);if(o===undefined){o=new (c('MercuryServerSendMessageQueue'))(this.fbid,k,l,m);this.queues.set(k,o);h.debug('added queue',JSON.stringify({fbid:this.fbid,queue_id:k}));c('BanzaiODS').bumpEntityKey(i,'new_queue');}o.enqueue(n);};Object.assign(j,c('MercurySingletonMixin'));f.exports=j;}),null);
__d("XMercuryUnseenThreadIDsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/unseen_thread_ids\/",{});}),null);
__d("XMessagingChangeMentionsMuteModeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/mercury\/change_mentions_mute_thread\/",{});}),null);
__d('MercuryServerRequests',['errorCode','invariant','Arbiter','AsyncResponse','BanzaiODS','ChannelConstants','CurrentUser','FBID','LogHistory','MercuryActionStatus','MercuryActionType','MercuryAPIArgsSource','MercuryAssert','MercuryConfig','MercuryDispatcher','MercuryErrorType','MercuryGlobalActionType','MercuryIDs','MercuryLogMessageType','MercuryMessageClientState','MercuryPayloadSource','MercurySendErrorLogger','MercuryServerPayloadPreprocessor','MercuryServerRequestsConfig','MercuryServerSendMessageQueueRouter','MercurySingletonProvider','MercurySourceType','MercuryThreadIDMap','MercuryThreadlistConstants','MercuryMessageIDs','MessagingConfig','MessagingTag','PageMessageEnumTag','MercuryServerDispatcher','MercuryServerSendMessageQueueOptions','XMercuryUnseenThreadIDsController','XMessagingChangeMentionsMuteModeController','createObjectFrom','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('LogHistory').getInstance('mercury_server'),k=c('MercuryAPIArgsSource').MERCURY,l=1000,m=30*1000;function n(y){return y.getError()?'_'+y.getError():'';}function o(y,z){var aa=babelHelpers['extends']({},y),ba=void 0;if(z.threads){if(!aa.threads)aa.threads={};for(ba in z.threads)aa.threads[ba]=Object.keys(c('createObjectFrom')((aa.threads[ba]||[]).concat(z.threads[ba])));}if(z.messages){if(!aa.messages)aa.messages={};for(ba in z.messages){if(!aa.messages[ba])aa.messages[ba]={};for(var ca in z.messages[ba])if(aa.messages[ba][ca]){aa.messages[ba][ca]=s(aa.messages[ba][ca],z.messages[ba][ca]);}else aa.messages[ba][ca]=z.messages[ba][ca];}}aa.client=y.client||z.client;return aa;}function p(y,z){var aa=Object.assign(c('createObjectFrom')(y.folders,true),c('createObjectFrom')(z.folders,true)),ba=y.client||z.client;return {folders:Object.keys(aa),client:ba};}function q(y,z){for(var aa in z)if(y[aa]&&typeof y[aa]==='object'){y[aa]=s(y[aa],z[aa]);}else if(z[aa]&&typeof z[aa]==='object'){var ba={};Object.assign(ba,z[aa]);y[aa]=ba;}return y;}function r(y,z){return z;}function s(y,z){var aa=y.offset<z.offset?y.offset:z.offset,ba=y.offset+y.limit,ca=z.offset+z.limit,da=ba>ca?ba:ca,ea=da-aa,fa=y.timestamp>z.timestamp?y.timestamp:z.timestamp;return {offset:aa,limit:ea,timestamp:fa};}function t(y,z){var aa=y.client||z.client,ba={ids:{},client:aa};Object.assign(ba.ids,y.ids,z.ids);return ba;}function u(y,z){var aa={},ba=void 0,ca=y.client||z.client;delete y.client;delete z.client;for(ba in y)Object.assign(aa,c('createObjectFrom')(y[ba],ba));for(ba in z)Object.assign(aa,c('createObjectFrom')(z[ba],ba));var da={client:ca};for(var ea in aa){ba=aa[ea];if(!da[ba])da[ba]=[];da[ba].push(ea);}return da;}function v(y,z){var aa=y.client||z.client,ba=c('createObjectFrom')(y.ids,true),ca=c('createObjectFrom')(z.ids,true),da=Object.assign(ba,ca);return {ids:Object.keys(da),client:aa};}function w(y){this.$MercuryServerRequests1=y;this.$MercuryServerRequests2=0;this.$MercuryServerRequests3={};this.$MercuryServerRequests4={};this.__threadIDMap=c('MercuryThreadIDMap').getForFBID(this.$MercuryServerRequests1);this.$MercuryServerRequests5=c('MercuryDispatcher').getForFBID(this.$MercuryServerRequests1);this.$MercuryServerRequests6=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercuryServerRequests1);this.$MercuryServerRequests7=new (c('MercuryServerSendMessageQueueOptions'))(function(z,aa){this.__handleUpdate(z,aa);}.bind(this),function(z){return this.$MercuryServerRequests8(z);}.bind(this),function(z){this.$MercuryServerRequests9(z);}.bind(this),function(z){return this.$MercuryServerRequests10(z);}.bind(this),c('MercuryServerRequestsConfig').sendMessageTimeout,c('MessagingConfig').SEND_CONNECTION_RETRIES);this.$MercuryServerRequests11();}w.getForFBID=function(y){return x.getForFBID(y);};w.get=function(){return x.get();};w.prototype.fetchThreadlistInfo=function(y,z){var aa=arguments.length<=2||arguments[2]===undefined?c('MessagingTag').INBOX:arguments[2],ba=arguments[3],ca=arguments.length<=4||arguments[4]===undefined?k:arguments[4],da=ba?c('MercuryServerDispatcher').IMMEDIATE:null,ea={client:ca};ea[aa]={offset:y,limit:z,filter:ba};this.__sendRequest('/ajax/mercury/threadlist_info.php',ea,da);};w.prototype.fetchUnseenThreadIDs=function(){var y=arguments.length<=0||arguments[0]===undefined?c('MessagingTag').INBOX:arguments[0],z=arguments.length<=1||arguments[1]===undefined?k:arguments[1];this.__sendRequest(c('XMercuryUnseenThreadIDsController').getURIBuilder().getURI().toString(),{});};w.prototype.fetchUnreadThreadIDs=function(y){var z=arguments.length<=1||arguments[1]===undefined?k:arguments[1];this.__sendRequest('/ajax/mercury/unread_threads.php',{folders:[y],client:z});};w.prototype.fetchThreadData=function(y){var z=arguments.length<=1||arguments[1]===undefined?k:arguments[1];c('MercuryAssert').allThreadID(y);var aa={threads:{},client:z},ba=[],ca=[];y.forEach(function(ea){if(this.$MercuryServerRequests3[ea])return;this.$MercuryServerRequests3[ea]=true;var fa=this.__threadIDMap.getServerIDFromClientIDNow(ea),ga=c('MercuryIDs').tokenize(ea);if(ga.type=='user'){ba.push(ga.value);aa.threads.user_ids=ba;}else if(ga.type=='thread'){if(fa){ca.push(fa);}else ca.push(ga.value);aa.threads.thread_fbids=ca;}else if(ga.type=='root'){if(fa){ca.push(fa);aa.threads.thread_fbids=ca;}}else if(ga.type!='pending')throw new Error('Unknown thread type',ga);}.bind(this));this.$MercuryServerRequests5.inform('fetch-thread-data',aa);for(var da in aa.threads){this.__sendRequest('/ajax/mercury/thread_info.php',aa);break;}};w.prototype.ensureThreadIsFetched=function(y){var z=arguments.length<=1||arguments[1]===undefined?k:arguments[1];if(!this.__threadIDMap.getClientIDFromServerIDNow(y)&&!this.$MercuryServerRequests3[y]){this.$MercuryServerRequests3[y]=true;this.__sendRequest('/ajax/mercury/thread_info.php',{threads:{thread_fbids:[y]},client:z});}};w.prototype.fetchThreadMessages=function(y,z,aa,ba,ca){var da=arguments.length<=5||arguments[5]===undefined?k:arguments[5];c('MercuryAssert').isThreadID(y);var ea=void 0,fa=void 0,ga=c('MercuryIDs').tokenize(y),ha=this.__threadIDMap.getServerIDFromClientIDNow(y),ia=false;if(ha){ea=ha;fa=ga.type=='user'?'user_ids':'thread_fbids';}else{ea=ga.value;switch(ga.type){case 'user':fa='user_ids';ia=true;break;case 'thread':fa='thread_fbids';break;}}var ja={messages:{},threads:{},client:da};if(fa){ja.messages[fa]={};ja.messages[fa][ea]={offset:z,timestamp:ba,limit:aa};if(ia)ja.threads[fa]=[ea];this.__sendRequest('/ajax/mercury/thread_info.php',ja,ca);}else this.__threadIDMap.getServerIDFromClientID(y,function(ka){ja.messages.thread_fbids={};ja.messages.thread_fbids[ka]={offset:z,timestamp:ba,limit:aa};this.__sendRequest('/ajax/mercury/thread_info.php',ja,ca);}.bind(this));};w.prototype.handleThreadInfoError=function(y){var z=y.getData(),aa=[];if(z.messages){for(var ba in z.messages.thread_fbids){var ca=this.__threadIDMap.getClientIDFromServerIDNow(ba);if(ca)aa.push(this.$MercuryServerRequests12(ca));}for(var da in z.messages.user_ids)aa.push(this.$MercuryServerRequests12('user:'+da));for(var ea in z.messages.group_ids)aa.push(this.$MercuryServerRequests12('group:'+ea));}if(aa.length)this.$MercuryServerRequests5.handleUpdate({actions:aa,from_client:true,payload_source:c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE});if(z.threads&&(z.threads.user_ids||z.threads.group_ids||z.threads.thread_ids)){var fa=5,ga=true;if(!z.retry_count){z.retry_count=0;if(z.messages)delete z.messages;}else if(z.retry_count>=fa){ga=false;(z.threads.thread_ids||[]).forEach(function(ia){if(ia in this.$MercuryServerRequests3)delete this.$MercuryServerRequests3[ia];}.bind(this));}if(ga){var ha=Math.pow(2,z.retry_count)*1000;c('setTimeoutAcrossTransitions')(function(){j.log('retry_thread','{}');this.__sendRequest('/ajax/mercury/thread_info.php',z);}.bind(this),ha);z.retry_count++;}}};w.prototype.markFolderAsRead=function(y){this.__sendRequest('/ajax/mercury/mark_folder_as_read.php',{folder:y});var z=[{action_type:c('MercuryGlobalActionType').MARK_ALL_READ,folder:y}];this.$MercuryServerRequests5.handleUpdate({global_actions:z,from_client:true,payload_source:c('MercuryPayloadSource').CLIENT_CHANGE_READ_STATUS});};w.prototype.changeThreadReadStatus=function(y,z,aa,ba,ca,da,ea){c('MercuryAssert').isThreadID(y);this.__threadIDMap.getServerIDFromClientID(y,function(fa){var ga,ha={ids:(ga={},ga[fa]=z,ga),source:aa,watermarkTimestamp:ba,titanOriginatedThreadId:ca,shouldSendReadReceipt:da,commerce_last_message_type:ea};this.__sendRequest('/ajax/mercury/change_read_status.php',ha);}.bind(this));};w.prototype.changeThreadArchivedStatus=function(y,z,aa){c('MercuryAssert').isThreadID(y);this.__threadIDMap.getServerIDFromClientID(y,function(ba){var ca={ids:{},source:aa};ca.ids[ba]=z;this.__sendRequest('/ajax/mercury/change_archived_status.php',ca);}.bind(this));};w.prototype.changeThreadFolder=function(y,z){c('MercuryAssert').isThreadID(y);this.__threadIDMap.getServerIDFromClientID(y,function(aa){var ba={};ba[z]=[aa];this.__sendRequest('/ajax/mercury/move_thread.php',ba);}.bind(this));};w.prototype.changeMutingOnThread=function(y,z){c('MercuryAssert').isThreadID(y);this.__threadIDMap.getServerIDFromClientID(y,function(aa){this.__sendRequest('/ajax/mercury/change_mute_thread.php',{thread_fbid:aa,mute_settings:z,payload_source:k});}.bind(this));};w.prototype.changeMentionsMutingOnThread=function(y,z){c('MercuryAssert').isThreadID(y);this.__threadIDMap.getServerIDFromClientID(y,function(aa){this.__sendRequest(c('XMessagingChangeMentionsMuteModeController').getURIBuilder().getURI(),{thread_fbid:aa,mentions_mute_mode:z,payload_source:k});}.bind(this));};w.prototype.markThreadSpam=function(y,z){c('MercuryAssert').isThreadID(y);this.__threadIDMap.getServerIDFromClientID(y,function(aa){this.__sendRequest('/ajax/mercury/mark_spam.php',{id:aa,source:z});}.bind(this));};w.prototype.unmarkThreadSpam=function(y,z){c('MercuryAssert').isThreadID(y);this.__threadIDMap.getServerIDFromClientID(y,function(aa){this.__sendRequest('/ajax/mercury/unmark_spam.php',{id:aa,source:z});}.bind(this));};w.prototype.deleteThread=function(y,z){c('MercuryAssert').isThreadID(y);this.__threadIDMap.getServerIDFromClientID(y,function(aa){var ba={ids:[aa],source:z};this.__sendRequest('/ajax/mercury/delete_thread.php',ba);}.bind(this));};w.prototype.deleteMessages=function(y,z){c('MercuryMessageIDs').getServerIDs(z||[],function(aa){this.__sendRequest('/ajax/mercury/delete_messages.php',{message_ids:aa});}.bind(this));};w.prototype.sendDeliveryReceipts=function(y,z){c('MercuryMessageIDs').getServerIDs(y||[],function(aa){this.__sendRequest('/ajax/mercury/delivery_receipts.php',{message_ids:aa,thread_ids:z});}.bind(this));};w.prototype.sendNewMessage=function(y){var z=arguments.length<=1||arguments[1]===undefined?k:arguments[1];if(!y.offline_threading_id)c('BanzaiODS').bumpEntityKey('chat.web','missing_otid_on_send');if(y.client_state&&y.client_state!==c('MercuryMessageClientState').SEND_TO_SERVER)return;var aa=c('MercuryIDs').tokenize(y.thread_id),ba=aa.type,ca=babelHelpers['extends']({},y);ca.thread_id=null;if(ba=='user'){ca.other_user_fbid=aa.value;this.$MercuryServerRequests13(ca,z);}else if(ba=='thread'){ca.thread_fbid=aa.value;this.$MercuryServerRequests13(ca,z);}else if(ba=='root'&&aa.value==ca.offline_threading_id){ca.client_thread_id=y.thread_id;this.$MercuryServerRequests13(ca,z);}else{c('MercuryIDs').isLocalThread(y.thread_id)||i(0);this.__threadIDMap.getServerIDFromClientID(y.thread_id,function(da){ca.thread_fbid=da;this.$MercuryServerRequests13(ca,z);}.bind(this));}};w.prototype.$MercuryServerRequests13=function(y,z){c('Arbiter').inform(c('ChannelConstants').ATTEMPT_RECONNECT);this.$MercuryServerRequests4[y.message_id]=Date.now();c('MercuryServerSendMessageQueueRouter').getForFBID(this.$MercuryServerRequests1).enqueue(y.other_user_fbid||y.thread_fbid||y.client_thread_id,this.$MercuryServerRequests7,z,y);};w.prototype.markSeen=function(){var y=this.$MercuryServerRequests2;this.__sendRequest('/ajax/mercury/mark_seen.php',{seen_timestamp:y});};w.prototype.$MercuryServerRequests14=function(y,z,aa,ba){j.debug('handle_send_message_error_common',JSON.stringify({reliability_error_status:aa,request_error_status:z}));var ca=y.getData(),da=ca.message_batch||[ca],ea=da.map(function(ga){var ha={action_type:c('MercuryActionType').SEND_MESSAGE,other_user_fbid:ga.other_user_fbid,thread_fbid:ga.thread_fbid,client_message_id:ga.message_id,message_id:ga.message_id,client_thread_id:ga.client_thread_id,status:z,error_data:ba};return ha;});ea.forEach(function(ga){if(ga.action_type===c('MercuryActionType').SEND_MESSAGE&&ga.status===c('MercuryActionStatus').ERROR)this.__logMercurySendError(ga);},this);var fa={actions:ea,payload_source:c('MercuryPayloadSource').CLIENT_HANDLE_ERROR};this.$MercuryServerRequests6.handleUpdate(fa);};w.prototype.handleSendMessageError=function(y){var z=y.getPayload(),aa=null,ba=null;if(z&&z.error_payload){aa=c('MercuryActionStatus').UNCONFIRMED;ba='send_error';}else{aa=c('MercuryActionStatus').ERROR;ba='request_error'+n(y);}var ca=y.error;if(ca===1404102)c('AsyncResponse').verboseErrorHandler(y);var da=/<.*>/.test(y.getErrorDescription())?y.getErrorSummary():y.getErrorDescription();this.$MercuryServerRequests14(y.getRequest(),aa,ba,{type:c('MercuryErrorType').SERVER,code:y.getError(),description:da,is_transient:y.isTransient()});};w.prototype.handleSendMessageTransportError=function(y){this.$MercuryServerRequests14(y.getRequest(),c('MercuryActionStatus').ERROR,'transport_error'+n(y),{type:c('MercuryErrorType').TRANSPORT,code:y.getError(),is_transient:true});};w.prototype.handleSendMessageTimeout=function(y){this.$MercuryServerRequests14(y,c('MercuryActionStatus').ERROR,'transport_timeout',{type:c('MercuryErrorType').TIMEOUT,is_transient:true});};w.prototype.getLastActionTimestamp=function(){return this.$MercuryServerRequests2;};w.prototype.__logMercurySendError=function(y){c('MercurySendErrorLogger').log(y);};w.prototype.updateLastActionTimestamp=function(y){var z=Date.now()-1000*60*60*24;if(y&&y>z)this.$MercuryServerRequests2=Math.max(this.$MercuryServerRequests2,y);};w.prototype.markThreadFetched=function(y){delete this.$MercuryServerRequests3[y];};w.prototype.$MercuryServerRequests12=function(y){return {action_type:c('MercuryActionType').LOG_MESSAGE,thread_id:y,message_id:y,timestamp:Date.now(),timestamp_absolute:'',timestamp_relative:'',is_unread:false,source:c('MercurySourceType').UNKNOWN,log_message_body:'',log_message_type:c('MercuryLogMessageType').SERVER_ERROR,log_message_data:{}};};w.prototype.__getForAsyncRequest=function(y){var z=y.getData(),aa=z.request_user_id?z.request_user_id:c('CurrentUser').getID();return w.getForFBID(aa);};w.prototype.__handleUpdate=function(y,z){this.__getForAsyncRequest(z).$MercuryServerRequests6.handleUpdate(y);};w.prototype.$MercuryServerRequests15=function(y){var z=this.__getForAsyncRequest(y);z.handleThreadInfoError(y);};w.prototype.$MercuryServerRequests8=function(y){var z=this.__getForAsyncRequest(y.getRequest());z.handleSendMessageError(y);};w.prototype.$MercuryServerRequests9=function(y){var z=this.__getForAsyncRequest(y.getRequest());z.handleSendMessageTransportError(y);};w.prototype.$MercuryServerRequests10=function(y){var z=this.__getForAsyncRequest(y);z.handleSendMessageTimeout(y);};w.prototype.$MercuryServerRequests11=function(){var y=null;if(c('MercuryServerRequestsConfig').msgrRegion)y={name:'X-MSGR-Region',value:c('MercuryServerRequestsConfig').msgrRegion};var z={'/ajax/mercury/thread_info.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').BATCH_DEFERRED_MULTI,customHeader:y,batch_function:o,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this),error_handler:function(ca){return (this.$MercuryServerRequests15(ca.getRequest()));}.bind(this),timeout_handler:function(ca){return this.$MercuryServerRequests15(ca);}.bind(this),timeout:m},'/ajax/mercury/mark_folder_as_read.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/change_read_status.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/mark_seen.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE,customHeader:y,batch_function:r,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/threadlist_info.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE_UNIQUE,customHeader:y,batch_function:q,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/mark_spam.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/unmark_spam.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/unread_threads.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE_UNIQUE,customHeader:y,batch_function:p,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/chat/settings.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y},'/ajax/mercury/change_archived_status.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE,customHeader:y,batch_function:t,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/delete_thread.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE,customHeader:y,batch_function:v,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/delete_messages.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/delivery_receipts.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/move_thread.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE,customHeader:y,batch_function:u,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)},'/ajax/mercury/change_mute_thread.php':{request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)}},aa=c('XMercuryUnseenThreadIDsController').getURIBuilder().getURI().toString();z[aa]={request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)};var ba=c('XMessagingChangeMentionsMuteModeController').getURIBuilder().getURI().toString();z[ba]={request_user_id:this.$MercuryServerRequests1,mode:c('MercuryServerDispatcher').IMMEDIATE,customHeader:y,handler:function(ca,da){return this.__handleUpdate(ca,da);}.bind(this)};c('MercuryServerDispatcher').registerEndpoints(z);};w.prototype.__sendRequest=function(y,z,aa){c('MercuryServerDispatcher').trySend(y,z,aa,this.$MercuryServerRequests1);};w.prototype.__getFBID=function(){return this.$MercuryServerRequests1;};var x=new (c('MercurySingletonProvider'))(w);f.exports=w;}),null);
__d('MercuryThreadIDMap',['KeyedCallbackManager','MercuryAssert','MercuryIDs','MercurySingletonProvider'],(function a(b,c,d,e,f,g){'use strict';function h(j){this.$MercuryThreadIDMap1=j;this.$MercuryThreadIDMap2=new (c('KeyedCallbackManager'))();this.$MercuryThreadIDMap3=new (c('KeyedCallbackManager'))();}h.getForFBID=function(j){return i.getForFBID(j);};h.get=function(){return i.get();};h.prototype.setServerIDToClientID=function(j,k){var l=this.getClientIDFromServerIDNow(j);if(l){l!==k;return;}this.forceSetServerIDToClientID(j,k);};h.prototype.forceSetServerIDToClientID=function(j,k){this.$MercuryThreadIDMap2.setResource(j,k);this.$MercuryThreadIDMap3.setResource(k,j);};h.prototype.setDeprecatedServerIDToClientID=function(j,k){if(j)this.$MercuryThreadIDMap2.setResource(j,k);};h.prototype.getClientIDFromServerIDNow=function(j){return this.$MercuryThreadIDMap2.getResource(j);};h.prototype.getClientIDFromServerID=function(j,k){this.$MercuryThreadIDMap2.executeOrEnqueue(j,k);e(['MercuryServerRequests'],function(l){l.getForFBID(this.$MercuryThreadIDMap1).ensureThreadIsFetched(j);}.bind(this));};h.prototype.getServerIDFromClientIDNow=function(j){return this.$MercuryThreadIDMap3.getResource(j);};h.prototype.getServerIDFromClientID=function(j,k){c('MercuryAssert').isThreadID(j);var l=this.$MercuryThreadIDMap3.executeOrEnqueue(j,k);e(['MercuryServerRequests'],function(m){var n=this.$MercuryThreadIDMap3.getUnavailableResources(l),o=c('MercuryIDs').tokenize(j);if(n.length&&o.type!='root')m.getForFBID(this.$MercuryThreadIDMap1).fetchThreadData(n);}.bind(this));};h.prototype.hasClientIDForServerID=function(j){return !!this.getClientIDFromServerIDNow(j);};h.prototype.convertThreadIDIfAvailable=function(j){var k=this.getClientIDFromServerIDNow(j);return k||j;};h.prototype.canLinkExternally=function(j){c('MercuryAssert').isThreadID(j);var k=c('MercuryIDs').tokenize(j);return k.type=='user'||!!this.getServerIDFromClientIDNow(j);};var i=new (c('MercurySingletonProvider'))(h);f.exports=h;}),null);
__d('MercuryParticipantFetcher',['LogHistory','MercuryIDs','MercuryPayloadSource','MercuryServerPayloadPreprocessor','Set','ShortProfiles','setImmediate'],(function a(b,c,d,e,f,g){'use strict';var h=c('LogHistory').getInstance('short_profiles');function i(k){this.$MercuryParticipantFetcher4=c('MercuryServerPayloadPreprocessor').getForFBID(k);this.$MercuryParticipantFetcher1=false;this.$MercuryParticipantFetcher2=new (c('Set'))();this.$MercuryParticipantFetcher3=new (c('Set'))();}i.prototype.fetch=function(k){this.$MercuryParticipantFetcher5(k);this.$MercuryParticipantFetcher6();};i.prototype.fetchMulti=function(k){k.forEach(function(l){return this.$MercuryParticipantFetcher5(l);}.bind(this));this.$MercuryParticipantFetcher6();};i.prototype.$MercuryParticipantFetcher5=function(k){if(!this.$MercuryParticipantFetcher3.has(k))this.$MercuryParticipantFetcher2.add(k);};i.prototype.$MercuryParticipantFetcher6=function(){if(this.$MercuryParticipantFetcher1||this.$MercuryParticipantFetcher2.size===0)return;this.$MercuryParticipantFetcher1=true;c('setImmediate')(function(){this.$MercuryParticipantFetcher1=false;this.$MercuryParticipantFetcher2.forEach(function(k){return this.$MercuryParticipantFetcher3.add(k);}.bind(this));this.$MercuryParticipantFetcher7(this.$MercuryParticipantFetcher2,function(k){k.forEach(function(l){return this.$MercuryParticipantFetcher3['delete'](l.id);}.bind(this));this.$MercuryParticipantFetcher8(k);}.bind(this));this.$MercuryParticipantFetcher2.clear();}.bind(this));};i.prototype.$MercuryParticipantFetcher7=function(k,l){var m=[];k.forEach(function(n){var o=c('MercuryIDs').tokenize(n),p=o.type,q=o.value;p==='fbid'&&m.push(q);});if(m.length>0){c('ShortProfiles').getMulti(m,function(n){var o=[];for(var p in n)o.push(j(n[p],p));l(o);if(o.length!==m.length)h.error('server_fetch_participant_count_error',JSON.stringify({expectedIDs:m,receivedIDs:Object.keys(n)}));});h.debug('client_fetch_participants',JSON.stringify({userIDs:m}));}};i.prototype.$MercuryParticipantFetcher8=function(k){this.$MercuryParticipantFetcher4.handleUpdate({participants:k,from_client:false,payload_source:c('MercuryPayloadSource').SERVER_FETCH_PARTICIPANTS});};function j(k,l){var m=babelHelpers['extends']({gender:k.gender,fbid:k.id||l,href:k.uri,id:c('MercuryIDs').getParticipantIDFromUserID(k.id||l),image_src:k.thumbSrc,name:k.name,short_name:k.firstName,employee:k.employee,is_employee_away:k.is_employee_away,type:k.type,vanity:k.vanity,is_friend:k.is_friend,is_messenger_user:k.is_messenger_user},{});if(k.officeStatus){m.officeStatus=k.officeStatus;m.officeStatusEndDate=k.officeStatusEndDate;m.officeStatusComment=k.officeStatusComment;m.officeStatusLocation=k.officeStatusLocation;}if(k.timezone||k.timezone===0)m.timezone=k.timezone;if(k.personal_id)m.personal_id=k.personal_id;if(k.work_id)m.work_id=k.work_id;return m;}f.exports=i;}),null);
__d('MercuryVanityIDMap',['Map','MercuryAssert'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Map'))(),i=new (c('Map'))(),j={getID:function k(l){return h.get(l.toLowerCase());},getVanity:function k(l){return i.get(l);},hasID:function k(l){return i.has(l);},hasVanity:function k(l){return h.has(l.toLowerCase());},set:function k(l,m){c('MercuryAssert').isParticipantID(m);var n=l.toLowerCase();h.set(n,m);i.set(m,n);}};f.exports=j;}),null);
__d('MercuryParticipants',['fbt','CurrentUser','EventEmitter','ImageSourceRequest','ImageSourceType','ImmutableObject','KeyedCallbackManager','MercuryAssert','MercuryIDs','MercuryParticipantFetcher','MercuryParticipantTypes','MercuryParticipantsConstants','MercuryDispatcher','MercuryVanityIDMap','PhotoResizeModeConst','Set','createObjectFrom'],(function a(b,c,d,e,f,g,h){'use strict';var i='change';function j(l){this.$MercuryParticipants1=l;this.$MercuryParticipants2=new (c('EventEmitter'))();this.$MercuryParticipants3=new (c('KeyedCallbackManager'))();this.$MercuryParticipants4=new (c('MercuryParticipantFetcher'))(this.$MercuryParticipants1);this.$MercuryParticipants5=c('MercuryDispatcher').getForFBID(this.$MercuryParticipants1);this.$MercuryParticipants5.subscribe('update-participants',function(m,n){if(n.participants&&n.participants.length>0)this.$MercuryParticipants6(n.participants);}.bind(this));this.$MercuryParticipants5.subscribe('invalidate-global-state',function(){this.$MercuryParticipants7();}.bind(this));}j.prototype.addListener=function(l,m){return this.$MercuryParticipants2.addListener(l,m);};j.prototype.getIDFromVanityOrFBID=function(l){if(!l)return null;if(c('MercuryVanityIDMap').hasVanity(l))return c('MercuryVanityIDMap').getID(l);if(/^\d+$/.test(l))return c('MercuryIDs').getParticipantIDFromUserID(l);return undefined;};j.prototype.getNow=function(l){return this.$MercuryParticipants8(l);};j.prototype.getOrFetch=function(l){var m=this.$MercuryParticipants8(l);if(!m)this.$MercuryParticipants4.fetch(l);return m;};j.prototype.get=function(l,m){c('MercuryAssert').isParticipantID(l);return this.$MercuryParticipants9([l],function(n){m(n[l]);});};j.prototype.getMulti=function(l,m){return this.$MercuryParticipants9(l,m);};j.prototype.getBigImageMulti=function(l,m){c('MercuryAssert').allParticipantIDs(l);var n=c('MercuryParticipantsConstants').BIG_IMAGE_SIZE;return this.$MercuryParticipants9(l,function(o){var p={},q=0,r=new (c('Set'))(),s=function(w,x){q++;p[w]=x;if(q===l.length){m(p);if(r.size>0)this.$MercuryParticipants10(r);}}.bind(this),t=function(w,x){this.$MercuryParticipants3.setResource(w,c('ImmutableObject').set(this.$MercuryParticipants3.getResource(w),{big_image_src:x.uri}));r.add(w);s(w,x.uri);}.bind(this);for(var u in o){var v=o[u];if(!v.big_image_src){new (c('ImageSourceRequest'))().setFBID(c('MercuryIDs').getUserIDFromParticipantID(u)).setType(c('ImageSourceType').PROFILE_PICTURE).setDimensions(n,n).setResizeMode(c('PhotoResizeModeConst').COVER).setCallback(t.bind(null,u)).send();}else s(v.id,v.big_image_src);}}.bind(this));};j.prototype.getOrderedBigImageMulti=function(l,m){return this.getBigImageMulti(l,function(n){m(l.map(function(o){return n[o];}));});};j.prototype.$MercuryParticipants9=function(l,m){c('MercuryAssert').allParticipantIDs(l);var n=this.$MercuryParticipants3.executeOrEnqueue(l,m),o=this.$MercuryParticipants3.getUnavailableResources(n).filter(function(p){var q=c('MercuryIDs').tokenize(p),r=q.type,s=q.value;if(r==='email'){this.$MercuryParticipants11(p,s);return false;}if(r==='name'){this.$MercuryParticipants12(p,s);return false;}return true;}.bind(this));this.$MercuryParticipants4.fetchMulti(o);return this.$MercuryParticipants13(n);};j.prototype.$MercuryParticipants8=function(l){var m=this.$MercuryParticipants3.getResource(l);if(!m){var n=c('MercuryIDs').tokenize(l),o=n.type,p=n.value;if(o==='email')m=this.$MercuryParticipants11(l,p);if(o==='name')m=this.$MercuryParticipants12(l,p);}return m;};j.prototype.$MercuryParticipants11=function(l,m){var n=new (c('ImmutableObject'))(k(l,m));this.$MercuryParticipants3.setResource(l,n);return n;};j.prototype.$MercuryParticipants12=function(l,m){var n=new (c('ImmutableObject'))({gender:c('MercuryParticipantsConstants').UNKNOWN_GENDER,href:null,id:l,image_src:c('MercuryParticipantsConstants').EMAIL_IMAGE,big_image_src:c('MercuryParticipantsConstants').EMAIL_IMAGE,name:m,short_name:m,employee:false});this.$MercuryParticipants3.setResource(l,n);return n;};j.prototype.$MercuryParticipants10=function(l){this.$MercuryParticipants2.emit(i,l);};j.prototype.$MercuryParticipants6=function(l){var m=l.map(function(n){return n.id;});l=l.map(function(n){if(n.vanity)c('MercuryVanityIDMap').set(n.vanity,n.id);var o=this.$MercuryParticipants3.getResource(n.id);return o?c('ImmutableObject').set(o,n):new (c('ImmutableObject'))(this.$MercuryParticipants14(n));}.bind(this));this.$MercuryParticipants3.addResourcesAndExecute(c('createObjectFrom')(m,l));this.$MercuryParticipants10(new (c('Set'))(m));};j.prototype.$MercuryParticipants14=function(l){var m=l.type===c('MercuryParticipantTypes').USER||l.type===c('MercuryParticipantTypes').FRIEND;if(!m)return l;if(!l.name&&!l.href&&!l.vanity){var n=h._("Utilisateur de Facebook");l.name=n;l.short_name=n;}return l;};j.prototype.$MercuryParticipants13=function(l){return {remove:function(){this.$MercuryParticipants3.unsubscribe(l);}.bind(this)};};j.prototype.$MercuryParticipants7=function(){this.$MercuryParticipants3=new (c('KeyedCallbackManager'))();};function k(l,m){return {gender:c('MercuryParticipantsConstants').UNKNOWN_GENDER,href:null,id:l,image_src:c('MercuryParticipantsConstants').EMAIL_IMAGE,big_image_src:c('MercuryParticipantsConstants').EMAIL_IMAGE,name:m,short_name:m,employee:false,fbid:undefined,accepts_messenger_user_feedback:undefined,is_business_enabled:undefined,is_messenger_platform_bot:undefined,is_employee_away:undefined,is_friend:undefined,is_messenger_user:undefined,is_verified:undefined,type:undefined,vanity:undefined,timezone:undefined,personal_id:undefined,work_id:undefined};}f.exports=new j(c('CurrentUser').getID());}),null);
__d('MercuryDisplayTimeFilterMessageRenderer',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={renderFilteredContent:function j(k){if(k.is_filtered_content_bh)return h._("Ce message a \u00e9t\u00e9 bloqu\u00e9, car il contient des liens bloqu\u00e9s ou dangereux.");if(k.is_filtered_content_account)return h._("Ce message a \u00e9t\u00e9 supprim\u00e9 temporairement car le compte de l\u2019exp\u00e9diteur n\u00e9cessite une v\u00e9rification.");if(k.is_filtered_content_quasar)return h._("Ce message a \u00e9t\u00e9 supprim\u00e9 car il contient du contenu bloqu\u00e9 ou dangereux.");if(k.is_filtered_content_invalid_app)return h._("Ce message a \u00e9t\u00e9 supprim\u00e9, car l\u2019app dont il provient n\u2019a pas l\u2019autorisation d\u2019envoyer des messages.");return h._("Ce message a \u00e9t\u00e9 temporairement supprim\u00e9, car le compte de l\u2019exp\u00e9diteur doit \u00eatre v\u00e9rifi\u00e9 ou a \u00e9t\u00e9 identifi\u00e9 comme \u00e9tant abusif.");}};f.exports=i;}),null);
__d('MercuryGiftSnippetRenderer',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={renderText:function j(k,l){return k?h._("Vous avez envoy\u00e9 un message de Saint-Valentin."):h._("{name} a envoy\u00e9 un message de Saint-Valentin.",[h.param('name',l)]);}};f.exports=i;}),null);
__d('randomInt',['invariant'],(function a(b,c,d,e,f,g,h){function i(j,k){var l=arguments.length;l>0&&l<=2||h(0);if(l===1){k=j;j=0;}k=k;k>j||h(0);var m=this.random||Math.random;return Math.floor(j+m()*(k-j));}f.exports=i;}),null);
__d('PresenceUtil',['CurrentUser','randomInt'],(function a(b,c,d,e,f,g){var h=c('randomInt')(0,4294967295)+1;function i(){return h;}function j(){return c('CurrentUser').isLoggedInNow();}f.exports={getSessionID:i,hasUserCookie:j};}),null);
__d('MercuryLocalIDs',['PresenceUtil','randomInt'],(function a(b,c,d,e,f,g){'use strict';var h={generateMessageID:function j(k){var l=k||Date.now(),m=c('randomInt')(0,4294967295),n=c('PresenceUtil').getSessionID();return '<'+l+':'+m+'-'+n+'@mail.projektitan.com>';},generateThreadID:function j(k){return 'root:'+h.generateOfflineThreadingID(k);},generateOfflineThreadingID:function j(k){var l=k||Date.now(),m=c('randomInt')(0,4294967295),n=('0000000000000000000000'+m.toString(2)).slice(-22),o=l.toString(2)+n;return i(o.slice(-63));}};function i(j){var k='';while(j!='0'){var l=0,m='';for(var n=0;n<j.length;n++){l=2*l+parseInt(j[n],10);if(l>=10){m+='1';l-=10;}else m+='0';}k=l.toString()+k;j=m.slice(m.indexOf('1'));}return k;}f.exports=h;}),null);
__d('MercurySyncDeltaTypes',[],(function a(b,c,d,e,f,g){'use strict';var h={AdminAddedToGroupThread:'AdminAddedToGroupThread',AdminRemovedFromGroupThread:'AdminRemovedFromGroupThread',AdminTextMessage:'AdminTextMessage',DeliveryReceipt:'DeliveryReceipt',ForcedFetch:'ForcedFetch',MarkRead:'MarkRead',MarkUnread:'MarkUnread',MessageDelete:'MessageDelete',NewMessage:'NewMessage',PagesManagerEvent:'PagesManagerEvent',ParticipantLeftGroupThread:'ParticipantLeftGroupThread',ParticipantsAddedToGroupThread:'ParticipantsAddedToGroupThread',ReadReceipt:'ReadReceipt',ReplaceMessage:'ReplaceMessage',RTCEventLog:'RTCEventLog',ThreadAction:'ThreadAction',ThreadDelete:'ThreadDelete',ThreadMuteSettings:'ThreadMuteSettings',ThreadName:'ThreadName',JoinableMode:'JoinableMode',ApprovalMode:'ApprovalMode',ApprovalQueue:'ApprovalQueue',ClientPayload:'ClientPayload',GenieMessage:'GenieMessage',MontageMessage:'MontageMessage',RtcCallData:'RtcCallData'};f.exports=h;}),null);
__d('MercurySyncFakeDFFSender',['Arbiter','ChannelConstants','MercurySingletonProvider','MercurySyncDeltaTypes'],(function a(b,c,d,e,f,g){'use strict';var h=c('ChannelConstants').getArbiterType(c('ChannelConstants').FAKE_DFF);i.getForFBID=function(k){return j.getForFBID(k);};i.get=function(){return j.get();};function i(k){this.$MercurySyncFakeDFFSender1=k;}i.prototype.sendGlobalDFF=function(){c('Arbiter').inform(h,{obj:{delta:{'class':c('MercurySyncDeltaTypes').ForcedFetch},queue:this.$MercurySyncFakeDFFSender1}});};i.prototype.sendThreadDFF=function(k,l){c('Arbiter').inform(h,{obj:{delta:{'class':c('MercurySyncDeltaTypes').ForcedFetch,threadKey:{otherUserFbId:k,threadFbId:l}},queue:this.$MercurySyncFakeDFFSender1}});};var j=new (c('MercurySingletonProvider'))(i);f.exports=i;}),null);
__d('MercuryThreadInfo',['CurrentUser','MercuryIDs','MessengerThreadCannotReplyReason'],(function a(b,c,d,e,f,g){'use strict';var h={canReply:function j(k){return !!(k.is_subscribed&&(k.can_reply===undefined||k.can_reply)&&!k.has_email_participant&&!k.read_only);},getMuteSetting:function j(k){return !k.mute_until?undefined:k.mute_until;},isEmptyLocalThread:function j(k){return (c('MercuryIDs').tokenize(k.thread_id).type==='root'&&!k.timestamp);},isMuted:function j(k){return h.getMuteSetting(k)!==undefined;},areMentionsMuted:function j(k){return k.mentions_mute_mode===1;},isNewEmptyLocalThread:function j(k){return !!(h.isEmptyLocalThread(k)&&k.participants&&k.participants.length===0);},showComposer:function j(k){return !!(k.is_subscribed&&(k.can_reply||!k.cannot_reply_reason||k.cannot_reply_reason===c('MessengerThreadCannotReplyReason').BLOCKED)&&!k.has_email_participant&&!k.read_only);},isColdOpen:function j(k){return !!(k.is_canonical_user&&(k.message_count===0||!k.timestamp));}};function i(j){return j+'@facebook.com';}f.exports=h;}),null);
__d('MessagingGiftWrapConstants',[],(function a(b,c,d,e,f,g){'use strict';var h='gift_wrap',i='gift_unwrapped',j='valentines2016';f.exports={TAG_PREFIX:h,UNWRAPPED_TAG:i,VALENTINES_GIFT:j};}),null);
__d('MessagingGiftWrapChecker',['MercuryConfig','MercuryTagHelper','MessagingGiftWrapConstants'],(function a(b,c,d,e,f,g){'use strict';var h={shouldRenderWithGiftWrap:function k(l){return !!(c('MercuryConfig').GiftWrapViewerGK&&l.tags&&i(l.tags)&&!j(l.tags));}};function i(k){return c('MercuryTagHelper').get(k,c('MessagingGiftWrapConstants').TAG_PREFIX)===c('MessagingGiftWrapConstants').VALENTINES_GIFT;}function j(k){return !!c('MercuryTagHelper').get(k,c('MessagingGiftWrapConstants').UNWRAPPED_TAG);}f.exports=h;}),null);
__d('MercuryThreads',['invariant','EventEmitter','MercuryDisplayTimeFilterMessageRenderer','ImmutableObject','KeyedCallbackManager','LogHistory','Map','MercuryActionType','MercuryAssert','MercuryAttachment','MercuryConfig','MercuryDispatcher','MercuryGiftSnippetRenderer','MercuryGlobalActionType','MercuryIDs','MercuryLocalIDs','MercuryLoggingHelper','MercuryLogMessageType','MercuryParticipants','MercuryPayloadSource','MercuryServerRequests','MercurySingletonProvider','MercurySyncFakeDFFSender','MercuryThreadInfo','MercuryThreadInformer','MessagingGenericAdminTextType','MessagingGiftWrapChecker','MessagingTag','Set','emptyFunction','ifRequired','requireWeak','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';var i=new (c('EventEmitter'))(),j=c('LogHistory').getInstance('mercury_threads');function k(m){this.$MercuryThreads1=m;this.$MercuryThreads2=c('MercuryServerRequests').getForFBID(this.$MercuryThreads1);this.$MercuryThreads3=c('MercuryThreadInformer').getForFBID(this.$MercuryThreads1);this.$MercuryThreads4=c('MercuryIDs').getParticipantIDFromUserID(this.$MercuryThreads1);this.$MercuryThreads5=c('MercuryDispatcher').getForFBID(this.$MercuryThreads1);this.$MercuryThreads6=c('MercurySyncFakeDFFSender').getForFBID(this.$MercuryThreads1);this.$MercuryThreads7=false;this.$MercuryThreads8=new (c('KeyedCallbackManager'))();this.$MercuryThreads9=new (c('Set'))();this.$MercuryThreads10=false;this.$MercuryThreads11=new (c('Set'))();this.$MercuryThreads12=new (c('Set'))();this.$MercuryThreads13();}k.getForFBID=function(m){return l.getForFBID(m);};k.get=function(){return l.get();};k.prototype.getThreadMetaNow=function(m){c('MercuryAssert').isThreadID(m);return this.$MercuryThreads8.getResource(m);};k.prototype.getOrFetch=function(m){var n=this.getThreadMetaNow(m);if(!n&&!this.$MercuryThreads12.has(m))this.$MercuryThreads11.add(m);if(this.$MercuryThreads11.size>0&&!this.$MercuryThreads10)this.$MercuryThreads14();return n;};k.prototype.$MercuryThreads14=function(){if(this.$MercuryThreads10)return;this.$MercuryThreads10=true;c('setImmediate')(function(){this.$MercuryThreads10=false;this.$MercuryThreads11.forEach(function(m){return this.$MercuryThreads12.add(m);}.bind(this));this.getMultiThreadMeta(Array.from(this.$MercuryThreads11),function(m){for(var n in m)m.hasOwnProperty(n)&&this.$MercuryThreads12['delete'](n);}.bind(this));this.$MercuryThreads11.clear();}.bind(this));};k.prototype.getThreadMeta=function(m,n,o){return this.getMultiThreadMeta([m],function(p){return n(p[m]);},o);};k.prototype.getMultiThreadMeta=function(m,n,o){c('MercuryAssert').allThreadID(m);var p=this.$MercuryThreads8.executeOrEnqueue(m,n),q=this.$MercuryThreads8.getUnavailableResources(p);if(q.length){var r=[];for(var s=0;s<q.length;s++){var t=q[s],u=c('MercuryIDs').tokenize(t),v=u.type,w=u.value;if(v=='user'){var x=c('MercuryIDs').getParticipantIDFromUserID(w);this.createNewLocalThread(t,x===this.$MercuryThreads4?[this.$MercuryThreads4]:[this.$MercuryThreads4,x]);}r.push(t);}if(r.length)this.$MercuryThreads2.fetchThreadData(r,o);}return p;};k.addListener=function(m,n){return i.addListener(m,n);};k.prototype.unsubscribe=function(m){this.$MercuryThreads8.unsubscribe(m);};k.prototype.getCanonicalThreadToParticipant=function(m,n,o,p){var q=c('MercuryIDs').getThreadIDFromParticipantID(m);!!q||h(0);var r=this.$MercuryThreads8.getResource(q);if(r==undefined){r=this.createNewLocalThread(q,this.$MercuryThreads4===m?[this.$MercuryThreads4]:[this.$MercuryThreads4,m],n);!p&&this.$MercuryThreads2.fetchThreadData([q],o);}return r;};k.prototype.createNewLocalThread=function(m,n,o){var p=this.$MercuryThreads8.getResource(m);if(!p){var q=c('MercuryIDs').tokenize(m),r=q.type,s=q.value;p=new (c('ImmutableObject'))({thread_id:m,participants:Array.from(n),name:'',snippet:'',snippet_sender:null,unread_count:o?o:0,message_count:0,image_src:null,timestamp:null,other_user_fbid:r==='user'?s:null,is_canonical_user:r=='user',is_canonical:this.$MercuryThreads15(n),is_subscribed:true,folder:c('MessagingTag').INBOX,is_archived:false});this.$MercuryThreads8.setResource(m,p);}return p;};k.prototype.createNewLocalThreadGenerateID=function(){var m=c('MercuryLocalIDs').generateThreadID();this.createNewLocalThread(m,[]);return m;};k.prototype.isEmptyLocalThread=function(m){var n=this.$MercuryThreads8.getResource(m);if(!n)return false;return c('MercuryThreadInfo').isEmptyLocalThread(n);};k.prototype.isNewEmptyLocalThread=function(m){var n=this.$MercuryThreads8.getResource(m);if(!n)return false;return c('MercuryThreadInfo').isNewEmptyLocalThread(n);};k.prototype.$MercuryThreads16=function(m,n){if(!m||!m.length)return;var o=new (c('Map'))(),p=new (c('Map'))(),q=new (c('Map'))(),r=[];for(var s=0;s<m.length;s++){var t=m[s];if(t.is_forward)continue;var u=t.action_type;if(u==c('MercuryActionType').LOG_MESSAGE&&t.log_message_type==c('MercuryLogMessageType').SERVER_ERROR)continue;var v=!!(t.sync_id||t.is_from_iris),w=t.thread_id;c('MercuryAssert').isThreadID(w);var x=this.$MercuryThreads8.getResource(w);if(!x&&!v&&u==c('MercuryActionType').USER_GENERATED_MESSAGE){x=this.$MercuryThreads17(t);if(x.participants){this.$MercuryThreads8.setResource(w,x);}else j.debug('missing_local_participants',JSON.stringify(t));}if(!x)continue;if(u==c('MercuryActionType').LOG_MESSAGE||u==c('MercuryActionType').USER_GENERATED_MESSAGE)v=!n;if(x.server_timestamp&&t.timestamp<=x.server_timestamp&&v)continue;if(!q.has(w))q.set(w,babelHelpers['extends']({},x));this.$MercuryThreads18(q.get(w),t,n);var y=o.get(w);if(u==c('MercuryActionType').USER_GENERATED_MESSAGE&&(!y||t.timestamp>y.timestamp))o.set(w,t);if((u==c('MercuryActionType').USER_GENERATED_MESSAGE||u==c('MercuryActionType').LOG_MESSAGE)&&!t.skip_bump_thread)if(t&&t.timestamp&&(!p.has(w)||t.timestamp>p.get(w).timestamp))p.set(w,t);}q.forEach(function(z,aa){var ba=p.get(aa),ca=o.get(aa);if(ca){this.$MercuryThreads19(z,ca);}else if(ba&&ba.log_message_body){var da=babelHelpers['extends']({},ba,{body:ba.log_message_body});this.$MercuryThreads19(z,da);}var ea=z.timestamp;if(ba){if(ba.timestamp>ea)Object.assign(z,{timestamp:ba.timestamp});var fa=z.server_timestamp;if(!n&&ba.timestamp>fa)z.server_timestamp=ba.timestamp;}var ga=new (c('ImmutableObject'))(z);this.$MercuryThreads8.setResource(aa,ga);r.push(c('MercuryLoggingHelper').obfuscateThread(ga));}.bind(this),this);r.length&&this.$MercuryThreads7&&j.debug('threads_updated',JSON.stringify({threads:r}));};k.prototype.$MercuryThreads18=function(m,n,o){var p=n.action_type;if(p==c('MercuryActionType').USER_GENERATED_MESSAGE||p==c('MercuryActionType').LOG_MESSAGE){if(n.is_unread||n.skip_bump_thread)if(!(m.unread_count===0&&n.skip_bump_thread))m.unread_count++;m.message_count++;m.is_archived=false;}switch(p){case c('MercuryActionType').DELETE_THREAD:m.message_count=0;this.$MercuryThreads20(n.thread_id);break;case c('MercuryActionType').USER_GENERATED_MESSAGE:if(m.unread_count===0&&n.author===this.$MercuryThreads4&&n.timestamp>=m.last_read_timestamp)m.last_read_timestamp=n.timestamp;if(n.offline_threading_id!==n.message_id)m.last_message_timestamp=n.timestamp;this.$MercuryThreads21(m,n.author);break;case c('MercuryActionType').SEND_MESSAGE:var q=n.log_message_type;if(q==c('MercuryLogMessageType').THREAD_IMAGE){m.image_src=n.log_message_data.image?n.log_message_data.image.preview_url:null;this.$MercuryThreads22(n.thread_id);}if(q!==c('MercuryLogMessageType').SUBSCRIBE&&q!==c('MercuryLogMessageType').UNSUBSCRIBE)m.snippet_attachments=n.attachments;break;case c('MercuryActionType').LOG_MESSAGE:var q=n.log_message_type;if(q==c('MercuryLogMessageType').SUBSCRIBE){this.$MercuryThreads23(m,n.log_message_data.added_participants);this.$MercuryThreads22(n.thread_id);}else if(q==c('MercuryLogMessageType').UNSUBSCRIBE){this.$MercuryThreads24(m,n.log_message_data.removed_participants);this.$MercuryThreads22(n.thread_id);}else if(q==c('MercuryLogMessageType').THREAD_IMAGE){if(!o)m.image_src=n.log_message_data.image?n.log_message_data.image.preview_url:null;}else if(q==c('MercuryLogMessageType').THREAD_NAME){if(m.name!==n.log_message_data.name)this.$MercuryThreads22(n.thread_id);m.name=n.log_message_data.name;}else if(q===c('MercuryLogMessageType').GENERIC_ADMIN_TEXT)this.$MercuryThreads25(m,n);break;case c('MercuryActionType').CHANGE_READ_STATUS:var r=this.$MercuryThreads26(m,n,n.mark_as_read);if(r)m.last_read_timestamp=m.last_message_timestamp;var s=!m.read_only&&m.folder===c('MessagingTag').INBOX;if(r&&o)this.$MercuryThreads2.changeThreadReadStatus(m.thread_id,n.mark_as_read,n.source,m.last_read_timestamp,m.titan_originated_thread_id,s,m.last_message_type);break;case c('MercuryActionType').CHANGE_ARCHIVED_STATUS:if(m.is_archived!=n.archived){m.is_archived=n.archived;this.$MercuryThreads22(n.thread_id);}break;case c('MercuryActionType').CHANGE_FOLDER:if(m.folder!=n.new_folder){m.folder=n.new_folder;this.$MercuryThreads22(n.thread_id);}break;case c('MercuryActionType').DELETE_MESSAGES:if(o){m.snippet='...';m.snippet_attachments=null;m.snippet_sender=null;this.$MercuryThreads22(n.thread_id);}else if(n.message_ids){m.message_count-=n.message_ids.length;c('ifRequired')('MercuryMessages',function(u){u=u.getForFBID(this.$MercuryThreads1);for(var v=n.message_ids,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var y;if(w){if(x>=v.length)break;y=v[x++];}else{x=v.next();if(x.done)break;y=x.value;}var z=y,aa=u.getMessagesFromIDs([z]),ba=aa[0];if(ba&&ba.timestamp>m.last_read_timestamp)m.unread_count=Math.max(0,m.unread_count-1);}this.$MercuryThreads22(n.thread_id);}.bind(this),c('emptyFunction'));}break;case c('MercuryActionType').UPDATE_SNIPPET:c('ifRequired')('MercuryMessages',function(u){u=u.getForFBID(this.$MercuryThreads1);var v=0,w=1,x=u.getThreadMessagesRangeNow(n.thread_id,v,w),y=x[0];if(y){m.snippet=y.body;m.snippet_attachments=y.attachments;m.snippet_sender=y.author;}else{m.snippet='...';m.snippet_attachments=null;m.snippet_sender=null;u.getThreadMessagesRange(n.thread_id,v,w,function(z){if(z.length)this.$MercuryThreads5.handleUpdate({from_client:true,actions:[{thread_id:n.thread_id,action_type:c('MercuryActionType').UPDATE_SNIPPET,deleted_ids:n.deleted_ids}]});}.bind(this));}this.$MercuryThreads22(n.thread_id);}.bind(this),c('emptyFunction'));break;case c('MercuryActionType').CHANGE_MUTE_SETTINGS:if(n.hasOwnProperty('mentions_mute_mode')){m.mentions_mute_mode=n.mentions_mute_mode;}else m.mute_until=!n.mute_until?undefined:n.mute_until;this.$MercuryThreads22(m.thread_id);break;case c('MercuryActionType').ADD_PARTICIPANTS:this.$MercuryThreads23(m,n.participants);this.$MercuryThreads22(m.thread_id);break;case c('MercuryActionType').CHANGE_FLAG:this.$MercuryThreads27(m,n.mark_as_flag);this.$MercuryThreads22(m.thread_id);break;case c('MercuryActionType').UPDATE_PRIORITY:this.$MercuryThreads28(m,n.mark_as_priority);this.$MercuryThreads22(m.thread_id);break;case c('MercuryActionType').MOVE_PENDING_TO_INBOX:this.$MercuryThreads29(m);this.$MercuryThreads22(m.thread_id);break;case c('MercuryActionType').UPDATE_CUSTOM_LIKE:m.custom_like_icon=n.custom_like;this.$MercuryThreads22(m.thread_id);break;case c('MercuryActionType').ADD_GROUP_ADMINS:m.admin_ids=m.admin_ids.concat(n.added_admin_ids.filter(function(u){return m.admin_ids.indexOf(u)===-1;}));this.$MercuryThreads22(n.thread_id);break;case c('MercuryActionType').REMOVE_GROUP_ADMINS:m.admin_ids=m.admin_ids.filter(function(u){return n.removed_admin_ids.indexOf(u)===-1;});this.$MercuryThreads22(n.thread_id);break;case c('MercuryActionType').JOINABLE_MODE:m.joinable_mode=n.joinable_mode;this.$MercuryThreads22(n.thread_id);break;case c('MercuryActionType').APPROVAL_MODE:m.approval_mode=n.approval_mode;this.$MercuryThreads22(n.thread_id);break;case c('MercuryActionType').APPROVAL_QUEUE:if(n.added_id&&m.approval_queue_ids&&m.approval_queue_ids.indexOf(n.added_id)===-1)m.approval_queue_ids=m.approval_queue_ids.concat(n.added_id);if(n.removed_id&&m.approval_queue_ids)m.approval_queue_ids=m.approval_queue_ids.filter(function(u){return n.removed_id!==u;});this.$MercuryThreads22(n.thread_id);break;case c('MercuryActionType').IS_PIN_PROTECTED:m.is_pin_protected=n.is_pin_protected;this.$MercuryThreads22(n.thread_id);break;case c('MercuryActionType').UPDATE_RTC_CALL_DATA:var t=n.initiator_fbid||(m.rtc_call_data?m.rtc_call_data.initiator_fbid:undefined);m.rtc_call_data=new (c('ImmutableObject'))({call_state:n.call_state,server_info_data:n.server_info_data,initiator_fbid:t});this.$MercuryThreads22(n.thread_id);break;}};k.prototype.$MercuryThreads25=function(m,n){var o,p=this;if(n.log_message_data&&n.log_message_data.untypedData)(function(){var q=n.log_message_data.untypedData;switch(n.log_message_data.message_type){case c('MessagingGenericAdminTextType').THREAD_EPHEMERAL_SEND_MODE:var r=parseInt(q.ttl,10);if(r!==null&&m.ephemeral_ttl_mode!==r){m.ephemeral_ttl_mode=r;p.$MercuryThreads22(n.thread_id);}break;case c('MessagingGenericAdminTextType').CHANGE_THREAD_NICKNAME:var s={};for(var t in m.custom_nickname){if(t==q.participant_id&&q.nickname.trim().length==0)continue;s[t]=m.custom_nickname[t];}if(q.nickname.trim().length>0)s[q.participant_id]=q.nickname;m.custom_nickname=s;p.$MercuryThreads22(n.thread_id);break;case c('MessagingGenericAdminTextType').CHANGE_THREAD_ICON:c('requireWeak')('MercuryThreadActions',function(v){v.getForFBID(this.$MercuryThreads1).updateCustomLike(n.thread_id,q.thread_icon);}.bind(p));break;case c('MessagingGenericAdminTextType').CHANGE_THREAD_THEME:var u=q.theme_color;if(u.length>0){m.custom_color='#'.concat(u.substring(2));}else m.custom_color=null;p.$MercuryThreads22(n.thread_id);break;}})();};k.prototype.$MercuryThreads17=function(m){var n=c('MercuryIDs').tokenize(m.thread_id),o=n.type,p=n.value,q=m.specific_to_list&&this.$MercuryThreads15(m.specific_to_list);return new (c('ImmutableObject'))({thread_id:m.thread_id,participants:m.specific_to_list,name:null,snippet:m.body,snippet_attachments:[],snippet_sender:m.author,unread_count:0,message_count:0,image_src:null,timestamp:m.timestamp,other_user_fbid:o==='user'?p:null,is_canonical_user:o==='user',is_canonical:q,is_subscribed:true,folder:c('MessagingTag').INBOX,is_archived:false});};k.prototype.$MercuryThreads26=function(m,n,o){if(n.timestamp)this.$MercuryThreads30(m.thread_id,o,n.timestamp);if(!m||!m.thread_id)return false;if(!m.timestamp){this.$MercuryThreads9.add(m.thread_id);return false;}var p=!m.unread_count;if(o==p)return false;m.unread_count=o?0:1;this.$MercuryThreads22(m.thread_id);return true;};k.prototype.$MercuryThreads31=function(m){var n=this.$MercuryThreads8.getAllResources();for(var o in n)if(n.hasOwnProperty(o)){var p=n[o];if(p.folder==m){this.$MercuryThreads8.setResource(o,c('ImmutableObject').setProperty(p,'unread_count',0));this.$MercuryThreads22(o);}}};k.prototype.$MercuryThreads23=function(m,n){var o=new (c('Set'))(m.participants);m.participants=Array.from(m.participants);n.forEach(function(p){if(!o.has(p)){m.participants.push(p);if(p===this.$MercuryThreads4){m.is_subscribed=true;m.can_reply=true;m.cannot_reply_reason=null;this.$MercuryThreads6.sendThreadDFF(undefined,m.thread_fbid);}}}.bind(this));};k.prototype.$MercuryThreads24=function(m,n){var o=new (c('Set'))(n);m.participants=m.participants.filter(function(p){return !o.has(p);});m.admin_ids=m.admin_ids.filter(function(p){return !o.has(p);});if(o.has(this.$MercuryThreads4))m.is_subscribed=false;this.$MercuryThreads2.fetchThreadData([m.thread_id]);};k.prototype.$MercuryThreads21=function(m,n){if(!m.participants){var o=JSON.stringify({thread_info:m,participant:n});j.debug('missing_participants',o);return;}var p=m.participants.indexOf(n);if(p>0)m.participants=[n].concat(m.participants.slice(0,p),m.participants.slice(p+1));};k.prototype.$MercuryThreads19=function(m,n){var o=n.body,p=n.subject,q='';if(p){p=p.toLowerCase();if(o.slice(0,p.length).toLowerCase()==p){q=o;}else if(o){q=p+' \u00B7 '+o;}else q=p;}else q=o;if(n.is_filtered_content)q=c('MercuryDisplayTimeFilterMessageRenderer').renderFilteredContent(n);if(c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(n)){var r=n.author,s=r==this.$MercuryThreads4,t=null;if(!s){t=m.custom_nickname&&m.custom_nickname[c('MercuryIDs').getUserIDFromParticipantID(r)];if(!t){var u=c('MercuryParticipants').getNow(r);if(u!=null)t=u.short_name;}}q=c('MercuryGiftSnippetRenderer').renderText(s,t);}m.snippet=q;if(n.raw_attachments&&n.raw_attachments.length>0){var v=c('MercuryAttachment').convertRaw(n.raw_attachments);m.snippet_attachments=v;}else m.snippet_attachments=n.attachments;if(n.log_message_type){m.snippet_sender=null;}else m.snippet_sender=n.author;};k.prototype.$MercuryThreads27=function(m,n){m.page_thread_info=babelHelpers['extends']({},m.page_thread_info,{flagged:n});};k.prototype.$MercuryThreads28=function(m,n){m.page_thread_info=babelHelpers['extends']({},m.page_thread_info,{is_priority:n});};k.prototype.$MercuryThreads29=function(m){if(m.folder!==c('MessagingTag').PENDING)return;m.folder=c('MessagingTag').INBOX;};k.prototype.$MercuryThreads15=function(m){return m.filter(function(n){return n!=this.$MercuryThreads4;}.bind(this)).length<=1;};k.prototype.$MercuryThreads13=function(){this.$MercuryThreads5.subscribe('invalidate-thread-state',function(m,n){return this.$MercuryThreads32(n);}.bind(this));this.$MercuryThreads5.subscribe('invalidate-global-state',function(m,n){return this.$MercuryThreads33();}.bind(this));this.$MercuryThreads5.subscribe('update-threads',function(m,n){var o=(n.actions||[]).filter(function(p){return p.thread_id;});if(n.threads&&n.payload_source==c('MercuryPayloadSource').SERVER_FETCH_THREAD_INFO)n.threads.forEach(function(p){var q=p.thread_id;if(this.$MercuryThreads9.has(q)){this.$MercuryThreads9['delete'](q);if(p.unread_count)this.$MercuryThreads2.changeThreadReadStatus(p.thread_id,true);}}.bind(this));this.$MercuryThreads34(n.threads);this.$MercuryThreads16(o,n.from_client);n.threads&&n.threads.forEach(function(p){this.$MercuryThreads22(p.thread_id);}.bind(this));if(n.global_actions)n.global_actions.forEach(function(p){if(p.action_type==c('MercuryGlobalActionType').MARK_ALL_READ)this.$MercuryThreads31(p.folder);}.bind(this));if(this.$MercuryThreads7){this.$MercuryThreads7=false;i.emit('change');}}.bind(this));};k.prototype.$MercuryThreads34=function(m){if(!m||!m.length)return;var n={},o=[];m.forEach(function(p){var q=new (c('ImmutableObject'))(p);n[p.thread_id]=q;o.push(c('MercuryLoggingHelper').obfuscateThread(q));});o.length&&j.debug('threads_added',JSON.stringify({threads:o}));this.$MercuryThreads8.addResourcesAndExecute(n);};k.prototype.$MercuryThreads22=function(m){this.$MercuryThreads7=true;this.$MercuryThreads3.updatedThread(m);};k.prototype.$MercuryThreads20=function(m){this.$MercuryThreads7=true;this.$MercuryThreads3.deletedThread(m);};k.prototype.$MercuryThreads30=function(m,n,o){this.$MercuryThreads7=true;this.$MercuryThreads3.changedThreadReadState(m,n,o);};k.prototype.$MercuryThreads32=function(m){this.$MercuryThreads8.setResource(m,undefined);};k.prototype.$MercuryThreads33=function(){this.$MercuryThreads7=false;this.$MercuryThreads8=new (c('KeyedCallbackManager'))();this.$MercuryThreads9=new (c('Set'))();this.$MercuryThreads10=false;this.$MercuryThreads11=new (c('Set'))();this.$MercuryThreads12=new (c('Set'))();};var l=new (c('MercurySingletonProvider'))(k);f.exports=k;}),null);
__d('MessengerStateProcessor',['MercuryAPIArgsSource','MercuryIDs','MercuryParticipantTypes','MercuryParticipants','MercuryThreadIDMap','MercuryThreads','MercuryVanityIDMap','MessengerURIConstants'],(function a(b,c,d,e,f,g){'use strict';var h={preprocess:function j(k){var l=k.activeThreadID;if(l){var m=c('MercuryIDs').getUserIDFromThreadID(l),n=m&&c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(m));if(n&&n.type!==c('MercuryParticipantTypes').EVENT){k.threadKey=n.vanity||m;}else if(m&&!n){var o=c('MercuryIDs').getParticipantIDFromUserID(m);k.threadKey=c('MercuryVanityIDMap').hasID(o)?c('MercuryVanityIDMap').getVanity(o):m;}else{var p=c('MercuryThreadIDMap').get(),q=p.getServerIDFromClientIDNow(l);k.threadKey=q||c('MercuryIDs').tokenize(l).value;}}delete k.activeThreadID;return k;},postprocess:function j(k){var l=c('MercuryThreadIDMap').get(),m=c('MercuryThreads').get(),n=i(k.threadKey),o=void 0;o=c('MercuryIDs').isValid(n)?n:l.getClientIDFromServerIDNow(n);if(!o){var p=c('MercuryParticipants').getIDFromVanityOrFBID(n),q=p&&m.getCanonicalThreadToParticipant(p,null,c('MercuryAPIArgsSource').MESSENGER);if(q)o=q.thread_id;}if(o){k.activeThreadID=o;k.serverThreadID=l.getServerIDFromClientIDNow(o);}delete k.threadKey;return k;},supportInboxPostprocess:function j(k){if(k.threadKey)k.activeThreadID=c('MercuryIDs').getThreadIDFromSupportInboxItemID(k.threadKey);delete k.threadKey;return k;}};function i(j){if(!j)return null;return j.startsWith(c('MessengerURIConstants').GROUP_PREFIX)?j.substr(c('MessengerURIConstants').GROUP_PREFIX.length):j;}f.exports=h;}),null);
__d('MessengerURISerializer',['CurrentEnvironment','MercuryFilters','MessagingTag','MessengerStateProcessor','MessengerURIConstants','MessengerView','URI','WWWBase'],(function a(b,c,d,e,f,g){'use strict';var h='/?$',i=function m(n,o){n.setPath(c('CurrentEnvironment').facebookdotcom?c('MessengerURIConstants').FACEBOOK_PREFIX+o:o);},j=function m(n,o){var p=n.getPath();if(c('CurrentEnvironment').facebookdotcom&&!p.startsWith(c('MessengerURIConstants').FACEBOOK_PREFIX))o=c('MessengerURIConstants').FACEBOOK_PREFIX+o;n.setPath(n.getPath()+o);},k={serialize:function m(n){var o=new (c('URI'))(c('WWWBase').uri);n=c('MessengerStateProcessor').preprocess(n);switch(n.masterView){case c('MessengerView').MASTER.GROUPS:i(o,c('MessengerURIConstants').GROUPS_PATH);break;case c('MessengerView').MASTER.PEOPLE:i(o,c('MessengerURIConstants').PEOPLE_PATH);break;case c('MessengerView').MASTER.SUPPORT:i(o,c('MessengerURIConstants').SUPPORT_PATH);break;}switch(n.folder){case c('MessagingTag').OTHER:i(o,c('MessengerURIConstants').FILTERED_REQUESTS_PATH);break;case c('MessagingTag').ACTION_ARCHIVED:i(o,c('MessengerURIConstants').ARCHIVED_PATH);break;case c('MessagingTag').PENDING:i(o,c('MessengerURIConstants').MESSAGE_REQUESTS_PATH);break;}if(n.detailView===c('MessengerView').DETAIL.COMPOSE){j(o,c('MessengerURIConstants').COMPOSE_SUBPATH);}else if(n.threadKey){j(o,c('MessengerURIConstants').THREAD_PREFIX+n.threadKey);}else j(o,'');if(n.extraQueryParms)o.addQueryData(n.extraQueryParams);if(c('MercuryFilters').isSupportedFilter(n.filter))o.addQueryData({filter:n.filter});if(n.query!=null){var p;o.addQueryData((p={},p[n.masterView===c('MessengerView').MASTER.SEARCH?'qa':'q']=n.query,p));}if(n.mid)o.addQueryData({mid:n.mid});return o;},deserialize:function m(n){var o={},p=n.getPath();if(c('CurrentEnvironment').facebookdotcom&&!p.startsWith(c('MessengerURIConstants').FACEBOOK_PREFIX))o.notMessenger=true;var q=p.replace(c('MessengerURIConstants').FACEBOOK_PREFIX,''),r=n.getQueryData(),s=r.filter,t=r.mid,u=r.q,v=r.qa,w=babelHelpers.objectWithoutProperties(r,['filter','mid','q','qa']);if(q.match('^'+c('MessengerURIConstants').GROUPS_PATH)){o.masterView=c('MessengerView').MASTER.GROUPS;}else if(q.match('^'+c('MessengerURIConstants').PEOPLE_PATH)){o.masterView=c('MessengerView').MASTER.PEOPLE;}else if(q.match('^'+c('MessengerURIConstants').SUPPORT_PATH)){o.masterView=c('MessengerView').MASTER.SUPPORT;}else if(v){o.masterView=c('MessengerView').MASTER.SEARCH;}else o.masterView=c('MessengerView').MASTER.RECENT;if(q.match('^'+c('MessengerURIConstants').FILTERED_REQUESTS_PATH)){o.folder=c('MessagingTag').OTHER;}else if(q.match('^'+c('MessengerURIConstants').ARCHIVED_PATH)){o.folder=c('MessagingTag').ACTION_ARCHIVED;}else if(q.match('^'+c('MessengerURIConstants').MESSAGE_REQUESTS_PATH)){o.folder=c('MessagingTag').PENDING;}else o.folder=c('MessagingTag').INBOX;if(q.match(c('MessengerURIConstants').COMPOSE_SUBPATH+h)){o.detailView=c('MessengerView').DETAIL.COMPOSE;}else{var x=l(q);if(x){o.threadKey=x;o.detailView=c('MessengerView').DETAIL.THREAD;}}if(c('MercuryFilters').isSupportedFilter(s)){o.filter=s;}else o.filter=c('MercuryFilters').ALL;o.mid=t;o.query=v||u;o.extraQueryParams=w;if(o.masterView===c('MessengerView').MASTER.SUPPORT)return c('MessengerStateProcessor').supportInboxPostprocess(o);return c('MessengerStateProcessor').postprocess(o);}};function l(m){var n=m.match(c('MessengerURIConstants').THREAD_PREFIX+'([^/]+)'+h);return n&&n[1];}f.exports=k;}),null);
__d('MessengerActions',['invariant','MercuryIDs','MessengerDispatcher','MessengerURISerializer','MercuryTypeaheadConstants','MessengerView','URI','goURI','keyMirror'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('keyMirror')({HIDE_DIALOG:null,REPLACE_STATE:null,SHOW_DIALOG:null,UPDATE_MDOT_ME:null}),j={Types:i,changeDetailView:function l(m){k(function(n){if(n.detailView!==m)return {detailView:m};});},changeMasterView:function l(m){k(function(n){if(n.masterView!==m){var o={masterView:m};if(n.masterView===c('MessengerView').MASTER.SEARCH)o.query=undefined;return o;}});},selectThread:function l(m,n){if(n===c('MercuryTypeaheadConstants').MEETING_ROOM_PAGE_TYPE){!!m||h(0);var o=c('MercuryIDs').getUserIDFromThreadID(m);!!o||h(0);var p=new (c('URI'))(),q=p.getQualifiedURI().getSubdomain();p.setDomain('facebook.com').setSubdomain(q).setPath('/'+o).setProtocol('https');window.open(p,'_blank');return;}k(function(r){if(r.activeThreadID!==m)return {activeThreadID:m,detailView:c('MessengerView').DETAIL.THREAD,mid:null};});},changeState:function l(m){c('MessengerDispatcher').dispatch({type:i.REPLACE_STATE,nextState:m});},showDialog:function l(m,n){c('MessengerDispatcher').dispatch({type:j.Types.SHOW_DIALOG,dialogClass:m,dialogProps:n});},changeMDotMeReferral:function l(){var m=arguments.length<=0||arguments[0]===undefined?null:arguments[0],n=arguments.length<=1||arguments[1]===undefined?null:arguments[1];c('MessengerDispatcher').dispatch({type:j.Types.UPDATE_MDOT_ME,refCode:m,refThreadID:n});},hideDialog:function l(m){c('MessengerDispatcher').dispatch({type:j.Types.HIDE_DIALOG,dialogClass:m});},changeFolder:function l(m){k(function(n){if(n.folder!==m)return {folder:m};});},changeFilter:function l(m){k(function(n){if(n.filter!==m)return {filter:m};});},changeQuery:function l(m){k(function(n){if(n.query!==m)return {query:m};});},changeQueryAll:function l(m){var n=!!m;k(function(o){if(o.queryAll!==m)return {query:m,masterView:c('MessengerView').MASTER.SEARCH};});},changeMid:function l(m){k(function(n){if(n.mid!==m)return {mid:m};});}};function k(l){var m=c('MessengerURISerializer').deserialize(new (c('URI'))(window.location.href)),n=l(m);if(n)c('goURI')(c('MessengerURISerializer').serialize(Object.assign(m,n)));}f.exports=j;}),null);
__d('cssVar',[],(function a(b,c,d,e,f,g){function h(i){throw new Error('cssVar'+'("'+i+'"): Unexpected class transformation.');}f.exports=h;}),null);
__d('MessengerProfileImageWrapper.react',['cssVar','cx','MessengerConfig','React','TooltipData','WorkGKs','getViewportDimensions','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var p={};if(this.props.tooltipContent){var q=c('getViewportDimensions')().width,r=parseInt("700px".replace('px',''),10),s=q<=r?'above':'left';Object.assign(p,c('TooltipData').propsFor(this.props.tooltipContent,s));}return (c('React').createElement('div',babelHelpers['extends']({className:c('joinClasses')("_4ldz",this.props.className),style:{width:this.props.size+'px',height:this.props.size+'px'}},p),c('React').createElement('div',{className:"_4ld-",style:{width:this.props.size+'px',height:this.props.size+'px'}},this.props.children),this.$MessengerProfileImageWrapper1()));};m.prototype.$MessengerProfileImageWrapper1=function(){if(c('MessengerConfig').BadgesDisabled||!this.props.showBadge||this.props.isMessengerUser==null||c('WorkGKs').workplace_www_chat_branding)return null;if(this.props.renderOnlineStatus)return (c('React').createElement(o,{className:"_4ld_"}));return (c('React').createElement(n,{className:"_4ld_",isMessengerUser:this.props.isMessengerUser}));};function m(){j.apply(this,arguments);}m.propTypes={isMessengerUser:l.bool,renderOnlineStatus:l.bool,showBadge:l.bool,size:l.number,tooltipContent:l.string};var n=function p(q){return (c('React').createElement('div',{className:c('joinClasses')(q.className,"_2pom")},c('React').createElement('div',{className:"_2pon"+(q.isMessengerUser?' '+"_2poo":'')+(!q.isMessengerUser?' '+"_2pop":'')})));};n.propTypes={isMessengerUser:l.bool.isRequired};var o=function p(q){return (c('React').createElement('div',{className:c('joinClasses')(q.className,"_38jn")},c('React').createElement('div',{className:"_38jt"})));};f.exports=m;}),null);
__d('MessengerContactImage.react',['Image.react','MessengerProfileImageWrapper.react','React'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:this.props.className},c('React').createElement(c('MessengerProfileImageWrapper.react'),{isMessengerUser:this.props.isMessengerUser,size:this.props.size,showBadge:true},c('React').createElement(c('Image.react'),{alt:'',height:this.props.size,src:this.props.src,width:this.props.size}))));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={isMessengerUser:j.bool,size:j.number.isRequired,src:c('Image.react').validateImageSrcPropType};f.exports=k;}),null);
__d('DateStrings',['fbt'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r={getWeekdayName:function s(t){if(!n)n=[h._("Dimanche"),h._("Lundi"),h._("Mardi"),h._("Mercredi"),h._("Jeudi"),h._("Vendredi"),h._("Samedi")];return n[t];},getUppercaseWeekdayName:function s(t){if(!p)p=[h._("DIMANCHE"),h._("LUNDI"),h._("MARDI"),h._("MERCREDI"),h._("JEUDI"),h._("VENDREDI"),h._("SAMEDI")];return p[t];},getWeekdayNameShort:function s(t){if(!o)o=[h._("dim"),h._("lun"),h._("mar"),h._("mer"),h._("jeu"),h._("ven"),h._("sam")];return o[t];},getUppercaseWeekdayNameShort:function s(t){if(!q)q=[h._("Dim"),h._("Lun"),h._("Mar"),h._("mer"),h._("Jeu"),h._("Ven"),h._("SAT")];return q[t];},getMonthName:function s(t){if(!i)i=[h._("janvier"),h._("f\u00e9vrier"),h._("mars"),h._("avril"),h._("mai"),h._("juin"),h._("juillet"),h._("ao\u00fbt"),h._("septembre"),h._("octobre"),h._("novembre"),h._("d\u00e9cembre")];return i[t-1];},getUppercaseMonthName:function s(t){if(!l)l=[h._("JANVIER"),h._("F\u00c9VRIER"),h._("MARS"),h._("AVRIL"),h._("MAI"),h._("JUIN"),h._("JUILLET"),h._("AO\u00dbT"),h._("SEPTEMBRE"),h._("OCTOBRE"),h._("NOVEMBRE"),h._("D\u00c9CEMBRE")];return l[t-1];},getMonthNameShort:function s(t){if(!j)j=[h._("jan"),h._("f\u00e9v"),h._("mar"),h._("avr"),h._("mai"),h._("jun"),h._("juil"),h._("ao\u00fb"),h._("sep"),h._("oct"),h._("nov"),h._("d\u00e9c")];return j[t-1];},getUppercaseMonthNameShort:function s(t){if(!k)k=[h._("JAN"),h._("F\u00c9V"),h._("MAR"),h._("AVR"),h._("MAI"),h._("JUN"),h._("JUIL"),h._("AO\u00db"),h._("SEP"),h._("OCT"),h._("NOV"),h._("D\u00c9C")];return k[t-1];},getOrdinalSuffix:function s(t){if(!m)m=['',h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st"),h._("nd"),h._("rd"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("th"),h._("st")];return m[t];},getDayLabel:function s(){return h._("Jour\u00a0:");},getMonthLabel:function s(){return h._("Mois\u00a0:");},getYearLabel:function s(){return h._("Ann\u00e9e\u00a0:");},getDayPlaceholder:function s(){return h._("jj");},getMonthPlaceholder:function s(){return h._("mm");},getYearPlaceholder:function s(){return h._("aaaa");},getHourPlaceholder:function s(){return h._("h");},getMinutePlaceholder:function s(){return h._("min");},get12HourClockSuffix:function s(t){if(t<12)return h._("am");return h._("pm");},getUppercase12HourClockSuffix:function s(t){if(t<12)return h._("AM");return h._("PM");}};f.exports=r;}),null);
__d('padNumber',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=i.toString();if(k.length>=j)return k;return '0'.repeat(j-k.length)+k;}f.exports=h;}),null);
__d('formatDate',['invariant','DateStrings','DateFormatConfig','padNumber'],(function a(b,c,d,e,f,g,h){function i(l,m,n){n=n||{};if(!m||!l)return '';if(typeof l==='string')l=parseInt(l,10);if(typeof l==='number')l=new Date(l*1000);l instanceof Date||h(0);!isNaN(l.getTime())||h(0);if(typeof m!=='string'){var o=j();for(var p in o){var q=o[p];if(q.start<=l.getTime()&&m[q.name]){m=m[q.name];break;}}}var r;if(n.skipPatternLocalization||!n.formatInternal&&k()){r=m;}else if(!c('DateFormatConfig').formats[m]){m.length===1||h(0);r=m;}else r=c('DateFormatConfig').formats[m];var s=n.utc?'getUTC':'get',t=l[s+'Date'](),u=l[s+'Day'](),v=l[s+'Month'](),w=l[s+'FullYear'](),x=l[s+'Hours'](),y=l[s+'Minutes'](),z=l[s+'Seconds'](),aa=l[s+'Milliseconds'](),ba='';for(var ca=0;ca<r.length;ca++){var da=r.charAt(ca);switch(da){case '\\':ca++;ba+=r.charAt(ca);break;case 'd':ba+=c('padNumber')(t,2);break;case 'j':ba+=t;break;case 'S':ba+=c('DateStrings').getOrdinalSuffix(t);break;case 'D':ba+=c('DateStrings').getWeekdayNameShort(u);break;case 'l':ba+=c('DateStrings').getWeekdayName(u);break;case 'F':case 'f':ba+=c('DateStrings').getMonthName(v+1);break;case 'M':ba+=c('DateStrings').getMonthNameShort(v+1);break;case 'm':ba+=c('padNumber')(v+1,2);break;case 'n':ba+=v+1;break;case 'Y':ba+=w;break;case 'y':ba+=(''+w).slice(2);break;case 'a':if(n.skipSuffixLocalization){ba+=x<12?'am':'pm';}else ba+=c('DateStrings').get12HourClockSuffix(x);break;case 'A':if(n.skipSuffixLocalization){ba+=x<12?'AM':'PM';}else ba+=c('DateStrings').getUppercase12HourClockSuffix(x);break;case 'g':ba+=x===0||x===12?12:x%12;break;case 'G':ba+=x;break;case 'h':if(x===0||x===12){ba+=12;}else ba+=c('padNumber')(x%12,2);break;case 'H':ba+=c('padNumber')(x,2);break;case 'i':ba+=c('padNumber')(y,2);break;case 's':ba+=c('padNumber')(z,2);break;case 'X':ba+=c('padNumber')(aa,3);break;default:ba+=da;}}return ba;}function j(){var l=new Date(),m=l.getTime(),n=l.getFullYear(),o=l.getDate()-(l.getDay()-c('DateFormatConfig').weekStart+6)%7,p=new Date(n,l.getMonth()+1,0).getDate(),q=new Date(n,1,29).getMonth()===1?366:365,r=1000*60*60*24;return [{name:'today',start:l.setHours(0,0,0,0)},{name:'withinDay',start:m-r},{name:'thisWeek',start:new Date(l.getTime()).setDate(o)},{name:'withinWeek',start:m-r*7},{name:'thisMonth',start:l.setDate(1)},{name:'withinMonth',start:m-r*p},{name:'thisYear',start:l.setMonth(0)},{name:'withinYear',start:m-r*q},{name:'older',start:-Infinity}];}i.periodNames=['today','thisWeek','thisMonth','thisYear','withinDay','withinWeek','withinMonth','withinYear','older'];function k(){if(typeof window==='undefined'||!window||!window.location||!window.location.pathname)return false;var l=window.location.pathname,m='/intern';return l.substr(0,m.length)===m;}f.exports=i;}),null);
__d('MercuryTimestamp',['fbt','formatDate','MercuryTimePassed'],(function a(b,c,d,e,f,g,h){var i=86400000,j=6*i,k={getFormatedTimestamp:function l(m){var n=m/1000;return k.getFormattedTimestampByBucket(n,this.getTimeBucket(m));},getAbsoluteTimestamp:function l(m){if(m==null){return null;}else{var n=k.getFormatedTimestamp(m);return n.absolute;}},getRelativeTimestamp:function l(m){var n=k.getFormatedTimestamp(m);return n.relative;},getFormattedTimestampByBucket:function l(m,n){switch(n){case c('MercuryTimePassed').TODAY:return {absolute:h._("Aujourd\u2019hui"),relative:c('formatDate')(m,'g:ia')};case c('MercuryTimePassed').WEEK_AGO:return {absolute:c('formatDate')(m,'l'),relative:c('formatDate')(m,'D')};case c('MercuryTimePassed').CURRENT_YEAR:return {absolute:c('formatDate')(m,'F j'),relative:c('formatDate')(m,'M j')};default:return {absolute:c('formatDate')(m,'F j, Y'),relative:c('formatDate')(m,'n/j/y')};}},getTimeBucket:function l(m){var n=new Date(m),o=new Date(),p=new Date(o.getFullYear(),o.getMonth(),o.getDate());if(p<n){return c('MercuryTimePassed').TODAY;}else if(p-j<n){return c('MercuryTimePassed').WEEK_AGO;}else if(p.getFullYear()===n.getFullYear()){return c('MercuryTimePassed').CURRENT_YEAR;}else return c('MercuryTimePassed').OTHER_YEAR;},getPreciseTimestamp:function l(m){return c('formatDate')(new Date(m),k.getPreciseFormat(m));},getPreciseFormat:function l(m){var n=k.getTimeBucket(m);switch(n){case c('MercuryTimePassed').TODAY:return 'g:ia';case c('MercuryTimePassed').WEEK_AGO:return 'l g:ia';case c('MercuryTimePassed').CURRENT_YEAR:return 'F jS, g:ia';case c('MercuryTimePassed').OTHER_YEAR:default:return 'F j, Y g:i a';}}};f.exports=k;}),null);
__d('LayerFadeOnHide',['Animation','Layer','Style','UserAgent_DEPRECATED','emptyFunction','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){function h(i){'use strict';this._layer=i;}h.prototype.enable=function(){'use strict';if(c('UserAgent_DEPRECATED').ie()<9)return;this._subscription=this._layer.subscribe('starthide',this._handleStartHide.bind(this));};h.prototype.disable=function(){'use strict';if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};h.prototype._getDuration=function(){'use strict';return 150;};h.prototype._handleStartHide=function(){'use strict';var i=true,j=c('Layer').subscribe('show',function(){j.unsubscribe();i=false;});c('setTimeoutAcrossTransitions')(function(){j.unsubscribe();j=null;var k=function(){this._layer.finishHide();}.bind(this);if(i){this._animate(k);}else k();}.bind(this),0);return false;};h.prototype._animate=function(i){'use strict';var j=this._layer.getRoot();new (c('Animation'))(j).from('opacity',1).to('opacity',0).duration(this._getDuration()).ondone(function(){c('Style').set(j,'opacity','');i();}).go();};h.forDuration=function(i){var j,k;'use strict';j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(){j.apply(this,arguments);}l.prototype._getDuration=c('emptyFunction').thatReturns(i);return l;};Object.assign(h.prototype,{_subscription:null});f.exports=h;}),null);
__d('MessengerDialog.react',['cx','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerDialog',propTypes:{onToggle:i.func.isRequired,repositionOnUpdate:i.bool,shown:i.bool,type:i.oneOf(['alert','default']),width:i.number},getDefaultProps:function k(){return {repositionOnUpdate:false,shown:true,type:'alert',width:400};},componentDidUpdate:function k(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this),0);},render:function k(){return (c('React').createElement(c('XUIDialog.react'),babelHelpers['extends']({behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')}},this.props,{className:c('joinClasses')("_4ebx",this.props.className),ref:'dialog'}),c('React').createElement('div',{className:"_4eby"+(this.props.type==='alert'?' '+"_2c9g":'')+(this.props.type==='default'?' '+"_2c9i":'')},this.props.children)));}});f.exports=j;}),null);
__d('MessengerButton.react',['cx','Link.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.handleLinkClick=function(r){if(this.props.disabled){r.preventDefault();}else if(this.props.onClick)this.props.onClick(r);}.bind(this),n;}l.prototype.render=function(){var m=this.props,n=m.className,o=m.label,p=babelHelpers.objectWithoutProperties(m,['className','label']),q=babelHelpers['extends']({className:c('joinClasses')("_3quh"+(' '+"_30yy")+(this.props.type==='primary'?' '+"_2t_":'')+(this.props.type==='secondary'?' '+"_2u0":'')+(this.props.use==='danger'?' '+"_3ay_":'')+(this.props.disabled?' '+"_4zab":'')+(this.props.customColor?' '+"_fy2":''),n)},p,{onClick:this.handleLinkClick});return (this.props.href?c('React').createElement(c('Link.react'),q,o):c('React').createElement('span',{className:"_30vt"},c('React').createElement('button',q,o)));};l.propTypes={customColor:k.bool.isRequired,label:k.node,type:k.oneOf(['primary','secondary']).isRequired,use:k.oneOf(['default','danger']).isRequired};l.defaultProps={use:'default',customColor:false};f.exports=l;}),null);
__d('MessengerDialogButton.react',['cx','MessengerButton.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.action,o=m.className,p=babelHelpers.objectWithoutProperties(m,['action','className']);return (c('React').createElement(c('MessengerButton.react'),babelHelpers['extends']({className:c('joinClasses')(o,"_5ixy"+(n==='button'?' '+"layerButton":'')+(n==='cancel'?' '+"layerCancel":'')+(n==='confirm'?' '+"layerConfirm":''))},p)));};function l(){i.apply(this,arguments);}l.propTypes={action:k.oneOf(['button','cancel','confirm'])};f.exports=l;}),null);
__d('MessengerDialogHeader.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement('h2',{className:c('joinClasses')("_4ebz",this.props.className),id:this.props.id},this.props.children));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MessengerDialogTitle.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement('div',{className:c('joinClasses')("_19jt",this.props.className)},this.props.children));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MessengerSpinner.react',['cx','fbt','ix','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=j('/images/mercury/clients/messenger/core/LoadingSpinner.png'),o=j('/images/mercury/clients/messenger/core/LoadingSpinnerGrey.png'),p=j('/images/mercury/clients/messenger/core/LoadingSpinnerExtraLarge.png'),q=24,r=32;k=babelHelpers.inherits(s,c('React').PureComponent);l=k&&k.prototype;s.prototype.render=function(){return (c('React').createElement(c('Image.react'),{'aria-label':i._("Chargement..."),'aria-busy':true,className:c('joinClasses')(this.props.className,"_3u55 _3qh2"),height:this.props.size,src:this.$MessengerSpinner1(),width:this.props.size}));};s.prototype.$MessengerSpinner1=function(){return this.props.size===q?this.props.color==='blue'?n:o:p;};function s(){k.apply(this,arguments);}s.propTypes={color:m.oneOf(['blue','grey']),size:m.oneOf([q,r])};s.defaultProps={color:'blue',size:q};s.Sizes={LARGE:r,MEDIUM:q};f.exports=s;}),null);
__d('RelayError',['sprintf'],(function a(b,c,d,e,f,g){'use strict';var h={create:function j(k,l){for(var m=arguments.length,n=Array(m>2?m-2:0),o=2;o<m;o++)n[o-2]=arguments[o];return i('mustfix',k,l,n);},createWarning:function j(k,l){for(var m=arguments.length,n=Array(m>2?m-2:0),o=2;o<m;o++)n[o-2]=arguments[o];return i('warn',k,l,n);}};function i(j,k,l,m){var n=new Error(c('sprintf').apply(undefined,[l].concat(m)));n.name=k;n.type=j;n.framesToPop=2;return n;}f.exports=h;}),null);
__d('RelayAPIConfig',['RelayAPIConfigDefaults'],(function a(b,c,d,e,f,g){'use strict';var h=babelHelpers['extends']({},c('RelayAPIConfigDefaults'),{setActorID:function i(j){h.actorID=j;},setLocale:function i(j){h.graphBatchURI.setQueryData({locale:j});h.graphURI.setQueryData({locale:j});},setCSRFToken:function i(j){h.graphBatchURI.setQueryData({fb_dtsg:j});h.graphURI.setQueryData({fb_dtsg:j});},setAPIVersion:function i(j){h.graphBatchURI.setPath('/'+j+'/graphqlbatch');h.graphURI.setPath('/'+j+'/graphql');}});f.exports=h;}),null);
__d('createChunkedResponseParser',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i='\r\n',j=2;function k(l,m){var n=0,o=function p(q,r,s){if(m){q=m(q);q==null||typeof q==='string'||h(0);}if(q){var t=q.length;while(n<t){var u=q.indexOf(i,n);if(u<0)if(s){u=t;}else break;var v=q.slice(n,u);n+=v.length+j;l(v,r,s&&n>=t);}}else if(s)l('',r,true);};o.parseStreaming=true;return o;}f.exports=k;}),null);
__d('RelayAPIRequest',['invariant','RelayAPIConfig','URI','XHRHttpError','XHRRequest','createChunkedResponseParser','forEachObject','getSameOriginTransport','warning'],(function a(b,c,d,e,f,g,h){'use strict';function i(k){return (k===c('XHRHttpError').HTTP_TRANSPORT_ERROR||k===c('XHRHttpError').HTTP_SERVER_ERROR);}function j(k){this.$RelayAPIRequest1=false;this.setURI(k);this.setMethod('POST');this.setTransportBuilder(c('getSameOriginTransport'));}j.prototype.setURI=function(k){!this.$RelayAPIRequest1||h(0);this.$RelayAPIRequest2=new (c('URI'))(k);return this;};j.prototype.setMethod=function(k){!this.$RelayAPIRequest1||h(0);this.$RelayAPIRequest3=k;return this;};j.prototype.setData=function(k){!this.$RelayAPIRequest1||h(0);this.$RelayAPIRequest4=k;return this;};j.prototype.setTrackingName=function(k){this.$RelayAPIRequest6=k;return this;};j.prototype.setRequestHeaders=function(k){!this.$RelayAPIRequest1||h(0);this.$RelayAPIRequest5=k;return this;};j.prototype.setTransportBuilder=function(k){!this.$RelayAPIRequest1||h(0);var l=k;this.$RelayAPIRequest7=function(){var m=l();if(m.setTrackingName)m.setTrackingName(this.$RelayAPIRequest6);return m;}.bind(this);return this;};j.prototype.setResponseFilter=function(k){!this.$RelayAPIRequest1||h(0);this.$RelayAPIRequest8=k;return this;};j.prototype.setResponseChunkHandler=function(k){!this.$RelayAPIRequest1||h(0);this.$RelayAPIRequest9=k;return this;};j.prototype.setErrorHandler=function(k){!this.$RelayAPIRequest1||h(0);this.$RelayAPIRequest10=k;return this;};j.prototype.setTimeoutHandler=function(k){!this.$RelayAPIRequest1||h(0);this.$RelayAPIRequest11=k;return this;};j.prototype.send=function(){!this.$RelayAPIRequest1||h(0);this.$RelayAPIRequest1=true;var k=void 0,l=0,m=0;function n(){return l<=c('RelayAPIConfig').retryDelays.length;}function o(){var q=c('RelayAPIConfig').retryDelays[l-1],r=m+q,s=setTimeout(function(){k=p();},r-Date.now());k={abort:function t(){clearTimeout(s);}};}var p=function(){l++;m=Date.now();var q=void 0;if(this.$RelayAPIRequest9)q=c('createChunkedResponseParser')(this.$RelayAPIRequest9,this.$RelayAPIRequest8);var r=this.$RelayAPIRequest10,s=function w(x){if(n()&&i(x.errorCode)){c('warning')(false,'RelayAPIRequest: Transient HTTP error, retrying. %s %s %s',x.errorType||'',x.errorCode||'',x.errorMsg||'');o();}else if(r)r(x);},t=this.$RelayAPIRequest11,u=function w(){if(n()){c('warning')(false,'RelayAPIRequest: HTTP timeout, retrying.');o();}else if(t)t();};c('warning')(this.$RelayAPIRequest6,'All requests should have setTrackingName invoked for analytics and debugging.');var v=new (c('XHRRequest'))(this.$RelayAPIRequest2).setMethod(this.$RelayAPIRequest3).setData(this.$RelayAPIRequest4).setTransportBuilder(this.$RelayAPIRequest7).setErrorHandler(s).setResponseHandler(q).setTimeout(c('RelayAPIConfig').fetchTimeout).setTimeoutHandler(u);c('forEachObject')(this.$RelayAPIRequest5,function(w,x){v.setRequestHeader(x,w);});v.send();return v;}.bind(this);k=p();return {abort:function q(){if(k)k.abort();}};};f.exports=j;}),null);
__d('RelayGraphQLRequestUtils',['RelayAPIConfig','RelayError','XHRHttpError','getAsyncParams','getCrossOriginTransport','getSameOriginTransport'],(function a(b,c,d,e,f,g){'use strict';var h={createErrorFromPayload:function i(j){var k=typeof j==='object'?c('RelayError').create('GraphQLError','GraphQL server responded with error %s: %s\n%s',j.code,j.description,j.debug_info||''):c('RelayError').create('GraphQLError','GraphQL server responded with an error: %s',j);k.source=j;return k;},createErrorFromXHR:function i(j,k){var l=void 0;for(var m=arguments.length,n=Array(m>2?m-2:0),o=2;o<m;o++)n[o-2]=arguments[o];if(j.errorCode===c('XHRHttpError').HTTP_TRANSPORT_ERROR){l=c('RelayError').createWarning.apply(c('RelayError'),['NetworkTransportError',k].concat(n));}else if(j.errorCode===c('XHRHttpError').HTTP_CLIENT_ERROR&&j.errorMsg&&j.errorMsg.match(/OAuthException/)){l=c('RelayError').create.apply(c('RelayError'),['NetworkOAuthError',k].concat(n));}else l=c('RelayError').create.apply(c('RelayError'),['NetworkRequestError',k].concat(n));l.source=j;return l;},getRequestHeaders:function i(){var j={'Content-Type':'application/x-www-form-urlencoded'};if(c('RelayAPIConfig').xhrEncoding)j['Content-Encoding']=c('RelayAPIConfig').xhrEncoding;if(c('RelayAPIConfig').userAgent)j['User-Agent']=c('RelayAPIConfig').userAgent;return j;},getAuthenticationData:function i(){if(c('RelayAPIConfig').useXController){return babelHelpers['extends']({},c('getAsyncParams')('POST'),{av:c('RelayAPIConfig').actorID});}else return {access_token:c('RelayAPIConfig').accessToken};},getTransportBuilder:function i(){return c('RelayAPIConfig').useXController?c('getSameOriginTransport'):c('getCrossOriginTransport');},parsePayload:function i(j){try{return JSON.parse(j);}catch(k){throw c('RelayError').create('JSONParseError','Response contained invalid JSON.\n'+'Reason: %s\n'+'%s',k.message,j);}}};f.exports=h;}),null);
__d('RelayGraphQLBatchRequest',['invariant','RelayAPIConfig','RelayAPIRequest','RelayError','RelayGraphQLRequestUtils'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){this.$RelayGraphQLBatchRequest1=j;this.$RelayGraphQLBatchRequest2=null;this.$RelayGraphQLBatchRequest3={};this.$RelayGraphQLBatchRequest4=k||'json';this.$RelayGraphQLBatchRequest5='UNSENT';}i.prototype.add=function(j,k){this.$RelayGraphQLBatchRequest5==='UNSENT'||h(0);if(!this.$RelayGraphQLBatchRequest3.hasOwnProperty(j))this.$RelayGraphQLBatchRequest3[j]=k;return this;};i.prototype.send=function(j){this.$RelayGraphQLBatchRequest5==='UNSENT'||h(0);this.$RelayGraphQLBatchRequest5='SENT';this.$RelayGraphQLBatchRequest2=j;var k=new (c('RelayAPIRequest'))(c('RelayAPIConfig').graphBatchURI).setMethod('POST').setTrackingName('RelayGraphQLBatchRequest_'+this.$RelayGraphQLBatchRequest1).setData(babelHelpers['extends']({},c('RelayGraphQLRequestUtils').getAuthenticationData(),{batch_name:this.$RelayGraphQLBatchRequest1,method:'GET',queries:JSON.stringify(this.$RelayGraphQLBatchRequest3),response_format:this.$RelayGraphQLBatchRequest4,scheduler:'phased'})).setTransportBuilder(c('RelayGraphQLRequestUtils').getTransportBuilder()).setRequestHeaders(c('RelayGraphQLRequestUtils').getRequestHeaders()).setErrorHandler(function(l){this.$RelayGraphQLBatchRequest6(c('RelayGraphQLRequestUtils').createErrorFromXHR(l,'Network request encountered error %s %s: %s',l.errorType,l.errorCode,l.errorMsg));}.bind(this)).setTimeoutHandler(function(){this.$RelayGraphQLBatchRequest6(c('RelayError').createWarning('NetworkTimeoutError','Network request timed out.'));}.bind(this)).setResponseFilter(i.responseFilter).setResponseChunkHandler(this.$RelayGraphQLBatchRequest7.bind(this)).send();return {abort:function(){if(this.$RelayGraphQLBatchRequest5!=='TERMINATED'){this.$RelayGraphQLBatchRequest5='TERMINATED';k.abort();}}.bind(this)};};i.responseFilter=function(j){return j.replace(/^ +/,'').replace(/ +$/,'');};i.prototype.$RelayGraphQLBatchRequest7=function(j,k,l){var m=void 0;try{m=c('RelayGraphQLRequestUtils').parsePayload(j);}catch(n){this.$RelayGraphQLBatchRequest6(n);return;}if(m.error){var o=c('RelayGraphQLRequestUtils').createErrorFromPayload(m.error);this.$RelayGraphQLBatchRequest6(o);}else if(l){this.$RelayGraphQLBatchRequest8('onCompleted');}else Object.keys(m).forEach(function(p){var q=m[p],r=q.data,s=q.error,t=q.errors,u=q.exports,v=q.ref_params,w=q.response,x=null;if(s){x=c('RelayGraphQLRequestUtils').createErrorFromPayload(s);}else if(t){x=c('RelayError').create('GraphQL OSS Error','GraphQL OSS server responded with errors, see `source` for more '+'details.');x.source=t;}var y={data:r,error:x,errors:t,exports:u,id:p,refParams:v,response:r!==undefined?r:w};this.$RelayGraphQLBatchRequest8('onNext',y);}.bind(this));};i.prototype.$RelayGraphQLBatchRequest6=function(j){this.$RelayGraphQLBatchRequest8('onError',j);};i.prototype.$RelayGraphQLBatchRequest8=function(j){if(this.$RelayGraphQLBatchRequest5==='TERMINATED')return;if(j==='onCompleted'||j==='onError')this.$RelayGraphQLBatchRequest5='TERMINATED';if(this.$RelayGraphQLBatchRequest2){var k;for(var l=arguments.length,m=Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=arguments[n];(k=this.$RelayGraphQLBatchRequest2)[j].apply(k,m);}};f.exports=i;}),null);
__d('RelayProfiler',['emptyFunction','forEachObject','removeFromArray'],(function a(b,c,d,e,f,g){'use strict';var h={'*':[]},i={'*':[]},j={},k={stop:c('emptyFunction')},l=function n(o){return o.charAt(0)!=='@';},m={instrumentMethods:function n(o,p){c('forEachObject')(p,function(q,r){o[r]=m.instrument(q,o[r]);});},instrument:function n(o,p){if(!l(o)){p.attachHandler=c('emptyFunction');p.detachHandler=c('emptyFunction');return p;}if(!h.hasOwnProperty(o))h[o]=[];var q=h['*'],r=h[o],s=[],t=[],u=function w(){var x=t[t.length-1];if(x[0]){x[0]--;q[x[0]](o,w);}else if(x[1]){x[1]--;r[x[1]](o,w);}else if(x[2]){x[2]--;s[x[2]](o,w);}else x[5]=p.apply(x[3],x[4]);},v=function w(){var x=void 0;if(r.length===0&&s.length===0&&q.length===0){x=p.apply(this,arguments);}else{t.push([q.length,r.length,s.length,this,arguments,j]);u();var y=t.pop();x=y[5];if(x===j)throw new Error('RelayProfiler: Handler did not invoke original function.');}return x;};v.attachHandler=function(w){s.push(w);};v.detachHandler=function(w){c('removeFromArray')(s,w);};v.displayName='(instrumented '+o+')';return v;},attachAggregateHandler:function n(o,p){if(l(o)){if(!h.hasOwnProperty(o))h[o]=[];h[o].push(p);}},detachAggregateHandler:function n(o,p){if(l(o))if(h.hasOwnProperty(o))c('removeFromArray')(h[o],p);},profile:function n(o,p){var q,r=i['*'].length>0,s=i.hasOwnProperty(o);if(s||r){var q=function(){var t=s&&r?i[o].concat(i['*']):s?i[o]:i['*'],u=void 0;for(var v=t.length-1;v>=0;v--){var w=t[v],x=w(o,p);u=u||[];u.unshift(x);}return {v:{stop:function y(){if(u)u.forEach(function(z){return z();});}}};}();if(typeof q==="object")return q.v;}return k;},attachProfileHandler:function n(o,p){if(l(o)){if(!i.hasOwnProperty(o))i[o]=[];i[o].push(p);}},detachProfileHandler:function n(o,p){if(l(o))if(i.hasOwnProperty(o))c('removeFromArray')(i[o],p);}};f.exports=m;}),null);
__d('stableStringify',[],(function a(b,c,d,e,f,g){'use strict';function h(j){return (j!==null&&Object.prototype.toString.call(j)==='[object Object]');}function i(j){var k=Array.isArray(j),l=h(j);if(k||l){var m=Object.keys(j);if(m.length){var n=[];m.sort();for(var o=0;o<m.length;o++){var p=m[o],q=j[p];if(h(q)||Array.isArray(q)){q=i(q);}else q=JSON.stringify(q);n.push(p+':'+q);}if(k){return '['+n.join(',')+']';}else return '{'+n.join(',')+'}';}}return JSON.stringify(j);}f.exports=i;}),null);
__d('forEachRootCallArg',['invariant','stableStringify'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){!j.getBatchCall()||h(0);function l(o,p){if(Array.isArray(o)){o.forEach(function(q){return l(q,p);});}else p({identifyingArgValue:o,identifyingArgKey:o==null?null:typeof o==='string'?o:c('stableStringify')(o)});}var m=j.getIdentifyingArg(),n=m&&m.value||null;l(n,k);}f.exports=i;}),null);
__d('RelayFBNodeInterface',['invariant','forEachRootCallArg'],(function a(b,c,d,e,f,g,h){'use strict';var i={ANY_TYPE:'__any',ID:'id',ID_TYPE:'ID!',NODE:'node',NODE_TYPE:'Node',NODES:'nodes',TYPENAME:'__typename',isNodeRootCall:function k(l){return (l===i.NODE||l===i.NODES);},getResultsFromPayload:function k(l,m){var n,o=[],p=l.getBatchCall();if(p){Object.keys(m).forEach(function(q){var r=m[q];if(typeof r==='object'&&r!==null){r[i.ID]===q||h(0);o.push({result:r,rootCallInfo:{storageKey:i.NODE,identifyingArgKey:q,identifyingArgValue:q}});}});}else (function(){var q=l.getFieldName(),r=l.getStorageKey();c('forEachRootCallArg')(l,function(s){var t=s.identifyingArgValue,u=s.identifyingArgKey,v=j(m,q,t),w=void 0;if(v==null||!m.hasOwnProperty(v)){w=null;}else w=m[v];o.push({result:w,rootCallInfo:{storageKey:r,identifyingArgKey:u,identifyingArgValue:t}});});})();return o;}};function j(k,l,m){var n=void 0,o=Object.keys(k);if(o.length===1){n=o[0];}else if(m==null){o.length<2||h(0);n=o[0];}else{typeof m==='string'||typeof m==='number'||h(0);n=''+m;}return n;}f.exports=i;}),null);
__d('RelayOSSNodeInterface',['invariant','forEachRootCallArg'],(function a(b,c,d,e,f,g,h){'use strict';var i={ANY_TYPE:'__any',ID:'id',ID_TYPE:'ID!',NODE:'node',NODE_TYPE:'Node',NODES:'nodes',TYPENAME:'__typename',isNodeRootCall:function k(l){return (l===i.NODE||l===i.NODES);},getResultsFromPayload:function k(l,m){var n,o=[],p=l.getBatchCall();if(p){j(l,m).forEach(function(q){if(typeof q!=='object'||!q)return;var r=q[i.ID];typeof r==='string'||h(0);o.push({result:q,rootCallInfo:{storageKey:i.NODE,identifyingArgKey:r,identifyingArgValue:r}});});}else (function(){var q=j(l,m),r=0,s=l.getStorageKey();c('forEachRootCallArg')(l,function(t){var u=t.identifyingArgKey,v=t.identifyingArgValue,w=q[r++];o.push({result:w,rootCallInfo:{storageKey:s,identifyingArgKey:u,identifyingArgValue:v}});});})();return o;}};function j(k,l){var m=k.getFieldName(),n=k.getIdentifyingArg(),o=n&&n.value||null,p=l[m];if(!k.getBatchCall())if(Array.isArray(o)){Array.isArray(p)||h(0);p.length===o.length||h(0);}else if(Array.isArray(p))h(0);return Array.isArray(p)?p:[p||null];}f.exports=i;}),null);
__d('RelayNodeInterface',['RelayOSSNodeInterface','RelayFBNodeInterface'],(function a(b,c,d,e,f,g){'use strict';f.exports=b.__RELAYOSS__?c('RelayOSSNodeInterface'):c('RelayFBNodeInterface');}),null);
__d('base62',[],(function a(b,c,d,e,f,g){'use strict';var h='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';function i(j){if(!j)return '0';var k='';while(j>0){k=h[j%62]+k;j=Math.floor(j/62);}return k;}f.exports=i;}),null);
__d('generateConcreteFragmentID',['base62'],(function a(b,c,d,e,f,g){'use strict';var h='::client',i=0;function j(){return c('base62')(i++)+h;}f.exports=j;}),null);
__d('QueryBuilder',['RelayNodeInterface','generateConcreteFragmentID','warning'],(function a(b,c,d,e,f,g){'use strict';var h=[],i=[],j=[],k={},l={createBatchCallVariable:function n(o,p){return {kind:'BatchCallVariable',sourceQueryID:o,jsonPath:p};},createCall:function n(o,p,q){return {kind:'Call',name:o,metadata:{type:q||null},value:p};},createCallValue:function n(o){return {kind:'CallValue',callValue:o};},createCallVariable:function n(o){return {kind:'CallVariable',callVariableName:o};},createDirective:function n(o,p){return {args:p,kind:'Directive',name:o};},createDirectiveArgument:function n(o,p){return {name:o,value:p};},createField:function n(o){var p=o.metadata||k;return {alias:o.alias,calls:o.calls||h,children:o.children||i,directives:o.directives||j,fieldName:o.fieldName,kind:'Field',metadata:{canHaveSubselections:!!p.canHaveSubselections,inferredRootCallName:p.inferredRootCallName,inferredPrimaryKey:p.inferredPrimaryKey,isConnection:!!p.isConnection,isFindable:!!p.isFindable,isGenerated:!!p.isGenerated,isPlural:!!p.isPlural,isRequisite:!!p.isRequisite,isAbstract:!!p.isAbstract},type:o.type};},createFragment:function n(o){var p=o.metadata||k;return {children:o.children||i,directives:o.directives||j,id:c('generateConcreteFragmentID')(),kind:'Fragment',metadata:{isAbstract:!!p.isAbstract,pattern:!!p.pattern,plural:!!p.plural},name:o.name,type:o.type};},createFragmentReference:function n(o){return {kind:'FragmentReference',fragment:o};},createMutation:function n(o){var p=o.metadata||k;return {calls:o.calls||h,children:o.children||i,directives:o.directives||j,kind:'Mutation',metadata:{inputType:p.inputType},name:o.name,responseType:o.responseType};},createQuery:function n(o){var p=o.metadata||k,q=[],r=p.identifyingArgName;if(r==null&&c('RelayNodeInterface').isNodeRootCall(o.fieldName))r=c('RelayNodeInterface').ID;if(r!=null){c('warning')(o.identifyingArgValue!=null,'QueryBuilder.createQuery(): An argument value may be required for '+'query `%s(%s: ???)`.',o.fieldName,r);q=[l.createCall(r,o.identifyingArgValue,p.identifyingArgType)];}return {calls:q,children:o.children||i,directives:o.directives||j,fieldName:o.fieldName,isDeferred:!!(o.isDeferred||p.isDeferred),kind:'Query',metadata:{identifyingArgName:r,identifyingArgType:p.identifyingArgType,isAbstract:!!p.isAbstract,isPlural:!!p.isPlural},name:o.name,type:o.type};},createSubscription:function n(o){var p=o.metadata||k;return {calls:o.calls||h,children:o.children||i,directives:o.directives||j,kind:'Subscription',metadata:{inputType:p.inputType},name:o.name,responseType:o.responseType};},getBatchCallVariable:function n(o){if(m(o,'BatchCallVariable'))return o;},getCallVariable:function n(o){if(m(o,'CallVariable'))return o;},getField:function n(o){if(m(o,'Field'))return o;},getFragment:function n(o){if(m(o,'Fragment'))return o;},getFragmentReference:function n(o){if(m(o,'FragmentReference'))return o;},getFragmentSpread:function n(o){if(m(o,'FragmentSpread'))return o;},getOperationDefinition:function n(o){if(m(o,'OperationDefinition'))return o;},getMutation:function n(o){if(m(o,'Mutation'))return o;},getQuery:function n(o){if(m(o,'Query'))return o;},getSubscription:function n(o){if(m(o,'Subscription'))return o;}};function m(n,o){return (typeof n==='object'&&n!==null&&n.kind===o);}f.exports=l;}),null);
__d('RelayFBConnectionInterface',[],(function a(b,c,d,e,f,g){'use strict';var h='client_mutation_id',i={after:true,before:true,find:true,first:true,last:true,surrounds:true},j='cursor',k='edges',l='end_cursor',m='has_next_page',n='has_previous_page',o='node',p='page_info',q='PageInfo',r={find:true,first:true,last:true},s='start_cursor',t={CLIENT_MUTATION_ID:h,CURSOR:j,EDGES:k,END_CURSOR:l,HAS_NEXT_PAGE:m,HAS_PREV_PAGE:n,NODE:o,PAGE_INFO:p,PAGE_INFO_TYPE:q,START_CURSOR:s,EDGES_HAVE_SOURCE_FIELD:true,isConnectionCall:function u(v){return i.hasOwnProperty(v.name);},hasRangeCalls:function u(v){return v.some(function(w){return r.hasOwnProperty(w.name);});},getDefaultPageInfo:function u(){var v;return v={},v[l]=undefined,v[m]=false,v[n]=false,v[s]=undefined,v;}};f.exports=t;}),null);
__d('RelayOSSConnectionInterface',[],(function a(b,c,d,e,f,g){'use strict';var h='clientMutationId',i={after:true,before:true,find:true,first:true,last:true,surrounds:true},j='cursor',k='edges',l='endCursor',m='hasNextPage',n='hasPreviousPage',o='node',p='pageInfo',q='PageInfo',r={find:true,first:true,last:true},s='startCursor',t={CLIENT_MUTATION_ID:h,CURSOR:j,EDGES:k,END_CURSOR:l,HAS_NEXT_PAGE:m,HAS_PREV_PAGE:n,NODE:o,PAGE_INFO:p,PAGE_INFO_TYPE:q,START_CURSOR:s,EDGES_HAVE_SOURCE_FIELD:false,isConnectionCall:function u(v){return i.hasOwnProperty(v.name);},hasRangeCalls:function u(v){return v.some(function(w){return r.hasOwnProperty(w.name);});},getDefaultPageInfo:function u(){var v;return v={},v[l]=undefined,v[m]=false,v[n]=false,v[s]=undefined,v;}};f.exports=t;}),null);
__d('RelayConnectionInterface',['RelayOSSConnectionInterface','RelayFBConnectionInterface'],(function a(b,c,d,e,f,g){'use strict';f.exports=b.__RELAYOSS__?c('RelayOSSConnectionInterface'):c('RelayFBConnectionInterface');}),null);
__d('RelayFragmentReference',['invariant','QueryBuilder','forEachObject','warning'],(function a(b,c,d,e,f,g,h){'use strict';i.createForContainer=function(j,k,l,m){var n=new i(j,k,l,m);n.$RelayFragmentReference5=true;return n;};function i(j,k,l,m){this.$RelayFragmentReference1=null;this.$RelayFragmentReference2=k||{};this.$RelayFragmentReference3=undefined;this.$RelayFragmentReference4=j;this.$RelayFragmentReference5=false;this.$RelayFragmentReference6=false;this.$RelayFragmentReference7=false;this.$RelayFragmentReference8=l;this.$RelayFragmentReference9=m;}i.prototype.conditionOnType=function(){this.$RelayFragmentReference7=true;return this;};i.prototype.getConditions=function(){return this.$RelayFragmentReference1;};i.prototype.getFragmentUnconditional=function(){var j=this.$RelayFragmentReference3;if(j==null){j=this.$RelayFragmentReference4();this.$RelayFragmentReference3=j;}return j;};i.prototype.getInitialVariables=function(){return this.$RelayFragmentReference2;};i.prototype.getVariableMapping=function(){return this.$RelayFragmentReference8;};i.prototype.defer=function(){this.$RelayFragmentReference6=true;return this;};i.prototype['if']=function(j){var k=c('QueryBuilder').getCallVariable(j);k||h(0);this.$RelayFragmentReference10({passingValue:true,variable:k.callVariableName});return this;};i.prototype.unless=function(j){var k=c('QueryBuilder').getCallVariable(j);k||h(0);this.$RelayFragmentReference10({passingValue:false,variable:k.callVariableName});return this;};i.prototype.getFragment=function(j){var k=this.$RelayFragmentReference1;if(k&&!k.every(function(l){var m=l.variable,n=l.passingValue;return !!j[m]===n;}))return null;return this.getFragmentUnconditional();};i.prototype.getVariables=function(j,k){var l=babelHelpers['extends']({},this.$RelayFragmentReference2),m=this.$RelayFragmentReference8;if(m)c('forEachObject')(m,function(o,p){var q=c('QueryBuilder').getCallVariable(o);if(q)o=k[q.callVariableName];if(o===undefined){c('warning')(false,'RelayFragmentReference: Variable `%s` is undefined in fragment '+'`%s`.',p,this.getFragmentUnconditional().name);}else l[p]=o;}.bind(this));var n=this.$RelayFragmentReference9;if(n)l=n(l,j);return l;};i.prototype.isContainerFragment=function(){return this.$RelayFragmentReference5;};i.prototype.isDeferred=function(){return this.$RelayFragmentReference6;};i.prototype.isTypeConditional=function(){return this.$RelayFragmentReference7;};i.prototype.$RelayFragmentReference10=function(j){var k=this.$RelayFragmentReference1;if(!k){k=[];this.$RelayFragmentReference1=k;}k.push(j);};f.exports=i;}),null);
__d('RelayMetaRoute',[],(function a(b,c,d,e,f,g){'use strict';function h(j){Object.defineProperty(this,'name',{enumerable:true,value:j,writable:false});}h.get=function(j){return i[j]||(i[j]=new h(j));};var i={};f.exports=h;}),null);
__d('RelayRouteFragment',[],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$RelayRouteFragment1=i;}h.prototype.getFragmentForRoute=function(i){return this.$RelayRouteFragment1(i);};f.exports=h;}),null);
__d('RelayVariable',[],(function a(b,c,d,e,f,g){'use strict';function h(i){this.name=i;}h.prototype.equals=function(i){return (i instanceof h&&i.getName()===this.name);};h.prototype.getName=function(){return this.name;};f.exports=h;}),null);
__d('RelayVariables',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(k,l,m){var n=void 0;k.argumentDefinitions.forEach(function(o){if(m.hasOwnProperty(o.name))return;n=n||babelHelpers['extends']({},m);switch(o.kind){case 'LocalArgument':n[o.name]=o.defaultValue;break;case 'RootArgument':l.hasOwnProperty(o.name)||h(0);n[o.name]=l[o.name];break;default:h(0);}});return n||m;}function j(k,l){var m={};k.argumentDefinitions.forEach(function(n){var o=n.defaultValue;if(l[n.name]!=null)o=l[n.name];m[n.name]=o;});return m;}f.exports={getFragmentVariables:i,getOperationVariables:j};}),null);
__d('callsFromGraphQL',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(k,l){var m=k,n=[];for(var o=0;o<m.length;o++){var p=m[o],q=p.value;if(q!=null)if(Array.isArray(q)){q=q.map(function(u){return j(u,l);});}else if(q.kind==='BatchCallVariable'){q=null;}else q=j(q,l);var r=p.metadata,s=p.name,t={name:s,value:q};if(r&&r.type)t.type=r.type;n.push(t);}return n;}function j(k,l){var m=void 0;if(k.kind==='CallValue'){m=k.callValue;}else{var n=k.callVariableName;l.hasOwnProperty(n)||h(0);m=l[n];}var o=typeof m;m==null||o==='boolean'||o==='number'||o==='string'||o==='object'||h(0);return m;}f.exports=i;}),null);
__d('callsToGraphQL',['QueryBuilder'],(function a(b,c,d,e,f,g){'use strict';function h(i){return i.map(function(j){var k=j.name,l=j.type,m=j.value,n=null;if(Array.isArray(m)){n=m.map(c('QueryBuilder').createCallValue);}else if(m!=null)n=c('QueryBuilder').createCallValue(m);return c('QueryBuilder').createCall(k,n,l);});}f.exports=h;}),null);
__d('directivesToGraphQL',['QueryBuilder'],(function a(b,c,d,e,f,g){'use strict';function h(i){return i.map(function(j){var k=j.name,l=j.args,m=l.map(function(n){var o=n.name,p=n.value,q=null;if(Array.isArray(p)){q=p.map(c('QueryBuilder').createCallValue);}else if(p!=null)q=c('QueryBuilder').createCallValue(p);return c('QueryBuilder').createDirectiveArgument(o,q);});return c('QueryBuilder').createDirective(k,m);});}f.exports=h;}),null);
__d("crc32",[],(function a(b,c,d,e,f,g){function h(j){var k=-1;for(var l=0,m=j.length;l<m;l++)k=k>>>8^i[(k^j.charCodeAt(l))&255];return ~k;}var i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918000,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(b.Int32Array!==undefined)i=new Int32Array(i);f.exports=h;}),null);
__d('generateRQLFieldAlias',['base62','crc32'],(function a(b,c,d,e,f,g){'use strict';var h='_';function i(j){var k=j.indexOf('.');if(k===-1)return j;return h+j.substr(0,k)+c('base62')(c('crc32')(j)>>>0);}f.exports=i;}),null);
__d('serializeRelayQueryCall',['flattenArray'],(function a(b,c,d,e,f,g){'use strict';function h(j){var k=j.value,l=void 0;if(Array.isArray(k)){l=c('flattenArray')(k).map(function(m){return i(m);}).join(',');}else l=i(k);return '.'+j.name+'('+l+')';}function i(j){if(j==null){return '';}else if(typeof j!=='string'){return JSON.stringify(j);}else return j;}f.exports=h;}),null);
__d('RelayQuery',['invariant','QueryBuilder','RelayConnectionInterface','RelayFragmentReference','RelayMetaRoute','RelayProfiler','RelayRouteFragment','RelayVariable','RelayVariables','areEqual','callsFromGraphQL','callsToGraphQL','directivesToGraphQL','generateConcreteFragmentID','generateRQLFieldAlias','nullthrows','serializeRelayQueryCall','shallowEqual','stableStringify'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w='if',x='unless',y='true',z='false',aa='skip',ba='include',ca=0,da={isDeferred:false,isContainerFragment:false,isTypeConditional:false},ea=[],fa=[];ga.create=function(ua,va,wa){var xa=ta(va,wa),ya=oa(ua,xa,wa);ya instanceof ga||h(0);return ya;};function ga(ua,va,wa){this.constructor.name!=='RelayQueryNode'||h(0);this.__concreteNode__=ua;this.__root__=va;this.__variables__=wa;this.__calls__=null;this.__children__=null;this.__fieldMap__=null;this.__hasDeferredDescendant__=null;this.__hasValidatedConnectionCalls__=null;this.__serializationKey__=null;this.__storageKey__=null;}ga.prototype.canHaveSubselections=function(){return true;};ga.prototype.isGenerated=function(){return false;};ga.prototype.isRefQueryDependency=function(){return false;};ga.prototype.clone=function(ua){if(!this.canHaveSubselections()){ua.length===0||h(0);return this;}var va=this.getChildren(),wa=qa(va,ua);if(!wa.length){return null;}else if(wa===va)return this;var xa=ga.create(this.__concreteNode__,c('RelayMetaRoute').get(this.__root__.routeName),this.__variables__);xa.__children__=wa;xa.__calls__=this.__calls__;xa.__serializationKey__=this.__serializationKey__;xa.__storageKey__=this.__storageKey__;return xa;};ga.prototype.getChildren=function(){var ua,va=this,wa=this.__children__;if(!wa)(function(){var xa=[],ya=va.__concreteNode__.children;if(ya)ya.forEach(function(za){if(za==null)return;var ab=oa(za,this.__root__,this.__variables__);if(Array.isArray(ab)){ab.forEach(function(bb){if(bb&&bb.isIncluded())xa.push(bb);});}else if(ab&&ab.isIncluded())xa.push(ab);}.bind(va));va.__children__=xa;wa=xa;})();return wa;};ga.prototype.isIncluded=function(){if(!this.__concreteNode__.directives)return true;return this.getDirectives().every(function(ua){if(ua.name===aa){return !ua.args.some(function(va){return va.name===w&&!!va.value;});}else if(ua.name===ba)return !ua.args.some(function(va){return va.name===w&&!va.value;});return true;});};ga.prototype.getDirectives=function(){var ua=this.__concreteNode__.directives;if(ua)return this.__concreteNode__.directives.map(function(va){return {args:c('callsFromGraphQL')(va.args,this.__variables__),name:va.name};}.bind(this));return ea;};ga.prototype.getField=function(ua){return this.getFieldByStorageKey(ua.getStorageKey());};ga.prototype.getFieldByStorageKey=function(ua){var va=this.__fieldMap__;if(!va){va={};var wa=this.getChildren();for(var xa=0;xa<wa.length;xa++){var ya=wa[xa];if(ya instanceof na)va[ya.getStorageKey()]=ya;}this.__fieldMap__=va;}return va[ua];};ga.prototype.getType=function(){return this.__concreteNode__.type;};ga.prototype.getRoute=function(){return c('RelayMetaRoute').get(this.__root__.routeName);};ga.prototype.getVariables=function(){return this.__variables__;};ga.prototype.hasDeferredDescendant=function(){var ua=this.__hasDeferredDescendant__;if(ua==null){ua=this.canHaveSubselections()&&this.getChildren().some(function(va){return va.hasDeferredDescendant();});this.__hasDeferredDescendant__=ua;}return ua;};ga.prototype.isAbstract=function(){throw new Error('RelayQueryNode: Abstract function cannot be called.');};ga.prototype.isRequisite=function(){return false;};ga.prototype.equals=function(ua){var va=this.getChildren(),wa=ua.getChildren();return va===wa||va.length===wa.length&&va.every(function(xa,ya){return xa.equals(wa[ya]);});};ga.prototype.isEquivalent=function(ua){return (this.__concreteNode__===ua.__concreteNode__&&this.__root__.routeName===ua.__root__.routeName&&c('shallowEqual')(this.__root__.variables,ua.__root__.variables)&&c('shallowEqual')(this.__variables__,ua.__variables__));};ga.prototype.createNode=function(ua){return ga.create(ua,c('RelayMetaRoute').get(this.__root__.routeName),this.__variables__);};ga.prototype.getConcreteQueryNode=function(){return this.__concreteNode__;};i=babelHelpers.inherits(ha,ga);j=i&&i.prototype;ha.build=function(ua,va,wa,xa,ya,za,ab){var bb=xa?xa.filter(function(jb){return !!jb;}):[],cb=c('QueryBuilder').getBatchCallVariable(wa),db=void 0;if(cb){db=cb;}else if(Array.isArray(wa)){db=wa.map(c('QueryBuilder').createCallValue);}else if(wa)db=c('QueryBuilder').createCallValue(wa);var eb=c('QueryBuilder').createQuery({fieldName:va,identifyingArgValue:db,metadata:ya,name:ua,type:za}),fb={},gb=c('RelayMetaRoute').get(ab||'$RelayQuery'),hb=ta(gb,fb),ib=new ha(eb,hb,fb);ib.__children__=bb;return ib;};ha.create=function(ua,va,wa){var xa=c('QueryBuilder').getQuery(ua);xa||h(0);var ya=ta(va,wa);return new ha(xa,ya,wa);};function ha(ua,va,wa){j.constructor.call(this,ua,va,wa);this.__batchCall__=undefined;this.__id__=undefined;this.__identifyingArg__=undefined;this.__storageKey__=undefined;this.getID();}ha.prototype.canHaveSubselections=function(){return true;};ha.prototype.getName=function(){var ua=this.__concreteNode__.name;if(!ua){ua=this.getID();this.__concreteNode__.name=ua;}return ua;};ha.prototype.getID=function(){var ua=this.__id__;if(ua==null){ua='q'+ca++;this.__id__=ua;}return ua;};ha.prototype.getBatchCall=function(){var ua=this.__batchCall__;if(ua===undefined){var va=this.__concreteNode__.calls;if(va){var wa=va[0]&&va[0].value;if(wa!=null&&!Array.isArray(wa)&&wa.kind==='BatchCallVariable')ua={refParamName:'ref_'+wa.sourceQueryID,sourceQueryID:wa.sourceQueryID,sourceQueryPath:wa.jsonPath};}ua=ua||null;this.__batchCall__=ua;}return ua;};ha.prototype.getCallsWithValues=function(){var ua=this.__calls__;if(!ua){var va=this.__concreteNode__.calls;if(va){ua=c('callsFromGraphQL')(va,this.__variables__);}else ua=fa;this.__calls__=ua;}return ua;};ha.prototype.getFieldName=function(){return this.__concreteNode__.fieldName;};ha.prototype.getIdentifyingArg=function(){var ua,va=this,wa=this.__identifyingArg__;if(!wa)(function(){var xa=va.__concreteNode__.metadata,ya=xa.identifyingArgName;if(ya!=null){wa=va.getCallsWithValues().find(function(za){return za.name===ya;});if(wa&&xa.identifyingArgType!=null)wa.type=xa.identifyingArgType;va.__identifyingArg__=wa;}})();return wa;};ha.prototype.getStorageKey=function(){var ua,va=this,wa=this.__storageKey__;if(!wa)(function(){var xa=va.getCallsWithValues(),ya=va.getIdentifyingArg();if(ya)xa=xa.filter(function(ab){return ab!==ya;});var za=na.build({fieldName:va.getFieldName(),calls:xa,type:va.getType()});wa=za.getStorageKey();va.__storageKey__=wa;})();return wa;};ha.prototype.hasDeferredDescendant=function(){return this.isDeferred()||j.hasDeferredDescendant.call(this);};ha.prototype.isAbstract=function(){return !!this.__concreteNode__.metadata.isAbstract;};ha.prototype.isDeferred=function(){return !!this.__concreteNode__.isDeferred;};ha.prototype.isPlural=function(){return !!this.__concreteNode__.metadata.isPlural;};ha.prototype.cloneWithRoute=function(ua,va){if(this.__root__.routeName===va.name)return this.clone(ua);var wa=ga.create(babelHelpers['extends']({},this.__concreteNode__,{name:va.name}),va,this.__variables__);wa.__children__=ua;return wa;};ha.prototype.equals=function(ua){if(this===ua)return true;if(!(ua instanceof ha))return false;if(!c('areEqual')(this.getBatchCall(),ua.getBatchCall()))return false;if(this.getFieldName()!==ua.getFieldName()||!sa(this.getCallsWithValues(),ua.getCallsWithValues()))return false;return j.equals.call(this,ua);};k=babelHelpers.inherits(ia,ga);l=k&&k.prototype;ia.create=function(ua,va,wa){var xa=c('QueryBuilder').getOperationDefinition(ua);xa||h(0);var ya=ta(va,wa);return new ia(xa,ya,wa);};function ia(ua,va,wa){ua&&ua.operation==='query'||h(0);l.constructor.call(this,ua.node,va,wa);this.__id__=undefined;this.getID();}ia.prototype.canHaveSubselections=function(){return true;};ia.prototype.isDeferred=function(){return false;};ia.prototype.getName=function(){var ua=this.__concreteNode__.name;if(!ua){ua=this.getID();this.__concreteNode__.name=ua;}return ua;};ia.prototype.getID=function(){var ua=this.__id__;if(ua==null){ua='q'+ca++;this.__id__=ua;}return ua;};ia.prototype.equals=function(ua){if(this===ua)return true;if(!(ua instanceof ia))return false;return l.equals.call(this,ua);};m=babelHelpers.inherits(ja,ga);n=m&&m.prototype;function ja(ua,va,wa){n.constructor.call(this,ua,va,wa);this.constructor.name!=='RelayQueryOperation'||h(0);}ja.prototype.canHaveSubselections=function(){return true;};ja.prototype.getName=function(){return this.__concreteNode__.name;};ja.prototype.getResponseType=function(){return this.__concreteNode__.responseType;};ja.prototype.getType=function(){return this.getResponseType();};ja.prototype.getInputType=function(){var ua=this.__concreteNode__.metadata.inputType;ua||h(0);return ua;};ja.prototype.getCall=function(){var ua=this.__calls__;if(!ua){var va=this.__concreteNode__.calls;if(va){ua=c('callsFromGraphQL')(va,this.__variables__);}else ua=fa;this.__calls__=ua;}return ua[0];};ja.prototype.getCallVariableName=function(){if(!this.__callVariableName__){var ua=this.__concreteNode__.calls,va=ua&&c('QueryBuilder').getCallVariable(ua[0].value);va||h(0);this.__callVariableName__=va.callVariableName;}return this.__callVariableName__;};ja.prototype.isAbstract=function(){return false;};o=babelHelpers.inherits(ka,ja);p=o&&o.prototype;ka.build=function(ua,va,wa,xa,ya,za,ab){var bb=ya?ya.filter(function(hb){return !!hb;}):[],cb=c('QueryBuilder').createMutation({calls:[c('QueryBuilder').createCall(wa,c('QueryBuilder').createCallVariable('input'))],metadata:za,name:ua,responseType:va}),db={input:xa||''},eb=c('RelayMetaRoute').get(ab||'$RelayQuery'),fb=ta(eb,db),gb=new ka(cb,fb,db);gb.__children__=bb;return gb;};ka.prototype.equals=function(ua){if(this===ua)return true;if(!(ua instanceof ka))return false;if(!c('areEqual')(this.getResponseType(),ua.getResponseType()))return false;if(!c('areEqual')(this.getCall(),ua.getCall()))return false;return p.equals.call(this,ua);};function ka(){o.apply(this,arguments);}q=babelHelpers.inherits(la,ja);r=q&&q.prototype;la.create=function(ua,va,wa){var xa=c('QueryBuilder').getSubscription(ua);xa||h(0);var ya=ta(va,wa);return new la(ua,ya,wa);};la.prototype.getPublishedPayloadType=function(){return this.getResponseType();};la.prototype.equals=function(ua){if(this===ua)return true;if(!(ua instanceof la))return false;if(!c('areEqual')(this.getPublishedPayloadType(),ua.getPublishedPayloadType()))return false;if(!c('areEqual')(this.getCall(),ua.getCall()))return false;return r.equals.call(this,ua);};function la(){q.apply(this,arguments);}s=babelHelpers.inherits(ma,ga);t=s&&s.prototype;ma.build=function(ua,va,wa,xa,ya){var za=wa?wa.filter(function(fb){return !!fb;}):[],ab=c('QueryBuilder').createFragment({name:ua,type:va,metadata:xa}),bb={},cb=c('RelayMetaRoute').get(ya||'$RelayQuery'),db=ta(cb,bb),eb=new ma(ab,db,bb,{isDeferred:!!(xa&&xa.isDeferred),isContainerFragment:!!(xa&&xa.isContainerFragment),isTypeConditional:!!(xa&&xa.isTypeConditional)});eb.__children__=za;return eb;};ma.create=function(ua,va,wa,xa){var ya=c('QueryBuilder').getFragment(ua);ya||h(0);var za=ta(va,wa);return pa(ya,za,wa,xa||da);};function ma(ua,va,wa,xa){t.constructor.call(this,ua,va,wa);this.__compositeHash__=null;this.__metadata__=xa||da;this.__sourceCompositeHash__=null;}ma.prototype.canHaveSubselections=function(){return true;};ma.prototype.getDebugName=function(){return this.__concreteNode__.name;};ma.prototype.getConcreteFragmentID=function(){return this.__concreteNode__.id;};ma.prototype.getCompositeHash=function(){var ua=this.__compositeHash__;if(!ua){ua=c('generateRQLFieldAlias')(this.getConcreteFragmentID()+'.'+this.__root__.routeName+'.'+c('stableStringify')(this.__variables__));this.__compositeHash__=ua;}return ua;};ma.prototype.getSourceCompositeHash=function(){return this.__sourceCompositeHash__;};ma.prototype.isAbstract=function(){return !!this.__concreteNode__.metadata.isAbstract;};ma.prototype.isDeferred=function(){return this.__metadata__.isDeferred;};ma.prototype.isPattern=function(){return !!this.__concreteNode__.metadata.pattern;};ma.prototype.isPlural=function(){var ua=this.__concreteNode__.metadata;return !!(ua.isPlural||ua.plural);};ma.prototype.isTrackingEnabled=function(){var ua=this.__concreteNode__.metadata;return !!ua.isTrackingEnabled;};ma.prototype.cloneAsPlainFragment=function(){return pa(this.__concreteNode__,this.__root__,this.__variables__,da);};ma.prototype.isContainerFragment=function(){return this.__metadata__.isContainerFragment;};ma.prototype.isTypeConditional=function(){return this.__metadata__.isTypeConditional;};ma.prototype.hasDeferredDescendant=function(){return this.isDeferred()||t.hasDeferredDescendant.call(this);};ma.prototype.clone=function(ua){var va=t.clone.call(this,ua);if(va!==this&&va instanceof ma){va.__concreteNode__=babelHelpers['extends']({},va.__concreteNode__,{id:c('generateConcreteFragmentID')()});va.__metadata__=babelHelpers['extends']({},this.__metadata__);va.__sourceCompositeHash__=this.getCompositeHash();}return va;};ma.prototype.equals=function(ua){if(this===ua)return true;if(!(ua instanceof ma))return false;if(this.getType()!==ua.getType())return false;return t.equals.call(this,ua);};u=babelHelpers.inherits(na,ga);v=u&&u.prototype;na.create=function(ua,va,wa){var xa=c('QueryBuilder').getField(ua);xa||h(0);var ya=ta(va,wa);return new na(xa,ya,wa);};na.build=function(ua){var va=ua.alias,wa=ua.directives,xa=ua.calls,ya=ua.children,za=ua.fieldName,ab=ua.metadata,bb=ua.routeName,cb=ua.type,db=ya?ya.filter(function(jb){return !!jb;}):[],eb=c('QueryBuilder').createField({alias:va,calls:xa?c('callsToGraphQL')(xa):null,directives:wa?c('directivesToGraphQL')(wa):null,fieldName:za,metadata:ab,type:cb}),fb={},gb=c('RelayMetaRoute').get(bb||'$RelayQuery'),hb=ta(gb,fb),ib=new na(eb,hb,fb);ib.__children__=db;return ib;};function na(ua,va,wa){v.constructor.call(this,ua,va,wa);this.__debugName__=undefined;this.__isRefQueryDependency__=false;this.__rangeBehaviorCalls__=undefined;this.__shallowHash__=undefined;}na.prototype.canHaveSubselections=function(){return !!this.__concreteNode__.metadata.canHaveSubselections;};na.prototype.isAbstract=function(){return !!this.__concreteNode__.metadata.isAbstract;};na.prototype.isFindable=function(){return !!this.__concreteNode__.metadata.isFindable;};na.prototype.isGenerated=function(){return !!this.__concreteNode__.metadata.isGenerated;};na.prototype.isConnection=function(){return !!this.__concreteNode__.metadata.isConnection;};na.prototype.isConnectionWithoutNodeID=function(){return !!this.__concreteNode__.metadata.isConnectionWithoutNodeID;};na.prototype.isPlural=function(){return !!this.__concreteNode__.metadata.isPlural;};na.prototype.isRefQueryDependency=function(){return this.__isRefQueryDependency__;};na.prototype.isRequisite=function(){return !!this.__concreteNode__.metadata.isRequisite;};na.prototype.getDebugName=function(){var ua,va=this,wa=this.__debugName__;if(!wa)(function(){wa=va.getSchemaName();var xa=void 0;va.getCallsWithValues().forEach(function(ya){if(this.$RelayQueryField1(ya)){xa=xa||[];xa.push(c('serializeRelayQueryCall')(ya));}}.bind(va));if(xa)wa+=xa.sort().join('');va.__debugName__=wa;})();return wa;};na.prototype.getSchemaName=function(){return this.__concreteNode__.fieldName;};na.prototype.getRangeBehaviorCalls=function(){this.isConnection()||h(0);var ua=this.__rangeBehaviorCalls__;if(!ua){ua=this.getCallsWithValues().filter(function(va){return this.$RelayQueryField1(va);}.bind(this));this.__rangeBehaviorCalls__=ua;}return ua;};na.prototype.getSerializationKey=function(){var ua=this.__serializationKey__;if(!ua){var va=this.getSchemaName(),wa=this.getCallsWithValues();if(wa.length){var xa=this.__concreteNode__.alias;if(xa!=null)va+='.'+xa;va+=wa.map(c('serializeRelayQueryCall')).sort().join('');}ua=c('generateRQLFieldAlias')(va);this.__serializationKey__=ua;}return ua;};na.prototype.getShallowHash=function(){var ua=this.__shallowHash__;if(!ua)this.__shallowHash__=ua=this.getSchemaName()+ra(this.getCallsWithValues());return ua;};na.prototype.getStorageKey=function(){var ua=this.__storageKey__;if(!ua)this.__storageKey__=ua=this.getSchemaName()+ra(this.getCallsWithValues().filter(function(va){return this.$RelayQueryField1(va);}.bind(this)));return ua;};na.prototype.getApplicationName=function(){var ua=this.__concreteNode__;return ua.alias||ua.fieldName;};na.prototype.getInferredRootCallName=function(){return this.__concreteNode__.metadata.inferredRootCallName;};na.prototype.getInferredPrimaryKey=function(){return this.__concreteNode__.metadata.inferredPrimaryKey;};na.prototype.getCallsWithValues=function(){var ua=this.__calls__;if(!ua){var va=this.__concreteNode__.calls;if(va){ua=c('callsFromGraphQL')(va,this.__variables__);}else ua=fa;this.__calls__=ua;}return ua;};na.prototype.getCallType=function(ua){var va=this.__concreteNode__.calls,wa=va&&va.filter(function(xa){return xa.name===ua;})[0];if(wa)return wa.metadata.type;};na.prototype.equals=function(ua){if(this===ua)return true;if(!(ua instanceof na))return false;if(this.getSchemaName()!==ua.getSchemaName()||this.getApplicationName()!==ua.getApplicationName()||!sa(this.getCallsWithValues(),ua.getCallsWithValues()))return false;return v.equals.call(this,ua);};na.prototype.cloneAsRefQueryDependency=function(){var ua=new na(this.__concreteNode__,this.__root__,this.__variables__);ua.__children__=[];ua.__isRefQueryDependency__=true;return ua;};na.prototype.cloneFieldWithCalls=function(ua,va){if(!this.canHaveSubselections())ua.length===0||h(0);if(c('areEqual')(this.getCallsWithValues(),va)){var wa=this.clone(ua);return wa;}var xa=qa(this.getChildren(),ua);if(!xa.length)return null;var ya=new na(this.__concreteNode__,this.__root__,this.__variables__);ya.__children__=xa;ya.__calls__=va;return ya;};na.prototype.$RelayQueryField1=function(ua){return (!(ua.name===w&&String(ua.value)===y)&&!(ua.name===x&&String(ua.value)===z)&&!(this.isConnection()&&c('RelayConnectionInterface').isConnectionCall(ua)));};function oa(ua,va,wa){typeof ua==='object'&&ua!==null||h(0);var xa=ua.kind,ya=ga;if(xa==='Field'){ya=na;}else if(xa==='Fragment'){ya=ma;}else if(xa==='FragmentReference'){var za=c('QueryBuilder').getFragment(ua.fragment);if(za)return pa(za,va,{},{isDeferred:false,isContainerFragment:true,isTypeConditional:false});return null;}else if(xa==='FragmentSpread'){var ab=c('nullthrows')(c('QueryBuilder').getFragmentSpread(ua)),bb=ab.args,cb=va.variables,db=c('RelayVariables').getFragmentVariables(ab.fragment,cb,bb);return pa(ab.fragment.node,va,db,{isDeferred:false,isContainerFragment:true,isTypeConditional:false});}else if(xa==='OperationDefinition'){ya=ia;}else if(xa==='Query'){ya=ha;}else if(xa==='Mutation'){ya=ka;}else if(xa==='Subscription'){ya=la;}else if(ua instanceof c('RelayRouteFragment')){var eb=c('RelayMetaRoute').get(va.routeName),fb=ua.getFragmentForRoute(eb);if(Array.isArray(fb)){return fb.map(function(jb){return oa(jb,va,wa);});}else if(fb)return oa(fb,va,wa);return null;}else if(ua instanceof c('RelayFragmentReference')){var gb=ua.getFragment(wa),hb=c('RelayMetaRoute').get(va.routeName),ib=ua.getVariables(hb,wa);if(gb)return pa(gb,va,ib,{isDeferred:ua.isDeferred(),isContainerFragment:ua.isContainerFragment(),isTypeConditional:ua.isTypeConditional()});return null;}return new ya(ua,va,wa);}function pa(ua,va,wa,xa){var ya=va.routeName+':'+c('stableStringify')(wa)+':'+c('stableStringify')(xa),za=ua.__cachedFragment__,ab=ua.__cacheKey__;if(!za||ab!==ya){za=new ma(ua,va,wa,xa);ua.__cachedFragment__=za;ua.__cacheKey__=ya;}return za;}function qa(ua,va){var wa=[],xa=true,ya=0;for(var za=0;za<va.length;za++){var ab=va[za];if(ab){wa.push(ab);xa=xa&&ab===ua[ya++];}}if(xa&&wa.length===ua.length){return ua;}else return wa;}function ra(ua){var va;if(ua.length){var va=function(){var wa={};ua.forEach(function(xa){wa[xa.name]=xa.value;});return {v:c('stableStringify')(wa)};}();if(typeof va==="object")return va.v;}else return '';}function sa(ua,va){if(ua.length!==va.length)return false;return ua.every(function(wa,xa){var ya=wa.name,za=wa.value,ab=va[xa],bb=ab.name,cb=ab.value;if(ya!==bb)return false;if(za instanceof c('RelayVariable'))return za.equals(cb);return c('areEqual')(za,cb);});}function ta(ua,va){return {routeName:ua.name,variables:va};}c('RelayProfiler').instrumentMethods(ga.prototype,{clone:'@RelayQueryNode.prototype.clone',equals:'@RelayQueryNode.prototype.equals',getChildren:'@RelayQueryNode.prototype.getChildren',getDirectives:'@RelayQueryNode.prototype.getDirectives',hasDeferredDescendant:'@RelayQueryNode.prototype.hasDeferredDescendant',getFieldByStorageKey:'@RelayQueryNode.prototype.getFieldByStorageKey'});c('RelayProfiler').instrumentMethods(na.prototype,{getStorageKey:'@RelayQueryField.prototype.getStorageKey',getSerializationKey:'@RelayQueryField.prototype.getSerializationKey'});f.exports={Field:na,Fragment:ma,Mutation:ka,Node:ga,Operation:ja,OSSQuery:ia,Root:ha,Subscription:la};}),null);
__d('aggregateRelayCalls',[],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=[],k=void 0;i.forEach(function(l){var m=l.name.indexOf('__')>=0?l.name.split('__',1)[0]:null;if(k&&k.name!==m){j.push(k);k=null;}if(m){k=k||{name:m,value:[]};k.value.push(l.value);}else j.push(l);});if(k)j.push(k);return j;}f.exports=h;}),null);
__d('RelaySkippableCall',[],(function a(b,c,d,e,f,g){'use strict';var h={};f.exports=h;}),null);
__d('printRelayFBQueryCallValue',['RelaySkippableCall','RelayVariable'],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i==null)return '';if(i===c('RelaySkippableCall'))return null;if(Array.isArray(i))return i.map(h).join(',');if(i===''){return ' ';}else if(i instanceof c('RelayVariable'))return '<'+i.getName()+'>';if(typeof i!=='string')i=JSON.stringify(i);i=i.replace(/[)(}{><,.\\]/g,'\\$&');if(/ $/.test(i))i+=' ';return i.replace(/^( *)(.*?)( *)$/,function(j,k,l,m){return ('\\ '.repeat(k.length)+l+'\\ '.repeat(m.length));});}f.exports=h;}),null);
__d('printRelayFBQueryCall',['printRelayFBQueryCallValue'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('printRelayFBQueryCallValue')(i.value);return j==null?null:'.'+i.name+'('+j+')';}f.exports=h;}),null);
__d('printRelayFBQuery',['invariant','RelayProfiler','RelayQuery','aggregateRelayCalls','base62','printRelayFBQueryCall'],(function a(b,c,d,e,f,g,h){'use strict';var i='',j='';function k(q){var r=[],s={},t={fragmentCount:0,fragmentNameByHash:{},fragmentNameByText:{},fragmentTexts:r,variables:s},u=null;if(q instanceof c('RelayQuery').Root){u=l(q,t);}else if(q instanceof c('RelayQuery').Fragment){u=o(q,t);}else if(q instanceof c('RelayQuery').Mutation){u=m(q,t);}else if(q instanceof c('RelayQuery').Subscription)u=n(q,t);u||h(0);return {text:[u].concat(r).join(j.length?j:' '),variables:s};}function l(q,r){var s=q.getBatchCall(),t=q.getFieldName(),u=q.getIdentifyingArg(),v=void 0;if(s){v=t+'(<'+s.refParamName+'>)';}else if(u==null){v=t+'()';}else{v=c('printRelayFBQueryCall')({name:t,value:u.value});v=v?v.slice(1):'';}return 'Query '+q.getName()+' {'+j+i+v+p(q,r,i)+j+'}';}function m(q,r){var s=q.getCall(),t=q.getCallVariableName();r.variables[t]=s.value;return 'Mutation '+q.getName()+' : '+q.getResponseType()+' {'+j+i+s.name+'(<'+t+'>)'+p(q,r,i)+j+'}';}function n(q,r){var s=q.getCall(),t=q.getCallVariableName();r.variables[t]=s.value;return 'Subscription '+q.getName()+' : '+q.getResponseType()+' {'+j+i+s.name+'(<'+t+'>)'+p(q,r,i)+j+'}';}function o(q,r){return 'QueryFragment '+q.getDebugName()+' : '+q.getType()+j+p(q,r,'');}function p(q,r,s){var t=[],u=q.getChildren(),v=void 0;for(var w=0;w<u.length;w++){var x=u[w];if(x instanceof c('RelayQuery').Field){var y=x.getSchemaName(),z=x.getCallsWithValues();if(z.length){var aa=c('aggregateRelayCalls')(z);for(var ba=0;ba<aa.length;ba++){var ca=c('printRelayFBQueryCall')(aa[ba]);if(ca)y+=ca;}y+=' as '+x.getSerializationKey();}var da=void 0;x.getDirectives().some(function(la){if(la.name==='fb_export'){var ma=la.args[0];if(ma&&ma.name==='as')da=String(ma.value);return true;}});if(da)y+=' exports '+da+' ';if(x.getChildren().length)y+=p(x,r,s+i);t.push(y);}else if(x instanceof c('RelayQuery').Fragment){if(x.getChildren().length){var ea=r.fragmentNameByHash,fa=r.fragmentNameByText,ga=r.fragmentTexts,ha=x.getCompositeHash(),ia=void 0;if(ea.hasOwnProperty(ha)){ia=ea[ha];}else{var ja=x.getType()+p(x,r,'');if(fa.hasOwnProperty(ja)){ia=fa[ja];}else{ia='F'+c('base62')(r.fragmentCount++);ea[ha]=ia;fa[ja]=ia;ga.push('QueryFragment '+ia+' : '+ja);}}if(!v||!v.hasOwnProperty(ia)){v=v||{};v[ia]=true;var ka=x.isTypeConditional()?'?@':'@';t.push(ka+ia);}}}else h(0);}return t.length?' {'+j+s+i+t.join(','+j+s+i)+j+s+'}':'';}f.exports=c('RelayProfiler').instrument('printRelayQuery',k);}),null);
__d('printRelayOSSQuery',['invariant','Map','RelayProfiler','RelayQuery','base62'],(function a(b,c,d,e,f,g,h){'use strict';var i='',j='';function k(w){var x=[],y=new (c('Map'))(),z={fragmentCount:0,fragmentNameByHash:{},fragmentNameByText:{},fragmentTexts:x,variableCount:0,variableMap:y},aa=null;if(w instanceof c('RelayQuery').Root){aa=m(w,z);}else if(w instanceof c('RelayQuery').Operation){aa=n(w,z);}else if(w instanceof c('RelayQuery').Fragment){aa=q(w,z);}else if(w instanceof c('RelayQuery').OSSQuery)aa=l(w,z);aa||h(0);var ba={};y.forEach(function(ca){ca.forEach(function(da){var ea=da.value,fa=da.variableID;ba[fa]=ea;});});return {text:[aa].concat(x).join(j.length?j:' '),variables:ba};}function l(w,x){var y=r(w,x,i),z=s(w),aa=o(x);return 'query '+w.getName()+aa+z+y;}function m(w,x){!w.getBatchCall()||h(0);var y=w.getIdentifyingArg(),z=y&&y.name||null,aa=y&&y.type||null,ba=y&&y.value||null,ca=w.getFieldName();if(ba!=null){z||h(0);var da=u(z,ba,aa,x);if(da)ca+='('+da+')';}var ea=r(w,x,i),fa=w.getName()+o(x);ca+=s(w);return 'query '+fa+' {'+j+i+ca+ea+j+'}';}function n(w,x){var y=w instanceof c('RelayQuery').Mutation?'mutation':'subscription',z=w.getCall(),aa=u(w.getCallVariableName(),z.value,w.getInputType(),x);aa||h(0);var ba=r(w,x,i),ca=w.getName()+o(x),da=z.name+'('+aa+')';return y+' '+ca+' {'+j+i+da+ba+j+'}';}function o(w){var x=w.variableMap,y=null;x.forEach(function(z,aa){z.forEach(function(ba){var ca=ba.variableID;y=y||[];y.push('$'+ca+':'+aa);});});if(y)return '('+y.join(',')+')';return '';}function p(w){if(w.endsWith('!'))return w;return w+'!';}function q(w,x){var y=s(w);return 'fragment '+w.getDebugName()+' on '+w.getType()+y+r(w,x,'');}function r(w,x,y){var z=[],aa=w.getChildren(),ba=void 0;for(var ca=0;ca<aa.length;ca++){var da=aa[ca];if(da instanceof c('RelayQuery').Field){var ea=da.getSchemaName(),fa=da.getCallsWithValues();if(fa.length){ea=da.getSerializationKey()+':'+ea;var ga=[];for(var ha=0;ha<fa.length;ha++){var ia=fa[ha],ja=ia.name,ka=ia.value,la=u(ja,ka,da.getCallType(ja),x);if(la)ga.push(la);}if(ga.length)ea+='('+ga.join(',')+')';}ea+=s(da);if(da.getChildren().length)ea+=r(da,x,y+i);z.push(ea);}else if(da instanceof c('RelayQuery').Fragment){if(da.getChildren().length){var ma=x.fragmentNameByHash,na=x.fragmentNameByText,oa=x.fragmentTexts,pa=da.getCompositeHash(),qa=void 0;if(ma.hasOwnProperty(pa)){qa=ma[pa];}else{var ra=da.getType()+s(da)+r(da,x,'');if(na.hasOwnProperty(ra)){qa=na[ra];}else{qa='F'+c('base62')(x.fragmentCount++);ma[pa]=qa;na[ra]=qa;oa.push('fragment '+qa+' on '+ra);}}if(!ba||!ba.hasOwnProperty(qa)){ba=ba||{};ba[qa]=true;z.push('...'+qa);}}}else h(0);}if(!z)return '';return z.length?' {'+j+y+i+z.join(','+j+y+i)+j+y+'}':'';}function s(w){var x=void 0;w.getDirectives().forEach(function(y){var z='@'+y.name;if(y.args.length)z+='('+y.args.map(t).join(',')+')';x=x||[];x.push(z);});if(!x)return '';return ' '+x.join(' ');}function t(w){var x=w.name,y=w.value;typeof y==='boolean'||typeof y==='number'||typeof y==='string'||h(0);return x+':'+JSON.stringify(y);}function u(w,x,y,z){if(x==null)return x;var aa=void 0;if(y!=null){var ba=v(w,x,y,z);aa='$'+ba;}else aa=JSON.stringify(x);return w+':'+aa;}function v(w,x,y,z){x!=null||h(0);var aa=JSON.stringify(x),ba=p(y),ca=z.variableMap.get(ba);if(!ca){ca=new (c('Map'))();z.variableMap.set(ba,ca);}var da=ca.get(aa);if(da){return da.variableID;}else{var ea=w+'_'+c('base62')(z.variableCount++);ca.set(aa,{value:x,variableID:ea});return ea;}}f.exports=c('RelayProfiler').instrument('printRelayQuery',k);}),null);
__d('printRelayQuery',['printRelayOSSQuery','printRelayFBQuery'],(function a(b,c,d,e,f,g){'use strict';f.exports=b.__RELAYOSS__?c('printRelayOSSQuery'):c('printRelayFBQuery');}),null);
__d('RelayGraphQLMutationRequest',['invariant','RelayAPIConfig','RelayGraphQLRequestUtils','XHRRequest','forEachObject','printRelayQuery'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){this.$RelayGraphQLMutationRequest1=null;this.$RelayGraphQLMutationRequest2=k;this.$RelayGraphQLMutationRequest3=j;this.$RelayGraphQLMutationRequest4='UNSENT';}i.prototype.send=function(j){var k,l=this;this.$RelayGraphQLMutationRequest4==='UNSENT'||h(0);this.$RelayGraphQLMutationRequest4='SENT';this.$RelayGraphQLMutationRequest1=j;var m=c('printRelayQuery')(this.$RelayGraphQLMutationRequest3),n=babelHelpers['extends']({},c('RelayGraphQLRequestUtils').getAuthenticationData(),{q:m.text,query_params:JSON.stringify({input:JSON.stringify(m.variables.input)})}),o=new (c('XHRRequest'))(c('RelayAPIConfig').graphURI).setMethod('POST').setTransportBuilder(c('RelayGraphQLRequestUtils').getTransportBuilder()).setErrorHandler(function(p){this.$RelayGraphQLMutationRequest5(c('RelayGraphQLRequestUtils').createErrorFromXHR(p,'Mutation XHR error for `%s`, %s: %s %s',this.$RelayGraphQLMutationRequest3.getCall().name,p.errorType,p.errorCode,p.errorMsg));}.bind(this)).setResponseHandler(function(p){var q=void 0;try{q=c('RelayGraphQLRequestUtils').parsePayload(p);}catch(r){this.$RelayGraphQLMutationRequest5(r);return;}if(q.error){var s=c('RelayGraphQLRequestUtils').createErrorFromPayload(babelHelpers['extends']({},q.error,{mutation_name:this.$RelayGraphQLMutationRequest3.getName(),mutation_response_type:this.$RelayGraphQLMutationRequest3.getResponseType()}));this.$RelayGraphQLMutationRequest5(s);}else this.$RelayGraphQLMutationRequest6({response:q});}.bind(this));if(this.$RelayGraphQLMutationRequest2){(function(){var p=new FormData();c('forEachObject')(n,function(q,r){return p.append(r,q);});c('forEachObject')(l.$RelayGraphQLMutationRequest2,function(q,r){return p.append(r,q);});o.setRawData(p);})();}else{o.setData(n);c('forEachObject')(c('RelayGraphQLRequestUtils').getRequestHeaders(),function(p,q){o.setRequestHeader(q,p);});}o.send();};i.prototype.$RelayGraphQLMutationRequest5=function(j){if(this.$RelayGraphQLMutationRequest4!=='TERMINATED'){this.$RelayGraphQLMutationRequest4='TERMINATED';if(this.$RelayGraphQLMutationRequest1)this.$RelayGraphQLMutationRequest1.onFailure(j);}};i.prototype.$RelayGraphQLMutationRequest6=function(j){if(this.$RelayGraphQLMutationRequest4!=='TERMINATED'){this.$RelayGraphQLMutationRequest4='TERMINATED';if(this.$RelayGraphQLMutationRequest1)this.$RelayGraphQLMutationRequest1.onSuccess(j);}};f.exports=i;}),null);
__d('getRelayQueryBatchEntry',['invariant','RelayQuery','printRelayOSSQuery','printRelayQuery'],(function a(b,c,d,e,f,g,h){'use strict';var i='all',j='skip';function k(l,m,n){var o,p=l instanceof c('RelayQuery').Root?l.getBatchCall():null,q=n||{},r=q.persistedID,s=q.rerun,t=void 0,u=void 0,v=m;if(r==null)if(l instanceof c('RelayQuery').Root){var w=c('printRelayQuery')(l);t=w.text;v=babelHelpers['extends']({},w.variables,m);}else if(l instanceof c('RelayQuery').OSSQuery){var x=c('printRelayOSSQuery')(l);u=x.text;v=babelHelpers['extends']({},x.variables,m);}else h(0);return {doc:u,priority:l.isDeferred()?1:0,q:t,query_id:r,query_params:v,ref_params:p?(o={},o[p.refParamName]={fallback:j,plural:i,query:p.sourceQueryID,target:p.sourceQueryPath},o):undefined,rerun_param:s?{'import':s['import'],param:s.param,max_runs:s.maxRuns}:undefined};}f.exports=k;}),null);
__d('RelayGraphQLBatchNetworkLayer',['Map','RelayError','RelayGraphQLBatchRequest','RelayGraphQLMutationRequest','getRelayQueryBatchEntry'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$RelayGraphQLBatchNetworkLayer1=i;}h.prototype.sendMutation=function(i){new (c('RelayGraphQLMutationRequest'))(i.getMutation(),i.getFiles()).send({onFailure:function j(k){i.reject(k);},onSuccess:function j(k){i.resolve(k);}});};h.prototype.sendQueries=function(i){var j=i.length?i[0].getDebugName():'undefined',k=new (c('Map'))(),l=new (c('RelayGraphQLBatchRequest'))(j,this.$RelayGraphQLBatchNetworkLayer1);i.forEach(function(m){var n=m.getID(),o=c('getRelayQueryBatchEntry')(m.getQuery(),{});l.add(n,o);if(k.has(n)){k.get(n).push(m);}else k.set(n,[m]);});l.send({onCompleted:function m(){k.forEach(function(n){n.forEach(function(o){o.reject(c('RelayError').create('RelayGraphQLBatchNetworkError','Missing a response for query labeled `%s`.',o.getID()));});});k.clear();},onError:function m(n){k.forEach(function(o){o.forEach(function(p){p.reject(n);});});k.clear();},onNext:function m(n){var o=n.error,p=n.id,q=n.response;if(k.has(p)){if(q){k.get(p).forEach(function(r){return (r.resolve({error:o,response:q}));});}else k.get(p).forEach(function(r){return (r.reject(o));});k['delete'](p);}}});};h.prototype.supports=function(){for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];return j.every(function(l){return l==='defer';});};f.exports=h;}),null);
__d('RelayContainerComparators',[],(function a(b,c,d,e,f,g){'use strict';function h(m,n,o,p){var q=void 0;for(q in n){if(p&&!p.hasOwnProperty(q))continue;if(n.hasOwnProperty(q)&&(!o.hasOwnProperty(q)||!m(n[q],o[q],q)))return false;}for(q in o){if(p&&!p.hasOwnProperty(q))continue;if(o.hasOwnProperty(q)&&!n.hasOwnProperty(q))return false;}return true;}function i(m,n){return m===n&&(m===null||typeof m!=='object');}function j(m,n,o,p){return (m[p]&&n===o||i(n,o));}function k(m,n,o,p){return (m.hasOwnProperty(p)||i(n,o));}var l={areQueryResultsEqual:function m(n,o,p){return h(j.bind(null,n),o,p);},areNonQueryPropsEqual:function m(n,o,p){return h(k.bind(null,n),o,p);},areQueryVariablesEqual:function m(n,o){return h(i,n,o);}};f.exports=l;}),null);
__d('RelayFBContainerProxy',[],(function a(b,c,d,e,f,g){'use strict';var h={childContextTypes:true,componentDidMount:true,componentDidUpdate:true,componentWillReceiveProps:true,componentWillMount:true,componentWillUpdate:true,componentWillUnmount:true,constructor:true,contextTypes:true,getChildContext:true,getDefaultProps:true,getDOMNode:true,getInitialState:true,mixins:true,propTypes:true,render:true,shouldComponentUpdate:true,statics:true,updateComponent:true},i={proxyMethods:function k(l,m){var n=m.prototype;Object.getOwnPropertyNames(n).forEach(function(o){var p=o.charAt(0);if(!h[o]&&p!=='_'&&p!=='$'&&typeof n[o]==='function')l.prototype[o]=j(n[o],o,m.name);});}};function j(k,l,m){return function(){var n=this.refs.component;if(n)return k.apply(this.refs.component,arguments);};}f.exports=i;}),null);
__d('RelayOSSContainerProxy',[],(function a(b,c,d,e,f,g){'use strict';var h={proxyMethods:function i(j,k){}};f.exports=h;}),null);
__d('RelayContainerProxy',['RelayOSSContainerProxy','RelayFBContainerProxy'],(function a(b,c,d,e,f,g){'use strict';f.exports=b.__RELAYOSS__?c('RelayOSSContainerProxy'):c('RelayFBContainerProxy');}),null);
__d('RelayContainerUtils',[],(function a(b,c,d,e,f,g){'use strict';function h(k){return !!(k&&typeof k.prototype==='object'&&k.prototype&&k.prototype.isReactComponent);}function i(k){if(h(k)){return k;}else return null;}function j(k){var l=void 0,m=i(k);if(m){l=m.displayName||m.name;}else if(typeof k==='function'){l=k.displayName||k.name||'StatelessComponent';}else l='ReactElement';return l;}f.exports={getComponentName:j,getReactComponent:i};}),null);
__d('RelayRecord',[],(function a(b,c,d,e,f,g){'use strict';var h={DATA_ID:'__dataID__',FILTER_CALLS:'__filterCalls__',FORCE_INDEX:'__forceIndex__',MUTATION_IDS:'__mutationIDs__',MUTATION_STATUS:'__mutationStatus__',PATH:'__path__',RANGE:'__range__',RESOLVED_DEFERRED_FRAGMENTS:'__resolvedDeferredFragments__',RESOLVED_FRAGMENT_MAP:'__resolvedFragmentMap__',RESOLVED_FRAGMENT_MAP_GENERATION:'__resolvedFragmentMapGeneration__',STATUS:'__status__'},i={};Object.keys(h).forEach(function(k){i[h[k]]=true;});var j={MetadataKey:h,create:function k(l){return {__dataID__:l};},createWithFields:function k(l,m){return babelHelpers['extends']({__dataID__:l},m);},isRecord:function k(l){return (typeof l==='object'&&l!=null&&!Array.isArray(l)&&typeof l.__dataID__==='string');},getRecord:function k(l){if(j.isRecord(l)){return l;}else return null;},getDataID:function k(l){return l.__dataID__;},getDataIDForObject:function k(l){return l.__dataID__;},isClientID:function k(l){return l.startsWith('client:');},isMetadataKey:function k(l){return i.hasOwnProperty(l);}};f.exports=j;}),null);
__d('RelayFragmentPointer',['invariant','RelayQuery','RelayRecord','areEqual','forEachRootCallArg'],(function a(b,c,d,e,f,g,h){'use strict';var i={addFragment:function k(l,m){var n=l.__fragments__;if(n==null)n=l.__fragments__={};typeof n==='object'&&n!=null||h(0);var o=m.getConcreteFragmentID(),p=n[o];if(p==null)p=n[o]=[];Array.isArray(p)||h(0);p.push(m.getVariables());},hasConcreteFragment:function k(l,m){var n=l.__fragments__;if(typeof n==='object'&&n!=null){var o=m.getConcreteFragmentID();return n.hasOwnProperty(o);}return false;},hasFragment:function k(l,m){var n=i.getFragmentVariables(l,m);if(n!=null)return n.some(function(o){return c('areEqual')(o,m.getVariables());});return false;},getVariablesForID:function k(l,m){var n=l.__fragments__;if(typeof n==='object'&&n!=null){var o=n[m];if(o){Array.isArray(o)&&o.length===1||h(0);return o[0];}}return null;},getFragmentVariables:function k(l,m){var n=l.__fragments__;if(typeof n==='object'&&n!=null){var o=m.getConcreteFragmentID();return n[o];}return null;},create:function k(l,m){var n=c('RelayRecord').create(l);i.addFragment(n,m);return n;},createForRoot:function k(l,m){var n=j(m);if(!n)return null;var o=m.getStorageKey(),p=[];c('forEachRootCallArg')(m,function(s){var t=s.identifyingArgKey,u=l.getDataID(o,t);if(u==null){p.push(null);}else p.push(i.create(u,n));});var q=m.getIdentifyingArg(),r=q&&q.value||null;if(Array.isArray(r))return p;return p[0];}};function j(k){var l=k.getBatchCall();if(l)h(0);var m=void 0;k.getChildren().forEach(function(n){if(n instanceof c('RelayQuery').Fragment){!m||h(0);m=n;}else if(n instanceof c('RelayQuery').Field)n.isGenerated()||h(0);});return m;}f.exports=i;}),null);
__d('RelayMutationTransactionStatus',[],(function a(b,c,d,e,f,g){'use strict';var h={CREATED:'CREATED',UNCOMMITTED:'UNCOMMITTED',COMMIT_QUEUED:'COMMIT_QUEUED',COLLISION_COMMIT_FAILED:'COLLISION_COMMIT_FAILED',COMMITTING:'COMMITTING',COMMIT_FAILED:'COMMIT_FAILED',ROLLED_BACK:'ROLLED_BACK'};f.exports=h;}),null);
__d('RelayMutationTransaction',['invariant','RelayMutationTransactionStatus'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayMutationTransactionStatus').COLLISION_COMMIT_FAILED,j=c('RelayMutationTransactionStatus').COMMIT_FAILED,k=c('RelayMutationTransactionStatus').COMMIT_QUEUED,l=c('RelayMutationTransactionStatus').CREATED,m=c('RelayMutationTransactionStatus').UNCOMMITTED;function n(o,p){this.$RelayMutationTransaction3=false;this.$RelayMutationTransaction1=p;this.$RelayMutationTransaction2=o;}n.prototype.applyOptimistic=function(){var o=this.getStatus();o===l||h(0);this.$RelayMutationTransaction2.applyOptimistic(this.$RelayMutationTransaction1);return this;};n.prototype.commit=function(){var o=this.getStatus();o===l||o===m||h(0);this.$RelayMutationTransaction2.commit(this.$RelayMutationTransaction1);return this;};n.prototype.recommit=function(){var o=this.getStatus();o===i||o===j||o===l||h(0);this.$RelayMutationTransaction2.commit(this.$RelayMutationTransaction1);};n.prototype.rollback=function(){var o=this.getStatus();o===i||o===j||o===k||o===l||o===m||h(0);this.$RelayMutationTransaction3=true;this.$RelayMutationTransaction2.rollback(this.$RelayMutationTransaction1);};n.prototype.getError=function(){return this.$RelayMutationTransaction2.getError(this.$RelayMutationTransaction1);};n.prototype.getStatus=function(){return this.$RelayMutationTransaction3?c('RelayMutationTransactionStatus').ROLLED_BACK:this.$RelayMutationTransaction2.getStatus(this.$RelayMutationTransaction1);};n.prototype.getHash=function(){return this.$RelayMutationTransaction1+':'+this.getStatus();};n.prototype.getID=function(){return this.$RelayMutationTransaction1;};f.exports=n;}),null);
__d('isLegacyRelayEnvironment',[],(function a(b,c,d,e,f,g){'use strict';function h(i){return (typeof i==='object'&&i!==null&&typeof i.forceFetch==='function'&&typeof i.getFragmentResolver==='function'&&typeof i.getStoreData==='function'&&typeof i.primeCache==='function');}f.exports=h;}),null);
__d('isRelayContainer',[],(function a(b,c,d,e,f,g){'use strict';function h(i){return !!(i&&i.getFragmentNames&&i.getFragment&&i.hasFragment&&i.hasVariable);}f.exports=h;}),null);
__d('RelayPropTypes',['isLegacyRelayEnvironment','isRelayContainer','sprintf','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i={Container:function j(k,l,m){var n=k[l];if(n==null){return new Error(c('sprintf')('Required prop `%s` was not specified in `%s`.',l,m));}else if(!c('isRelayContainer')(n))return new Error(c('sprintf')('Invalid prop `%s` supplied to `%s`, expected a RelayContainer.',l,m));return null;},Environment:function j(k,l,m){var n=k[l];if(!c('isLegacyRelayEnvironment')(n))return new Error(c('sprintf')('Invalid prop/context `%s` supplied to `%s`, expected `%s` to be '+'an object conforming to the `RelayEnvironment` interface.',l,m,n));return null;},QueryConfig:h.shape({name:h.string.isRequired,params:h.object.isRequired,queries:h.object.isRequired})};f.exports=i;}),null);
__d('RelayRecordStatusMap',[],(function a(b,c,d,e,f,g){'use strict';var h=1,i=4;function j(m,n,o){m=m||0;if(n){return m|o;}else return m&~o;}function k(m,n){return ((m||0)&n)!==0;}var l={setOptimisticStatus:function m(n,o){return j(n,o,h);},isOptimisticStatus:function m(n){return k(n,h);},setPartialStatus:function m(n,o){return j(n,o,i);},isPartialStatus:function m(n){return k(n,i);}};f.exports=l;}),null);
__d('RelayQueryCaching',[],(function a(b,c,d,e,f,g){'use strict';var h=true,i={disable:function j(){h=false;},getEnabled:function j(){return h;}};f.exports=i;}),null);
__d('filterObject',[],(function a(b,c,d,e,f,g){'use strict';var h=Object.prototype.hasOwnProperty;function i(j,k,l){if(!j)return null;var m={};for(var n in j)if(h.call(j,n)&&k.call(l,j[n],n,j))m[n]=j[n];return m;}f.exports=i;}),null);
__d('buildRQL',['invariant','Map','QueryBuilder','RelayProfiler','RelayQueryCaching','filterObject','mapObject'],(function a(b,c,d,e,f,g,h){'use strict';var i=new (c('Map'))(),j=new (c('Map'))();function k(o,p){var q=o.length;return q>p;}var l={Fragment:function o(p,q){var r=i.get(p);if(r)return c('QueryBuilder').getFragment(r);var s=n(q);!k(p,1)||h(0);r=p(s);var t=r!=null?c('QueryBuilder').getFragment(r):null;if(!t)return t;i.set(p,t);return t;},Query:function o(p,q,r,s){var t=c('RelayQueryCaching').getEnabled(),u=void 0;if(!t){u=m(p,q,r,s);}else{var v=j.get(p);if(!v){v=new (c('Map'))();j.set(p,v);}else u=v.get(q);if(!u)u=m(p,q,r,s);v.set(q,u);}if(u)return c('QueryBuilder').getQuery(u)||undefined;return null;}};function m(o,p,q,r){var s,t=n(r);!k(o,2)||h(0);var u=void 0;if(k(o,0)){u=o(p,t);}else{u=o(p,t);var v=c('QueryBuilder').getQuery(u);if(v)(function(){var w=false,x=true;if(v.children)v.children.forEach(function(aa){if(aa){w=w||aa.kind==='Fragment';x=x&&aa.kind==='Field'&&(!aa.children||aa.children.length===0);}});if(!w){var y=v.children?[].concat(v.children):[];x||h(0);var z=c('filterObject')(t,function(aa,ba){return (p.hasVariable(ba));});y.push(p.getFragment(q,z));u=babelHelpers['extends']({},v,{children:y});}})();}return u;}function n(o){return c('mapObject')(o,function(p,q){return c('QueryBuilder').createCallVariable(q);});}c('RelayProfiler').instrumentMethods(l,{Fragment:'buildRQL.Fragment',Query:'buildRQL.Query'});f.exports=l;}),null);
__d('relayUnstableBatchedUpdates',['ReactDOM'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('ReactDOM').unstable_batchedUpdates;}),null);
__d('RelayContainer',['invariant','ErrorUtils','React','RelayContainerComparators','RelayContainerProxy','RelayFragmentPointer','RelayFragmentReference','RelayMetaRoute','RelayMutationTransaction','RelayProfiler','RelayPropTypes','RelayQuery','RelayRecord','RelayRecordStatusMap','areEqual','buildRQL','filterObject','forEachObject','isLegacyRelayEnvironment','relayUnstableBatchedUpdates','shallowEqual','warning','RelayContainerUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayContainerUtils').getComponentName,j=c('RelayContainerUtils').getReactComponent,k={relay:c('RelayPropTypes').Environment,route:c('RelayPropTypes').QueryConfig.isRequired,useFakeData:c('React').PropTypes.bool};function l(x,y){var z,aa,ba=j(x),ca=i(x),da=u(x),ea=y.fragments,fa=Object.keys(ea),ga=y.initialVariables||{},ha=y.prepareVariables,ia=y.shouldComponentUpdate;z=babelHelpers.inherits(ja,c('React').Component);aa=z&&z.prototype;function ja(la,ma){'use strict';aa.constructor.call(this,la,ma);var na=ma.relay,oa=ma.route;c('isLegacyRelayEnvironment')(na)||h(0);oa&&typeof oa.name==='string'||h(0);this.$RelayContainer1=false;this.$RelayContainer2={};this.$RelayContainer3=false;this.$RelayContainer4={};this.mounted=true;this.pending=null;this.state={queryData:{},rawVariables:{},relayProp:{applyUpdate:this.context.relay.applyUpdate,commitUpdate:this.context.relay.commitUpdate,forceFetch:this.forceFetch.bind(this),getPendingTransactions:this.getPendingTransactions.bind(this),hasFragmentData:this.hasFragmentData.bind(this),hasOptimisticUpdate:this.hasOptimisticUpdate.bind(this),hasPartialData:this.hasPartialData.bind(this),pendingVariables:null,route:oa,setVariables:this.setVariables.bind(this),variables:{}}};}ja.prototype.setVariables=function(la,ma){'use strict';this.$RelayContainer5(la,ma,false);};ja.prototype.forceFetch=function(la,ma){'use strict';this.$RelayContainer5(la,ma,true);};ja.prototype.$RelayContainer6=function(la){'use strict';var ma={},na={},oa=this.context.relay.getStoreData();fa.forEach(function(pa){var qa,ra=ka(pa,this.context.route,la),sa=this.state.queryData[pa];if(!ra||sa==null)return;var ta=void 0;if(ra.isPlural()){(function(){Array.isArray(sa)||h(0);var va=[];sa.forEach(function(wa,xa){var ya=c('RelayRecord').getDataIDForObject(wa);if(ya){na[pa+xa]=oa.buildFragmentQueryForDataID(ra,ya);va.push(ya);}});if(va.length)ta={fragment:ra,dataIDs:va};})();}else{var ua=c('RelayRecord').getDataIDForObject(sa);if(ua){ta={fragment:ra,dataIDs:ua};na[pa]=oa.buildFragmentQueryForDataID(ra,ua);}}ma[pa]=ta;}.bind(this));return {fragmentPointers:ma,querySet:na};};ja.prototype.$RelayContainer5=function(la,ma,na){'use strict';s(ga,la);var oa=this.state.rawVariables,pa=this.pending?this.pending.rawVariables:oa,qa=p(pa,la),ra=qa;if(ha){var sa=c('RelayMetaRoute').get(this.context.route.name);ra=ha(qa,sa);s(ga,ra);}this.pending&&this.pending.request.abort();var ta=c('RelayProfiler').profile('RelayContainer.setVariables',{containerName:da,nextVariables:ra}),ua=this.$RelayContainer6(ra),va=ua.querySet,wa=ua.fragmentPointers,xa=c('ErrorUtils').guard(function(za){var ab,bb=this,cb=za.aborted,db=za.done,eb=za.error,fb=za.ready,gb=cb||db||eb;if(gb&&this.pending===ya)this.pending=null;var hb=void 0;if(fb){this.$RelayContainer2=wa;this.$RelayContainer7(this.context.relay);var ib=this.$RelayContainer8(this.props);hb={queryData:ib,rawVariables:qa,relayProp:babelHelpers['extends']({},this.state.relayProp,{pendingVariables:null,variables:ra})};}else hb={relayProp:babelHelpers['extends']({},this.state.relayProp,{pendingVariables:gb?null:ra})};var jb=this.mounted;if(jb){(function(){var kb=c('RelayProfiler').profile('RelayContainer.update');c('relayUnstableBatchedUpdates')(function(){this.setState(hb,function(){kb.stop();if(gb)ta.stop();});if(ma)ma.call(this.refs.component||null,babelHelpers['extends']({},za,{mounted:jb}));}.bind(bb));})();}else{if(ma)ma(babelHelpers['extends']({},za,{mounted:jb}));if(gb)ta.stop();}}.bind(this),'RelayContainer.onReadyStateChange'),ya={rawVariables:qa,request:na?this.context.relay.forceFetch(va,xa):this.context.relay.primeCache(va,xa)};this.pending=ya;};ja.prototype.hasOptimisticUpdate=function(la){'use strict';var ma=c('RelayRecord').getDataIDForObject(la);ma!=null||h(0);return this.context.relay.getStoreData().hasOptimisticUpdate(ma);};ja.prototype.getPendingTransactions=function(la){'use strict';var ma=c('RelayRecord').getDataIDForObject(la);ma!=null||h(0);var na=this.context.relay.getStoreData(),oa=na.getClientMutationIDs(ma);if(!oa)return null;var pa=na.getMutationQueue();return oa.map(function(qa){return pa.getTransaction(qa);});};ja.prototype.hasFragmentData=function(la,ma){'use strict';var na=c('RelayRecord').getDataIDForObject(ma);na!=null||h(0);var oa=r(la,this.context,this.state.relayProp.variables);oa instanceof c('RelayQuery').Fragment||h(0);var pa=this.context.relay.getStoreData();return pa.getCachedStore().hasFragmentData(na,oa.getCompositeHash());};ja.prototype.hasPartialData=function(la){'use strict';return c('RelayRecordStatusMap').isPartialStatus(la[c('RelayRecord').MetadataKey.STATUS]);};ja.prototype.componentWillMount=function(){'use strict';if(this.context.route.useMockData)return;this.setState(this.$RelayContainer9(this.props,this.context,ga,null));};ja.prototype.componentWillReceiveProps=function(la,ma){'use strict';var na=ma;na||h(0);if(na.route.useMockData)return;this.setState(function(oa){if(this.context.relay!==na.relay)this.$RelayContainer10();return this.$RelayContainer9(la,na,n(y,la,oa.rawVariables),oa.rawVariables);}.bind(this));};ja.prototype.componentWillUnmount=function(){'use strict';this.$RelayContainer10();this.mounted=false;};ja.prototype.$RelayContainer9=function(la,ma,na,oa){'use strict';var pa=m(y,la,na),qa=pa;if(ha){var ra=c('RelayMetaRoute').get(ma.route.name);qa=ha(pa,ra);s(ga,qa);}this.$RelayContainer11(la,ma,qa,oa);this.$RelayContainer7(ma.relay);return {queryData:this.$RelayContainer8(la),rawVariables:pa,relayProp:this.state.relayProp.route===ma.route&&c('shallowEqual')(this.state.relayProp.variables,qa)?this.state.relayProp:babelHelpers['extends']({},this.state.relayProp,{route:ma.route,variables:qa})};};ja.prototype.$RelayContainer10=function(){'use strict';if(this.$RelayContainer4)c('forEachObject')(this.$RelayContainer4,function(ma){return ma&&ma.dispose();});this.$RelayContainer2={};this.$RelayContainer4={};var la=this.pending;if(la){la.request.abort();this.pending=null;}};ja.prototype.$RelayContainer7=function(la){'use strict';var ma=this.$RelayContainer2,na=this.$RelayContainer4;fa.forEach(function(oa){var pa=ma[oa],qa=na[oa];if(!pa){if(qa){qa.dispose();na[oa]=null;}}else if(!qa){qa=la.getFragmentResolver(pa.fragment,this.$RelayContainer12.bind(this));na[oa]=qa;}}.bind(this));};ja.prototype.$RelayContainer12=function(){'use strict';if(!this.mounted)return;var la=this.$RelayContainer8(this.props),ma=c('RelayProfiler').profile('RelayContainer.handleFragmentDataUpdate');this.setState({queryData:la},ma.stop);};ja.prototype.$RelayContainer11=function(la,ma,na,oa){'use strict';var pa=this.$RelayContainer2;fa.forEach(function(qa){var ra,sa=this,ta=la[qa];c('warning')(ta!==undefined,'RelayContainer: Expected prop `%s` to be supplied to `%s`, but '+'got `undefined`. Pass an explicit `null` if this is intentional.',qa,ca);if(ta==null){pa[qa]=null;return;}if(typeof ta!=='object'){c('warning')(false,'RelayContainer: Expected prop `%s` supplied to `%s` to be an '+'object, got `%s`.',qa,ca,ta);pa[qa]=null;return;}var ua=ka(qa,ma.route,na),va=void 0;if(ua.isPlural()){var ra=function(){Array.isArray(ta)||h(0);if(!ta.length){pa[qa]=null;return {v:void 0};}var wa=null;ta.forEach(function(xa,ya){if(typeof xa==='object'&&xa!=null)if(c('RelayFragmentPointer').hasConcreteFragment(xa,ua)){var za=c('RelayRecord').getDataIDForObject(xa);if(za){wa=wa||[];wa.push(za);}}}.bind(sa));if(wa)wa.length===ta.length||h(0);va=wa;}();if(typeof ra==="object")return ra.v;}else{!Array.isArray(ta)||h(0);if(c('RelayFragmentPointer').hasConcreteFragment(ta,ua))va=c('RelayRecord').getDataIDForObject(ta);}pa[qa]=va?{fragment:ua,dataIDs:va}:null;}.bind(this));};ja.prototype.$RelayContainer8=function(la){'use strict';var ma={},na=this.$RelayContainer2;c('forEachObject')(this.$RelayContainer4,function(oa,pa){var qa=la[pa],ra=na[pa];if(!qa||!ra){oa&&oa.dispose();ma[pa]=qa;}else ma[pa]=oa.resolve(ra.fragment,ra.dataIDs);if(this.state.queryData.hasOwnProperty(pa)&&ma[pa]!==this.state.queryData[pa])this.$RelayContainer3=true;}.bind(this));return ma;};ja.prototype.shouldComponentUpdate=function(la,ma,na){'use strict';if(ia)return ia();if(this.$RelayContainer3){this.$RelayContainer3=false;return true;}if(this.context.relay!==na.relay||this.context.route!==na.route)return true;var oa=this.$RelayContainer2;return (!c('RelayContainerComparators').areNonQueryPropsEqual(ea,this.props,la)||oa&&!c('RelayContainerComparators').areQueryResultsEqual(oa,this.state.queryData,ma.queryData)||!c('RelayContainerComparators').areQueryVariablesEqual(this.state.relayProp.variables,ma.relayProp.variables));};ja.prototype.render=function(){'use strict';if(ba){return (c('React').createElement(ba,babelHelpers['extends']({},this.props,this.state.queryData,{ref:'component',relay:this.state.relayProp})));}else{var la=x;return c('React').createElement(la,babelHelpers['extends']({},this.props,this.state.queryData,{relay:this.state.relayProp}));}};function ka(la,ma,na){var oa=ea[la];oa||h(0);var pa=q(da,la,oa,ga),qa=c('RelayMetaRoute').get(ma.name);return c('RelayQuery').Fragment.create(pa,qa,na);}o(ja);ja.contextTypes=k;ja.displayName=da;c('RelayContainerProxy').proxyMethods(ja,x);return ja;}function m(x,y,z){var aa=x.initialVariables;if(aa){var ba=void 0;for(var ca in aa)if(ca in y){ba=ba||babelHelpers['extends']({},z);ba[ca]=y[ca];}z=ba||z;}return z;}function n(x,y,z){var aa=x.initialVariables;for(var ba in aa)if(ba in y&&!c('areEqual')(y[ba],z[ba]))return aa;return z;}function o(x){c('RelayProfiler').instrumentMethods(x.prototype,{componentWillMount:'RelayContainer.prototype.componentWillMount',componentWillReceiveProps:'RelayContainer.prototype.componentWillReceiveProps',shouldComponentUpdate:'RelayContainer.prototype.shouldComponentUpdate'});}function p(x,y){if(y)for(var z in y)if(x[z]!==y[z])return babelHelpers['extends']({},x,y);return x;}function q(x,y,z,aa){var ba=c('buildRQL').Fragment(z,aa);ba||h(0);return ba;}function r(x,y,z){var aa=c('RelayMetaRoute').get(y.route.name),ba=x.getFragment(z),ca=x.getVariables(aa,z);return c('RelayQuery').Fragment.create(ba,aa,ca,{isDeferred:true,isContainerFragment:x.isContainerFragment(),isTypeConditional:false});}function s(x,y){if(y)for(var z in y)c('warning')(x.hasOwnProperty(z),'RelayContainer: Expected query variable `%s` to be initialized in '+'`initialVariables`.',z);}function t(x,y){var z=y.fragments;typeof z==='object'&&z||h(0);if(!y.initialVariables)return;var aa=y.initialVariables||{};typeof aa==='object'&&aa||h(0);c('forEachObject')(z,function(ba,ca){c('warning')(!aa.hasOwnProperty(ca),'Relay.createContainer(%s, ...): `%s` is used both as a fragment name '+'and variable name. Please give them unique names.',x,ca);});}function u(x){return 'Relay('+i(x)+')';}function v(x,y){var z=i(x),aa=u(x);t(z,y);var ba=y.fragments,ca=Object.keys(ba),da=y.initialVariables||{},ea=y.prepareVariables,fa=void 0;function ga(ha,ia){if(!fa)fa=l(x,y);return new fa(ha,ia);}ga.getFragmentNames=function(){return ca;};ga.hasFragment=function(ha){return !!ba[ha];};ga.hasVariable=function(ha){return (Object.prototype.hasOwnProperty.call(da,ha));};ga.getFragment=function(ha,ia){var ja=ba[ha];if(!ja)h(0);typeof ja==='function'||h(0);if(ia)ia=c('filterObject')(ia,function(ka,la){return (Object.prototype.hasOwnProperty.call(da,la));});return c('RelayFragmentReference').createForContainer(function(){return q(aa,ha,ja,da);},da,ia,ea);};ga.contextTypes=k;ga.displayName=aa;ga.moduleName=null;return ga;}function w(x,y,z,aa,ba){var ca=c('RelayFragmentPointer').hasFragment(aa,z)||!!ba&&c('areEqual')(ba,z.getVariables());if(!ca){var da=z.getVariables(),ea=c('RelayFragmentPointer').getFragmentVariables(aa,z);c('warning')(false,'RelayContainer: component `%s` was rendered with variables '+'that differ from the variables used to fetch fragment '+'`%s`. The fragment was fetched with variables `%s`, but rendered '+'with variables `%s`. This can indicate one of two possibilities: \n'+' - The parent set the correct variables in the query - '+'`%s.getFragment(\'%s\', {...})` - but did not pass the same '+'variables when rendering the component. Be sure to tell the '+'component what variables to use by passing them as props: '+'`<%s ... %s />`.\n'+' - You are intentionally passing fake data to this '+'component, in which case ignore this warning.',x,y,ea?ea.map(function(fa){return JSON.stringify(fa);}).join(', '):'(not fetched)',JSON.stringify(da),x,y,x,Object.keys(da).map(function(fa){return fa+'={...}';}).join(' '));}return ca;}f.exports={create:v};}),null);
__d('RelayQueryVisitor',['RelayQuery'],(function a(b,c,d,e,f,g){'use strict';h.prototype.visit=function(i,j){if(i instanceof c('RelayQuery').Field){return this.visitField(i,j);}else if(i instanceof c('RelayQuery').Fragment){return this.visitFragment(i,j);}else if(i instanceof c('RelayQuery').Root)return this.visitRoot(i,j);};h.prototype.traverse=function(i,j){if(i.canHaveSubselections())this.traverseChildren(i,j,function(k){this.visit(k,j);},this);return i;};h.prototype.traverseChildren=function(i,j,k,l){var m=i.getChildren();for(var n=0;n<m.length;n++)k.call(l,m[n],n,m);};h.prototype.visitField=function(i,j){return this.traverse(i,j);};h.prototype.visitFragment=function(i,j){return this.traverse(i,j);};h.prototype.visitRoot=function(i,j){return this.traverse(i,j);};function h(){}f.exports=h;}),null);
__d('RelayRecordState',[],(function a(b,c,d,e,f,g){'use strict';var h={EXISTENT:'EXISTENT',NONEXISTENT:'NONEXISTENT',UNKNOWN:'UNKNOWN'};f.exports=h;}),null);
__d('isCompatibleRelayFragmentType',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){return (j===i.getType()||!j||i.isAbstract());}f.exports=h;}),null);
__d('validateRelayReadQuery',['RelayQueryVisitor','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=c('emptyFunction');f.exports=h;}),null);
__d('readRelayQueryData',['invariant','RelayConnectionInterface','RelayFragmentPointer','RelayProfiler','RelayQuery','RelayQueryVisitor','RelayRecord','RelayRecordState','RelayRecordStatusMap','callsFromGraphQL','callsToGraphQL','isCompatibleRelayFragmentType','validateRelayReadQuery'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('RelayRecord').MetadataKey.MUTATION_STATUS,n=c('RelayConnectionInterface').EDGES,o=c('RelayConnectionInterface').PAGE_INFO,p=['__status__','__resolvedFragmentMapGeneration__'];function q(y,z,aa,ba){var ca=new r(y,ba),da=ca.retrieveData(z,aa);c('validateRelayReadQuery')(z,ba);return da;}i=babelHelpers.inherits(r,c('RelayQueryVisitor'));j=i&&i.prototype;function r(y,z){j.constructor.call(this);this.$RelayStoreReader1=y.getRangeData();this.$RelayStoreReader2=y.getQueuedStore();this.$RelayStoreReader3=y;this.$RelayStoreReader4=z&&z.traverseFragmentReferences||false;this.$RelayStoreReader5=z&&z.traverseGeneratedFields||false;}r.prototype.retrieveData=function(y,z){var aa={data:undefined,dataIDs:{}},ba=this.$RelayStoreReader1.parseRangeClientID(z),ca=this.$RelayStoreReader2.getRecordState(ba?ba.dataID:z);if(ca===c('RelayRecordState').EXISTENT){var da=this.$RelayStoreReader6({componentDataID:null,data:undefined,isPartial:false,parent:null,rangeInfo:null,seenDataIDs:aa.dataIDs,storeDataID:z});this.visit(y,da);aa.data=da.data;}else if(ca===c('RelayRecordState').NONEXISTENT)aa.data=null;return aa;};r.prototype.visit=function(y,z){var aa=j.visit.call(this,y,z);this.$RelayStoreReader7(z);return aa;};r.prototype.visitField=function(y,z){this.$RelayStoreReader8(y,z);if(y.canHaveSubselections()||y.isGenerated())w(z);if(y.isGenerated()&&!this.$RelayStoreReader5)return;var aa=z.rangeInfo;if(aa&&y.getSchemaName()===n){this.$RelayStoreReader9(y,aa,z);}else if(aa&&y.getSchemaName()===o){this.$RelayStoreReader10(y,aa,z);}else if(!y.canHaveSubselections()){this.$RelayStoreReader11(y,z);}else if(y.isPlural()){this.$RelayStoreReader12(y,z);}else if(y.isConnection()){this.$RelayStoreReader13(y,z);}else this.$RelayStoreReader14(y,z);z.seenDataIDs[z.storeDataID]=true;};r.prototype.visitFragment=function(y,z){var aa=v(z);if(y.isContainerFragment()&&!this.$RelayStoreReader4){z.seenDataIDs[aa]=true;var ba=w(z);c('RelayFragmentPointer').addFragment(ba,y);}else if(c('isCompatibleRelayFragmentType')(y,this.$RelayStoreReader2.getType(aa)))this.traverse(y,z);};r.prototype.$RelayStoreReader6=function(y){var z=this.$RelayStoreReader2.getRecordState(y.storeDataID);if(z===c('RelayRecordState').EXISTENT)w(y);return y;};r.prototype.$RelayStoreReader11=function(y,z){var aa=y.getStorageKey(),ba=this.$RelayStoreReader2.getField(z.storeDataID,aa);if(ba===undefined){z.isPartial=true;}else if(ba===null&&!z.data){z.data=null;}else this.$RelayStoreReader15(z,y.getApplicationName(),Array.isArray(ba)?ba.slice():ba);};r.prototype.$RelayStoreReader12=function(y,z){var aa,ba=this,ca=y.getStorageKey(),da=this.$RelayStoreReader2.getLinkedRecordIDs(z.storeDataID,ca);if(da)(function(){var ea=y.getApplicationName(),fa=x(z,ea),ga=da.map(function(ha,ia){var ja=void 0;if(fa instanceof Object)ja=fa[ia];var ka=this.$RelayStoreReader6({componentDataID:null,data:ja,isPartial:false,parent:y,rangeInfo:null,seenDataIDs:z.seenDataIDs,storeDataID:ha});y.getChildren().forEach(function(la){return this.visit(la,ka);}.bind(this));if(ka.isPartial)z.isPartial=true;return ka.data;}.bind(ba));ba.$RelayStoreReader15(z,ea,ga);})();};r.prototype.$RelayStoreReader13=function(y,z){var aa=y.getApplicationName(),ba=y.getStorageKey(),ca=y.getCallsWithValues(),da=this.$RelayStoreReader2.getLinkedRecordID(z.storeDataID,ba);if(!da){z.isPartial=true;return;}s(y);var ea=this.$RelayStoreReader2.getRangeMetadata(da,ca),fa=this.$RelayStoreReader6({componentDataID:this.$RelayStoreReader16(y,da),data:x(z,aa),isPartial:false,parent:y,rangeInfo:ea&&ca.length?ea:null,seenDataIDs:z.seenDataIDs,storeDataID:da});this.traverse(y,fa);if(fa.isPartial)z.isPartial=true;this.$RelayStoreReader15(z,aa,fa.data);};r.prototype.$RelayStoreReader9=function(y,z,aa){if(z.diffCalls.length)aa.isPartial=true;var ba=x(aa,n);z.requestedEdgeIDs.forEach(function(da){aa.seenDataIDs[da]=true;});var ca=z.filteredEdges.map(function(da,ea){var fa=void 0;if(ba instanceof Object)fa=ba[ea];var ga=this.$RelayStoreReader6({componentDataID:null,data:fa,isPartial:false,parent:y,rangeInfo:null,seenDataIDs:aa.seenDataIDs,storeDataID:da.edgeID});this.traverse(y,ga);if(ga.isPartial)aa.isPartial=true;return ga.data;}.bind(this));this.$RelayStoreReader15(aa,n,ca);};r.prototype.$RelayStoreReader10=function(y,z,aa){var ba=z.pageInfo;ba||h(0);if(z.diffCalls.length)aa.isPartial=true;var ca=ba,da=void 0,ea=function(fa){if(fa instanceof c('RelayQuery').Fragment){if(fa.isContainerFragment()&&!this.$RelayStoreReader4){da=da||{};c('RelayFragmentPointer').addFragment(da,fa);}else fa.getChildren().forEach(ea);}else{var ga=fa;if(!ga.isGenerated()||this.$RelayStoreReader5){da=da||{};da[ga.getApplicationName()]=ca[ga.getStorageKey()];}}}.bind(this);y.getChildren().forEach(ea);this.$RelayStoreReader15(aa,o,da);};r.prototype.$RelayStoreReader14=function(y,z){var aa=y.getStorageKey(),ba=y.getApplicationName(),ca=this.$RelayStoreReader2.getLinkedRecordID(z.storeDataID,aa);if(ca==null){if(ca===undefined)z.isPartial=true;this.$RelayStoreReader15(z,ba,ca);return;}var da=this.$RelayStoreReader6({componentDataID:null,data:x(z,ba),isPartial:false,parent:y,rangeInfo:null,seenDataIDs:z.seenDataIDs,storeDataID:ca});this.traverse(y,da);if(da.isPartial)z.isPartial=true;this.$RelayStoreReader15(z,ba,da.data);};r.prototype.$RelayStoreReader15=function(y,z,aa){var ba=w(y);if(aa===undefined)return;ba[z]=aa;};r.prototype.$RelayStoreReader7=function(y){var z,aa=this,ba=y.data;if(!(ba instanceof Object))return;var ca=y.storeDataID;p.forEach(function(ea){var fa=this.$RelayStoreReader2.getField(ca,ea);if(fa!=null)ba[ea]=fa;}.bind(this));if(y.isPartial)ba.__status__=c('RelayRecordStatusMap').setPartialStatus(ba.__status__,true);var da=this.$RelayStoreReader3.getClientMutationIDs(ca);if(da)(function(){var ea=[],fa=aa.$RelayStoreReader3.getMutationQueue();da.forEach(function(ga){var ha=fa.getTransaction(ga);if(ha)ea.push(ha.getHash());});ba[m]=ea.join(',');})();};r.prototype.$RelayStoreReader16=function(y,z){var aa=y.getCallsWithValues();if(!c('RelayConnectionInterface').hasRangeCalls(aa))return z;return this.$RelayStoreReader1.getClientIDForRangeWithID(c('callsToGraphQL')(aa),{},z);};r.prototype.$RelayStoreReader8=function(y,z){var aa=this.$RelayStoreReader1.parseRangeClientID(z.storeDataID);if(aa!=null){z.componentDataID=z.storeDataID;z.storeDataID=aa.dataID;z.rangeInfo=this.$RelayStoreReader2.getRangeMetadata(z.storeDataID,c('callsFromGraphQL')(aa.calls,aa.callValues));}};function s(y){if(!y.__hasValidatedConnectionCalls__){var z=y.getCallsWithValues();if(!c('RelayConnectionInterface').hasRangeCalls(z))u.traverse(y,y);y.__hasValidatedConnectionCalls__=true;}}k=babelHelpers.inherits(t,c('RelayQueryVisitor'));l=k&&k.prototype;t.prototype.visitField=function(y,z){var aa=y.getSchemaName();aa!==n&&aa!==o||h(0);};function t(){k.apply(this,arguments);}var u=new t();function v(y){if(y.componentDataID!=null){return y.componentDataID;}else return y.storeDataID;}function w(y){var z=y.data;if(!z)z=y.data=c('RelayRecord').create(v(y));z instanceof Object||h(0);return z;}function x(y,z){var aa=w(y);return aa[z];}f.exports=c('RelayProfiler').instrument('readRelayQueryData',q);}),null);
__d('recycleNodesInto',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k;if(i===j||typeof i!=='object'||!i||typeof j!=='object'||!j)return j;var l=false,m=Array.isArray(i)?i:null,n=Array.isArray(j)?j:null;if(m&&n){l=n.reduce(function(o,p,q){n[q]=h(m[q],p);return o&&n[q]===m[q];},true)&&m.length===n.length;}else if(!m&&!n)(function(){var o=i,p=j,q=Object.keys(o),r=Object.keys(p);l=r.reduce(function(s,t){var u=p[t];p[t]=h(o[t],u);return s&&p[t]===o[t];},true)&&q.length===r.length;})();return l?i:j;}f.exports=h;}),null);
__d('GraphQLStoreQueryResolver',['RelayProfiler','readRelayQueryData','recycleNodesInto','warning'],(function a(b,c,d,e,f,g){'use strict';function h(k,l,m){this.dispose();this.$GraphQLStoreQueryResolver1=m;this.$GraphQLStoreQueryResolver2=l;this.$GraphQLStoreQueryResolver3=null;this.$GraphQLStoreQueryResolver4=k;}h.prototype.dispose=function(){if(this.$GraphQLStoreQueryResolver3)this.$GraphQLStoreQueryResolver3.dispose();};h.prototype.resolve=function(k,l){if(this.$GraphQLStoreQueryResolver2.getConcreteFragmentID()!==k.getConcreteFragmentID())c('warning')(false,'GraphQLStoreQueryResolver: Expected `resolve` to be called with the '+'same concrete fragment as the constructor. The resolver was created '+'with fragment `%s` but resolved with fragment `%s`.',this.$GraphQLStoreQueryResolver2.getDebugName(),k.getDebugName());if(Array.isArray(l)){c('warning')(k.isPlural(),'GraphQLStoreQueryResolver: Expected id/fragment plurality to be '+'consistent: got plural ids for singular fragment `%s`.',k.getDebugName());var m=this.$GraphQLStoreQueryResolver3;if(m instanceof j){m.dispose();m=null;}if(!m)m=new i(this.$GraphQLStoreQueryResolver4,this.$GraphQLStoreQueryResolver1);this.$GraphQLStoreQueryResolver3=m;return m.resolve(k,l);}else{c('warning')(!k.isPlural(),'GraphQLStoreQueryResolver: Expected id/fragment plurality to be '+'consistent: got a singular id for plural fragment `%s`.',k.getDebugName());var n=this.$GraphQLStoreQueryResolver3;if(n instanceof i){n.dispose();n=null;}if(!n)n=new j(this.$GraphQLStoreQueryResolver4,this.$GraphQLStoreQueryResolver1);this.$GraphQLStoreQueryResolver3=n;return n.resolve(k,l);}};function i(k,l){this.dispose();this.$GraphQLStorePluralQueryResolver1=l;this.$GraphQLStorePluralQueryResolver4=k;}i.prototype.dispose=function(){if(this.$GraphQLStorePluralQueryResolver2)this.$GraphQLStorePluralQueryResolver2.forEach(function(k){return k.dispose();});this.$GraphQLStorePluralQueryResolver2=[];this.$GraphQLStorePluralQueryResolver3=[];};i.prototype.resolve=function(k,l){var m=this.$GraphQLStorePluralQueryResolver3,n=void 0,o=m.length,p=l.length,q=this.$GraphQLStorePluralQueryResolver2;while(q.length<p)q.push(new j(this.$GraphQLStorePluralQueryResolver4,this.$GraphQLStorePluralQueryResolver1));while(q.length>p)q.pop().dispose();if(o!==p)n=[];for(var r=0;r<p;r++){var s=q[r].resolve(k,l[r]);if(n||r>=o||s!==m[r]){n=n||m.slice(0,r);n.push(s);}}if(n)this.$GraphQLStorePluralQueryResolver3=n;return this.$GraphQLStorePluralQueryResolver3;};function j(k,l){this.dispose();this.$GraphQLStoreSingleQueryResolver1=l;this.$GraphQLStoreSingleQueryResolver3=k.getGarbageCollector();this.$GraphQLStoreSingleQueryResolver7=k;this.$GraphQLStoreSingleQueryResolver8={};}j.prototype.dispose=function(){if(this.$GraphQLStoreSingleQueryResolver9)this.$GraphQLStoreSingleQueryResolver9.remove();this.$GraphQLStoreSingleQueryResolver4=false;this.$GraphQLStoreSingleQueryResolver2=null;this.$GraphQLStoreSingleQueryResolver5=null;this.$GraphQLStoreSingleQueryResolver6=null;this.$GraphQLStoreSingleQueryResolver9=null;this.$GraphQLStoreSingleQueryResolver10({});this.$GraphQLStoreSingleQueryResolver8={};};j.prototype.resolve=function(k,l){var m=this.$GraphQLStoreSingleQueryResolver2,n=this.$GraphQLStoreSingleQueryResolver6,o=void 0,p=this.$GraphQLStoreSingleQueryResolver5,q=void 0;if(m!=null&&n!=null&&this.$GraphQLStoreSingleQueryResolver11(n)===this.$GraphQLStoreSingleQueryResolver11(l)){if(n!==l||this.$GraphQLStoreSingleQueryResolver4||!k.isEquivalent(m)){var r=this.$GraphQLStoreSingleQueryResolver12(k,l);o=r[0];q=r[1];o=c('recycleNodesInto')(p,o);}else o=p;}else{var s=this.$GraphQLStoreSingleQueryResolver12(k,l);o=s[0];q=s[1];}if(p!==o){if(this.$GraphQLStoreSingleQueryResolver9){this.$GraphQLStoreSingleQueryResolver9.remove();this.$GraphQLStoreSingleQueryResolver9=null;}if(q){q[l]=true;var t=this.$GraphQLStoreSingleQueryResolver7.getChangeEmitter();this.$GraphQLStoreSingleQueryResolver9=t.addListenerForIDs(Object.keys(q),this.$GraphQLStoreSingleQueryResolver13.bind(this));this.$GraphQLStoreSingleQueryResolver10(q);this.$GraphQLStoreSingleQueryResolver8=q;}this.$GraphQLStoreSingleQueryResolver6=l;this.$GraphQLStoreSingleQueryResolver5=o;}this.$GraphQLStoreSingleQueryResolver4=false;this.$GraphQLStoreSingleQueryResolver2=k;return this.$GraphQLStoreSingleQueryResolver5;};j.prototype.$GraphQLStoreSingleQueryResolver11=function(k){return this.$GraphQLStoreSingleQueryResolver7.getRangeData().getCanonicalClientID(k);};j.prototype.$GraphQLStoreSingleQueryResolver13=function(){if(!this.$GraphQLStoreSingleQueryResolver4){this.$GraphQLStoreSingleQueryResolver4=true;this.$GraphQLStoreSingleQueryResolver1();}};j.prototype.$GraphQLStoreSingleQueryResolver12=function(k,l){var m=c('readRelayQueryData')(this.$GraphQLStoreSingleQueryResolver7,k,l),n=m.data,o=m.dataIDs;return [n,o];};j.prototype.$GraphQLStoreSingleQueryResolver10=function(k){var l,m=this;if(this.$GraphQLStoreSingleQueryResolver3)(function(){var n=m.$GraphQLStoreSingleQueryResolver3,o=m.$GraphQLStoreSingleQueryResolver7.getRangeData(),p=m.$GraphQLStoreSingleQueryResolver8;Object.keys(k).forEach(function(q){q=o.getCanonicalClientID(q);n.incrementReferenceCount(q);});Object.keys(p).forEach(function(q){q=o.getCanonicalClientID(q);n.decrementReferenceCount(q);});})();};c('RelayProfiler').instrumentMethods(h.prototype,{resolve:'GraphQLStoreQueryResolver.resolve'});f.exports=h;}),null);
__d('RelayQueryPath',['invariant','RelayNodeInterface','RelayQuery','RelayRecord','RelayRecordState','forEachRootCallArg','warning','RelayConnectionInterface'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConnectionInterface').EDGES,j=c('RelayNodeInterface').ID,k=c('RelayNodeInterface').ID_TYPE,l=c('RelayNodeInterface').NODE,m=c('RelayNodeInterface').NODE_TYPE,n=c('RelayNodeInterface').TYPENAME,o=c('RelayQuery').Field.build({fieldName:j,type:'String'}),p=c('RelayQuery').Field.build({fieldName:n,type:'String'}),q={type:'rootRecord'},r={getRootRecordPath:function u(){return q;},createForID:function u(v,w,x){!c('RelayRecord').isClientID(v)||h(0);return {dataID:v,name:w,routeName:x||'$RelayQuery',type:'node'};},create:function u(v){if(v.getFieldName()===l){var w=v.getIdentifyingArg();if(w&&typeof w.value==='string')return {dataID:w.value,name:v.getName(),routeName:v.getRoute().name,type:'node'};}return {root:v,type:'root'};},getPath:function u(v,w,x){if(x==null||c('RelayRecord').isClientID(x)){return {node:w,parent:v,type:'client'};}else if(v.type==='node'&&v.dataID===x){return v;}else return {dataID:x,name:r.getName(v),routeName:r.getRouteName(v),type:'node'};},isRootPath:function u(v){return v.type==='node'||v.type==='root';},getParent:function u(v){v.type==='client'||h(0);return v.parent;},getName:function u(v){while(v.type==='client')v=v.parent;if(v===q){return 'RootRecordPath';}else if(v.type==='root'){return v.root.getName();}else if(v.type==='node'){return v.name;}else h(0);},getRouteName:function u(v){while(v.type==='client')v=v.parent;if(v===q){return '$RelayQueryPath';}else if(v.type==='root'){return v.root.getRoute().name;}else if(v.type==='node'){return v.routeName;}else h(0);},getQuery:function u(v,w,x){var y=x,z=void 0;while(w.type==='client'){var aa=w.node;if(aa instanceof c('RelayQuery').Field){var ba=aa.getSchemaName();c('warning')(!z||z!==i||!aa.isConnection(),'RelayQueryPath.getQuery(): Cannot generate accurate query for '+'path with connection `%s`. Consider adding an `id` field to each '+'`node` to make them refetchable.',ba);z=ba;}var ca=aa instanceof c('RelayQuery').Field?aa.getInferredPrimaryKey():j;if(ca){y=aa.clone([y,aa.getFieldByStorageKey(ca),aa.getFieldByStorageKey(n)]);}else y=aa.clone([y]);w=w.parent;}w.type!=='rootRecord'||h(0);var da=w.type==='root'?w.root:s(w),ea=[y,da.getFieldByStorageKey(j),da.getFieldByStorageKey(n)],fa=t(v,da,ea),ga=da.cloneWithRoute(fa,x.getRoute());ga instanceof c('RelayQuery').Root||h(0);return ga;}};function s(u){return c('RelayQuery').Root.build(u.name,l,u.dataID,[o,p],{identifyingArgName:j,identifyingArgType:k,isAbstract:true,isDeferred:false,isPlural:false},m,u.routeName);}function t(u,v,w){var x=[];w.forEach(function(da){if(da)x.push(da);});if(!v.isAbstract())return x;var y=[];c('forEachRootCallArg')(v,function(da){var ea=da.identifyingArgKey;y.push(ea);});var z=y[0],aa=u.getDataID(v.getStorageKey(),z),ba=aa&&u.getType(aa);if(ba!=null){return [c('RelayQuery').Fragment.build(v.getName(),ba,x)];}else{var ca=aa!=null?u.getRecordState(aa):c('RelayRecordState').UNKNOWN;c('warning')(false,'RelayQueryPath: No typename found for %s record `%s`. Generating a '+'possibly invalid query.',ca.toLowerCase(),aa);return x;}}f.exports=r;}),null);
__d('RelayQueryRequest',['Deferred','RelayQuery','printRelayQuery'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Deferred'));i=h&&h.prototype;function j(k){i.constructor.call(this);this.$RelayQueryRequest1=null;this.$RelayQueryRequest2=k;}j.prototype.getDebugName=function(){var k=this.$RelayQueryRequest2.getName();return this.$RelayQueryRequest2.isDeferred()?k+' (DEFERRED)':k;};j.prototype.getID=function(){return this.$RelayQueryRequest2.getID();};j.prototype.getVariables=function(){var k=this.$RelayQueryRequest1;if(!k){k=c('printRelayQuery')(this.$RelayQueryRequest2);this.$RelayQueryRequest1=k;}return k.variables;};j.prototype.getQueryString=function(){var k=this.$RelayQueryRequest1;if(!k){k=c('printRelayQuery')(this.$RelayQueryRequest2);this.$RelayQueryRequest1=k;}return k.text;};j.prototype.getQuery=function(){return this.$RelayQueryRequest2;};f.exports=j;}),null);
__d('RelayQueryResultObservable',['invariant','GraphQLStoreQueryResolver'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k,l){this.$RelayQueryResultObservable1=undefined;this.$RelayQueryResultObservable2=l;this.$RelayQueryResultObservable3=k;this.$RelayQueryResultObservable4=null;this.$RelayQueryResultObservable5=j;this.$RelayQueryResultObservable6=[];this.$RelayQueryResultObservable7=0;}i.prototype.subscribe=function(j){this.$RelayQueryResultObservable7++;var k=this.$RelayQueryResultObservable6.length,l={dispose:function(){this.$RelayQueryResultObservable6[k]||h(0);delete this.$RelayQueryResultObservable6[k];this.$RelayQueryResultObservable7--;if(this.$RelayQueryResultObservable7===0)this.$RelayQueryResultObservable8();}.bind(this)};this.$RelayQueryResultObservable6.push(j);if(this.$RelayQueryResultObservable7===1)this.$RelayQueryResultObservable9(this.$RelayQueryResultObservable10());this.$RelayQueryResultObservable11(j);return l;};i.prototype.$RelayQueryResultObservable10=function(){!this.$RelayQueryResultObservable4||h(0);var j=new (c('GraphQLStoreQueryResolver'))(this.$RelayQueryResultObservable5,this.$RelayQueryResultObservable3,function(){return this.$RelayQueryResultObservable12(j);}.bind(this));this.$RelayQueryResultObservable4=j;return j;};i.prototype.$RelayQueryResultObservable8=function(){if(this.$RelayQueryResultObservable4){this.$RelayQueryResultObservable1=undefined;this.$RelayQueryResultObservable4.dispose();this.$RelayQueryResultObservable4=null;}};i.prototype.$RelayQueryResultObservable12=function(j){this.$RelayQueryResultObservable9(j);this.$RelayQueryResultObservable6.forEach(function(k){return this.$RelayQueryResultObservable11(k);}.bind(this));};i.prototype.$RelayQueryResultObservable11=function(j){j.onNext&&j.onNext(this.$RelayQueryResultObservable1);};i.prototype.$RelayQueryResultObservable9=function(j){var k=j.resolve(this.$RelayQueryResultObservable3,this.$RelayQueryResultObservable2);!Array.isArray(k)||h(0);this.$RelayQueryResultObservable1=k;};f.exports=i;}),null);
__d('RelayFetchMode',[],(function a(b,c,d,e,f,g){'use strict';var h=Object.freeze({CLIENT:'CLIENT',PRELOAD:'PRELOAD',REFETCH:'REFETCH'});f.exports=h;}),null);
__d("resolveImmediate",["Promise"],(function a(b,c,d,e,f,g){var h=c("Promise").resolve();function i(k){h.then(k)["catch"](j);}function j(k){setTimeout(function(){throw k;},0);}f.exports=i;}),null);
__d('RelayReadyState',['resolveImmediate','warning'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$RelayReadyState1=i;this.$RelayReadyState2={aborted:false,done:false,error:null,events:[],ready:false,stale:false};this.$RelayReadyState3=false;}h.prototype.update=function(i,j){var k=this.$RelayReadyState2;if(k.aborted)return;if(k.done||k.error){if(i.stale){if(k.error)this.$RelayReadyState4(i,j);}else if(!i.aborted)c('warning')(false,'RelayReadyState: Invalid state change from `%s` to `%s`.',JSON.stringify(k),JSON.stringify(i));return;}this.$RelayReadyState4(i,j);};h.prototype.$RelayReadyState4=function(i,j){this.$RelayReadyState2=babelHelpers['extends']({},this.$RelayReadyState2,i,{events:j&&j.length?[].concat(this.$RelayReadyState2.events,j):this.$RelayReadyState2.events});if(this.$RelayReadyState3)return;this.$RelayReadyState3=true;c('resolveImmediate')(function(){this.$RelayReadyState3=false;this.$RelayReadyState1(this.$RelayReadyState2);}.bind(this));};f.exports=h;}),null);
__d('checkRelayQueryData',['RelayConnectionInterface','RelayProfiler','RelayQueryVisitor','RelayRecordState','forEachRootCallArg','isCompatibleRelayFragmentType'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('RelayConnectionInterface').EDGES,k=c('RelayConnectionInterface').PAGE_INFO;function l(n,o){var p=new m(n),q={dataID:undefined,rangeInfo:undefined,result:true};p.visit(o,q);return q.result;}h=babelHelpers.inherits(m,c('RelayQueryVisitor'));i=h&&h.prototype;function m(n){i.constructor.call(this);this.$RelayQueryChecker1=n;}m.prototype.traverse=function(n,o){var p=n.getChildren();for(var q=0;q<p.length;q++){if(!o.result)return;this.visit(p[q],o);}};m.prototype.visitRoot=function(n,o){var p=n.getStorageKey();c('forEachRootCallArg')(n,function(q){var r=q.identifyingArgKey,s=this.$RelayQueryChecker1.getDataID(p,r);if(s==null){o.result=false;}else{var t={dataID:s,rangeInfo:undefined,result:true};this.traverse(n,t);o.result=o.result&&t.result;}}.bind(this));};m.prototype.visitFragment=function(n,o){var p=o.dataID;if(p&&c('isCompatibleRelayFragmentType')(n,this.$RelayQueryChecker1.getType(p)))this.traverse(n,o);};m.prototype.visitField=function(n,o){var p=o.dataID,q=p&&this.$RelayQueryChecker1.getRecordState(p);if(q===c('RelayRecordState').UNKNOWN){o.result=false;return;}else if(q===c('RelayRecordState').NONEXISTENT)return;var r=o.rangeInfo;if(r&&n.getSchemaName()===j){this.$RelayQueryChecker2(n,o);}else if(r&&n.getSchemaName()===k){this.$RelayQueryChecker3(n,o);}else if(!n.canHaveSubselections()){this.$RelayQueryChecker4(n,o);}else if(n.isPlural()){this.$RelayQueryChecker5(n,o);}else if(n.isConnection()){this.$RelayQueryChecker6(n,o);}else this.$RelayQueryChecker7(n,o);};m.prototype.$RelayQueryChecker4=function(n,o){var p=o.dataID&&this.$RelayQueryChecker1.getField(o.dataID,n.getStorageKey());if(p===undefined)o.result=false;};m.prototype.$RelayQueryChecker5=function(n,o){var p=o.dataID&&this.$RelayQueryChecker1.getLinkedRecordIDs(o.dataID,n.getStorageKey());if(p===undefined){o.result=false;return;}if(p)for(var q=0;q<p.length;q++){if(!o.result)break;var r={dataID:p[q],rangeInfo:undefined,result:true};this.traverse(n,r);o.result=r.result;}};m.prototype.$RelayQueryChecker6=function(n,o){var p=n.getCallsWithValues(),q=o.dataID&&this.$RelayQueryChecker1.getLinkedRecordID(o.dataID,n.getStorageKey());if(q===undefined){o.result=false;return;}var r={dataID:q,rangeInfo:null,result:true},s=this.$RelayQueryChecker1.getRangeMetadata(q,p);if(s)r.rangeInfo=s;this.traverse(n,r);o.result=o.result&&r.result;};m.prototype.$RelayQueryChecker2=function(n,o){var p=o.rangeInfo;if(!p){o.result=false;return;}if(p.diffCalls.length){o.result=false;return;}var q=p.filteredEdges;for(var r=0;r<q.length;r++){if(!o.result)break;var s={dataID:q[r].edgeID,rangeInfo:undefined,result:true};this.traverse(n,s);o.result=s.result;}};m.prototype.$RelayQueryChecker3=function(n,o){var p=o.rangeInfo;if(!p||!p.pageInfo){o.result=false;return;}};m.prototype.$RelayQueryChecker7=function(n,o){var p=o.dataID&&this.$RelayQueryChecker1.getLinkedRecordID(o.dataID,n.getStorageKey());if(p===undefined){o.result=false;return;}if(p){var q={dataID:p,rangeInfo:undefined,result:true};this.traverse(n,q);o.result=o.result&&q.result;}};f.exports=c('RelayProfiler').instrument('checkRelayQueryData',l);}),null);
__d('diffRelayQuery',['invariant','RelayConnectionInterface','RelayNodeInterface','RelayProfiler','RelayQuery','RelayQueryPath','RelayRecord','forEachRootCallArg','isCompatibleRelayFragmentType','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayNodeInterface').ID,j=c('RelayNodeInterface').ID_TYPE,k=c('RelayNodeInterface').NODE_TYPE,l=c('RelayNodeInterface').TYPENAME,m=c('RelayConnectionInterface').EDGES,n=c('RelayConnectionInterface').NODE,o=c('RelayConnectionInterface').PAGE_INFO,p=c('RelayQuery').Field.build({fieldName:i,metadata:{isRequisite:true},type:'String'}),q=c('RelayQuery').Field.build({fieldName:l,metadata:{isRequisite:true},type:'String'}),r=c('RelayQuery').Field.build({fieldName:c('RelayNodeInterface').NODE,children:[p,q],metadata:{canHaveSubselections:true},type:k});function s(x,y,z){var aa=c('RelayQueryPath').create(x),ba=[],ca=new t(y,z),da=x.getIdentifyingArg(),ea=da&&da.value||null,fa=Array.isArray(ea)&&ea.length>1,ga=void 0;if(da!=null)ga={identifyingArgName:da.name,identifyingArgType:da.type!=null?da.type:j,isAbstract:x.isAbstract(),isDeferred:false,isPlural:false};var ha=x.getFieldName(),ia=x.getStorageKey();c('forEachRootCallArg')(x,function(ja){var ka=ja.identifyingArgValue,la=ja.identifyingArgKey,ma=void 0;if(fa){ka!=null||h(0);ma=c('RelayQuery').Root.build(x.getName(),ha,[ka],x.getChildren(),ga,x.getType());}else ma=x;var na=y.getDataID(ia,la);if(na==null){ba.push(ma);return;}var oa=u(na),pa=ca.visit(ma,aa,oa),qa=pa?pa.diffNode:null;if(qa){qa instanceof c('RelayQuery').Root||h(0);ba.push(qa);}});return ba.concat(ca.getSplitQueries());}function t(x,y){this.$RelayDiffQueryBuilder1=x;this.$RelayDiffQueryBuilder2=[];this.$RelayDiffQueryBuilder3=y;}t.prototype.splitQuery=function(x){this.$RelayDiffQueryBuilder2.push(x);};t.prototype.getSplitQueries=function(){return this.$RelayDiffQueryBuilder2;};t.prototype.visit=function(x,y,z){if(x instanceof c('RelayQuery').Field){return this.visitField(x,y,z);}else if(x instanceof c('RelayQuery').Fragment){return this.visitFragment(x,y,z);}else if(x instanceof c('RelayQuery').Root)return this.visitRoot(x,y,z);};t.prototype.visitRoot=function(x,y,z){return this.traverse(x,y,z);};t.prototype.visitFragment=function(x,y,z){return this.traverse(x,y,z);};t.prototype.visitField=function(x,y,z){var aa=z.connectionField,ba=z.dataID,ca=z.edgeID,da=z.rangeInfo;if(aa&&da)if(ca){if(x.getSchemaName()===m){return this.diffConnectionEdge(aa,x,c('RelayQueryPath').getPath(y,x,ca),ca,da);}else return null;}else if(x.getSchemaName()===m||x.getSchemaName()===o)return da.diffCalls.length>0?{diffNode:x,trackedNode:null}:null;if(!x.canHaveSubselections()){return this.diffScalar(x,ba);}else if(x.isGenerated()){return {diffNode:x,trackedNode:null};}else if(x.isConnection()){return this.diffConnection(x,y,ba);}else if(x.isPlural()){return this.diffPluralLink(x,y,ba);}else return this.diffLink(x,y,ba);};t.prototype.traverse=function(x,y,z){var aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=false,fa=false;x.getChildren().forEach(function(ga){if(ga instanceof c('RelayQuery').Field){var ha=this.visitField(ga,y,z),ia=ha?ha.diffNode:null,ja=ha&&this.$RelayDiffQueryBuilder3?ha.trackedNode:null;if(ia){ba=ba||[];ba.push(ia);ea=ea||!ia.isGenerated();}else if(ga.isRequisite()&&!z.rangeInfo){ba=ba||[];ba.push(ga);}if(this.$RelayDiffQueryBuilder3)if(ja){da=da||[];da.push(ja);fa=fa||!ja.isGenerated();}else if(ga.isRequisite()){da=da||[];da.push(ga);}}else if(ga instanceof c('RelayQuery').Fragment){var ka=c('isCompatibleRelayFragmentType')(ga,this.$RelayDiffQueryBuilder1.getType(z.dataID));if(ka){if(ga.isTrackingEnabled()){var la=ga.getCompositeHash();if(this.$RelayDiffQueryBuilder1.hasFragmentData(z.dataID,la))return {diffNode:null,trackedNode:null};}var ma=this.traverse(ga,y,z),na=ma?ma.diffNode:null,oa=ma?ma.trackedNode:null;if(na){ba=ba||[];ba.push(na);ea=true;}if(oa){da=da||[];da.push(oa);fa=true;}}else{ba=ba||[];ba.push(ga);}}}.bind(this));if(ba&&ea)aa=x.clone(ba);if(da&&fa)ca=x.clone(da);if(this.$RelayDiffQueryBuilder3&&ca&&!(ca instanceof c('RelayQuery').Fragment))this.$RelayDiffQueryBuilder3.trackNodeForID(ca,z.dataID);return {diffNode:aa,trackedNode:ca};};t.prototype.diffScalar=function(x,y){if(this.$RelayDiffQueryBuilder1.getField(y,x.getStorageKey())===undefined)return {diffNode:x,trackedNode:null};return null;};t.prototype.diffLink=function(x,y,z){var aa=this.$RelayDiffQueryBuilder1.getLinkedRecordID(z,x.getStorageKey());if(aa===undefined)return {diffNode:x,trackedNode:null};if(aa===null)return {diffNode:null,trackedNode:this.$RelayDiffQueryBuilder3?x:null};return this.traverse(x,c('RelayQueryPath').getPath(y,x,aa),u(aa));};t.prototype.diffPluralLink=function(x,y,z){var aa,ba=this,ca,da=this.$RelayDiffQueryBuilder1.getLinkedRecordIDs(z,x.getStorageKey());if(da===undefined){return {diffNode:x,trackedNode:null};}else if(da===null||da.length===0){return {diffNode:null,trackedNode:this.$RelayDiffQueryBuilder3?x:null};}else if(x.getInferredRootCallName()===n){var aa=function(){var ea=false;da.forEach(function(fa){var ga=this.traverse(x,c('RelayQueryPath').getPath(y,x,fa),u(fa));if(ga){ea=ea||!!ga.trackedNode||!!ga.diffNode;if(ga.diffNode)this.splitQuery(w(fa,ga.diffNode.getChildren(),c('RelayQueryPath').getName(y),x.getType(),x.isAbstract()));}}.bind(ba));if(ea)return {v:{diffNode:null,trackedNode:ba.$RelayDiffQueryBuilder3?x:null}};}();if(typeof aa==="object")return aa.v;}else{var ca=function(){var ea=false,fa=false;da.some(function(ga){var ha=this.traverse(x,c('RelayQueryPath').getPath(y,x,ga),u(ga));if(ha&&ha.diffNode)ea=true;if(ha&&ha.trackedNode)fa=true;return ea&&fa;}.bind(ba));if(ea||fa)return {v:{diffNode:ea?x:null,trackedNode:fa?x:null}};}();if(typeof ca==="object")return ca.v;}return null;};t.prototype.diffConnection=function(x,y,z){var aa=this.$RelayDiffQueryBuilder1,ba=aa.getLinkedRecordID(z,x.getStorageKey()),ca=aa.getRangeMetadata(ba,x.getCallsWithValues());if(ba===undefined)return {diffNode:x,trackedNode:null};if(ba===null)return this.$RelayDiffQueryBuilder3?{diffNode:null,trackedNode:x}:null;if(ca==null)return this.traverse(x,c('RelayQueryPath').getPath(y,x,ba),u(ba));var da=ca.diffCalls,ea=ca.filteredEdges,fa=false;ea.forEach(function(ka){var la={connectionField:x,dataID:ba,edgeID:ka.edgeID,rangeInfo:ca},ma=this.traverse(x,c('RelayQueryPath').getPath(y,x,ka.edgeID),la);if(ma)fa=fa||!!ma.trackedNode;}.bind(this));var ga={connectionField:x,dataID:ba,edgeID:null,rangeInfo:ca},ha=this.traverse(x,c('RelayQueryPath').getPath(y,x,ba),ga),ia=ha?ha.diffNode:null,ja=ha?ha.trackedNode:null;if(da.length&&ia instanceof c('RelayQuery').Field)ia=ia.cloneFieldWithCalls(ia.getChildren(),da);if(fa)ja=x;return {diffNode:ia,trackedNode:this.$RelayDiffQueryBuilder3?ja:null};};t.prototype.diffConnectionEdge=function(x,y,z,aa,ba){var ca=false,da=this.traverse(y,c('RelayQueryPath').getPath(z,y,aa),u(aa)),ea=da?da.diffNode:null,fa=da?da.trackedNode:null,ga=this.$RelayDiffQueryBuilder1.getLinkedRecordID(aa,n);if(ea)if(!ga||c('RelayRecord').isClientID(ga)){c('warning')(x.isConnectionWithoutNodeID(),'RelayDiffQueryBuilder: Field `node` on connection `%s` cannot be '+'retrieved if it does not have an `id` field. If you expect fields '+'to be retrieved on this field, add an `id` field in the schema. '+'If you choose to ignore this warning, you can silence it by '+'adding `@relay(isConnectionWithoutNodeID: true)` to the '+'connection field.',x.getStorageKey());}else{var ha=v(ea),ia=ha.edges,ja=ha.node;if(ja){ca=true;var ka=y.getFieldByStorageKey('node');ka||h(0);this.splitQuery(w(ga,ja.getChildren(),c('RelayQueryPath').getName(z),ka.getType(),ka.isAbstract()));}if(ia)if(x.isFindable()){ia=ia.clone(ia.getChildren().concat(r));var la=x.cloneFieldWithCalls([ia],ba.filterCalls.concat({name:'find',value:ga}));if(la){ca=true;var ma=c('RelayQueryPath').getParent(c('RelayQueryPath').getParent(z)),na=c('RelayQueryPath').getQuery(this.$RelayDiffQueryBuilder1,ma,la);this.splitQuery(na);}}else c('warning')(false,'RelayDiffQueryBuilder: connection `edges{*}` fields can only '+'be refetched if the connection supports the `find` call. '+'Cannot refetch data for field `%s`.',x.getStorageKey());}return this.$RelayDiffQueryBuilder3?{diffNode:null,trackedNode:ca?y:fa}:null;};function u(x){return {connectionField:null,dataID:x,edgeID:null,rangeInfo:null};}function v(x){var y=x.getChildren(),z=[],aa=null,ba=[],ca=false;for(var da=0;da<y.length;da++){var ea=y[da];if(ea instanceof c('RelayQuery').Field){if(ea.getSchemaName()===n){var fa=ea.getChildren();ba=ba.concat(fa);if(!aa)if(fa.length===1){var ga=fa[0];if(!(ga instanceof c('RelayQuery').Field)||ga.getSchemaName()!==i)aa=ea;}else aa=ea;}else{z.push(ea);ca=ca||!ea.isRequisite();}}else if(ea instanceof c('RelayQuery').Fragment){var ha=v(ea),ia=ha.edges,ja=ha.node;if(ia){z.push(ia);ca=true;}if(ja){ba.push(ja);aa=ja;}}}return {edges:ca?x.clone(z):null,node:aa&&c('RelayQuery').Fragment.build('diffRelayQuery',aa.getType(),ba,{isAbstract:aa.isAbstract()})};}function w(x,y,z,aa,ba){var ca=[p,q],da=[];y.forEach(function(ea){if(ea instanceof c('RelayQuery').Field){da.push(ea);}else ca.push(ea);});ca.push(c('RelayQuery').Fragment.build('diffRelayQuery',aa,da,{isAbstract:ba}));return c('RelayQuery').Root.build(z,n,x,ca,{identifyingArgName:i,identifyingArgType:j,isAbstract:true,isDeferred:false,isPlural:false},k);}f.exports=c('RelayProfiler').instrument('diffRelayQuery',s);}),null);
__d('everyObject',[],(function a(b,c,d,e,f,g){'use strict';var h=Object.prototype.hasOwnProperty;function i(j,k,l){for(var m in j)if(h.call(j,m))if(!k.call(l,j[m],m,j))return false;return true;}f.exports=i;}),null);
__d('flattenSplitRelayQueries',[],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=[],k=[i];while(k.length){i=k.shift();var l=i,m=l.required,n=l.deferred;if(m)j.push(m);if(n.length)k.push.apply(k,n);}return j;}f.exports=h;}),null);
__d('generateForceIndex',[],(function a(b,c,d,e,f,g){'use strict';var h=1;function i(){return h++;}f.exports=i;}),null);
__d('someObject',[],(function a(b,c,d,e,f,g){'use strict';var h=Object.prototype.hasOwnProperty;function i(j,k,l){for(var m in j)if(h.call(j,m))if(k.call(l,j[m],m,j))return true;return false;}f.exports=i;}),null);
__d('RelayQueryTransform',['RelayQueryVisitor'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayQueryVisitor'));i=h&&h.prototype;j.prototype.traverse=function(k,l){if(!k.canHaveSubselections())return k;var m=void 0;this.traverseChildren(k,l,function(n,o,p){var q=p[o],r=this.visit(q,l);if(r!==q)m=m||p.slice(0,o);if(m&&r)m.push(r);},this);if(m){if(!m.length)return null;return k.clone(m);}return k;};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('RelayRefQueryDescriptor',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){this.node=i;this.nodePath=j;}f.exports=h;}),null);
__d('splitDeferredRelayQueries',['invariant','QueryBuilder','RelayNodeInterface','RelayProfiler','RelayQuery','RelayQueryTransform','RelayRefQueryDescriptor'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(r){var s=new q(),t={__nodePath__:[],__parent__:null,__refQuery__:null,deferred:[],required:null};s.visit(r,t);return o(t);}function l(r,s){var t=s.getChildren().filter(function(u){return (u!==r&&u instanceof c('RelayQuery').Field&&u.isRequisite());});return t.map(function(u){var v=u.getChildren().filter(function(x){return (x instanceof c('RelayQuery').Field&&x.isRequisite());}),w=u.clone(v);w||h(0);return w;});}function m(r,s){for(var t=s.length-1;t>=0;t--){var u=s[t];if(u instanceof c('RelayQuery').Field&&u.getInferredRootCallName())return new (c('RelayRefQueryDescriptor'))(r,s.slice(0,t+1));var v=l(r,u),w=[r].concat(v);r=u.clone(w);}r instanceof c('RelayQuery').Root||h(0);var x=r.getIdentifyingArg(),y=x&&x.name||null,z=x&&x.value||null,aa={identifyingArgName:y,identifyingArgType:c('RelayNodeInterface').ID_TYPE,isAbstract:true,isDeferred:true,isPlural:false};return c('RelayQuery').Root.build(r.getName(),r.getFieldName(),z,r.getChildren(),aa,r.getType());}function n(r){if(!r.canHaveSubselections()){return r.isGenerated()&&!r.isRefQueryDependency();}else return r.getChildren().every(n);}function o(r){if(r.required&&n(r.required))r.required=null;r.deferred=r.deferred.map(function(s){var t=s.__refQuery__;if(t){var u=r.required;if(!u){var v=r;while(v.__parent__){u=v.__parent__.required;if(u)break;v=v.__parent__;}}u||h(0);s.required=p(t,u);}return o(s);});return r;}function p(r,s){var t=r.node;t instanceof c('RelayQuery').Field||t instanceof c('RelayQuery').Fragment||h(0);var u=['$','*'],v=void 0;for(var w=0;w<r.nodePath.length;w++){v=r.nodePath[w];if(v instanceof c('RelayQuery').Field){u.push(v.getSerializationKey());if(v.isPlural())u.push('*');}}u.length>2||h(0);var x=v,y=x.getInferredPrimaryKey();y||h(0);u.push(y);var z=c('RelayQuery').Root.build(s.getName(),c('RelayNodeInterface').NODES,c('QueryBuilder').createBatchCallVariable(s.getID(),u.join('.')),[t],{identifyingArgName:c('RelayNodeInterface').ID,identifyingArgType:c('RelayNodeInterface').ID_TYPE,isAbstract:true,isDeferred:true,isPlural:false},c('RelayNodeInterface').NODE_TYPE),aa=z;return aa;}i=babelHelpers.inherits(q,c('RelayQueryTransform'));j=i&&i.prototype;q.prototype.visitField=function(r,s){var t;if(!r.hasDeferredDescendant())return r;s.__nodePath__.push(r);var u=this.traverse(r,s);s.__nodePath__.pop();if(u&&r.getInferredRootCallName())(function(){var v=r.getInferredPrimaryKey(),w=u.getChildren().map(function(x){if(x instanceof c('RelayQuery').Field&&x.getSchemaName()===v){return x.cloneAsRefQueryDependency();}else return x;});u=u.clone(w);})();return u;};q.prototype.visitFragment=function(r,s){if(!r.getChildren().length)return null;if(r.isDeferred()){var t=s.__nodePath__,u={__nodePath__:t,__parent__:s,__refQuery__:null,deferred:[],required:null},v=this.traverse(r,u);if(v){var w=m(v,t);if(w instanceof c('RelayQuery').Root){u.required=w;}else if(w instanceof c('RelayRefQueryDescriptor'))u.__refQuery__=w;}if(v||u.deferred.length)s.deferred.push(u);return null;}else if(r.hasDeferredDescendant()){return this.traverse(r,s);}else return r;};q.prototype.visitRoot=function(r,s){if(!r.hasDeferredDescendant()){s.required=r;return r;}else{s.__nodePath__.push(r);var t=this.traverse(r,s);s.__nodePath__.pop();s.required=t;return t;}};function q(){i.apply(this,arguments);}f.exports=c('RelayProfiler').instrument('splitDeferredRelayQueries',k);}),null);
__d('GraphQLQueryRunner',['RelayFetchMode','RelayProfiler','RelayReadyState','checkRelayQueryData','diffRelayQuery','everyObject','flattenSplitRelayQueries','forEachObject','generateForceIndex','mapObject','resolveImmediate','someObject','splitDeferredRelayQueries','warning'],(function a(b,c,d,e,f,g){'use strict';function h(l){this.$GraphQLQueryRunner1=l;}h.prototype.run=function(l,m){var n=arguments.length<=2||arguments[2]===undefined?c('RelayFetchMode').CLIENT:arguments[2];return k(this.$GraphQLQueryRunner1,l,m,n);};h.prototype.forceFetch=function(l,m){var n=c('RelayFetchMode').REFETCH;return k(this.$GraphQLQueryRunner1,l,m,n);};function i(l){return !!Object.keys(l).length;}function j(l,m){if(!l.getNetworkLayer().supports('defer'))return m;var n=[];m.forEach(function(o){return n.push.apply(n,c('flattenSplitRelayQueries')(c('splitDeferredRelayQueries')(o)));});return n;}function k(l,m,n,o){var p=o===c('RelayFetchMode').REFETCH?c('RelayProfiler').profile('GraphQLQueryRunner.forceFetch'):c('RelayProfiler').profile('GraphQLQueryRunner.primeCache'),q=new (c('RelayReadyState'))(n),r={},s={};function t(w){var x=w.getQuery(),y=x.getID();delete r[y];if(!x.isDeferred())delete s[y];if(i(s))return;if(c('someObject')(r,function(z){return z.isResolvable();}))return;if(i(r)){q.update({done:false,ready:true,stale:false},[{type:'NETWORK_QUERY_RECEIVED_REQUIRED'}]);}else q.update({done:true,ready:true,stale:false},[{type:'NETWORK_QUERY_RECEIVED_ALL'}]);}function u(w,x){q.update({error:x},[{type:'NETWORK_QUERY_ERROR',error:x}]);}function v(w){return c('checkRelayQueryData')(l.getQueuedStore(),w.getQuery());}l.getTaskQueue().enqueue(function(){var w=o===c('RelayFetchMode').REFETCH?c('generateForceIndex')():null,x=[];if(o===c('RelayFetchMode').CLIENT){c('forEachObject')(m,function(aa){if(aa)x.push.apply(x,c('diffRelayQuery')(aa,l.getRecordStore(),l.getQueryTracker()));});}else c('forEachObject')(m,function(aa){if(aa)x.push(aa);});var y=j(l,x),z=[];if(y.length)z.push({type:'NETWORK_QUERY_START'});y.forEach(function(aa){var ba=l.getPendingQueryTracker().add({query:aa,fetchMode:o,forceIndex:w,storeData:l}),ca=aa.getID();r[ca]=ba;if(!aa.isDeferred())s[ca]=ba;ba.getResolvedPromise().then(t.bind(null,ba),u.bind(null,ba));});if(!i(r)){q.update({done:true,ready:true},[].concat(z,[{type:'STORE_FOUND_ALL'}]));}else if(!i(s)){q.update({ready:true},[].concat(z,[{type:'STORE_FOUND_REQUIRED'}]));}else{q.update({ready:false},[].concat(z,[{type:'CACHE_RESTORE_START'}]));c('resolveImmediate')(function(){if(l.hasCacheManager()){var aa=c('mapObject')(s,function(ba){return ba.getQuery();});l.restoreQueriesFromCache(aa,{onSuccess:function ba(){q.update({ready:true,stale:true},[{type:'CACHE_RESTORED_REQUIRED'}]);},onFailure:function ba(ca){q.update({error:ca},[{type:'CACHE_RESTORE_FAILED',error:ca}]);}});}else if(c('everyObject')(s,v)&&i(s)){q.update({ready:true,stale:true},[{type:'CACHE_RESTORED_REQUIRED'}]);}else q.update({},[{type:'CACHE_RESTORE_FAILED'}]);});}p.stop();}).done();return {abort:function w(){q.update({aborted:true},[{type:'ABORT'}]);}};}f.exports=h;}),null);
__d('GraphQLMutatorConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={APPEND:'append',IGNORE:'ignore',PREPEND:'prepend',REFETCH:'refetch',REMOVE:'remove',NODE_DELETE_HANDLER:'node_delete',RANGE_ADD_HANDLER:'range_add',RANGE_DELETE_HANDLER:'range_delete',HANDLER_TYPES:{},OPTIMISTIC_UPDATE:'optimistic',SERVER_UPDATE:'server',POLLER_UPDATE:'poller',UPDATE_TYPES:{},RANGE_OPERATIONS:{}};h.HANDLER_TYPES[h.NODE_DELETE_HANDLER]=true;h.HANDLER_TYPES[h.RANGE_ADD_HANDLER]=true;h.HANDLER_TYPES[h.RANGE_DELETE_HANDLER]=true;h.UPDATE_TYPES[h.OPTIMISTIC_UPDATE]=true;h.UPDATE_TYPES[h.SERVER_UPDATE]=true;h.UPDATE_TYPES[h.POLLER_UPDATE]=true;h.RANGE_OPERATIONS[h.APPEND]=true;h.RANGE_OPERATIONS[h.IGNORE]=true;h.RANGE_OPERATIONS[h.PREPEND]=true;h.RANGE_OPERATIONS[h.REFETCH]=true;h.RANGE_OPERATIONS[h.REMOVE]=true;f.exports=h;}),null);
__d('GraphQLSegment',['RelayRecord'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$GraphQLSegment1={};this.$GraphQLSegment2={};this.$GraphQLSegment3={};this.$GraphQLSegment4=0;this.$GraphQLSegment5=null;this.$GraphQLSegment6=null;}h.prototype.$GraphQLSegment7=function(i){return this.$GraphQLSegment3[i];};h.prototype.$GraphQLSegment8=function(i){var j=this.$GraphQLSegment2[i];return j&&j[0];};h.prototype.getFirstCursor=function(){if(this.getLength())for(var i=this.$GraphQLSegment5;i<=this.$GraphQLSegment6;i++){var j=this.$GraphQLSegment1[i];if(!j.deleted)return j.cursor;}};h.prototype.getLastCursor=function(){if(this.getLength())for(var i=this.$GraphQLSegment6;i>=this.$GraphQLSegment5;i--){var j=this.$GraphQLSegment1[i];if(!j.deleted)return j.cursor;}};h.prototype.isFirstCursor=function(i){if(this.getLength()){for(var j=this.$GraphQLSegment5;j<=this.$GraphQLSegment6;j++){var k=this.$GraphQLSegment1[j];if(!k.deleted){return k.cursor===i;}else if(k.cursor===i)return true;}return false;}};h.prototype.isLastCursor=function(i){if(this.getLength()){for(var j=this.$GraphQLSegment6;j>=this.$GraphQLSegment5;j--){var k=this.$GraphQLSegment1[j];if(!k.deleted){return k.cursor===i;}else if(k.cursor===i)return true;}return false;}};h.prototype.getFirstID=function(){if(this.getLength())for(var i=this.$GraphQLSegment5;i<=this.$GraphQLSegment6;i++){var j=this.$GraphQLSegment1[i];if(!j.deleted)return j.edgeID;}};h.prototype.getLastID=function(){if(this.getLength())for(var i=this.$GraphQLSegment6;i>=this.$GraphQLSegment5;i--){var j=this.$GraphQLSegment1[i];if(!j.deleted)return j.edgeID;}};h.prototype.$GraphQLSegment9=function(i){var j=this.$GraphQLSegment1[i];return j&&!j.deleted?j:null;};h.prototype.containsEdgeWithID=function(i){var j=this.$GraphQLSegment8(i);if(j===undefined)return false;return !!this.$GraphQLSegment9(j);};h.prototype.containsEdgeWithCursor=function(i){var j=arguments.length<=1||arguments[1]===undefined?false:arguments[1],k=this.$GraphQLSegment7(i);if(k===undefined){return false;}else if(j)return true;return !!this.$GraphQLSegment9(k);};h.prototype.getMetadataAfterCursor=function(i,j){if(!this.getLength())return {edgeIDs:[],cursors:[]};var k=this.$GraphQLSegment5;if(j){var l=this.$GraphQLSegment7(j);if(l===undefined)return {edgeIDs:[],cursors:[]};k=l+1;}var m=0,n=[],o=[];while(k<=this.$GraphQLSegment6&&m<i){var p=this.$GraphQLSegment1[k];if(!p.deleted){n.push(p.edgeID);o.push(p.cursor);m++;}k++;}return {edgeIDs:n,cursors:o};};h.prototype.getMetadataBeforeCursor=function(i,j){if(!this.getLength())return {edgeIDs:[],cursors:[]};var k=this.$GraphQLSegment6;if(j){var l=this.$GraphQLSegment7(j);if(l===undefined)return {edgeIDs:[],cursors:[]};k=l-1;}var m=0,n=[],o=[];while(k>=this.$GraphQLSegment5&&m<i){var p=this.$GraphQLSegment1[k];if(!p.deleted){n.push(p.edgeID);o.push(p.cursor);m++;}k--;}return {edgeIDs:n.reverse(),cursors:o.reverse()};};h.prototype.$GraphQLSegment10=function(i,j){var k=c('RelayRecord').getDataIDForObject(i),l=i.cursor,m=this.$GraphQLSegment8(k);if(m!==undefined&&this.$GraphQLSegment9(m))return;if(this.getLength()===0){this.$GraphQLSegment5=j;this.$GraphQLSegment6=j;}else if(this.$GraphQLSegment5===j+1){this.$GraphQLSegment5=j;}else if(this.$GraphQLSegment6===j-1){this.$GraphQLSegment6=j;}else return;this.$GraphQLSegment1[j]={edgeID:k,cursor:l,deleted:false};this.$GraphQLSegment2[k]=this.$GraphQLSegment2[k]||[];this.$GraphQLSegment2[k].unshift(j);this.$GraphQLSegment4++;if(l)this.$GraphQLSegment3[l]=j;};h.prototype.prependEdge=function(i){this.$GraphQLSegment10(i,this.$GraphQLSegment5!==null?this.$GraphQLSegment5-1:0);};h.prototype.appendEdge=function(i){this.$GraphQLSegment10(i,this.$GraphQLSegment6!==null?this.$GraphQLSegment6+1:0);};h.prototype.removeEdge=function(i){var j=this.$GraphQLSegment8(i);if(j===undefined)return;var k=this.$GraphQLSegment1[j];if(k.deleted)return;k.deleted=true;this.$GraphQLSegment4--;};h.prototype.removeAllEdges=function(i){var j=this.$GraphQLSegment2[i];if(!j)return;for(var k=0;k<j.length;k++){var l=this.$GraphQLSegment1[j[k]];if(!l.deleted){l.deleted=true;this.$GraphQLSegment4--;}}};h.prototype.addEdgesAfterCursor=function(i,j){if(!i.length)return;var k=-1;if(j){k=this.$GraphQLSegment7(j);if(k===undefined)return;}while(this.$GraphQLSegment6!==null&&k<this.$GraphQLSegment6){var l=this.$GraphQLSegment1[k+1];if(l.deleted){k++;}else return;}var m=k+1;for(var n=0;n<i.length;n++){var o=i[n];this.$GraphQLSegment10(o,m+n);}};h.prototype.addEdgesBeforeCursor=function(i,j){if(!i.length)return;var k=1;if(j){k=this.$GraphQLSegment7(j);if(k===undefined)return;}while(this.$GraphQLSegment5!==null&&k>this.$GraphQLSegment5){var l=this.$GraphQLSegment1[k-1];if(l.deleted){k--;}else return;}var m=k-1;for(var n=0;n<i.length;n++){var o=i[i.length-n-1];this.$GraphQLSegment10(o,m-n);}};h.prototype.getLength=function(){if(this.$GraphQLSegment5===null&&this.$GraphQLSegment6===null)return 0;return this.$GraphQLSegment6-this.$GraphQLSegment5+1;};h.prototype.getCount=function(){return this.$GraphQLSegment4;};h.prototype.$GraphQLSegment11=function(i,j,k){Object.assign(this.$GraphQLSegment3,i);Object.assign(this.$GraphQLSegment2,j);this.$GraphQLSegment4=k.count;this.$GraphQLSegment6=k.maxIndex;this.$GraphQLSegment5=k.minIndex;};h.prototype.$GraphQLSegment12=function(){return {count:this.$GraphQLSegment4,maxIndex:this.$GraphQLSegment6,minIndex:this.$GraphQLSegment5};};h.prototype.concatSegment=function(i){if(!i.getLength())return true;var j={},k={},l=this.$GraphQLSegment12(),m=i.$GraphQLSegment1;for(var n=i.$GraphQLSegment5;n<=i.$GraphQLSegment6;n++){var o=void 0;if(this.getLength()){o=this.$GraphQLSegment6+1;}else{o=0;this.$GraphQLSegment5=0;}this.$GraphQLSegment6=o;var p=m[n],q=this.$GraphQLSegment8(p.edgeID);if(!j.hasOwnProperty(p.edgeID))if(this.$GraphQLSegment2[p.edgeID]){j[p.edgeID]=this.$GraphQLSegment2[p.edgeID].slice();}else j[p.edgeID]=undefined;if(q!==undefined){var r=this.$GraphQLSegment1[q];if(r.deleted&&!p.deleted){this.$GraphQLSegment2[p.edgeID].unshift(o);}else if(!p.deleted){this.$GraphQLSegment11(k,j,l);return false;}else{this.$GraphQLSegment2[p.edgeID]=this.$GraphQLSegment2[p.edgeID]||[];this.$GraphQLSegment2[p.edgeID].push(o);}}else{this.$GraphQLSegment2[p.edgeID]=this.$GraphQLSegment2[p.edgeID]||[];this.$GraphQLSegment2[p.edgeID].unshift(o);}var s=this.$GraphQLSegment7(p.cursor);if(s!==undefined){var t=this.$GraphQLSegment1[s];if(t.deleted&&!p.deleted){k[p.cursor]=this.$GraphQLSegment3[p.cursor];this.$GraphQLSegment3[p.cursor]=o;}else if(!p.deleted){this.$GraphQLSegment11(k,j,l);return false;}}else if(p.cursor){k[p.cursor]=this.$GraphQLSegment3[p.cursor];this.$GraphQLSegment3[p.cursor]=o;}if(!p.deleted)this.$GraphQLSegment4++;this.$GraphQLSegment1[o]=Object.assign({},p);}return true;};h.prototype.toJSON=function(){return [this.$GraphQLSegment1,this.$GraphQLSegment2,this.$GraphQLSegment3,this.$GraphQLSegment5,this.$GraphQLSegment6,this.$GraphQLSegment4];};h.fromJSON=function(i){var j=i[0],k=i[1],l=i[2],m=i[3],n=i[4],o=i[5],p=new h();p.$GraphQLSegment1=j;p.$GraphQLSegment2=k;p.$GraphQLSegment3=l;p.$GraphQLSegment5=m;p.$GraphQLSegment6=n;p.$GraphQLSegment4=o;return p;};h.prototype.__debug=function(){return {metadata:this.$GraphQLSegment1,idToIndices:this.$GraphQLSegment2,cursorToIndex:this.$GraphQLSegment3};};h.prototype.getEdgeIDs=function(){var i=arguments.length<=0||arguments[0]===undefined?{includeDeleted:false}:arguments[0],j=i.includeDeleted,k=[];if(this.getLength()>0)for(var l=this.$GraphQLSegment5;l<=this.$GraphQLSegment6;l++){var m=this.$GraphQLSegment1[l],n=m.deleted,o=m.edgeID;if(j||!n)k.push(o);}return k;};f.exports=h;}),null);
__d('rangeOperationToMetadataKey',['GraphQLMutatorConstants','mapObject'],(function a(b,c,d,e,f,g){'use strict';var h='__rangeOperation',i='__',j=c('mapObject')(c('GraphQLMutatorConstants').RANGE_OPERATIONS,function(k,l,m){var n=l[0].toUpperCase()+l.slice(1);return (h+n+i);});f.exports=Object.freeze(j);}),null);
__d('GraphQLRange',['invariant','GraphQLMutatorConstants','GraphQLSegment','RelayConnectionInterface','RelayRecord','forEachObject','rangeOperationToMetadataKey','serializeRelayQueryCall','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConnectionInterface').END_CURSOR,j=c('RelayConnectionInterface').HAS_NEXT_PAGE,k=c('RelayConnectionInterface').HAS_PREV_PAGE,l=c('RelayConnectionInterface').START_CURSOR;function m(u){var v={};for(var w=0;w<u.length;w++)if(c('RelayConnectionInterface').isConnectionCall(u[w])){var x=u[w],y=x.value;if(Array.isArray(y)&&y.length)y=y[0];if(y===null)continue;v[x.name]=y;}if(v.first){!isNaN(v.first)||h(0);v.first=+v.first;}else if(v.last){!isNaN(v.last)||h(0);v.last=+v.last;}return v;}function n(u){return u.hasOwnProperty('surrounds')||u.hasOwnProperty('find');}function o(u){var v=u.hasOwnProperty('first'),w=u.hasOwnProperty('last');return (v||w)&&!(v&&w);}function p(u){return u.hasOwnProperty('first')&&u.first>0||u.hasOwnProperty('last')&&u.last>0;}function q(u){c('RelayRecord').getDataIDForObject(u)!==undefined||h(0);u.node!==undefined||h(0);}function r(u){u.forEach(q);}function s(){this.reset();}s.prototype.reset=function(){this.$GraphQLRange1=[new (c('GraphQLSegment'))(),new (c('GraphQLSegment'))()];this.$GraphQLRange2={};this.$GraphQLRange3=false;this.$GraphQLRange4=false;};s.prototype.$GraphQLRange5=function(u){u>=0&&u<this.$GraphQLRange1.length||h(0);this.$GraphQLRange1[u]=new (c('GraphQLSegment'))();};s.prototype.$GraphQLRange6=function(u){var v=null;for(var w=0;w<this.$GraphQLRange1.length;w++)if(this.$GraphQLRange1[w].containsEdgeWithCursor(u)){return w;}else if(this.$GraphQLRange1[w].containsEdgeWithCursor(u,true))v=w;return v;};s.prototype.$GraphQLRange7=function(u){for(var v=0;v<this.$GraphQLRange1.length;v++)if(this.$GraphQLRange1[v].containsEdgeWithID(u))return v;return null;};s.prototype.$GraphQLRange8=function(u,v){var w=t(u),x=[],y=[];for(var z=0;z<v.length;z++){var aa=v[z];x.push(c('RelayRecord').getDataIDForObject(aa));y.push(aa.cursor);}this.$GraphQLRange2[w]={edgeIDs:x,cursors:y};};s.prototype.addItems=function(u,v,w){r(v);var x=m(u),y=void 0,z=void 0;if(n(x)){this.$GraphQLRange8(u,v);return;}if(!o(x))return;if(x.before===null||x.after===null)return;if(x.first){if(x.before&&!x.after){if(w[j]===true&&v.length!==0){if(this.$GraphQLRange6(x.before)===0)this.$GraphQLRange1.unshift(new (c('GraphQLSegment'))());this.$GraphQLRange9(v,w[j],undefined,x.before);}else this.$GraphQLRange10(v,w[k],x.before);}else{if(!x.after){z=0;y=this.getFirstSegment().getCount();if(y&&(x.first>y||v.length>y)&&!this.getFirstSegment().getFirstCursor())this.$GraphQLRange5(z);}this.$GraphQLRange9(v,w[j],x.after,x.before);}}else if(x.last)if(x.after&&!x.before){if(w[k]===true&&v.length!==0){if(this.$GraphQLRange6(x.after)===this.$GraphQLRange1.length-1)this.$GraphQLRange1.push(new (c('GraphQLSegment'))());this.$GraphQLRange10(v,w[k],undefined,x.after);}else this.$GraphQLRange9(v,w[j],x.after);}else{if(!x.before){z=this.$GraphQLRange1.length-1;y=this.getLastSegment().getCount();if(y&&(x.last>y||v.length>y)&&!this.getLastSegment().getLastCursor())this.$GraphQLRange5(z);}this.$GraphQLRange10(v,w[k],x.before,x.after);}};s.prototype.getFirstSegment=function(){return this.$GraphQLRange1[0];};s.prototype.getLastSegment=function(){return this.$GraphQLRange1[this.$GraphQLRange1.length-1];};s.prototype.$GraphQLRange11=function(u){u+1<this.$GraphQLRange1.length&&u>=0||h(0);var v=this.$GraphQLRange1[u],w=this.$GraphQLRange1[u+1];if(v.concatSegment(w))this.$GraphQLRange1.splice(u+1,1);};s.prototype.prependEdge=function(u){q(u);this.$GraphQLRange3=true;this.$GraphQLRange12(u);var v=this.getFirstSegment();v.prependEdge(u);};s.prototype.appendEdge=function(u){q(u);this.$GraphQLRange4=true;this.$GraphQLRange12(u);var v=this.getLastSegment();v.appendEdge(u);};s.prototype.$GraphQLRange12=function(u){var v=c('RelayRecord').getDataIDForObject(u),w=this.$GraphQLRange7(v);if(w!=null)this.$GraphQLRange1[w].removeEdge(v);};s.prototype.$GraphQLRange13=function(u){return u.filter(function(v){var w=c('RelayRecord').getDataIDForObject(v);return this.$GraphQLRange7(w)==null;}.bind(this));};s.prototype.$GraphQLRange9=function(u,v,w,x){var y=void 0,z=void 0,aa=void 0;if(w!==undefined){z=this.$GraphQLRange6(w);if(z==null){c('warning')(false,'GraphQLRange cannot find a segment that has the cursor: %s',w);return;}y=this.$GraphQLRange1[z];aa=y.getLastCursor();if(aa!==w){u=this.$GraphQLRange14(y,u,w);w=aa;if(!u)return;}}else{z=0;y=this.$GraphQLRange1[z];aa=y.getLastCursor();if(aa!==undefined){u=this.$GraphQLRange14(y,u);w=aa;if(!u)return;}}var ba=this.$GraphQLRange1[z+1];if(x!==undefined)if(z===this.$GraphQLRange1.length-1){return;}else if(!ba.isFirstCursor(x)){c('warning')(false,'GraphQLRange cannot add because beforeCursor does not match first '+'cursor of the next segment');return;}if(w===undefined)this.$GraphQLRange3=true;var ca=this.$GraphQLRange13(u);y.addEdgesAfterCursor(ca,w);if(!v)if(x!==undefined){this.$GraphQLRange11(z);}else{this.$GraphQLRange4=true;this.$GraphQLRange1.splice(z+1,this.$GraphQLRange1.length-1-z);}};s.prototype.$GraphQLRange14=function(u,v,w){var x=u.getMetadataAfterCursor(v.length+1,w),y=x.edgeIDs;if(y.length>v.length)return undefined;for(var z=0;z<y.length;z++)if(y[z]!==c('RelayRecord').getDataIDForObject(v[z])){c('warning')(false,'Relay was unable to reconcile edges on a connection. This most '+'likely occurred while trying to handle a server response that '+'includes connection edges with nodes that lack an `id` field.');return undefined;}return v.slice(y.length);};s.prototype.$GraphQLRange10=function(u,v,w,x){var y=void 0,z=void 0,aa=void 0;if(w!==undefined){z=this.$GraphQLRange6(w);if(z==null){c('warning')(false,'GraphQLRange cannot find a segment that has the cursor: %s',w);return;}y=this.$GraphQLRange1[z];aa=y.getFirstCursor();if(aa!==w){u=this.$GraphQLRange15(y,u,w);w=aa;if(!u)return;}}else{z=this.$GraphQLRange1.length-1;y=this.$GraphQLRange1[z];aa=y.getFirstCursor();if(aa!==undefined){u=this.$GraphQLRange15(y,u,w);w=aa;if(!u)return;}}var ba=this.$GraphQLRange1[z-1];if(x!==undefined)if(z===0){return;}else if(!ba.isLastCursor(x)){c('warning')(false,'GraphQLRange cannot add because afterCursor does not match last '+'cursor of the previous segment');return;}if(w===undefined)this.$GraphQLRange4=true;var ca=this.$GraphQLRange13(u);y.addEdgesBeforeCursor(ca,w);if(!v)if(x!==undefined){this.$GraphQLRange11(z-1);}else{this.$GraphQLRange3=true;this.$GraphQLRange1.splice(0,z);}};s.prototype.$GraphQLRange15=function(u,v,w){var x=u.getMetadataBeforeCursor(v.length+1,w),y=x.edgeIDs;if(y.length>v.length)return undefined;for(var z=1;z<=y.length;z++)if(y[y.length-z]!==c('RelayRecord').getDataIDForObject(v[v.length-z])){c('warning')(false,'Relay was unable to reconcile edges on a connection. This most '+'likely occurred while trying to handle a server response that '+'includes connection edges with nodes that lack an `id` field.');return undefined;}return v.slice(0,v.length-y.length);};s.prototype.removeEdgeWithID=function(u){for(var v=0;v<this.$GraphQLRange1.length;v++)this.$GraphQLRange1[v].removeAllEdges(u);};s.prototype.retrieveRangeInfoForQuery=function(u,v){var w=m(u);if(n(w))return this.$GraphQLRange16(u);if(!o(w))return {requestedEdgeIDs:[],diffCalls:[],pageInfo:c('RelayConnectionInterface').getDefaultPageInfo()};if(w.first&&w.before||w.last&&w.after)return {requestedEdgeIDs:[],diffCalls:[],pageInfo:c('RelayConnectionInterface').getDefaultPageInfo()};if(!p(w))return {requestedEdgeIDs:[],diffCalls:[],pageInfo:c('RelayConnectionInterface').getDefaultPageInfo()};if(w.first){return this.$GraphQLRange17(u,v);}else if(w.last)return this.$GraphQLRange18(u,v);};s.prototype.$GraphQLRange16=function(u){var v=t(u),w=this.$GraphQLRange2[v];if(w){var x;return {requestedEdgeIDs:w.edgeIDs,diffCalls:[],pageInfo:(x={},x[l]=w.cursors[0],x[i]=w.cursors[w.cursors.length-1],x[j]=true,x[k]=true,x)};}return {requestedEdgeIDs:[],diffCalls:u,pageInfo:c('RelayConnectionInterface').getDefaultPageInfo()};};s.prototype.$GraphQLRange19=function(u){return u[c('rangeOperationToMetadataKey')[c('GraphQLMutatorConstants').APPEND]];};s.prototype.$GraphQLRange20=function(u){return u[c('rangeOperationToMetadataKey')[c('GraphQLMutatorConstants').REMOVE]];};s.prototype.$GraphQLRange21=function(u){return u[c('rangeOperationToMetadataKey')[c('GraphQLMutatorConstants').PREPEND]];};s.prototype.$GraphQLRange17=function(u,v){var w=void 0,x=void 0,y=void 0;if(v){w=this.$GraphQLRange19(v);x=this.$GraphQLRange21(v);y=this.$GraphQLRange20(v);}var z=m(u),aa=z.first+(y?y.length:0),ba=void 0,ca=void 0,da=babelHelpers['extends']({},c('RelayConnectionInterface').getDefaultPageInfo()),ea=z.after;if(ea!==undefined){ca=this.$GraphQLRange6(ea);if(ca==null)return {requestedEdgeIDs:[],diffCalls:[],pageInfo:da};ba=this.$GraphQLRange1[ca];}else{var fa=x?x.length:0;aa-=fa;ca=0;ba=this.$GraphQLRange1[ca];}var ga=ba.getMetadataAfterCursor(aa,ea),ha=ga.edgeIDs,ia=ga.cursors,ja=[];if(ia.length){da[l]=ia[0];da[i]=ia[ia.length-1];}var ka=ha[ha.length-1];if(!this.$GraphQLRange4||ca!==this.$GraphQLRange1.length-1||ka&&ka!==ba.getLastID()){da[j]=true;if(ha.length<aa){aa-=ha.length;var la=ba.getLastCursor();if(la===null){ja.push({name:'first',value:z.first});}else{if(la!==undefined)ja.push({name:'after',value:la});if(ca!==this.$GraphQLRange1.length-1){var ma=this.$GraphQLRange1[ca+1],na=ma.getFirstCursor();if(na!==undefined)ja.push({name:'before',value:na});}ja.push({name:'first',value:aa});}}}if(v){if(x&&x.length&&!z.after)ha=x.concat(ha);if(w&&w.length&&!da[j])ha=ha.concat(w);if(y&&y.length)ha=ha.filter(function(oa){return y.indexOf(oa)===-1;});if(ha.length>z.first)ha=ha.slice(0,z.first);}return {requestedEdgeIDs:ha,diffCalls:ja,pageInfo:da};};s.prototype.$GraphQLRange18=function(u,v){var w=void 0,x=void 0,y=void 0;if(v){w=this.$GraphQLRange19(v);x=this.$GraphQLRange21(v);y=this.$GraphQLRange20(v);}var z=m(u),aa=z.last+(y?y.length:0),ba=void 0,ca=void 0,da=babelHelpers['extends']({},c('RelayConnectionInterface').getDefaultPageInfo()),ea=z.before;if(ea!==undefined){ca=this.$GraphQLRange6(ea);if(ca==null)return {requestedEdgeIDs:[],diffCalls:[],pageInfo:da};ba=this.$GraphQLRange1[ca];}else{var fa=w?w.length:0;aa-=fa;ca=this.$GraphQLRange1.length-1;ba=this.$GraphQLRange1[ca];}var ga=ba.getMetadataBeforeCursor(aa,ea),ha=ga.edgeIDs,ia=ga.cursors,ja=[];if(ia.length){da[l]=ia[0];da[i]=ia[ia.length-1];}var ka=ha[0];if(!this.$GraphQLRange3||ca!==0||ka&&ka!==ba.getFirstID()){da[k]=true;if(ha.length<aa){aa-=ha.length;var la=ba.getFirstCursor();if(la===null){ja.push({name:'last',value:z.last});}else{if(la!==undefined)ja.push({name:'before',value:la});if(ca!==0){var ma=this.$GraphQLRange1[ca-1],na=ma.getLastCursor();if(na!==undefined)ja.push({name:'after',value:na});}ja.push({name:'last',value:aa});}}}if(v){if(w&&w.length&&!z.before)ha=ha.concat(w);if(x&&x.length&&!da[k])ha=x.concat(ha);if(y&&y.length)ha=ha.filter(function(pa){return y.indexOf(pa)===-1;});if(ha.length>z.last){var oa=ha.length;ha=ha.slice(oa-z.last,oa);}}return {requestedEdgeIDs:ha,diffCalls:ja,pageInfo:da};};s.fromJSON=function(u){var v=u[0],w=u[1],x=u[2],y=u[3],z=new s();z.$GraphQLRange3=v;z.$GraphQLRange4=w;z.$GraphQLRange2=x;z.$GraphQLRange1=y.map(function(aa){return c('GraphQLSegment').fromJSON(aa);});return z;};s.prototype.toJSON=function(){return [this.$GraphQLRange3,this.$GraphQLRange4,this.$GraphQLRange2,this.$GraphQLRange1];};s.prototype.__debug=function(){return {orderedSegments:this.$GraphQLRange1};};s.prototype.getEdgeIDs=function(){var u=[];this.$GraphQLRange1.forEach(function(v){u.push.apply(u,v.getEdgeIDs());});c('forEachObject')(this.$GraphQLRange2,function(v){u.push.apply(u,v.edgeIDs);});return u;};s.prototype.getSegmentedEdgeIDs=function(){return this.$GraphQLRange1.map(function(u){return u.getEdgeIDs();});};function t(u){return u.map(function(v){return c('serializeRelayQueryCall')(v).substring(1);}).join(',');}f.exports=s;}),null);
__d('GraphQLStoreChangeEmitter',['ErrorUtils','resolveImmediate'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$GraphQLStoreChangeEmitter1=function(j){return j();};this.$GraphQLStoreChangeEmitter2={};this.$GraphQLStoreChangeEmitter3=i;this.$GraphQLStoreChangeEmitter4=null;this.$GraphQLStoreChangeEmitter5=[];}h.prototype.addListenerForIDs=function(i,j){var k=i.map(function(m){return this.$GraphQLStoreChangeEmitter6(m);}.bind(this)),l=this.$GraphQLStoreChangeEmitter5.length;this.$GraphQLStoreChangeEmitter5.push({subscribedIDs:k,callback:j});return {remove:function(){delete this.$GraphQLStoreChangeEmitter5[l];}.bind(this)};};h.prototype.broadcastChangeForID=function(i){var j=this.$GraphQLStoreChangeEmitter4;if(j==null){c('resolveImmediate')(function(){return this.$GraphQLStoreChangeEmitter7();}.bind(this));j=this.$GraphQLStoreChangeEmitter4={};}j[this.$GraphQLStoreChangeEmitter6(i)]=this.$GraphQLStoreChangeEmitter5.length-1;};h.prototype.injectBatchingStrategy=function(i){this.$GraphQLStoreChangeEmitter1=i;};h.prototype.$GraphQLStoreChangeEmitter7=function(){if(this.$GraphQLStoreChangeEmitter4){this.$GraphQLStoreChangeEmitter2=this.$GraphQLStoreChangeEmitter4;this.$GraphQLStoreChangeEmitter4=null;this.$GraphQLStoreChangeEmitter1(function(){return this.$GraphQLStoreChangeEmitter8();}.bind(this));}};h.prototype.$GraphQLStoreChangeEmitter8=function(){this.$GraphQLStoreChangeEmitter5.forEach(function(i,j){return (this.$GraphQLStoreChangeEmitter9(i,j));}.bind(this));};h.prototype.$GraphQLStoreChangeEmitter9=function(i,j){var k=i.subscribedIDs,l=i.callback;for(var m in this.$GraphQLStoreChangeEmitter2)if(this.$GraphQLStoreChangeEmitter2.hasOwnProperty(m)){var n=this.$GraphQLStoreChangeEmitter2[m];if(n<j)break;if(k.indexOf(m)>=0){c('ErrorUtils').applyWithGuard(l,null,null,null,'GraphQLStoreChangeEmitter');break;}}};h.prototype.$GraphQLStoreChangeEmitter6=function(i){return this.$GraphQLStoreChangeEmitter3.getCanonicalClientID(i);};f.exports=h;}),null);
__d('GraphQLStoreRangeUtils',['callsFromGraphQL','serializeRelayQueryCall'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$GraphQLStoreRangeUtils1={};this.$GraphQLStoreRangeUtils2={};}h.prototype.getClientIDForRangeWithID=function(i,j,k){var l=c('callsFromGraphQL')(i,j).map(function(p){return c('serializeRelayQueryCall')(p).substring(1);}).join(','),m=k+'_'+l,n=this.$GraphQLStoreRangeUtils1[m];if(!n){this.$GraphQLStoreRangeUtils1[m]={dataID:k,calls:i,callValues:j};var o=this.$GraphQLStoreRangeUtils2[k];if(!o)this.$GraphQLStoreRangeUtils2[k]=o=[];o.push(m);}return m;};h.prototype.parseRangeClientID=function(i){return this.$GraphQLStoreRangeUtils1[i]||null;};h.prototype.getCanonicalClientID=function(i){return this.$GraphQLStoreRangeUtils1[i]?this.$GraphQLStoreRangeUtils1[i].dataID:i;};h.prototype.removeRecord=function(i){var j=this.$GraphQLStoreRangeUtils2[i];if(j){j.forEach(function(k){delete this.$GraphQLStoreRangeUtils1[k];}.bind(this));delete this.$GraphQLStoreRangeUtils2[i];}};f.exports=h;}),null);
__d('RelayChangeTracker',[],(function a(b,c,d,e,f,g){'use strict';function h(){this.$RelayChangeTracker1={};this.$RelayChangeTracker2={};}h.prototype.createID=function(i){this.$RelayChangeTracker1[i]=true;};h.prototype.updateID=function(i){if(!this.$RelayChangeTracker1.hasOwnProperty(i))this.$RelayChangeTracker2[i]=true;};h.prototype.hasChange=function(i){return !!(this.$RelayChangeTracker2[i]||this.$RelayChangeTracker1[i]);};h.prototype.isNewRecord=function(i){return !!this.$RelayChangeTracker1[i];};h.prototype.getChangeSet=function(){return {created:this.$RelayChangeTracker1,updated:this.$RelayChangeTracker2};};f.exports=h;}),null);
__d('RelayGarbageCollector',['invariant','GraphQLRange','RelayRecord','forEachObject','resolveImmediate','warning'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){this.$RelayGarbageCollector1=0;this.$RelayGarbageCollector2=[];this.$RelayGarbageCollector3=false;this.$RelayGarbageCollector4=false;this.$RelayGarbageCollector5={};this.$RelayGarbageCollector6=k;this.$RelayGarbageCollector7=j;}i.prototype.register=function(j){if(!this.$RelayGarbageCollector5.hasOwnProperty(j))this.$RelayGarbageCollector5[j]=0;};i.prototype.incrementReferenceCount=function(j){if(!this.$RelayGarbageCollector5.hasOwnProperty(j))this.$RelayGarbageCollector5[j]=0;this.$RelayGarbageCollector5[j]++;};i.prototype.decrementReferenceCount=function(j){if(!this.$RelayGarbageCollector5.hasOwnProperty(j)||this.$RelayGarbageCollector5[j]<=0){c('warning')(false,'RelayGarbageCollector: Expected id `%s` be referenced before being '+'unreferenced.',j);this.$RelayGarbageCollector5[j]=0;return;}this.$RelayGarbageCollector5[j]--;};i.prototype.acquireHold=function(){var j=false;this.$RelayGarbageCollector1++;return {release:function(){!j||h(0);this.$RelayGarbageCollector1>0||h(0);j=true;this.$RelayGarbageCollector1--;if(this.$RelayGarbageCollector1===0)this.$RelayGarbageCollector8();}.bind(this)};};i.prototype.collectFromNode=function(j){if(this.$RelayGarbageCollector5[j]===0){this.$RelayGarbageCollector2.push(j);this.$RelayGarbageCollector8();}};i.prototype.collect=function(){c('forEachObject')(this.$RelayGarbageCollector5,function(j,k){if(j===0)this.$RelayGarbageCollector2.push(k);}.bind(this));this.$RelayGarbageCollector8();};i.prototype.$RelayGarbageCollector8=function(){if(this.$RelayGarbageCollector4)return;this.$RelayGarbageCollector4=true;c('resolveImmediate')(function(){this.$RelayGarbageCollector4=false;this.$RelayGarbageCollector9();}.bind(this));};i.prototype.$RelayGarbageCollector9=function(){if(this.$RelayGarbageCollector3||this.$RelayGarbageCollector1||!this.$RelayGarbageCollector2.length)return;this.$RelayGarbageCollector3=true;var j=this.$RelayGarbageCollector7.getCachedData(),k=this.$RelayGarbageCollector7.getNodeData();this.$RelayGarbageCollector6(function(){if(this.$RelayGarbageCollector1){this.$RelayGarbageCollector3=false;return false;}var l=this.$RelayGarbageCollector10();if(l){var m=j[l];if(m)this.$RelayGarbageCollector11(m);var n=k[l];if(n)this.$RelayGarbageCollector11(n);this.$RelayGarbageCollector12(l);}this.$RelayGarbageCollector3=!!this.$RelayGarbageCollector2.length;return this.$RelayGarbageCollector3;}.bind(this));};i.prototype.$RelayGarbageCollector10=function(){while(this.$RelayGarbageCollector2.length){var j=this.$RelayGarbageCollector2.shift();if(this.$RelayGarbageCollector5.hasOwnProperty(j)&&this.$RelayGarbageCollector5[j]===0)return j;}return null;};i.prototype.$RelayGarbageCollector11=function(j){c('forEachObject')(j,function(k,l){if(l===c('RelayRecord').MetadataKey.PATH){return;}else if(k instanceof c('GraphQLRange')){k.getEdgeIDs({includeDeleted:true}).forEach(function(n){if(n!=null)this.$RelayGarbageCollector2.push(n);}.bind(this));}else if(Array.isArray(k)){k.forEach(function(n){if(typeof n==='object'&&n!==null){var o=c('RelayRecord').getDataIDForObject(n);if(o!=null)this.$RelayGarbageCollector2.push(o);}}.bind(this));}else if(typeof k==='object'&&k!==null){var m=c('RelayRecord').getDataIDForObject(k);if(m!=null)this.$RelayGarbageCollector2.push(m);}}.bind(this));};i.prototype.$RelayGarbageCollector12=function(j){var k=this.$RelayGarbageCollector7.getQueryTracker();if(k)k.untrackNodesForID(j);this.$RelayGarbageCollector7.getQueuedStore().removeRecord(j);this.$RelayGarbageCollector7.getRangeData().removeRecord(j);delete this.$RelayGarbageCollector5[j];};f.exports=i;}),null);
__d('RelayMutationDebugPrinter',['printRelayQuery'],(function a(b,c,d,e,f,g){'use strict';var h={printOptimisticMutation:function i(j,k){if(!console.groupCollapsed||!console.groupEnd)return;h.printMutation(j,'Optimistic');console.groupCollapsed('Optimistic Response');console.groupEnd();},printMutation:function i(j,k){if(!console.groupCollapsed||!console.groupEnd)return;var l=j?c('printRelayQuery')(j):null;k=k||'Mutation';console.groupCollapsed(k+' Variables');console.groupEnd();console.groupCollapsed(k+' Query');console.groupEnd();}};f.exports=h;}),null);
__d('RelayMutationType',[],(function a(b,c,d,e,f,g){'use strict';var h={FIELDS_CHANGE:'FIELDS_CHANGE',NODE_DELETE:'NODE_DELETE',RANGE_ADD:'RANGE_ADD',RANGE_DELETE:'RANGE_DELETE',REQUIRED_CHILDREN:'REQUIRED_CHILDREN'};f.exports=h;}),null);
__d('RelayOptimisticMutationUtils',['invariant','RelayConnectionInterface','RelayNodeInterface','RelayQuery','RelayRecord','forEachObject','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i=/^(\w+)(?:\((.+?)\))?$/,j=/(\w+)(?=\s*:)/,k=/^\w+(?:\.\w+\(.*?\))+$/,l=/^(\w+)\((.*?)\)$/,m=c('RelayConnectionInterface').NODE,n=c('RelayConnectionInterface').EDGES,o=c('RelayNodeInterface').ANY_TYPE,p=c('RelayNodeInterface').ID,q=c('RelayQuery').Field.build({fieldName:p,type:'String'}),r=c('RelayQuery').Field.build({fieldName:'cursor',type:'String'}),s={inferRelayFieldsFromData:function w(x){var y=[];c('forEachObject')(x,function(z,aa){if(!c('RelayRecord').isMetadataKey(aa))y.push(t(z,aa));});return y;},inferRelayPayloadFromData:function w(x){var y=x;c('forEachObject')(x,function(z,aa){if(!c('RelayRecord').isMetadataKey(aa)){var ba=u(z,aa),ca=ba.newValue,da=ba.newKey;if(da!==aa){var ea;y=babelHelpers['extends']({},y,(ea={},ea[da]=ca,ea));delete y[aa];}else if(ca!==z){var fa;y=babelHelpers['extends']({},y,(fa={},fa[aa]=ca,fa));}}});return y;}};function t(w,x){var y={canHaveSubselections:true,isPlural:false},z=void 0;if(Array.isArray(w)){var aa=w[0];if(aa&&typeof aa==='object'){z=s.inferRelayFieldsFromData(aa);}else{y.canHaveSubselections=false;z=[];}y.isPlural=true;}else if(typeof w==='object'&&w!==null){z=s.inferRelayFieldsFromData(w);}else{y.canHaveSubselections=false;z=[];}if(x===m){z.push(q);}else if(x===n)z.push(r);return v(x,z,y);}function u(w,x){var y={canHaveSubselections:true,isPlural:false},z=w;if(Array.isArray(w)&&Array.isArray(z)){for(var aa=0;aa<w.length;aa++){var ba=w[aa];if(ba&&typeof ba==='object'){var ca=s.inferRelayPayloadFromData(ba);if(ca!==ba){z=z.slice();z[aa]=ca;}}else y.canHaveSubselections=false;}y.isPlural=true;}else if(typeof w==='object'&&w!==null){z=s.inferRelayPayloadFromData(w);}else y.canHaveSubselections=false;var da=v(x,[],y);return {newValue:z,newKey:da.getSerializationKey()};}function v(w,x,y){var z,aa=w,ba=null;if(k.test(w)){c('warning')(false,'RelayOptimisticMutationUtils: Encountered an optimistic payload with '+'a deprecated field call string, `%s`. Use valid GraphQL OSS syntax.',w);var ca=w.split('.');if(ca.length>1){aa=ca.shift();ba=ca.map(function(fa){var ga=fa.match(l);ga||h(0);var ha=ga[2].split(',');return {name:ga[1],value:ha.length===1?ha[0]:ha};});}}else{var da=w.match(i);da||h(0);aa=da[1];if(da[2])try{(function(){var fa=JSON.parse('{'+da[2].replace(j,'"$1"')+'}');ba=Object.keys(fa).map(function(ga){return {name:ga,value:fa[ga]};});})();}catch(ea){h(0);}}return c('RelayQuery').Field.build({calls:ba,children:x,fieldName:aa,metadata:y,type:o});}f.exports=s;}),null);
__d('sortTypeFirst',[],(function a(b,c,d,e,f,g){'use strict';var h='__type__';function i(j,k){if(j===k)return 0;if(j===h)return -1;if(k===h)return 1;return 0;}f.exports=i;}),null);
__d('flattenRelayQuery',['Map','RelayProfiler','RelayQuery','RelayQueryVisitor','sortTypeFirst'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(m,n){var o=new l(n&&n.shouldRemoveFragments),p={node:m,type:m.getType(),flattenedFieldMap:new (c('Map'))(),flattenedFragmentMap:new (c('Map'))()};o.traverse(m,p);return k(m,p,!!(n&&n.preserveEmptyNodes));}function k(m,n,o){var p=n.flattenedFieldMap,q=n.flattenedFragmentMap,r=[],s=Array.from(p.keys()).sort(c('sortTypeFirst'));s.forEach(function(t){var u=p.get(t);if(u)r.push(k(u.node,u,o));});Array.from(q.keys()).forEach(function(t){var u=q.get(t);if(u)r.push(k(u.node,u,o));});if(o&&m.canHaveSubselections()&&!r.length)return m;return m.clone(r);}h=babelHelpers.inherits(l,c('RelayQueryVisitor'));i=h&&h.prototype;function l(m){i.constructor.call(this);this.$RelayQueryFlattener1=!!m;}l.prototype.visitFragment=function(m,n){var o=m.getType();if(this.$RelayQueryFlattener1||o===n.type){this.traverse(m,n);return;}var p=n.flattenedFragmentMap.get(o);if(!p){p={node:m,type:o,flattenedFieldMap:new (c('Map'))(),flattenedFragmentMap:new (c('Map'))()};n.flattenedFragmentMap.set(o,p);}this.traverse(m,p);};l.prototype.visitField=function(m,n){var o=m.getShallowHash(),p=n.flattenedFieldMap.get(o);if(!p){p={node:m,type:m.getType(),flattenedFieldMap:new (c('Map'))(),flattenedFragmentMap:new (c('Map'))()};n.flattenedFieldMap.set(o,p);}this.traverse(m,p);};f.exports=c('RelayProfiler').instrument('flattenRelayQuery',j);}),null);
__d('getRangeBehavior',['invariant','serializeRelayQueryCall'],(function a(b,c,d,e,f,g,h){'use strict';function i(k,l){if(typeof k==='function'){var m=j(l);return k(m);}else{var n=l.map(c('serializeRelayQueryCall')).sort().join('').slice(1),o=k[n];if(o==null)return null;typeof o==='string'||h(0);return o;}}function j(k){var l={};k.forEach(function(m){l[m.name]=m.value;});return l;}f.exports=i;}),null);
__d('intersectRelayQuery',['invariant','RelayConnectionInterface','RelayQuery','RelayQueryTransform'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l;function m(u,v,w){w=w||r;var x=new n(w);return x.traverse(u,v);}i=babelHelpers.inherits(n,c('RelayQueryTransform'));j=i&&i.prototype;function n(u){j.constructor.call(this);this.$RelayQueryIntersector1=u;}n.prototype.traverse=function(u,v){if(!u.canHaveSubselections())return u;if(!s(v)){if(u instanceof c('RelayQuery').Field&&u.isConnection()&&this.$RelayQueryIntersector1(u))return q(u);return u;}return u.clone(u.getChildren().map(function(w){if(w instanceof c('RelayQuery').Fragment)return this.visit(w,v);if(w instanceof c('RelayQuery').Field){var x=w.getSchemaName(),y=void 0,z=v.getChildren();for(var aa=0;aa<z.length;aa++){var ba=z[aa];ba instanceof c('RelayQuery').Field||h(0);if(ba.getSchemaName()===x){y=ba;break;}}if(y)return this.visit(w,y);}return null;}.bind(this)));};k=babelHelpers.inherits(o,c('RelayQueryTransform'));l=k&&k.prototype;o.prototype.visitField=function(u){var v=u.getSchemaName();if(v===c('RelayConnectionInterface').EDGES||v===c('RelayConnectionInterface').PAGE_INFO){return null;}else return u;};function o(){k.apply(this,arguments);}var p=new o();function q(u){return p.traverse(u,undefined);}function r(){return false;}function s(u){return !u.getChildren().every(t);}function t(u){return u.isGenerated();}f.exports=m;}),null);
__d('RelayMutationQuery',['invariant','RelayConnectionInterface','RelayMetaRoute','RelayMutationType','RelayNodeInterface','RelayOptimisticMutationUtils','RelayQuery','RelayRecord','flattenRelayQuery','forEachObject','getRangeBehavior','intersectRelayQuery','nullthrows','warning','GraphQLMutatorConstants','RelayMutationDebugPrinter','serializeRelayQueryCall'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('GraphQLMutatorConstants').REFETCH,j=c('RelayConnectionInterface').CLIENT_MUTATION_ID,k=c('RelayNodeInterface').ANY_TYPE,l=c('RelayNodeInterface').ID,m=c('RelayNodeInterface').TYPENAME,n={buildFragmentForFields:function w(x){var y=x.fatQuery,z=x.fieldIDs,aa=x.tracker,ba=[];c('forEachObject')(z,function(ca,da){var ea=o(y,da),fa=[].concat(ca),ga=[];fa.forEach(function(ja){ga.push.apply(ga,aa.getTrackedChildrenForID(ja));});var ha=ea.clone(ga),ia=null;if(ha){ia=c('intersectRelayQuery')(ha,ea);if(ia)ba.push(ia);}});return p(y,ba);},buildFragmentForEdgeDeletion:function w(x){var y=x.fatQuery,z=x.connectionName,aa=x.parentID,ba=x.parentName,ca=x.tracker,da=o(y,ba);u(da,ba,z);var ea=[],fa=da.clone(ca.getTrackedChildrenForID(aa));if(fa){var ga=function ia(ja){return (ja.getSchemaName()===z);},ha=c('intersectRelayQuery')(fa,da,ga);if(ha){u(ha,ba,z);ea.push(ha);}}return p(y,ea);},buildFragmentForEdgeInsertion:function w(x){var y,z=x.fatQuery,aa=x.connectionName,ba=x.parentID,ca=x.edgeName,da=x.parentName,ea=x.rangeBehaviors,fa=x.tracker,ga=[],ha={},ia=fa.getTrackedChildrenForID(ba),ja=[];ia.forEach(function(oa){ja.push.apply(ja,v(oa,aa));});if(ja.length)(function(){t(da,aa,ja[0]);var oa=[];ja.forEach(function(pa){var qa=v(pa,'edges');if(!qa.length)return;var ra=pa.getRangeBehaviorCalls(),sa=c('getRangeBehavior')(ea,ra);if(sa&&sa!==i){qa.forEach(function(ta){oa.push.apply(oa,ta.getChildren());});}else{c('warning')(sa===i,'RelayMutation: The connection `%s` on the mutation field `%s` '+'that corresponds to the ID `%s` did not match any of the '+'`rangeBehaviors` specified in your RANGE_ADD config. This means '+'that the entire connection will be refetched. Configure a range '+'behavior for this mutation in order to fetch only the new edge '+'and to enable optimistic mutations or use `refetch` to squelch '+'this warning.',pa.getStorageKey(),da,ba);ha[pa.getShallowHash()]=true;}});if(oa.length)ga.push(r(ba,ca,oa));})();if(da!=null){var ka=o(z,da);u(ka,da,aa);var la=ka.clone(ia);if(la){var ma=function oa(pa){return (pa.getSchemaName()===aa&&!ha.hasOwnProperty(pa.getShallowHash()));},na=c('intersectRelayQuery')(la,ka,ma);if(na)ga.push(na);}}return p(z,ga);},buildFragmentForOptimisticUpdate:function w(x){var y=x.response,z=x.fatQuery,aa=c('RelayOptimisticMutationUtils').inferRelayFieldsFromData(y);return p(z,aa);},buildQueryForOptimisticUpdate:function w(x){var y=x.fatQuery,z=x.mutation,aa=x.response,ba=[c('nullthrows')(n.buildFragmentForOptimisticUpdate({response:aa,fatQuery:y}))];return c('RelayQuery').Mutation.build('OptimisticQuery',y.getType(),z.calls[0].name,null,ba,z.metadata);},buildQuery:function w(x){var y=x.configs,z=x.fatQuery,aa=x.input,ba=x.mutationName,ca=x.mutation,da=x.tracker,ea=[c('RelayQuery').Field.build({fieldName:j,type:'String',metadata:{isRequisite:true}})];y.forEach(function(fa){var ga;switch(fa.type){case c('RelayMutationType').REQUIRED_CHILDREN:var ha=fa.children.map(function(la){return (c('RelayQuery').Fragment.create(la,c('RelayMetaRoute').get('$buildQuery'),{}));});ea=ea.concat(ha);break;case c('RelayMutationType').RANGE_ADD:ea.push(n.buildFragmentForEdgeInsertion({connectionName:fa.connectionName,edgeName:fa.edgeName,fatQuery:z,parentID:fa.parentID,parentName:fa.parentName,rangeBehaviors:s(fa.rangeBehaviors),tracker:da}));break;case c('RelayMutationType').RANGE_DELETE:case c('RelayMutationType').NODE_DELETE:var ia=n.buildFragmentForEdgeDeletion({connectionName:fa.connectionName,fatQuery:z,parentID:fa.parentID,parentName:fa.parentName,tracker:da});ea.push(ia);var ja=Array.isArray(fa.deletedIDFieldName)?fa.deletedIDFieldName.concat(l):[fa.deletedIDFieldName],ka=q(ja,z);ea.push(ka);break;case c('RelayMutationType').FIELDS_CHANGE:ea.push(n.buildFragmentForFields({fatQuery:z,fieldIDs:fa.fieldIDs,tracker:da}));break;default:h(0);}});return c('RelayQuery').Mutation.build(ba,z.getType(),ca.calls[0].name,aa,ea.filter(function(fa){return fa!=null;}),ca.metadata);}};function o(w,x){var y=w.getFieldByStorageKey(x);y||h(0);return y;}function p(w,x){var y=c('RelayQuery').Fragment.build('MutationQuery',w.getType(),x);y instanceof c('RelayQuery').Fragment||h(0);return y;}function q(w,x){w.length>0||h(0);var y=c('RelayQuery').Field.build({fieldName:w[w.length-1],type:'String'});for(var z=w.length-2;z>=0;z--)y=c('RelayQuery').Field.build({fieldName:w[z],type:k,children:[y],metadata:{canHaveSubselections:true}});return p(x,[y]);}function r(w,x,y){var z=[c('RelayQuery').Field.build({fieldName:'cursor',type:'String'}),c('RelayQuery').Field.build({fieldName:m,type:'String'})];if(c('RelayConnectionInterface').EDGES_HAVE_SOURCE_FIELD&&!c('RelayRecord').isClientID(w))z.push(c('RelayQuery').Field.build({children:[c('RelayQuery').Field.build({fieldName:l,type:'String'}),c('RelayQuery').Field.build({fieldName:m,type:'String'})],fieldName:'source',metadata:{canHaveSubselections:true},type:k}));z.push.apply(z,y);var aa=c('flattenRelayQuery')(c('RelayQuery').Field.build({children:z,fieldName:x,metadata:{canHaveSubselections:true},type:k}));aa instanceof c('RelayQuery').Field||h(0);return aa;}function s(w){if(typeof w==='function')return w;var x=void 0;c('forEachObject')(w,function(y,z){if(z!==''){var aa=z.slice(0,-1).split(/\)\./),ba=aa.sort().join(').')+(aa.length?')':'');if(ba!==z){x=x||[];x.push(z);}}});if(x)h(0);return w;}function t(w,x,y){y.isConnection()||h(0);}function u(w,x,y){var z=v(w,y);if(z.length)t(x,y,z[0]);}function v(w,x){var y=[];function z(aa){if(aa instanceof c('RelayQuery').Field)if(aa.getSchemaName()===x){y.push(aa);return;}if(aa===w||aa instanceof c('RelayQuery').Fragment)aa.getChildren().forEach(function(ba){return z(ba);});}z(w);return y;}f.exports=n;}),null);
__d('RelayMutationRequest',['Deferred','printRelayQuery'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Deferred'));i=h&&h.prototype;function j(k,l){i.constructor.call(this);this.$RelayMutationRequest1=k;this.$RelayMutationRequest2=null;this.$RelayMutationRequest3=l;}j.prototype.getDebugName=function(){return this.$RelayMutationRequest1.getName();};j.prototype.getFiles=function(){return this.$RelayMutationRequest3;};j.prototype.getVariables=function(){return this.$RelayMutationRequest4().variables;};j.prototype.getQueryString=function(){return this.$RelayMutationRequest4().text;};j.prototype.getMutation=function(){return this.$RelayMutationRequest1;};j.prototype.$RelayMutationRequest4=function(){if(!this.$RelayMutationRequest2)this.$RelayMutationRequest2=c('printRelayQuery')(this.$RelayMutationRequest1);return this.$RelayMutationRequest2;};f.exports=j;}),null);
__d('fromGraphQL',['invariant','RelayMetaRoute','RelayQuery'],(function a(b,c,d,e,f,g,h){'use strict';var i={Field:function k(l){var m=j(l,c('RelayQuery').Field);m instanceof c('RelayQuery').Field||h(0);return m;},Fragment:function k(l){var m=j(l,c('RelayQuery').Fragment);m instanceof c('RelayQuery').Fragment||h(0);return m;},Query:function k(l){var m=j(l,c('RelayQuery').Root);m instanceof c('RelayQuery').Root||h(0);return m;},Operation:function k(l){var m=j(l,c('RelayQuery').Operation);m instanceof c('RelayQuery').Operation||h(0);return m;}};function j(k,l){var m={},n=c('RelayMetaRoute').get('$fromGraphQL');return l.create(k,n,m);}f.exports=i;}),null);
__d('RelayMutationQueue',['invariant','ErrorUtils','QueryBuilder','RelayConnectionInterface','RelayMutationQuery','RelayMutationRequest','RelayMutationTransaction','RelayMutationTransactionStatus','RelayOptimisticMutationUtils','RelayQuery','base62','flattenRelayQuery','fromGraphQL','nullthrows','resolveImmediate','RelayMutationDebugPrinter'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConnectionInterface').CLIENT_MUTATION_ID,j=0;function k(o){this.$RelayMutationQueue1={};this.$RelayMutationQueue2={};this.$RelayMutationQueue3=[];this.$RelayMutationQueue4=o;this.$RelayMutationQueue5=false;}k.prototype.createTransaction=function(o,p){return this.createTransactionWithPendingTransaction(null,function(q,r){return new l({id:q,mutation:o,mutationTransaction:r,onFailure:p&&p.onFailure,onSuccess:p&&p.onSuccess});});};k.prototype.createTransactionWithPendingTransaction=function(o,p){o||p||h(0);var q=n(),r=new (c('RelayMutationTransaction'))(this,q),s=o||p(q,r);this.$RelayMutationQueue2[q]=s;this.$RelayMutationQueue3.push(s);return r;};k.prototype.getTransaction=function(o){var p=this.$RelayMutationQueue2[o];if(p)return p.mutationTransaction;return null;};k.prototype.getError=function(o){return this.$RelayMutationQueue6(o).error;};k.prototype.getStatus=function(o){return this.$RelayMutationQueue6(o).status;};k.prototype.applyOptimistic=function(o){var p=this.$RelayMutationQueue6(o);p.status=c('RelayMutationTransactionStatus').UNCOMMITTED;p.error=null;this.$RelayMutationQueue7(p);};k.prototype.commit=function(o){var p=this.$RelayMutationQueue6(o),q=p.getCollisionKey(),r=q&&this.$RelayMutationQueue1[q];if(r){r.push(p);p.status=c('RelayMutationTransactionStatus').COMMIT_QUEUED;p.error=null;return;}if(q)this.$RelayMutationQueue1[q]=[p];this.$RelayMutationQueue8(p);};k.prototype.rollback=function(o){var p=this.$RelayMutationQueue6(o),q=p.getCollisionKey();if(q){var r=this.$RelayMutationQueue1[q];if(r){var s=r.indexOf(p);if(s!==-1)r.splice(s,1);if(r.length===0)delete this.$RelayMutationQueue1[q];}}this.$RelayMutationQueue9(p);};k.prototype.$RelayMutationQueue6=function(o){var p=this.$RelayMutationQueue2[o];p||h(0);return p;};k.prototype.$RelayMutationQueue7=function(o){var p=o.getOptimisticResponse(),q=o.getOptimisticQuery(this.$RelayMutationQueue4);if(p&&q){var r=o.getOptimisticConfigs()||o.getConfigs();this.$RelayMutationQueue4.handleUpdatePayload(q,p,{configs:r,isOptimisticUpdate:true});}};k.prototype.$RelayMutationQueue10=function(o,p){var q=p?c('RelayMutationTransactionStatus').COMMIT_FAILED:c('RelayMutationTransactionStatus').COLLISION_COMMIT_FAILED;o.status=q;o.error=p;var r=true,s=o.onFailure;if(s){var t=function u(){r=false;};c('ErrorUtils').applyWithGuard(s,null,[o.mutationTransaction,t],null,'RelayMutationTransaction:onCommitFailure');}if(p)this.$RelayMutationQueue11(o);if(r&&this.$RelayMutationQueue2.hasOwnProperty(o.id))this.$RelayMutationQueue9(o);this.$RelayMutationQueue12();};k.prototype.$RelayMutationQueue13=function(o,p){this.$RelayMutationQueue14(o);this.$RelayMutationQueue15(o);this.$RelayMutationQueue16();this.$RelayMutationQueue4.handleUpdatePayload(o.getQuery(this.$RelayMutationQueue4),p[o.getCallName()],{configs:o.getConfigs(),isOptimisticUpdate:false});var q=o.onSuccess;if(q)c('ErrorUtils').applyWithGuard(q,null,[p],null,'RelayMutationTransaction:onCommitSuccess');};k.prototype.$RelayMutationQueue8=function(o){o.status=c('RelayMutationTransactionStatus').COMMITTING;o.error=null;var p=new (c('RelayMutationRequest'))(o.getQuery(this.$RelayMutationQueue4),o.getFiles());this.$RelayMutationQueue4.getNetworkLayer().sendMutation(p);p.done(function(q){return this.$RelayMutationQueue13(o,q.response);}.bind(this),function(q){return this.$RelayMutationQueue10(o,q);}.bind(this));};k.prototype.$RelayMutationQueue9=function(o){this.$RelayMutationQueue15(o);this.$RelayMutationQueue12();};k.prototype.$RelayMutationQueue15=function(o){delete this.$RelayMutationQueue2[o.id];this.$RelayMutationQueue3=this.$RelayMutationQueue3.filter(function(p){return p!==o;});};k.prototype.$RelayMutationQueue14=function(o){var p=o.getCollisionKey();if(p){var q=this.$RelayMutationQueue1[p];if(q){q.shift();if(q.length){this.$RelayMutationQueue8(q[0]);}else delete this.$RelayMutationQueue1[p];}}};k.prototype.$RelayMutationQueue11=function(o){var p=o.getCollisionKey();if(p){var q=this.$RelayMutationQueue1[p];if(q){q.forEach(function(r){if(r!==o)this.$RelayMutationQueue10(r,null);}.bind(this));delete this.$RelayMutationQueue1[p];}}};k.prototype.$RelayMutationQueue12=function(){if(!this.$RelayMutationQueue5){this.$RelayMutationQueue5=true;c('resolveImmediate')(function(){this.$RelayMutationQueue5=false;this.$RelayMutationQueue16();}.bind(this));}};k.prototype.$RelayMutationQueue16=function(){this.$RelayMutationQueue4.clearQueuedData();this.$RelayMutationQueue3.forEach(function(o){return this.$RelayMutationQueue7(o);}.bind(this));};function l(o){this.error=null;this.id=o.id;this.mutation=o.mutation;this.mutationTransaction=o.mutationTransaction;this.onFailure=o.onFailure;this.onSuccess=o.onSuccess;this.status=c('RelayMutationTransactionStatus').CREATED;}l.prototype.getCallName=function(){if(!this.$RelayPendingTransaction1)this.$RelayPendingTransaction1=this.getMutationNode().calls[0].name;return this.$RelayPendingTransaction1;};l.prototype.getCollisionKey=function(){if(this.$RelayPendingTransaction2===undefined)this.$RelayPendingTransaction2=this.mutation.getCollisionKey()||null;return this.$RelayPendingTransaction2;};l.prototype.getConfigs=function(){if(!this.$RelayPendingTransaction3)this.$RelayPendingTransaction3=this.mutation.getConfigs();return this.$RelayPendingTransaction3;};l.prototype.getFatQuery=function(){if(!this.$RelayPendingTransaction5){var o=c('fromGraphQL').Fragment(this.mutation.getFatQuery());o instanceof c('RelayQuery').Fragment||h(0);this.$RelayPendingTransaction5=c('nullthrows')(c('flattenRelayQuery')(o,{preserveEmptyNodes:true,shouldRemoveFragments:true}));}return this.$RelayPendingTransaction5;};l.prototype.getFiles=function(){if(this.$RelayPendingTransaction6===undefined)this.$RelayPendingTransaction6=this.mutation.getFiles()||null;return this.$RelayPendingTransaction6;};l.prototype.getInputVariable=function(){if(!this.$RelayPendingTransaction7){var o,p=babelHelpers['extends']({},this.mutation.getVariables(),(o={},o[i]=this.id,o));this.$RelayPendingTransaction7=p;}return this.$RelayPendingTransaction7;};l.prototype.getMutationNode=function(){if(!this.$RelayPendingTransaction8){var o=c('QueryBuilder').getMutation(this.mutation.getMutation());o||h(0);this.$RelayPendingTransaction8=o;}return this.$RelayPendingTransaction8;};l.prototype.getOptimisticConfigs=function(){if(this.$RelayPendingTransaction11===undefined)this.$RelayPendingTransaction11=this.mutation.getOptimisticConfigs()||null;return this.$RelayPendingTransaction11;};l.prototype.getOptimisticQuery=function(o){if(this.$RelayPendingTransaction12===undefined){var p=this.$RelayPendingTransaction16();if(p){var q=this.getOptimisticConfigs(),r=m(o);if(q){this.$RelayPendingTransaction12=c('RelayMutationQuery').buildQuery({configs:q,fatQuery:this.getFatQuery(),input:this.getInputVariable(),mutationName:this.mutation.constructor.name,mutation:this.getMutationNode(),tracker:r});}else this.$RelayPendingTransaction12=c('RelayMutationQuery').buildQueryForOptimisticUpdate({response:p,fatQuery:this.getFatQuery(),mutation:this.getMutationNode()});}else this.$RelayPendingTransaction12=null;}return this.$RelayPendingTransaction12;};l.prototype.$RelayPendingTransaction16=function(){if(this.$RelayPendingTransaction15===undefined){var o=this.mutation.getOptimisticResponse()||null;if(o)o[i]=this.id;this.$RelayPendingTransaction15=o;}return this.$RelayPendingTransaction15;};l.prototype.getOptimisticResponse=function(){if(this.$RelayPendingTransaction13===undefined){var o=this.$RelayPendingTransaction16();if(o){this.$RelayPendingTransaction13=c('RelayOptimisticMutationUtils').inferRelayPayloadFromData(o);}else this.$RelayPendingTransaction13=o;}return this.$RelayPendingTransaction13;};l.prototype.getQuery=function(o){if(!this.$RelayPendingTransaction14){var p=m(o);this.$RelayPendingTransaction14=c('RelayMutationQuery').buildQuery({configs:this.getConfigs(),fatQuery:this.getFatQuery(),input:this.getInputVariable(),mutationName:this.getMutationNode().name,mutation:this.getMutationNode(),tracker:p});}return this.$RelayPendingTransaction14;};function m(o){var p=o.getQueryTracker();p||h(0);return p;}function n(){return c('base62')(j++);}f.exports=k;}),null);
__d('RelayNetworkLayer',['invariant','Promise','RelayProfiler','RelayQueryRequest','resolveImmediate','warning'],(function a(b,c,d,e,f,g,h){'use strict';function i(){this.$RelayNetworkLayer2=null;this.$RelayNetworkLayer3=null;this.$RelayNetworkLayer4=[];}i.prototype.injectDefaultImplementation=function(k){if(this.$RelayNetworkLayer1)c('warning')(false,'RelayNetworkLayer: Call received to injectDefaultImplementation(), '+'but a default layer was already injected.');this.$RelayNetworkLayer1=k;};i.prototype.injectImplementation=function(k){if(this.$RelayNetworkLayer2)c('warning')(false,'RelayNetworkLayer: Call received to injectImplementation(), but '+'a layer was already injected.');this.$RelayNetworkLayer2=k;};i.prototype.addNetworkSubscriber=function(k,l){var m=this.$RelayNetworkLayer4.length;this.$RelayNetworkLayer4.push({queryCallback:k,mutationCallback:l});return {remove:function(){delete this.$RelayNetworkLayer4[m];}.bind(this)};};i.prototype.sendMutation=function(k){var l=this.$RelayNetworkLayer5();this.$RelayNetworkLayer4.forEach(function(n){var o=n.mutationCallback;if(o)o(k);});var m=l.sendMutation(k);if(m)c('Promise').resolve(m).done();};i.prototype.sendQueries=function(k){var l=this.$RelayNetworkLayer5();this.$RelayNetworkLayer4.forEach(function(n){var o=n.queryCallback;if(o)k.forEach(function(p){o(p);});});var m=l.sendQueries(k);if(m)c('Promise').resolve(m).done();};i.prototype.supports=function(){var k=this.$RelayNetworkLayer5();return k.supports.apply(k,arguments);};i.prototype.$RelayNetworkLayer5=function(){var k=this.$RelayNetworkLayer2||this.$RelayNetworkLayer1;k||h(0);return k;};i.prototype.fetchRelayQuery=function(k){var l=this.$RelayNetworkLayer3||[];if(!this.$RelayNetworkLayer3){this.$RelayNetworkLayer3=l;c('resolveImmediate')(function(){this.$RelayNetworkLayer3=null;j(l);this.sendQueries(l);}.bind(this));}var m=new (c('RelayQueryRequest'))(k);l.push(m);return m.getPromise();};function j(k){var l=c('RelayProfiler').profile('fetchRelayQuery');k.forEach(function(m){var n=c('RelayProfiler').profile('fetchRelayQuery.query'),o=function p(){n.stop();if(l){l.stop();l=null;}};m.done(o,o);});}c('RelayProfiler').instrumentMethods(i.prototype,{sendMutation:'RelayNetworkLayer.sendMutation',sendQueries:'RelayNetworkLayer.sendQueries'});f.exports=i;}),null);
__d('PromiseMap',['invariant','Deferred'],(function a(b,c,d,e,f,g,h){'use strict';function i(){this.$PromiseMap1={};}i.prototype.get=function(k){return j(this.$PromiseMap1,k).getPromise();};i.prototype.resolveKey=function(k,l){var m=j(this.$PromiseMap1,k);!m.isSettled()||h(0);m.resolve(l);};i.prototype.rejectKey=function(k,l){var m=j(this.$PromiseMap1,k);!m.isSettled()||h(0);m.reject(l);};function j(k,l){if(!k.hasOwnProperty(l))k[l]=new (c('Deferred'))();return k[l];}f.exports=i;}),null);
__d('RelayPendingQueryTracker',['invariant','Deferred','PromiseMap','RelayFetchMode'],(function a(b,c,d,e,f,g,h){'use strict';function i(l){this.$RelayPendingQueryTracker1={};this.$RelayPendingQueryTracker2=new (c('PromiseMap'))();this.$RelayPendingQueryTracker3=l;}i.prototype.add=function(l){return new j(l,{pendingFetchMap:this.$RelayPendingQueryTracker1,preloadQueryMap:this.$RelayPendingQueryTracker2,storeData:this.$RelayPendingQueryTracker3});};i.prototype.hasPendingQueries=function(){return k(this.$RelayPendingQueryTracker1);};i.prototype.resetPending=function(){this.$RelayPendingQueryTracker1={};};i.prototype.resolvePreloadQuery=function(l,m){this.$RelayPendingQueryTracker2.resolveKey(l,m);};i.prototype.rejectPreloadQuery=function(l,m){this.$RelayPendingQueryTracker2.rejectKey(l,m);};function j(l,m){var n=l.fetchMode,o=l.forceIndex,p=l.query,q=m.pendingFetchMap,r=m.preloadQueryMap,s=m.storeData,t=p.getID();this.$PendingFetch4=o;this.$PendingFetch1=q;this.$PendingFetch2=r;this.$PendingFetch3=p;this.$PendingFetch8=new (c('Deferred'))();this.$PendingFetch7=false;this.$PendingFetch9=s;this.$PendingFetch6=n===c('RelayFetchMode').PRELOAD?this.$PendingFetch2.get(t):s.getNetworkLayer().fetchRelayQuery(p);this.$PendingFetch5=false;this.$PendingFetch10=null;this.$PendingFetch1[t]={fetch:this,query:p};this.$PendingFetch6.done(this.$PendingFetch11.bind(this),this.$PendingFetch12.bind(this));}j.prototype.isResolvable=function(){return this.$PendingFetch7;};j.prototype.getQuery=function(){return this.$PendingFetch3;};j.prototype.getResolvedPromise=function(){return this.$PendingFetch8.getPromise();};j.prototype.$PendingFetch11=function(l){this.$PendingFetch5=true;this.$PendingFetch9.getTaskQueue().enqueue(function(){var m=l.response;m&&typeof m==='object'||h(0);this.$PendingFetch9.handleQueryPayload(this.$PendingFetch3,m,this.$PendingFetch4);}.bind(this)).done(this.$PendingFetch13.bind(this),this.$PendingFetch14.bind(this));};j.prototype.$PendingFetch12=function(l){this.$PendingFetch14(l);};j.prototype.$PendingFetch13=function(){var l=this.getQuery().getID();delete this.$PendingFetch1[l];this.$PendingFetch7=true;this.$PendingFetch15();};j.prototype.$PendingFetch14=function(l){var m=this.getQuery().getID();delete this.$PendingFetch1[m];this.$PendingFetch10=l;this.$PendingFetch15();};j.prototype.$PendingFetch15=function(){if(this.$PendingFetch16()&&!this.$PendingFetch8.isSettled())if(this.$PendingFetch10){this.$PendingFetch8.reject(this.$PendingFetch10);}else this.$PendingFetch8.resolve(undefined);};j.prototype.$PendingFetch16=function(){return !!this.$PendingFetch10||this.$PendingFetch7;};function k(l){return !!Object.keys(l).length;}f.exports=i;}),null);
__d('RelayQueryTracker',['RelayNodeInterface','RelayQuery','flattenRelayQuery'],(function a(b,c,d,e,f,g){'use strict';var h='__type__';function i(){this.$RelayQueryTracker1={};}i.prototype.trackNodeForID=function(j,k){if(j instanceof c('RelayQuery').Field&&j.getSchemaName()===h)return;this.$RelayQueryTracker1[k]=this.$RelayQueryTracker1[k]||{trackedNodes:[],isMerged:false};this.$RelayQueryTracker1[k].trackedNodes.push(j);this.$RelayQueryTracker1[k].isMerged=false;};i.prototype.getTrackedChildrenForID=function(j){var k,l=this.$RelayQueryTracker1[j];if(!l)return [];var m=l.isMerged,n=l.trackedNodes;if(!m)(function(){var p=[];n.forEach(function(r){p.push.apply(p,r.getChildren());});n.length=0;l.isMerged=true;var q=c('RelayQuery').Fragment.build('RelayQueryTracker',c('RelayNodeInterface').NODE_TYPE,p);q=c('flattenRelayQuery')(q);if(q)n.push(q);})();var o=n[0];if(o)return o.getChildren();return [];};i.prototype.untrackNodesForID=function(j){delete this.$RelayQueryTracker1[j];};f.exports=i;}),null);
__d('generateClientEdgeID',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){return 'client:'+i+':'+j;}f.exports=h;}),null);
__d('generateClientID',['crc32','performanceNow'],(function a(b,c,d,e,f,g){'use strict';var h=1,i='client:'+c('crc32')(''+c('performanceNow')());function j(){return i+h++;}f.exports=j;}),null);
__d('RelayQueryWriter',['invariant','RelayConnectionInterface','RelayNodeInterface','RelayQuery','RelayQueryPath','RelayQueryVisitor','RelayRecord','RelayRecordState','generateClientEdgeID','generateClientID','isCompatibleRelayFragmentType','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RelayNodeInterface').ANY_TYPE,l=c('RelayNodeInterface').ID,m=c('RelayNodeInterface').TYPENAME,n=c('RelayConnectionInterface').EDGES,o=c('RelayConnectionInterface').NODE,p=c('RelayConnectionInterface').PAGE_INFO,q=c('RelayRecordState').EXISTENT;i=babelHelpers.inherits(r,c('RelayQueryVisitor'));j=i&&i.prototype;function r(s,t,u,v,w){j.constructor.call(this);this.$RelayQueryWriter1=v;this.$RelayQueryWriter2=w&&w.forceIndex?w.forceIndex:0;this.$RelayQueryWriter3=!!(w&&w.isOptimisticUpdate);this.$RelayQueryWriter4=s;this.$RelayQueryWriter5=u;this.$RelayQueryWriter6=!!(w&&w.updateTrackedQueries);this.$RelayQueryWriter7=t;}r.prototype.getRecordStore=function(){return this.$RelayQueryWriter4;};r.prototype.getRecordWriter=function(){return this.$RelayQueryWriter7;};r.prototype.getRecordTypeName=function(s,t,u){if(this.$RelayQueryWriter3)return this.$RelayQueryWriter4.getType(t);var v=u[m];if(v==null)if(!s.isAbstract()){v=s.getType();}else v=this.$RelayQueryWriter4.getType(t);c('warning')(v&&v!==k,'RelayQueryWriter: Could not find a type name for record `%s`.',t);return v||null;};r.prototype.writePayload=function(s,t,u,v){var w={nodeID:null,path:v,recordID:t,responseData:u};if(s instanceof c('RelayQuery').Field&&s.canHaveSubselections()){s.getChildren().forEach(function(x){this.visit(x,w);}.bind(this));return;}this.visit(s,w);};r.prototype.recordCreate=function(s){this.$RelayQueryWriter1.createID(s);};r.prototype.recordUpdate=function(s){this.$RelayQueryWriter1.updateID(s);};r.prototype.isNewRecord=function(s){return this.$RelayQueryWriter1.isNewRecord(s);};r.prototype.createRecordIfMissing=function(s,t,u,v){var w=this.$RelayQueryWriter4.getRecordState(t),x=v&&this.getRecordTypeName(s,t,v);this.$RelayQueryWriter7.putRecord(t,x,u);if(w!==q)this.recordCreate(t);if(this.$RelayQueryWriter5&&(this.isNewRecord(t)||this.$RelayQueryWriter6)&&(!c('RelayRecord').isClientID(t)||c('RelayQueryPath').isRootPath(u)))this.$RelayQueryWriter5.trackNodeForID(s,t);};r.prototype.visitRoot=function(s,t){var u=t.path,v=t.recordID,w=t.responseData,x=this.$RelayQueryWriter4.getRecordState(v);if(w==null){w!==undefined||h(0);this.$RelayQueryWriter7.deleteRecord(v);if(x===q)this.recordUpdate(v);return;}typeof w==='object'&&w!==null||h(0);this.createRecordIfMissing(s,v,u,w);this.traverse(s,t);};r.prototype.visitFragment=function(s,t){var u=t.recordID;if(s.isDeferred()){var v=s.getSourceCompositeHash()||s.getCompositeHash();this.$RelayQueryWriter7.setHasDeferredFragmentData(u,v);this.recordUpdate(u);}if(this.$RelayQueryWriter3||c('isCompatibleRelayFragmentType')(s,this.$RelayQueryWriter4.getType(u))){if(!this.$RelayQueryWriter3&&s.isTrackingEnabled())this.$RelayQueryWriter7.setHasFragmentData(u,s.getCompositeHash());var w=c('RelayQueryPath').getPath(t.path,s,u);this.traverse(s,babelHelpers['extends']({},t,{path:w}));}};r.prototype.visitField=function(s,t){var u=t.recordID,v=t.responseData;this.$RelayQueryWriter7.getRecordState(u)===q||h(0);typeof v==='object'&&v!==null||h(0);var w=s.getSerializationKey(),x=v[w];if(x==null){if(x===undefined)if(v.hasOwnProperty(w)){c('warning')(false,'RelayQueryWriter: Encountered an explicit `undefined` field `%s` '+'on record `%s`, expected response to not contain `undefined`.',s.getDebugName(),u);return;}else if(this.$RelayQueryWriter3)return;var y=s.getStorageKey(),z=this.$RelayQueryWriter4.getField(u,y);this.$RelayQueryWriter7.deleteField(u,y);if(z!==null)this.recordUpdate(u);return;}if(!s.canHaveSubselections()){this.$RelayQueryWriter8(s,t,u,x);}else if(s.isConnection()){this.$RelayQueryWriter9(s,t,u,x);}else if(s.isPlural()){this.$RelayQueryWriter10(s,t,u,x);}else this.$RelayQueryWriter11(s,t,u,x);};r.prototype.$RelayQueryWriter8=function(s,t,u,v){var w=s.getStorageKey(),x=this.$RelayQueryWriter4.getField(u,w);this.$RelayQueryWriter7.putField(u,w,v);if(Array.isArray(x)&&Array.isArray(v)&&x.length===v.length&&x.every(function(y,z){return y===v[z];})){return;}else if(x===v)return;this.recordUpdate(u);};r.prototype.$RelayQueryWriter9=function(s,t,u,v){var w=s.getStorageKey(),x=this.$RelayQueryWriter4.getLinkedRecordID(u,w)||c('generateClientID')(),y=this.$RelayQueryWriter4.getRecordState(x),z=!!(s.getFieldByStorageKey(n)||v!=null&&typeof v==='object'&&v[n]),aa=c('RelayQueryPath').getPath(t.path,s,x);this.$RelayQueryWriter7.putRecord(x,null,aa);this.$RelayQueryWriter7.putLinkedRecordID(u,w,x);if(y!==q){this.recordUpdate(u);this.recordCreate(x);}if(z){if(!this.$RelayQueryWriter7.hasRange(x)||this.$RelayQueryWriter2&&this.$RelayQueryWriter2>this.$RelayQueryWriter4.getRangeForceIndex(x))this.$RelayQueryWriter7.putRange(x,s.getCallsWithValues(),this.$RelayQueryWriter2);this.recordUpdate(x);}var ba={nodeID:null,path:aa,recordID:x,responseData:v};this.$RelayQueryWriter12(s,s,ba);};r.prototype.$RelayQueryWriter12=function(s,t,u){t.getChildren().forEach(function(v){if(v instanceof c('RelayQuery').Field){if(v.getSchemaName()===n){this.$RelayQueryWriter13(s,v,u);}else if(v.getSchemaName()!==p)this.visit(v,u);}else this.$RelayQueryWriter12(s,v,u);}.bind(this));};r.prototype.$RelayQueryWriter13=function(s,t,u){var v=u.recordID,w=u.responseData;typeof w==='object'&&w!==null||h(0);var x=w[n];if(x==null){c('warning')(false,'RelayQueryWriter: Cannot write edges for connection `%s` on record '+'`%s`, expected a response for field `edges`.',s.getDebugName(),v);return;}Array.isArray(x)||h(0);var y=s.getCallsWithValues();c('RelayConnectionInterface').hasRangeCalls(y)||h(0);var z=this.$RelayQueryWriter4.getRangeMetadata(v,y);z||h(0);var aa=[],ba=z.filteredEdges,ca=false,da=0;x.forEach(function(fa){if(fa==null)return;typeof fa==='object'&&fa||h(0);var ga=fa[o];if(ga==null)return;typeof ga==='object'||h(0);var ha=ba[da++],ia=ga&&ga[l]||ha&&this.$RelayQueryWriter4.getLinkedRecordID(ha.edgeID,o)||c('generateClientID')(),ja=c('generateClientEdgeID')(v,ia),ka=c('RelayQueryPath').getPath(u.path,t,ja);this.createRecordIfMissing(t,ja,ka,null);aa.push(ja);this.traverse(t,{nodeID:ia,path:ka,recordID:ja,responseData:fa});ca=ca||!ha||ja!==ha.edgeID;}.bind(this));var ea=w[p]||c('RelayConnectionInterface').getDefaultPageInfo();this.$RelayQueryWriter7.putRangeEdges(v,y,ea,aa);if(ca)this.recordUpdate(v);};r.prototype.$RelayQueryWriter10=function(s,t,u,v){var w=s.getStorageKey();Array.isArray(v)||h(0);var x=this.$RelayQueryWriter4.getLinkedRecordIDs(u,w),y=[],z={},aa=false,ba=0;v.forEach(function(ca){if(ca==null)return;typeof ca==='object'&&ca||h(0);var da=x&&x[ba],ea=ca[l]||da||c('generateClientID')();y.push(ea);var fa=c('RelayQueryPath').getPath(t.path,s,ea);this.createRecordIfMissing(s,ea,fa,ca);z[ea]={record:ca,path:fa};aa=aa||ea!==da;ba++;}.bind(this));this.$RelayQueryWriter7.putLinkedRecordIDs(u,w,y);y.forEach(function(ca){var da=z[ca];if(da)this.traverse(s,{nodeID:null,path:da.path,recordID:ca,responseData:da.record});}.bind(this));if(aa||!x||x.length!==y.length)this.recordUpdate(u);};r.prototype.$RelayQueryWriter11=function(s,t,u,v){var w=t.nodeID,x=s.getStorageKey();typeof v==='object'&&v!==null||h(0);var y=this.$RelayQueryWriter4.getLinkedRecordID(u,x),z=s.getSchemaName()===o&&w||v[l]||y||c('generateClientID')(),aa=c('RelayQueryPath').getPath(t.path,s,z);this.createRecordIfMissing(s,z,aa,v);this.$RelayQueryWriter7.putLinkedRecordID(u,x,z);if(y!==z)this.recordUpdate(u);this.traverse(s,{nodeID:null,path:aa,recordID:z,responseData:v});};f.exports=r;}),null);
__d('RelayRecordStore',['invariant','GraphQLRange','RelayConnectionInterface','RelayNodeInterface','RelayRecord','forEachObject','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i='',j=c('RelayConnectionInterface').NODE,k=c('RelayRecord').MetadataKey,l=k.FILTER_CALLS,m=k.FORCE_INDEX,n=k.MUTATION_IDS,o=k.PATH,p=k.RANGE,q=k.RESOLVED_FRAGMENT_MAP;function r(u,v,w){this.$RelayRecordStore1=u.cachedRecords;this.$RelayRecordStore2=v&&v.cachedRootCallMap||{};this.$RelayRecordStore3=u.queuedRecords;this.$RelayRecordStore4=w||{};this.$RelayRecordStore5=u.records;this.$RelayRecordStore6=v&&v.rootCallMap||{};this.$RelayRecordStore7=[];if(this.$RelayRecordStore3)this.$RelayRecordStore7.push(this.$RelayRecordStore3);if(this.$RelayRecordStore5)this.$RelayRecordStore7.push(this.$RelayRecordStore5);if(this.$RelayRecordStore1)this.$RelayRecordStore7.push(this.$RelayRecordStore1);}r.prototype.getDataID=function(u,v){if(c('RelayNodeInterface').isNodeRootCall(u)){v!=null||h(0);return v;}if(v==null)v=i;if(this.$RelayRecordStore6.hasOwnProperty(u)&&this.$RelayRecordStore6[u].hasOwnProperty(v)){return this.$RelayRecordStore6[u][v];}else if(this.$RelayRecordStore2.hasOwnProperty(u))return this.$RelayRecordStore2[u][v];};r.prototype.getRecordState=function(u){var v=this.$RelayRecordStore8(u);if(v===null){return 'NONEXISTENT';}else if(v===undefined)return 'UNKNOWN';return 'EXISTENT';};r.prototype.getPathToRecord=function(u){var v=this.$RelayRecordStore9(u,o);return v;};r.prototype.hasOptimisticUpdate=function(u){var v=this.$RelayRecordStore3;return v?v.hasOwnProperty(u):false;};r.prototype.getClientMutationIDs=function(u){var v=this.$RelayRecordStore3;if(v){var w=v[u];if(w)return w[n];}return null;};r.prototype.hasFragmentData=function(u,v){var w=this.$RelayRecordStore9(u,q);typeof w==='object'||w==null||h(0);return !!(w&&w[v]);};r.prototype.getType=function(u){return this.$RelayRecordStore9(u,'__typename');};r.prototype.getField=function(u,v){return this.$RelayRecordStore9(u,v);};r.prototype.getLinkedRecordID=function(u,v){var w=this.$RelayRecordStore9(u,v);if(w==null)return w;var x=c('RelayRecord').getRecord(w);x||h(0);return c('RelayRecord').getDataID(x);};r.prototype.getLinkedRecordIDs=function(u,v){var w=this.$RelayRecordStore9(u,v);if(w==null)return w;Array.isArray(w)||h(0);return w.map(function(x,y){var z=c('RelayRecord').getRecord(x);z||h(0);return c('RelayRecord').getDataID(z);});};r.prototype.getConnectionIDsForRecord=function(u){var v=this.$RelayRecordStore4[u];if(v)return Object.keys(v);return null;};r.prototype.getConnectionIDsForField=function(u,v){var w=this.$RelayRecordStore5[u];if(w==null)return w;var x=void 0;c('forEachObject')(w,function(y,z){if(y&&t(z)===v){var aa=c('RelayRecord').getDataIDForObject(y);if(aa){x=x||[];x.push(aa);}}});return x;};r.prototype.getRangeForceIndex=function(u){var v=this.$RelayRecordStore9(u,m);if(v===null)return -1;return v||0;};r.prototype.getRangeFilterCalls=function(u){return this.$RelayRecordStore9(u,l);};r.prototype.getRangeMetadata=function(u,v){if(u==null)return u;var w=this.$RelayRecordStore9(u,p);if(w==null){if(w===null)c('warning')(false,'RelayRecordStore.getRangeMetadata(): Expected range to exist if '+'`edges` has been fetched.');return undefined;}var x=s(v);if(v.length===x.length)return {diffCalls:v,filterCalls:x,pageInfo:undefined,requestedEdgeIDs:[],filteredEdges:[]};var y=this.$RelayRecordStore3?this.$RelayRecordStore3[u]:null,z=w.retrieveRangeInfoForQuery(v,y),aa=z.diffCalls,ba=z.pageInfo,ca=z.requestedEdgeIDs;if(aa&&aa.length){aa=x.concat(aa);}else aa=[];var da=void 0;if(ca){da=ca.map(function(ea){return {edgeID:ea,nodeID:this.getLinkedRecordID(ea,j)};}.bind(this)).filter(function(ea){return this.$RelayRecordStore8(ea.nodeID);}.bind(this));}else da=[];return {diffCalls:aa,filterCalls:x,pageInfo:ba,requestedEdgeIDs:ca,filteredEdges:da};};r.prototype.hasRange=function(u){return !!this.$RelayRecordStore9(u,p);};r.prototype.removeRecord=function(u){delete this.$RelayRecordStore5[u];if(this.$RelayRecordStore3)delete this.$RelayRecordStore3[u];if(this.$RelayRecordStore1)delete this.$RelayRecordStore1[u];delete this.$RelayRecordStore4[u];};r.prototype.$RelayRecordStore8=function(u){if(this.$RelayRecordStore3&&this.$RelayRecordStore3.hasOwnProperty(u)){return this.$RelayRecordStore3[u];}else if(this.$RelayRecordStore5.hasOwnProperty(u)){return this.$RelayRecordStore5[u];}else if(this.$RelayRecordStore1)return this.$RelayRecordStore1[u];};r.prototype.$RelayRecordStore9=function(u,v){var w=this.$RelayRecordStore7;for(var x=0;x<w.length;x++){var y=w[x][u];if(y===null){return null;}else if(y&&y.hasOwnProperty(v))return y[v];}return undefined;};function s(u){return u.filter(function(v){return !c('RelayConnectionInterface').isConnectionCall(v);});}function t(u){return u.split(/(?![_A-Za-z][_0-9A-Za-z]*)/,1)[0];}f.exports=r;}),null);
__d('RelayRecordWriter',['invariant','GraphQLMutatorConstants','GraphQLRange','RelayConnectionInterface','RelayNodeInterface','RelayRecord','RelayRecordStatusMap','rangeOperationToMetadataKey'],(function a(b,c,d,e,f,g,h){'use strict';var i='',j=c('GraphQLMutatorConstants').APPEND,k=c('GraphQLMutatorConstants').PREPEND,l=c('GraphQLMutatorConstants').REMOVE,m=c('RelayConnectionInterface').CURSOR,n=c('RelayConnectionInterface').NODE,o=c('RelayRecord').MetadataKey,p=o.FILTER_CALLS,q=o.FORCE_INDEX,r=o.MUTATION_IDS,s=o.PATH,t=o.RANGE,u=o.RESOLVED_FRAGMENT_MAP,v=o.RESOLVED_FRAGMENT_MAP_GENERATION,w=o.STATUS;function x(z,aa,ba,ca,da,ea){this.$RelayRecordWriter1=da;this.$RelayRecordWriter2=ea;this.$RelayRecordWriter3=ba;this.$RelayRecordWriter5=ca||{};this.$RelayRecordWriter4=z;this.$RelayRecordWriter6=aa;}x.prototype.getDataID=function(z,aa){if(c('RelayNodeInterface').isNodeRootCall(z)){aa!=null||h(0);return aa;}if(aa==null)aa=i;if(this.$RelayRecordWriter6.hasOwnProperty(z)&&this.$RelayRecordWriter6[z].hasOwnProperty(aa))return this.$RelayRecordWriter6[z][aa];};x.prototype.putDataID=function(z,aa,ba){if(c('RelayNodeInterface').isNodeRootCall(z)){aa!=null||h(0);return;}if(aa==null)aa=i;this.$RelayRecordWriter6[z]=this.$RelayRecordWriter6[z]||{};this.$RelayRecordWriter6[z][aa]=ba;if(this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeRootCall(z,aa,ba);};x.prototype.getRecordState=function(z){var aa=this.$RelayRecordWriter4[z];if(aa===null){return 'NONEXISTENT';}else if(aa===undefined)return 'UNKNOWN';return 'EXISTENT';};x.prototype.putRecord=function(z,aa,ba){var ca=this.$RelayRecordWriter7(z);if(ca)return;var da=c('RelayRecord').createWithFields(z,{__typename:aa});if(this.$RelayRecordWriter3)this.$RelayRecordWriter8(da);if(c('RelayRecord').isClientID(z)&&ba)da[s]=ba;this.$RelayRecordWriter4[z]=da;var ea=this.$RelayRecordWriter1;if(!this.$RelayRecordWriter3&&ea)ea.writeField(z,'__dataID__',z,aa);};x.prototype.getPathToRecord=function(z){return this.$RelayRecordWriter9(z,s);};x.prototype.hasFragmentData=function(z,aa){var ba=this.$RelayRecordWriter9(z,u);typeof ba==='object'||ba==null||h(0);return !!(ba&&ba[aa]);};x.prototype.setHasDeferredFragmentData=function(z,aa){this.$RelayRecordWriter10(z,aa,true);};x.prototype.setHasFragmentData=function(z,aa){this.$RelayRecordWriter10(z,aa,false);};x.prototype.$RelayRecordWriter10=function(z,aa,ba){var ca=this.$RelayRecordWriter7(z);ca||h(0);var da=ca[u];if(typeof da!=='object'||!da)da={};da[aa]=true;ca[u]=da;if(ba)if(typeof ca[v]==='number'){ca[v]++;}else ca[v]=0;};x.prototype.deleteRecord=function(z){this.$RelayRecordWriter4[z]=null;if(!this.$RelayRecordWriter3){delete this.$RelayRecordWriter5[z];if(this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeNode(z,null);}};x.prototype.getType=function(z){return this.$RelayRecordWriter9(z,'__typename');};x.prototype.getField=function(z,aa){return this.$RelayRecordWriter9(z,aa);};x.prototype.putField=function(z,aa,ba){var ca=this.$RelayRecordWriter7(z);ca||h(0);ca[aa]=ba;if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1){var da=ca.__typename;this.$RelayRecordWriter1.writeField(z,aa,ba,da);}};x.prototype.deleteField=function(z,aa){var ba=this.$RelayRecordWriter7(z);ba||h(0);ba[aa]=null;if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(z,aa,null);};x.prototype.getLinkedRecordID=function(z,aa){var ba=this.$RelayRecordWriter9(z,aa);if(ba==null)return ba;var ca=c('RelayRecord').getRecord(ba);ca||h(0);return c('RelayRecord').getDataID(ca);};x.prototype.putLinkedRecordID=function(z,aa,ba){var ca=this.$RelayRecordWriter7(z);ca||h(0);var da=c('RelayRecord').create(ba);ca[aa]=da;if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(z,aa,da);};x.prototype.getLinkedRecordIDs=function(z,aa){var ba=this.$RelayRecordWriter9(z,aa);if(ba==null)return ba;Array.isArray(ba)||h(0);return ba.map(function(ca,da){var ea=c('RelayRecord').getRecord(ca);ea||h(0);return c('RelayRecord').getDataID(ea);});};x.prototype.putLinkedRecordIDs=function(z,aa,ba){var ca=this.$RelayRecordWriter7(z);ca||h(0);var da=ba.map(function(ea){return c('RelayRecord').create(ea);});ca[aa]=da;if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(z,aa,da);};x.prototype.getRangeForceIndex=function(z){var aa=this.$RelayRecordWriter9(z,q);if(aa===null)return -1;return aa||0;};x.prototype.getRangeFilterCalls=function(z){return this.$RelayRecordWriter9(z,p);};x.prototype.putRange=function(z,aa,ba){!this.$RelayRecordWriter3||h(0);var ca=this.$RelayRecordWriter7(z);ca||h(0);var da=new (c('GraphQLRange'))(),ea=y(aa);ba=ba||0;ca[p]=ea;ca[q]=ba;ca[t]=da;var fa=this.$RelayRecordWriter1;if(!this.$RelayRecordWriter3&&fa){fa.writeField(z,p,ea);fa.writeField(z,q,ba);fa.writeField(z,t,da);}};x.prototype.hasRange=function(z){return !!this.$RelayRecordWriter9(z,t);};x.prototype.putRangeEdges=function(z,aa,ba,ca){var da=this.$RelayRecordWriter9(z,t);da||h(0);var ea=[];ca.forEach(function(fa){var ga=this.$RelayRecordWriter11(fa);ea.push(ga);var ha=c('RelayRecord').getDataID(ga.node);this.$RelayRecordWriter12(z,ha);}.bind(this));da.addItems(aa,ea,ba);if(!this.$RelayRecordWriter3&&this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(z,t,da);};x.prototype.applyRangeUpdate=function(z,aa,ba){if(this.$RelayRecordWriter3){this.$RelayRecordWriter13(z,aa,ba);}else this.$RelayRecordWriter14(z,aa,ba);};x.prototype.$RelayRecordWriter11=function(z){var aa=this.getLinkedRecordID(z,n);aa||h(0);return c('RelayRecord').createWithFields(z,{cursor:this.getField(z,m),node:c('RelayRecord').create(aa)});};x.prototype.$RelayRecordWriter13=function(z,aa,ba){var ca=this.$RelayRecordWriter7(z);if(!ca){ca=c('RelayRecord').create(z);this.$RelayRecordWriter4[z]=ca;}this.$RelayRecordWriter8(ca);var da=c('rangeOperationToMetadataKey')[ba],ea=ca[da];if(!ea){ea=[];ca[da]=ea;}if(ba===k){ea.unshift(aa);}else ea.push(aa);};x.prototype.$RelayRecordWriter14=function(z,aa,ba){var ca=this.$RelayRecordWriter9(z,t);ca||h(0);if(ba===l){ca.removeEdgeWithID(aa);var da=this.getLinkedRecordID(aa,'node');if(da)this.$RelayRecordWriter15(z,da);}else{var ea=this.$RelayRecordWriter11(aa),fa=c('RelayRecord').getDataID(ea.node);this.$RelayRecordWriter12(z,fa);if(ba===j){ca.appendEdge(this.$RelayRecordWriter11(aa));}else ca.prependEdge(this.$RelayRecordWriter11(aa));}if(this.$RelayRecordWriter1)this.$RelayRecordWriter1.writeField(z,t,ca);};x.prototype.$RelayRecordWriter12=function(z,aa){var ba=this.$RelayRecordWriter5[aa];if(!ba){ba={};this.$RelayRecordWriter5[aa]=ba;}ba[z]=true;};x.prototype.$RelayRecordWriter15=function(z,aa){var ba=this.$RelayRecordWriter5[aa];if(ba){delete ba[z];if(Object.keys(ba).length===0)delete this.$RelayRecordWriter5[aa];}};x.prototype.$RelayRecordWriter7=function(z){var aa=this.$RelayRecordWriter4[z];if(!aa)return aa;if(this.$RelayRecordWriter3)this.$RelayRecordWriter8(aa);return aa;};x.prototype.$RelayRecordWriter9=function(z,aa){var ba=this.$RelayRecordWriter4[z];if(ba===null){return null;}else if(ba&&ba.hasOwnProperty(aa)){return ba[aa];}else return undefined;};x.prototype.$RelayRecordWriter8=function(z){var aa=this.$RelayRecordWriter2;aa||h(0);var ba=z[r]||[];if(ba.indexOf(aa)===-1){ba.push(aa);z[r]=ba;}z[w]=c('RelayRecordStatusMap').setOptimisticStatus(0,true);};function y(z){return z.filter(function(aa){return !c('RelayConnectionInterface').isConnectionCall(aa);});}f.exports=x;}),null);
__d('RelayTaskQueue',['invariant','Promise'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){this.$RelayTaskQueue1=[];this.$RelayTaskQueue2=false;this.$RelayTaskQueue3=j;}i.prototype.enqueue=function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];var m=new (c('Promise'))(function(n,o){var p=0,q=null,r=function(s){if(q){o(q);return;}if(p>=k.length){n(s);}else this.$RelayTaskQueue1.push(function(){r(function(){var t=k[p++];try{s=t(s);}catch(u){q=u;s=undefined;}return s;}());});}.bind(this);r(undefined);}.bind(this));this.$RelayTaskQueue4();return m;};i.prototype.injectScheduler=function(j){this.$RelayTaskQueue3=j;};i.prototype.$RelayTaskQueue5=function(j){var k=false;return function(){!k||h(0);k=true;this.$RelayTaskQueue6(j);this.$RelayTaskQueue2=false;this.$RelayTaskQueue4();}.bind(this);};i.prototype.$RelayTaskQueue6=function(j){var k=this.$RelayTaskQueue1;this.$RelayTaskQueue1=[];try{j();}finally{Array.prototype.unshift.apply(k,this.$RelayTaskQueue1);this.$RelayTaskQueue1=k;}};i.prototype.$RelayTaskQueue4=function(){if(this.$RelayTaskQueue2)return;if(this.$RelayTaskQueue1.length){this.$RelayTaskQueue2=true;var j=this.$RelayTaskQueue5(this.$RelayTaskQueue1.shift());if(this.$RelayTaskQueue3){this.$RelayTaskQueue3(j);}else j();}else this.$RelayTaskQueue2=false;};f.exports=i;}),null);
__d('RelayCacheProcessor',['invariant','RelayQuery','RelayQueryVisitor','forEachRootCallArg','isEmpty','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('RelayQueryVisitor'));j=i&&i.prototype;function k(l,m){j.constructor.call(this);this.$RelayCacheProcessor1=l;this.$RelayCacheProcessor2=m;this.$RelayCacheProcessor3={};this.$RelayCacheProcessor4={};this.$RelayCacheProcessor5='PENDING';}k.prototype.abort=function(){c('warning')(this.$RelayCacheProcessor5==='LOADING','RelayCacheProcessor: Can only abort an in-progress read operation.');this.$RelayCacheProcessor5='COMPLETED';};k.prototype.handleFailure=function(l){this.$RelayCacheProcessor5!=='COMPLETED'||h(0);this.$RelayCacheProcessor5='COMPLETED';this.$RelayCacheProcessor2.onFailure&&this.$RelayCacheProcessor2.onFailure(l);};k.prototype.handleNodeVisited=function(l,m,n,o){return;};k.prototype.handleIdentifiedRootVisited=function(l,m,n,o){return;};k.prototype.process=function(l){this.$RelayCacheProcessor5==='PENDING'||h(0);this.$RelayCacheProcessor5='LOADING';l();if(this.$RelayCacheProcessor6())this.$RelayCacheProcessor7();};k.prototype.queueIdentifiedRoot=function(l,m,n){var o=l.getStorageKey();this.$RelayCacheProcessor1.readRootCall(o,m||'',function(p,q){if(this.$RelayCacheProcessor5==='COMPLETED')return;if(p){this.handleFailure(p);return;}this.handleIdentifiedRootVisited(l,q,m,n);var r=this.$RelayCacheProcessor8(o,m),s=this.$RelayCacheProcessor4[r];delete this.$RelayCacheProcessor4[r];for(var t=0;t<s.length;t++){if(this.$RelayCacheProcessor5==='COMPLETED')return;this.traverse(s[t],n);}if(this.$RelayCacheProcessor6())this.$RelayCacheProcessor7();}.bind(this));};k.prototype.queueNode=function(l,m,n){this.$RelayCacheProcessor1.readNode(m,function(o,p){if(this.$RelayCacheProcessor5==='COMPLETED')return;if(o){this.handleFailure(o);return;}this.handleNodeVisited(l,m,p,n);var q=this.$RelayCacheProcessor3[m];delete this.$RelayCacheProcessor3[m];for(var r=0;r<q.length;r++){if(this.$RelayCacheProcessor5==='COMPLETED')return;this.traverse(l,q[r]);}if(this.$RelayCacheProcessor6())this.$RelayCacheProcessor7();}.bind(this));};k.prototype.visitIdentifiedRoot=function(l,m,n){var o=l.getStorageKey(),p=this.$RelayCacheProcessor8(o,m);if(this.$RelayCacheProcessor4.hasOwnProperty(p)){this.$RelayCacheProcessor4[p].push(l);}else{this.$RelayCacheProcessor4[p]=[l];this.queueIdentifiedRoot(l,m,n);}};k.prototype.visitNode=function(l,m,n){if(this.$RelayCacheProcessor3.hasOwnProperty(m)){this.$RelayCacheProcessor3[m].push(n);}else{this.$RelayCacheProcessor3[m]=[n];this.queueNode(l,m,n);}};k.prototype.visitRoot=function(l,m){c('forEachRootCallArg')(l,function(n){var o=n.identifyingArgKey;if(this.$RelayCacheProcessor5==='COMPLETED')return;this.visitIdentifiedRoot(l,o,m);}.bind(this));};k.prototype.$RelayCacheProcessor8=function(l,m){return l+'*'+(m||'');};k.prototype.$RelayCacheProcessor7=function(){this.$RelayCacheProcessor5!=='COMPLETED'||h(0);this.$RelayCacheProcessor5='COMPLETED';this.$RelayCacheProcessor2.onSuccess&&this.$RelayCacheProcessor2.onSuccess();};k.prototype.$RelayCacheProcessor6=function(){return (c('isEmpty')(this.$RelayCacheProcessor4)&&c('isEmpty')(this.$RelayCacheProcessor3)&&this.$RelayCacheProcessor5==='LOADING');};f.exports=k;}),null);
__d('findRelayQueryLeaves',['RelayConnectionInterface','RelayProfiler','RelayQueryPath','RelayQueryVisitor','RelayRecordState','isCompatibleRelayFragmentType'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('RelayConnectionInterface').EDGES,k=c('RelayConnectionInterface').PAGE_INFO;function l(n,o,p,q,r,s){var t=new m(n,o),u={dataID:q,missingData:false,path:r,rangeCalls:s,rangeInfo:undefined};t.visit(p,u);return {missingData:u.missingData,pendingNodeStates:t.getPendingNodeStates()};}h=babelHelpers.inherits(m,c('RelayQueryVisitor'));i=h&&h.prototype;function m(n){var o=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];i.constructor.call(this);this.$RelayQueryLeavesFinder3=n;this.$RelayQueryLeavesFinder1=o;this.$RelayQueryLeavesFinder2=[];}m.prototype.getPendingNodeStates=function(){return this.$RelayQueryLeavesFinder2;};m.prototype.traverse=function(n,o){var p=n.getChildren();for(var q=0;q<p.length;q++){if(o.missingData)return;this.visit(p[q],o);}};m.prototype.visitFragment=function(n,o){var p=o.dataID,q=this.$RelayQueryLeavesFinder3.getRecordState(p);if(q===c('RelayRecordState').UNKNOWN){this.$RelayQueryLeavesFinder4(n,o);return;}else if(q===c('RelayRecordState').NONEXISTENT)return;if(c('isCompatibleRelayFragmentType')(n,this.$RelayQueryLeavesFinder3.getType(p)))this.traverse(n,o);};m.prototype.visitField=function(n,o){var p=o.dataID,q=this.$RelayQueryLeavesFinder3.getRecordState(p);if(q===c('RelayRecordState').UNKNOWN){this.$RelayQueryLeavesFinder4(n,o);return;}else if(q===c('RelayRecordState').NONEXISTENT)return;if(o.rangeCalls&&!o.rangeInfo){var r=this.$RelayQueryLeavesFinder3.getRangeMetadata(p,o.rangeCalls);if(r)o.rangeInfo=r;}var s=o.rangeInfo;if(s&&n.getSchemaName()===j){this.$RelayQueryLeavesFinder5(n,o);}else if(s&&n.getSchemaName()===k){this.$RelayQueryLeavesFinder6(n,o);}else if(!n.canHaveSubselections()){this.$RelayQueryLeavesFinder7(n,o);}else if(n.isPlural()){this.$RelayQueryLeavesFinder8(n,o);}else if(n.isConnection()){this.$RelayQueryLeavesFinder9(n,o);}else this.$RelayQueryLeavesFinder10(n,o);};m.prototype.$RelayQueryLeavesFinder7=function(n,o){var p=this.$RelayQueryLeavesFinder3.getField(o.dataID,n.getStorageKey());if(p===undefined)this.$RelayQueryLeavesFinder4(n,o);};m.prototype.$RelayQueryLeavesFinder8=function(n,o){var p=this.$RelayQueryLeavesFinder3.getLinkedRecordIDs(o.dataID,n.getStorageKey());if(p===undefined){this.$RelayQueryLeavesFinder4(n,o);return;}if(p)for(var q=0;q<p.length;q++){if(o.missingData)break;var r={dataID:p[q],missingData:false,path:c('RelayQueryPath').getPath(o.path,n,p[q]),rangeCalls:undefined,rangeInfo:undefined};this.traverse(n,r);o.missingData=r.missingData;}};m.prototype.$RelayQueryLeavesFinder9=function(n,o){var p=n.getCallsWithValues(),q=this.$RelayQueryLeavesFinder3.getLinkedRecordID(o.dataID,n.getStorageKey());if(q===undefined){this.$RelayQueryLeavesFinder4(n,o);return;}if(q){var r={dataID:q,missingData:false,path:c('RelayQueryPath').getPath(o.path,n,q),rangeCalls:p,rangeInfo:null},s=this.$RelayQueryLeavesFinder3.getRangeMetadata(q,p);if(s)r.rangeInfo=s;this.traverse(n,r);o.missingData=o.missingData||r.missingData;}};m.prototype.$RelayQueryLeavesFinder5=function(n,o){var p=o.rangeInfo;if(!p){this.$RelayQueryLeavesFinder4(n,o);return;}if(p.diffCalls.length){o.missingData=true;return;}var q=p.requestedEdgeIDs;for(var r=0;r<q.length;r++){if(o.missingData)break;var s={dataID:q[r],missingData:false,path:c('RelayQueryPath').getPath(o.path,n,q[r]),rangeCalls:undefined,rangeInfo:undefined};this.traverse(n,s);o.missingData=o.missingData||s.missingData;}};m.prototype.$RelayQueryLeavesFinder6=function(n,o){var p=o.rangeInfo;if(!p||!p.pageInfo){this.$RelayQueryLeavesFinder4(n,o);return;}};m.prototype.$RelayQueryLeavesFinder10=function(n,o){var p=this.$RelayQueryLeavesFinder3.getLinkedRecordID(o.dataID,n.getStorageKey());if(p===undefined){this.$RelayQueryLeavesFinder4(n,o);return;}if(p){var q={dataID:p,missingData:false,path:c('RelayQueryPath').getPath(o.path,n,p),rangeCalls:undefined,rangeInfo:undefined};this.traverse(n,q);o.missingData=o.missingData||q.missingData;}};m.prototype.$RelayQueryLeavesFinder4=function(n,o){var p=o.dataID;if(this.$RelayQueryLeavesFinder1.hasOwnProperty(p)){o.missingData=true;}else this.$RelayQueryLeavesFinder2.push({dataID:p,node:n,path:o.path,rangeCalls:o.rangeCalls});};f.exports=c('RelayProfiler').instrument('findRelayQueryLeaves',l);}),null);
__d('restoreRelayCacheData',['invariant','RelayCacheProcessor','RelayChangeTracker','RelayProfiler','RelayQuery','RelayQueryPath','RelayRecord','findRelayQueryLeaves','forEachObject'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(n,o,p,q,r,s,t,u,v,w){var x=new m(u,q,r,s,v,w,t);x.restoreFragmentData(n,o,p);return {abort:function y(){x.abort();}};}function l(n,o,p,q,r,s,t,u){var v=new m(s,o,p,q,t,u,r);v.restoreQueriesData(n);return {abort:function w(){v.abort();}};}i=babelHelpers.inherits(m,c('RelayCacheProcessor'));j=i&&i.prototype;function m(n,o,p,q,r,s,t){j.constructor.call(this,n,s);this.$RelayCachedDataRestorator1=p;this.$RelayCachedDataRestorator2=q;this.$RelayCachedDataRestorator3=r;this.$RelayCachedDataRestorator4=t;this.$RelayCachedDataRestorator5=o;}m.prototype.handleNodeVisited=function(n,o,p,q){var r=this.$RelayCachedDataRestorator5.getRecordState(o);this.$RelayCachedDataRestorator1[o]=p;if(r==='UNKNOWN'&&p!==undefined){if(this.$RelayCachedDataRestorator4)this.$RelayCachedDataRestorator4.register(o);this.$RelayCachedDataRestorator3.createID(o);}else if(r==='EXISTENT'&&p!=null)this.$RelayCachedDataRestorator3.updateID(o);if(!p){this.handleFailure();return;}if(c('RelayRecord').isClientID(o))p.__path__=q.path;};m.prototype.handleIdentifiedRootVisited=function(n,o,p,q){if(o==null){this.handleFailure();return;}var r=n.getStorageKey();this.$RelayCachedDataRestorator2[r]=this.$RelayCachedDataRestorator2[r]||{};this.$RelayCachedDataRestorator2[r][p||'']=o;q.dataID=o;};m.prototype.restoreFragmentData=function(n,o,p){this.process(function(){this.visitFragment(o,{dataID:n,node:o,path:p,rangeCalls:undefined});}.bind(this));};m.prototype.restoreQueriesData=function(n){this.process(function(){c('forEachObject')(n,function(o){if(this.$RelayCachedDataRestorator6==='COMPLETED')return;if(o)this.visitRoot(o,{dataID:undefined,node:o,path:c('RelayQueryPath').create(o),rangeCalls:undefined});}.bind(this));}.bind(this));};m.prototype.traverse=function(n,o){o.dataID!=null||h(0);var p=c('findRelayQueryLeaves')(this.$RelayCachedDataRestorator5,this.$RelayCachedDataRestorator1,o.node,o.dataID,o.path,o.rangeCalls),q=p.missingData,r=p.pendingNodeStates;if(q){this.handleFailure();return;}for(var s=0;s<r.length;s++){if(this.$RelayCachedDataRestorator6==='COMPLETED')return;r[s].dataID!=null||h(0);this.visitNode(r[s].node,r[s].dataID,r[s]);}};m.prototype.visitIdentifiedRoot=function(n,o,p){var q=this.$RelayCachedDataRestorator5.getDataID(n.getStorageKey(),o);if(q==null){j.visitIdentifiedRoot.call(this,n,o,p);}else this.traverse(n,{dataID:q,node:n,path:c('RelayQueryPath').create(n),rangeCalls:undefined});};c('RelayProfiler').instrumentMethods(m.prototype,{handleIdentifiedRootVisited:'RelayCachedDataRestorator.handleIdentifiedRootVisited',handleNodeVisited:'RelayCachedDataRestorator.handleNodeVisited',queueIdentifiedRoot:'RelayCachedDataRestorator.queueRoot',queueNode:'RelayCachedDataRestorator.queueNode',restoreFragmentData:'RelayCachedDataRestorator.readFragment',restoreQueriesData:'RelayCachedDataRestorator.read',traverse:'RelayCachedDataRestorator.traverse',visitNode:'RelayCachedDataRestorator.visitNode',visitRoot:'RelayCachedDataRestorator.visitRoot'});f.exports={restoreFragmentDataFromCache:k,restoreQueriesDataFromCache:l};}),null);
__d('writeRelayQueryPayload',['RelayNodeInterface','RelayProfiler','RelayQueryPath','generateClientID'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayNodeInterface').ID;function i(j,k,l){var m=j.getRecordStore(),n=j.getRecordWriter(),o=c('RelayQueryPath').create(k);c('RelayNodeInterface').getResultsFromPayload(k,l).forEach(function(p){var q=p.result,r=p.rootCallInfo,s=r.storageKey,t=r.identifyingArgKey,u=void 0;if(typeof q==='object'&&q&&typeof q[h]==='string')u=q[h];if(u==null)u=m.getDataID(s,t)||c('generateClientID')();n.putDataID(s,t,u);j.writePayload(k,u,q,o);});}f.exports=c('RelayProfiler').instrument('writeRelayQueryPayload',i);}),null);
__d('RelayMutationTracker',['RelayRecord'],(function a(b,c,d,e,f,g){'use strict';var h={},i={},j={},k={},l={isClientOnlyID:function m(n){return (c('RelayRecord').isClientID(n)&&!h[n]);},updateClientServerIDMap:function m(n,o){h[n]=o;},getServerIDForClientID:function m(n){return h[n]||null;},putClientIDForMutation:function m(n,o){i[o]=n;var p=l.getErrorNodeForMutation(o);if(p){l.deleteMutationForErrorNode(p);l.putErrorNodeForMutation(n,o);}},getClientIDForMutation:function m(n){return i[n];},deleteClientIDForMutation:function m(n){delete i[n];},putErrorNodeForMutation:function m(n,o){k[n]=o;j[o]=n;},getMutationForErrorNode:function m(n){return k[n];},getErrorNodeForMutation:function m(n){return j[n];},deleteMutationForErrorNode:function m(n){delete k[n];},deleteErrorNodeForMutation:function m(n){delete j[n];}};f.exports=l;}),null);
__d('writeRelayUpdatePayload',['invariant','GraphQLMutatorConstants','RelayConnectionInterface','RelayMutationTracker','RelayMutationType','RelayNodeInterface','RelayProfiler','RelayQuery','RelayQueryPath','RelayRecordState','generateClientEdgeID','generateClientID','getRangeBehavior','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i,j=c('RelayConnectionInterface').CLIENT_MUTATION_ID,k=c('RelayConnectionInterface').EDGES,l=c('RelayNodeInterface').ANY_TYPE,m=c('RelayNodeInterface').ID,n=c('RelayNodeInterface').NODE,o=c('GraphQLMutatorConstants').APPEND,p=c('GraphQLMutatorConstants').IGNORE,q=c('GraphQLMutatorConstants').PREPEND,r=c('GraphQLMutatorConstants').REFETCH,s=c('GraphQLMutatorConstants').REMOVE,t=c('RelayQuery').Field.build({fieldName:k,type:l,metadata:{canHaveSubselections:true,isPlural:true}}),u=(i={error:true},i[j]=true,i),v='client:cursor';function w(ja,ka,la,ma){var na=ma.configs,oa=ma.isOptimisticUpdate;na.forEach(function(pa){switch(pa.type){case c('RelayMutationType').NODE_DELETE:x(ja,la,pa);break;case c('RelayMutationType').RANGE_ADD:ba(ja,la,ka,pa,oa);break;case c('RelayMutationType').RANGE_DELETE:da(ja,la,pa);break;case c('RelayMutationType').FIELDS_CHANGE:case c('RelayMutationType').REQUIRED_CHILDREN:break;default:}});z(ja,la,ka);}function x(ja,ka,la){var ma=ka[la.deletedIDFieldName];if(!ma)return;if(Array.isArray(ma)){ma.forEach(function(na){y(ja,na);});}else y(ja,ma);}function y(ja,ka){var la=ja.getRecordStore(),ma=ja.getRecordWriter(),na=la.getRecordState(ka);if(na===c('RelayRecordState').NONEXISTENT)return;var oa=la.getConnectionIDsForRecord(ka);if(oa)oa.forEach(function(pa){var qa=c('generateClientEdgeID')(pa,ka);ma.applyRangeUpdate(pa,qa,s);ja.recordUpdate(qa);ja.recordUpdate(pa);y(ja,qa);});ma.deleteRecord(ka);ja.recordUpdate(ka);}function z(ja,ka,la){var ma=ja.getRecordStore();for(var na in ka){if(!Object.prototype.hasOwnProperty.call(ka,na))continue;var oa=ka[na];if(typeof oa!=='object'||oa==null)continue;if(m in oa||ma.getDataID(na)||Array.isArray(oa))aa(ja,na,oa,la);}}function aa(ja,ka,la,ma){if(ka in u)return;if(Array.isArray(la)){la.forEach(function(sa){if(typeof sa==='object'&&sa!=null&&!Array.isArray(sa))if(ga(sa,m))aa(ja,ka,sa,ma);});return;}var na=la,oa=ja.getRecordStore(),pa=ga(na,m),qa=void 0;if(pa!=null){qa=c('RelayQueryPath').createForID(pa,'writeRelayUpdatePayload');}else{pa=oa.getDataID(ka);if(!pa)h(0);qa=c('RelayQueryPath').create(c('RelayQuery').Root.build('writeRelayUpdatePayload',ka,null,null,{identifyingArgName:null,identifyingArgType:null,isAbstract:true,isDeferred:false,isPlural:false},l));}var ra=function sa(ta){ta.getChildren().forEach(function(ua){if(ua instanceof c('RelayQuery').Fragment){sa(ua);}else if(ua instanceof c('RelayQuery').Field&&ua.getSerializationKey()===ka)if(qa&&pa){ja.createRecordIfMissing(ua,pa,qa,na);ja.writePayload(ua,pa,na,qa);}});};ra(ma);}function ba(ja,ka,la,ma,na){var oa=ga(ka,j);oa||h(0);var pa=ja.getRecordStore(),qa=ha(ka,ma.edgeName),ra=qa&&ha(qa,n);if(!qa||!ra)return;var sa=ma.parentID;if(!sa){var ta=ha(qa,'source');if(ta)sa=ga(ta,m);}sa||h(0);var ua=ga(ra,m)||c('generateClientID')(),va=qa.cursor||v,wa=babelHelpers['extends']({},qa,{cursor:va,node:babelHelpers['extends']({},ra,{id:ua})}),xa=pa.getConnectionIDsForField(sa,ma.connectionName);if(xa)xa.forEach(function(za){return ca(ja,la,ma,za,ua,wa);});if(na){c('RelayMutationTracker').putClientIDForMutation(ua,oa);}else{var ya=c('RelayMutationTracker').getClientIDForMutation(oa);if(ya){c('RelayMutationTracker').updateClientServerIDMap(ya,ua);c('RelayMutationTracker').deleteClientIDForMutation(oa);}}}function ca(ja,ka,la,ma,na,oa){var pa=ja.getRecordStore(),qa=ja.getRecordWriter(),ra=pa.getRangeFilterCalls(ma),sa=ra?c('getRangeBehavior')(la.rangeBehaviors,ra):null;if(!sa){c('warning')(sa,'Using `null` as a rangeBehavior value is deprecated. Use `ignore` to avoid '+'refetching a range.');return;}if(sa===p)return;var ta=c('generateClientEdgeID')(ma,na),ua=pa.getPathToRecord(ma);ua||h(0);ua=c('RelayQueryPath').getPath(ua,t,ta);ja.createRecordIfMissing(t,ta,ua,oa);var va=false,wa=function xa(ya){ya.getChildren().forEach(function(za){if(za instanceof c('RelayQuery').Fragment){xa(za);}else if(za instanceof c('RelayQuery').Field&&za.getSchemaName()===la.edgeName){va=true;if(ua)ja.writePayload(za,ta,oa,ua);}});};wa(ka);va||h(0);if(sa in c('GraphQLMutatorConstants').RANGE_OPERATIONS){qa.applyRangeUpdate(ma,ta,sa);ja.recordUpdate(ma);}}function da(ja,ka,la){var ma=ja.getRecordStore(),na=null;if(Array.isArray(la.deletedIDFieldName)){na=fa(ma,la.deletedIDFieldName,ka);}else{na=ka[la.deletedIDFieldName];if(typeof na==='number'){c('warning')(false,'writeRelayUpdatePayload(): Expected `%s` to be a string, got the '+'number `%s`.',la.deletedIDFieldName,na);na=''+na;}na==null||!Array.isArray(na)||typeof na!=='string'||h(0);if(!Array.isArray(na))na=[na];}na!=null||h(0);var oa=la.pathToConnection.pop(),pa=fa(ma,la.pathToConnection,ka);la.pathToConnection.push(oa);if(!pa)return;var qa=pa[0],ra=ma.getConnectionIDsForField(qa,oa);if(ra)ra.forEach(function(sa){if(na)na.forEach(function(ta){ea(ja,sa,ta);});});}function ea(ja,ka,la){var ma=ja.getRecordWriter(),na=c('generateClientEdgeID')(ka,la);ma.applyRangeUpdate(ka,na,s);y(ja,na);ja.recordUpdate(ka);}function fa(ja,ka,la){if(ka.length===1){var ma=ja.getDataID(ka[0]);if(ma)return [ma];}var na=la;ka.forEach(function(oa,pa){if(!na||Array.isArray(na))return;if(pa===ka.length-1){na=ia(na,oa);}else na=ha(na,oa);});if(na){if(!Array.isArray(na))na=[na];return na.map(function(oa){var pa=ga(oa,m);pa!=null||h(0);return pa;});}return null;}function ga(ja,ka){var la=ja[ka];if(typeof la==='number'){c('warning')(false,'writeRelayUpdatePayload(): Expected `%s` to be a string, got the '+'number `%s`.',ka,la);la=''+la;}la==null||typeof la==='string'||h(0);return la;}function ha(ja,ka){var la=ja[ka];la==null||typeof la==='object'&&!Array.isArray(la)||h(0);return la;}function ia(ja,ka){var la=ja[ka];la==null||typeof la==='object'||h(0);return la;}f.exports=c('RelayProfiler').instrument('writeRelayUpdatePayload',w);}),null);
__d('RelayStoreData',['invariant','GraphQLQueryRunner','GraphQLRange','GraphQLStoreChangeEmitter','GraphQLStoreRangeUtils','RelayChangeTracker','RelayConnectionInterface','RelayGarbageCollector','RelayMutationQueue','RelayNetworkLayer','RelayNodeInterface','RelayPendingQueryTracker','RelayProfiler','RelayQuery','RelayQueryPath','RelayQueryTracker','RelayQueryWriter','RelayRecord','RelayRecordStore','RelayRecordWriter','RelayTaskQueue','forEachObject','generateForceIndex','mapObject','warning','writeRelayQueryPayload','writeRelayUpdatePayload','restoreRelayCacheData'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('restoreRelayCacheData').restoreFragmentDataFromCache,j=c('restoreRelayCacheData').restoreQueriesDataFromCache,k=c('RelayConnectionInterface').CLIENT_MUTATION_ID,l=c('RelayNodeInterface').ID,m=c('RelayNodeInterface').ID_TYPE,n=c('RelayNodeInterface').NODE,o=c('RelayNodeInterface').NODE_TYPE,p=c('RelayNodeInterface').TYPENAME,q=c('RelayQuery').Field.build({fieldName:l,type:'String'}),r=c('RelayQuery').Field.build({fieldName:p,type:'String'});function s(){var u=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],v=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],w=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],x=arguments.length<=3||arguments[3]===undefined?{}:arguments[3],y=arguments.length<=4||arguments[4]===undefined?{}:arguments[4],z=arguments.length<=5||arguments[5]===undefined?{}:arguments[5],aa=arguments.length<=6||arguments[6]===undefined?new (c('GraphQLStoreRangeUtils'))():arguments[6];this.$RelayStoreData1=null;this.$RelayStoreData2=u;this.$RelayStoreData3=v;this.$RelayStoreData4=new (c('RelayRecordStore'))({cachedRecords:u,records:x},{cachedRootCallMap:v,rootCallMap:y},z);this.$RelayStoreData5=new (c('GraphQLStoreChangeEmitter'))(aa);this.$RelayStoreData7=new (c('RelayMutationQueue'))(this);this.$RelayStoreData8=new (c('RelayNetworkLayer'))();this.$RelayStoreData9=z;this.$RelayStoreData10=new (c('RelayPendingQueryTracker'))(this);this.$RelayStoreData16=new (c('GraphQLQueryRunner'))(this);this.$RelayStoreData15=new (c('RelayQueryTracker'))();this.$RelayStoreData12=w;this.$RelayStoreData13=new (c('RelayRecordStore'))({cachedRecords:u,queuedRecords:w,records:x},{cachedRootCallMap:v,rootCallMap:y},z);this.$RelayStoreData11=x;this.$RelayStoreData14=new (c('RelayRecordStore'))({records:x},{rootCallMap:y},z);this.$RelayStoreData17=aa;this.$RelayStoreData18=y;this.$RelayStoreData19=new (c('RelayTaskQueue'))();}s.prototype.initializeGarbageCollector=function(u){!this.$RelayStoreData6||h(0);var v=this.$RelayStoreData20();c('warning')(v,'RelayStoreData: Garbage collection can only be initialized when no '+'data is present.');if(v)this.$RelayStoreData6=new (c('RelayGarbageCollector'))(this,u);};s.prototype.injectQueryTracker=function(u){this.$RelayStoreData15=u;};s.prototype.injectTaskScheduler=function(u){this.$RelayStoreData19.injectScheduler(u);};s.prototype.injectCacheManager=function(u){this.$RelayStoreData1=u;};s.prototype.clearCacheManager=function(){this.$RelayStoreData1=null;};s.prototype.hasCacheManager=function(){return !!this.$RelayStoreData1;};s.prototype.getCacheManager=function(){return this.$RelayStoreData1;};s.prototype.hasOptimisticUpdate=function(u){u=this.getRangeData().getCanonicalClientID(u);return this.getQueuedStore().hasOptimisticUpdate(u);};s.prototype.getClientMutationIDs=function(u){u=this.getRangeData().getCanonicalClientID(u);return this.getQueuedStore().getClientMutationIDs(u);};s.prototype.restoreQueriesFromCache=function(u,v){var w=this.$RelayStoreData1;w||h(0);var x=new (c('RelayChangeTracker'))(),y=c('RelayProfiler').profile('RelayStoreData.readFromDiskCache');return j(u,this.$RelayStoreData13,this.$RelayStoreData2,this.$RelayStoreData3,this.$RelayStoreData6,w,x,{onSuccess:function(){this.$RelayStoreData21(x.getChangeSet());y.stop();v.onSuccess&&v.onSuccess();}.bind(this),onFailure:function(){this.$RelayStoreData21(x.getChangeSet());y.stop();v.onFailure&&v.onFailure();}.bind(this)});};s.prototype.restoreFragmentFromCache=function(u,v,w,x){var y=this.$RelayStoreData1;y||h(0);var z=new (c('RelayChangeTracker'))(),aa=c('RelayProfiler').profile('RelayStoreData.readFragmentFromDiskCache');return i(u,v,w,this.$RelayStoreData13,this.$RelayStoreData2,this.$RelayStoreData3,this.$RelayStoreData6,y,z,{onSuccess:function(){this.$RelayStoreData21(z.getChangeSet());aa.stop();x.onSuccess&&x.onSuccess();}.bind(this),onFailure:function(){this.$RelayStoreData21(z.getChangeSet());aa.stop();x.onFailure&&x.onFailure();}.bind(this)});};s.prototype.handleQueryPayload=function(u,v,w){var x=c('RelayProfiler').profile('RelayStoreData.handleQueryPayload'),y=new (c('RelayChangeTracker'))(),z=new (c('RelayQueryWriter'))(this.$RelayStoreData13,this.getRecordWriter(),this.$RelayStoreData15,y,{forceIndex:w,updateTrackedQueries:true});c('writeRelayQueryPayload')(z,u,v);this.$RelayStoreData21(y.getChangeSet());x.stop();};s.prototype.handleFragmentPayload=function(u,v,w,x,y){var z=c('RelayProfiler').profile('RelayStoreData.handleFragmentPayload'),aa=new (c('RelayChangeTracker'))(),ba=new (c('RelayQueryWriter'))(this.$RelayStoreData13,this.getRecordWriter(),this.$RelayStoreData15,aa,{forceIndex:y,updateTrackedQueries:true});ba.createRecordIfMissing(v,u,w,x);ba.writePayload(v,u,x,w);this.$RelayStoreData21(aa.getChangeSet());z.stop();};s.prototype.handleUpdatePayload=function(u,v,w){var x=w.configs,y=w.isOptimisticUpdate,z=c('RelayProfiler').profile('RelayStoreData.handleUpdatePayload'),aa=new (c('RelayChangeTracker'))(),ba=void 0;if(y){var ca=v[k];typeof ca==='string'||h(0);ba=this.getRecordWriterForOptimisticMutation(ca);}else ba=this.$RelayStoreData22();var da=new (c('RelayQueryWriter'))(this.$RelayStoreData13,ba,this.$RelayStoreData15,aa,{forceIndex:c('generateForceIndex')(),isOptimisticUpdate:y,updateTrackedQueries:false});c('writeRelayUpdatePayload')(da,u,v,{configs:x,isOptimisticUpdate:y});this.$RelayStoreData21(aa.getChangeSet());z.stop();};s.prototype.buildFragmentQueryForDataID=function(u,v){if(c('RelayRecord').isClientID(v)){var w=this.$RelayStoreData13.getPathToRecord(this.$RelayStoreData17.getCanonicalClientID(v));w||h(0);return c('RelayQueryPath').getQuery(this.$RelayStoreData4,w,u);}return c('RelayQuery').Root.build(u.getDebugName()||'UnknownQuery',n,v,[q,r,u],{identifyingArgName:l,identifyingArgType:m,isAbstract:true,isDeferred:false,isPlural:false},o);};s.prototype.getNodeData=function(){return this.$RelayStoreData11;};s.prototype.getQueuedData=function(){return this.$RelayStoreData12;};s.prototype.clearQueuedData=function(){c('forEachObject')(this.$RelayStoreData12,function(u,v){delete this.$RelayStoreData12[v];this.$RelayStoreData5.broadcastChangeForID(v);}.bind(this));};s.prototype.getCachedData=function(){return this.$RelayStoreData2;};s.prototype.getGarbageCollector=function(){return this.$RelayStoreData6;};s.prototype.getMutationQueue=function(){return this.$RelayStoreData7;};s.prototype.getNetworkLayer=function(){return this.$RelayStoreData8;};s.prototype.getCachedStore=function(){return this.$RelayStoreData4;};s.prototype.getQueuedStore=function(){return this.$RelayStoreData13;};s.prototype.getRecordStore=function(){return this.$RelayStoreData14;};s.prototype.getRecordWriter=function(){return new (c('RelayRecordWriter'))(this.$RelayStoreData11,this.$RelayStoreData18,false,this.$RelayStoreData9,this.$RelayStoreData1?this.$RelayStoreData1.getQueryWriter():null);};s.prototype.getQueryTracker=function(){return this.$RelayStoreData15;};s.prototype.getQueryRunner=function(){return this.$RelayStoreData16;};s.prototype.getChangeEmitter=function(){return this.$RelayStoreData5;};s.prototype.getRangeData=function(){return this.$RelayStoreData17;};s.prototype.getPendingQueryTracker=function(){return this.$RelayStoreData10;};s.prototype.getTaskQueue=function(){return this.$RelayStoreData19;};s.prototype.getRootCallData=function(){return this.$RelayStoreData18;};s.prototype.$RelayStoreData20=function(){return (Object.keys(this.$RelayStoreData11).length===0&&Object.keys(this.$RelayStoreData12).length===0&&Object.keys(this.$RelayStoreData2).length===0);};s.prototype.$RelayStoreData21=function(u){var v=Object.keys(u.updated),w=Object.keys(u.created),x=this.$RelayStoreData6;v.forEach(function(y){return this.$RelayStoreData5.broadcastChangeForID(y);}.bind(this));w.forEach(function(y){x&&x.register(y);this.$RelayStoreData5.broadcastChangeForID(y);}.bind(this));};s.prototype.$RelayStoreData22=function(){return new (c('RelayRecordWriter'))(this.$RelayStoreData11,this.$RelayStoreData18,false,this.$RelayStoreData9,this.$RelayStoreData1?this.$RelayStoreData1.getMutationWriter():null);};s.prototype.getRecordWriterForOptimisticMutation=function(u){return new (c('RelayRecordWriter'))(this.$RelayStoreData12,this.$RelayStoreData18,true,this.$RelayStoreData9,null,u);};s.prototype.toJSON=function(){var u=function v(w){return c('mapObject')(w,function(x){var y=babelHelpers['extends']({},x);delete y[c('RelayRecord').MetadataKey.PATH];return y;});};return {cachedRecords:u(this.$RelayStoreData2),cachedRootCallMap:this.$RelayStoreData3,queuedRecords:u(this.$RelayStoreData12),records:u(this.$RelayStoreData11),rootCallMap:this.$RelayStoreData18,nodeRangeMap:this.$RelayStoreData9};};s.fromJSON=function(u){u||h(0);var v=u.cachedRecords,w=u.cachedRootCallMap,x=u.queuedRecords,y=u.records,z=u.rootCallMap,aa=u.nodeRangeMap;t(v);t(x);t(y);return new s(v,w,x,y,z,aa);};function t(u){for(var v in u){var w=u[v],x=w.__range__;if(x)w.__range__=c('GraphQLRange').fromJSON(x);}}c('RelayProfiler').instrumentMethods(s.prototype,{handleQueryPayload:'RelayStoreData.prototype.handleQueryPayload',handleUpdatePayload:'RelayStoreData.prototype.handleUpdatePayload'});f.exports=s;}),null);
__d('deepFreeze',[],(function a(b,c,d,e,f,g){'use strict';function h(i){Object.freeze(i);Object.getOwnPropertyNames(i).forEach(function(j){var k=i[j];if(k&&typeof k==='object'&&!Object.isFrozen(k))h(k);});return i;}f.exports=h;}),null);
__d('RelayEnvironment',['GraphQLStoreQueryResolver','RelayMetaRoute','RelayQuery','RelayQueryPath','RelayQueryRequest','RelayQueryResultObservable','RelayStoreData','deepFreeze','forEachRootCallArg','readRelayQueryData','recycleNodesInto','relayUnstableBatchedUpdates','warning'],(function a(b,c,d,e,f,g){'use strict';h.prototype.commitPayload=function(j,k){var l=c('RelayQuery').Fragment.create(j.node,c('RelayMetaRoute').get('$RelayEnvironment'),j.variables),m=c('RelayQueryPath').getRootRecordPath();this.$RelayEnvironment1.handleFragmentPayload(j.dataID,l,m,k,null);};h.prototype.$RelayEnvironment2=function(j){var k=c('RelayQuery').Fragment.create(j.node,c('RelayMetaRoute').get('$RelayEnvironment'),j.variables),l=c('readRelayQueryData')(this.$RelayEnvironment1,k,j.dataID),m=l.data,n=l.dataIDs;n[j.dataID]=true;return babelHelpers['extends']({},j,{data:m,seenRecords:n});};h.prototype.lookup=function(j){var k=this.$RelayEnvironment2(j);return k;};h.prototype.subscribe=function(j,k){var l=void 0,m=this.$RelayEnvironment1.getChangeEmitter(),n=function(){var o=this.$RelayEnvironment2(j);o.data=c('recycleNodesInto')(j.data,o.data);if(o.data===j.data)return;if(l)l.remove();l=m.addListenerForIDs(Object.keys(o.seenRecords),n);j=o;k(j);}.bind(this);l=m.addListenerForIDs(Object.keys(j.seenRecords),n);return {dispose:function o(){if(l){l.remove();l=null;}}};};h.prototype.sendQuery=function(j){var k=j.cacheConfig,l=j.onCompleted,m=j.onError,n=j.onNext,o=j.operation,p=false,q=function t(){p=true;},r=c('RelayQuery').OSSQuery.create(o.node,c('RelayMetaRoute').get('$RelayEnvironment'),o.variables),s=new (c('RelayQueryRequest'))(r);s.then(function(t){if(p)return;this.commitPayload(o.root,t);n&&n(o.root);l&&l();}.bind(this),function(t){if(p)return;m&&m(t);});this.$RelayEnvironment1.getNetworkLayer().sendQueries([s]);return {dispose:q};};h.prototype.sendQuerySubscription=function(j){return this.sendQuery(j);};function h(j){this.$RelayEnvironment1=j?j:new (c('RelayStoreData'))();this.$RelayEnvironment1.getChangeEmitter().injectBatchingStrategy(c('relayUnstableBatchedUpdates'));this.applyUpdate=this.applyUpdate.bind(this);this.commitUpdate=this.commitUpdate.bind(this);}h.prototype.getStoreData=function(){return this.$RelayEnvironment1;};h.prototype.injectDefaultNetworkLayer=function(j){this.$RelayEnvironment1.getNetworkLayer().injectDefaultImplementation(j);};h.prototype.injectNetworkLayer=function(j){this.$RelayEnvironment1.getNetworkLayer().injectImplementation(j);};h.prototype.injectQueryTracker=function(j){this.$RelayEnvironment1.injectQueryTracker(j);};h.prototype.addNetworkSubscriber=function(j,k){return this.$RelayEnvironment1.getNetworkLayer().addNetworkSubscriber(j,k);};h.prototype.injectTaskScheduler=function(j){this.$RelayEnvironment1.injectTaskScheduler(j);};h.prototype.injectCacheManager=function(j){this.$RelayEnvironment1.injectCacheManager(j);};h.prototype.primeCache=function(j,k){return this.$RelayEnvironment1.getQueryRunner().run(j,k);};h.prototype.forceFetch=function(j,k){return this.$RelayEnvironment1.getQueryRunner().forceFetch(j,k);};h.prototype.read=function(j,k,l){return c('readRelayQueryData')(this.$RelayEnvironment1,j,k,l).data;};h.prototype.readAll=function(j,k,l){return k.map(function(m){return c('readRelayQueryData')(this.$RelayEnvironment1,j,m,l).data;}.bind(this));};h.prototype.readQuery=function(j,k){var l=this.$RelayEnvironment1.getQueuedStore(),m=j.getStorageKey(),n=[];c('forEachRootCallArg')(j,function(o){var p=o.identifyingArgKey,q=void 0,r=l.getDataID(m,p);if(r!=null)q=this.read(j,r,k);n.push(q);}.bind(this));return n;};h.prototype.observe=function(j,k){return new (c('RelayQueryResultObservable'))(this.$RelayEnvironment1,j,k);};h.prototype.getFragmentResolver=function(j,k){return new (c('GraphQLStoreQueryResolver'))(this.$RelayEnvironment1,j,k);};h.prototype.applyUpdate=function(j,k){j.bindEnvironment(this);return this.$RelayEnvironment1.getMutationQueue().createTransaction(j,k).applyOptimistic();};h.prototype.commitUpdate=function(j,k){var l=this.applyUpdate(j,k),m=l.getStatus();setTimeout(function(){if(l.getStatus()!==m)return;l.commit();});return l;};h.prototype.update=function(j,k){c('warning')(false,'`Relay.Store.update` is deprecated. Please use'+' `Relay.Store.commitUpdate` or `Relay.Store.applyUpdate` instead.');this.commitUpdate(j,k);};function i(j){Object.freeze(j);if(j.data!=null)c('deepFreeze')(j.data);c('deepFreeze')(j.seenRecords);c('deepFreeze')(j.variables);return j;}f.exports=h;}),null);
__d('RelayGraphQLMutation',['invariant','QueryBuilder','RelayMetaRoute','RelayMutationTransactionStatus','RelayQuery','RelayConnectionInterface'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConnectionInterface').CLIENT_MUTATION_ID,j='RelayGraphQLMutation',k=0;l.create=function(o,p,q){return new l(o,p,null,q);};l.createWithFiles=function(o,p,q,r){return new l(o,p,q,r);};function l(o,p,q,r,s,t){this.$RelayGraphQLMutation5=o;this.$RelayGraphQLMutation7=p;this.$RelayGraphQLMutation4=q||null;this.$RelayGraphQLMutation3=r;this.$RelayGraphQLMutation1=s||null;this.$RelayGraphQLMutation2=t||j+':collisionKey:'+m();this.$RelayGraphQLMutation6=null;}l.prototype.applyOptimistic=function(o,p,q){!this.$RelayGraphQLMutation6||h(0);this.$RelayGraphQLMutation6=this.$RelayGraphQLMutation8(o,p);return this.$RelayGraphQLMutation6.applyOptimistic(q);};l.prototype.commit=function(o){if(!this.$RelayGraphQLMutation6)this.$RelayGraphQLMutation6=this.$RelayGraphQLMutation8();return this.$RelayGraphQLMutation6.commit(o);};l.prototype.rollback=function(){if(this.$RelayGraphQLMutation6)return this.$RelayGraphQLMutation6.rollback();};l.prototype.$RelayGraphQLMutation8=function(o,p){return new n(this.$RelayGraphQLMutation3,this.$RelayGraphQLMutation5,this.$RelayGraphQLMutation7,this.$RelayGraphQLMutation4,o,p,this.$RelayGraphQLMutation2,this.$RelayGraphQLMutation1);};function m(){return k++;}function n(o,p,q,r,s,t,u,v){this.$PendingGraphQLTransaction2=[];this.$PendingGraphQLTransaction9=p;this.$PendingGraphQLTransaction10=q;this.$PendingGraphQLTransaction7=s||null;this.$PendingGraphQLTransaction6=t||null;this.$PendingGraphQLTransaction1=u;this.onFailure=v&&v.onFailure;this.onSuccess=v&&v.onSuccess;this.status=c('RelayMutationTransactionStatus').CREATED;this.error=null;this.$PendingGraphQLTransaction4=null;this.$PendingGraphQLTransaction5=null;this.$PendingGraphQLTransaction8=null;this.mutationTransaction=o.getStoreData().getMutationQueue().createTransactionWithPendingTransaction(this);this.id=this.mutationTransaction.getID();}n.prototype.getCallName=function(){this.$PendingGraphQLTransaction4||h(0);return this.$PendingGraphQLTransaction4.getCall().name;};n.prototype.getCollisionKey=function(){return this.$PendingGraphQLTransaction1;};n.prototype.getConfigs=function(){return this.$PendingGraphQLTransaction2;};n.prototype.getFiles=function(){return this.$PendingGraphQLTransaction3;};n.prototype.getOptimisticConfigs=function(){return this.$PendingGraphQLTransaction5;};n.prototype.getOptimisticQuery=function(o){if(!this.$PendingGraphQLTransaction8&&this.$PendingGraphQLTransaction7){var p=c('QueryBuilder').getMutation(this.$PendingGraphQLTransaction7),q=c('RelayQuery').Mutation.create(p,c('RelayMetaRoute').get('$RelayGraphQLMutation'),this.$PendingGraphQLTransaction11());this.$PendingGraphQLTransaction8=q;}return this.$PendingGraphQLTransaction8;};n.prototype.getOptimisticResponse=function(){var o;return babelHelpers['extends']({},this.$PendingGraphQLTransaction6,(o={},o[i]=this.id,o));};n.prototype.getQuery=function(o){if(!this.$PendingGraphQLTransaction4){var p=c('QueryBuilder').getMutation(this.$PendingGraphQLTransaction9),q=c('RelayQuery').Mutation.create(p,c('RelayMetaRoute').get('$RelayGraphQLMutation'),this.$PendingGraphQLTransaction11());this.$PendingGraphQLTransaction4=q;}return this.$PendingGraphQLTransaction4;};n.prototype.commit=function(o){if(o)this.$PendingGraphQLTransaction2=o;return this.mutationTransaction.commit();};n.prototype.applyOptimistic=function(o){if(o)this.$PendingGraphQLTransaction5=o;return this.mutationTransaction.applyOptimistic();};n.prototype.rollback=function(){this.mutationTransaction.rollback();};n.prototype.$PendingGraphQLTransaction11=function(){var o,p=this.$PendingGraphQLTransaction10.input;if(!p)h(0);return babelHelpers['extends']({},this.$PendingGraphQLTransaction10,{input:babelHelpers['extends']({},p,(o={},o[i]=this.id,o))});};f.exports=l;}),null);
__d('RelayStore',['RelayEnvironment'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('RelayEnvironment'))();}),null);
__d('RelayInternals',['RelayStore','flattenRelayQuery','printRelayQuery'],(function a(b,c,d,e,f,g){'use strict';var h={NetworkLayer:c('RelayStore').getStoreData().getNetworkLayer(),DefaultStoreData:c('RelayStore').getStoreData(),flattenRelayQuery:c('flattenRelayQuery'),printRelayQuery:c('printRelayQuery')};f.exports=h;}),null);
__d('testEditDistance',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=i.length,m=j.length;if(m<l){var n=[l,m];m=n[0];l=n[1];var o=[i,j];j=o[0];i=o[1];}if(!l)return m<=k;var p=m,q=p*2+1,r=Array.from(Array(q),function(){return [];});for(var s=-p;s<0;s++){var t=-s-1;r[s+p][t+1]=-s-1;r[s+p][t]=-Infinity;}r[p][0]=-1;for(var u=1;u<=p;u++){var v=u-1;r[u+p][v+1]=-1;r[u+p][v]=-Infinity;}var w=m-l-1;do{if(w>k)return false;w++;for(var x=Math.floor((w-(m-l))/2);x>=1;x--)z(m-l+x,w-x);for(var y=Math.floor((m-l+w)/2);y>=1;y--)z(m-l-y,w-y);z(m-l,w);}while(r[m-l+p][w]!==l);return true;function z(aa,ba){var ca=r[aa+p][ba]+1,da=ca;if(i[ca-1]===j[aa+ca]&&i[ca]===j[aa+ca-1])da=ca+1;ca=Math.max(ca,r[aa-1+p][ba],r[aa+1+p][ba]+1,da);while(i[ca]===j[ca+aa]&&ca<Math.min(l,m-aa))ca++;r[aa+p][ba+1]=ca;}}f.exports=h;}),null);
__d('validateMutationConfig',['invariant','sprintf','testEditDistance','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i=3,j=Object.freeze({assert:c('warning'),message:'has deprecated property',type:'DEPRECATED'}),k=Object.freeze({assert:function n(){},message:'',type:'OPTIONAL'}),l={assert:h,message:'must have property',type:'REQUIRED'};function m(n,o){function p(q){Object.keys(n).forEach(function(r){if(r==='type')return;if(!q.hasOwnProperty(r)){var s=c('sprintf')('validateMutationConfig: Unexpected key `%s` in `%s` config '+'for `%s`',r,n.type,o),t=Object.keys(q).find(function(u){return c('testEditDistance')(u,r,i);});if(t){h(0);}else h(0);}});Object.keys(q).forEach(function(r){var s=q[r],t=s.type==='REQUIRED',u=s.type==='DEPRECATED',v=n.hasOwnProperty(r);if(t&&!v||u&&v)s.assert(false,'validateMutationConfig: `%s` config on `%s` %s `%s`.',n.type,o,s.message,r);});}switch(n.type){case 'FIELDS_CHANGE':p({fieldIDs:l});break;case 'RANGE_ADD':p({connectionName:l,edgeName:l,parentID:k,parentName:k,rangeBehaviors:l});break;case 'NODE_DELETE':p({connectionName:l,deletedIDFieldName:l,parentID:k,parentName:l});break;case 'RANGE_DELETE':p({connectionName:l,deletedIDFieldName:l,parentID:k,parentName:l,pathToConnection:l});break;case 'REQUIRED_CHILDREN':p({children:l});break;default:h(0);}}f.exports=m;}),null);
__d('RelayMutation',['invariant','RelayFragmentPointer','RelayFragmentReference','RelayMetaRoute','RelayQuery','RelayRecord','buildRQL','forEachObject','validateMutationConfig','warning'],(function a(b,c,d,e,f,g,h){'use strict';function i(k){this.$RelayMutation2=false;this.$RelayMutation3=false;this.$RelayMutation4=k;}i.prototype.bindEnvironment=function(k){if(!this.$RelayMutation1){this.$RelayMutation1=k;this.$RelayMutation5();}else k===this.$RelayMutation1||h(0);};i.prototype.getMutation=function(){h(0);};i.prototype.getFatQuery=function(){h(0);};i.prototype.getConfigs=function(){h(0);};i.prototype.getVariables=function(){h(0);};i.prototype.getFiles=function(){return null;};i.prototype.getOptimisticResponse=function(){return null;};i.prototype.getOptimisticConfigs=function(){return null;};i.prototype.getCollisionKey=function(){return null;};i.prototype.$RelayMutation5=function(){var k=this.constructor.fragments,l=this.constructor.initialVariables||{},m=this.$RelayMutation4,n=babelHelpers['extends']({},m);c('forEachObject')(k,function(o,p){var q=m[p];c('warning')(q!==undefined,'RelayMutation: Expected data for fragment `%s` to be supplied to '+'`%s` as a prop. Pass an explicit `null` if this is intentional.',p,this.constructor.name);if(q==null)return;if(typeof q!=='object'){c('warning')(false,'RelayMutation: Expected data for fragment `%s` supplied to `%s` '+'to be an object.',p,this.constructor.name);return;}var r=c('RelayQuery').Fragment.create(j(this.constructor.name,p,o,l),c('RelayMetaRoute').get('$RelayMutation_'+this.constructor.name),l);if(r.isPlural()){Array.isArray(q)||h(0);var s=q.map(function(u,v){typeof u==='object'&&u!=null||h(0);var w=c('RelayRecord').getDataIDForObject(u);w||h(0);return w;}.bind(this));n[p]=s.map(function(u){return this.$RelayMutation1.read(r,u);}.bind(this));}else{!Array.isArray(q)||h(0);var t=c('RelayRecord').getDataIDForObject(q);if(t)n[p]=this.$RelayMutation1.read(r,t);}}.bind(this));this.props=n;if(!this.$RelayMutation3){this.getConfigs().forEach(function(o){return c('validateMutationConfig')(o,this.constructor.name);}.bind(this));this.$RelayMutation3=true;}};i.getFragment=function(k,l){var m=this.fragments,n=m[k];if(!n)h(0);var o=this.initialVariables||{},p=this.prepareVariables;return c('RelayFragmentReference').createForContainer(function(){return j(this.name,k,n,o);}.bind(this),o,l,p);};function j(k,l,m,n){var o=c('buildRQL').Fragment(m,n);o||h(0);return o;}f.exports=i;}),null);
__d('RelayQL',['invariant','QueryBuilder','RelayFragmentReference','RelayRouteFragment','generateConcreteFragmentID'],(function a(b,c,d,e,f,g,h){'use strict';function i(k){h(0);}function j(k){k instanceof c('RelayFragmentReference')||c('QueryBuilder').getFragment(k)||c('QueryBuilder').getFragmentReference(k)||c('QueryBuilder').getFragmentSpread(k)||h(0);}Object.assign(i,{__frag:function k(l){if(typeof l==='function')return new (c('RelayRouteFragment'))(l);if(l!=null)if(Array.isArray(l)){l.forEach(j);}else j(l);return l;},__var:function k(l){var m=c('QueryBuilder').getCallVariable(l);if(m)h(0);return c('QueryBuilder').createCallValue(l);},__id:function k(){return c('generateConcreteFragmentID')();},__createFragment:function k(l,m){return new (c('RelayFragmentReference'))(function(){return l;},null,m);}});f.exports=i;}),null);
__d('RelayQueryConfig',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){this.constructor!==i||h(0);Object.defineProperty(this,'name',{enumerable:true,value:this.constructor.routeName});Object.defineProperty(this,'params',{enumerable:true,value:this.prepareVariables(babelHelpers['extends']({},j))||{}});Object.defineProperty(this,'queries',{enumerable:true,value:babelHelpers['extends']({},this.constructor.queries)});}i.prototype.prepareVariables=function(j){return j;};f.exports=i;}),null);
__d('StaticContainer.react',['React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.shouldComponentUpdate=function(k){'use strict';return !!k.shouldUpdate;};j.prototype.render=function(){'use strict';var k=this.props.children;if(k===null||k===false)return null;return c('React').Children.only(k);};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('getRelayQueries',['invariant','Map','RelayMetaRoute','RelayProfiler','RelayQuery','RelayQueryCaching','buildRQL','stableStringify','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i=new (c('Map'))();function j(l,m){var n=c('RelayQueryCaching').getEnabled();if(!n)return k(l,m);var o=i.get(l);if(!o){o={};i.set(l,o);}var p=m.name+':'+c('stableStringify')(m.params);if(o.hasOwnProperty(p))return o[p];var q=k(l,m);o[p]=q;return q;}function k(l,m){var n={};l.getFragmentNames().forEach(function(o){n[o]=null;});Object.keys(m.queries).forEach(function(o){if(!l.hasFragment(o)){c('warning')(false,'Relay.QL: query `%s.queries.%s` is invalid, expected fragment '+'`%s.fragments.%s` to be defined.',m.name,o,l.displayName,o);return;}var p=m.queries[o];if(p){var q=c('buildRQL').Query(p,l,o,m.params);q!==undefined||h(0);if(q){var r=c('RelayQuery').Root.create(q,c('RelayMetaRoute').get(m.name),m.params),s=r.getIdentifyingArg();if(!s||s.value!==undefined){n[o]=r;return;}}}n[o]=null;});return n;}f.exports=c('RelayProfiler').instrument('Relay.getQueries',j);}),null);
__d('RelayReadyStateRenderer',['React','RelayFragmentPointer','RelayPropTypes','StaticContainer.react','getRelayQueries','mapObject'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(m,n){i.constructor.call(this,m,n);this.state={getContainerProps:k()};}j.prototype.getChildContext=function(){return {relay:this.props.environment,route:this.props.queryConfig};};j.prototype.shouldComponentUpdate=function(m){var n=this.props;if(n.Container!==m.Container||n.environment!==m.environment||n.queryConfig!==m.queryConfig||n.render!==m.render||n.retry!==m.retry)return true;var o=n.readyState,p=m.readyState;if(o==null||p==null)return true;if(o.aborted!==p.aborted||o.done!==p.done||o.error!==p.error||o.ready!==p.ready||o.stale!==p.stale)return true;return p.ready;};j.prototype.render=function(){var m=void 0,n=false,o=this.props,p=o.readyState,q=o.render;if(p){if(q){m=q({done:p.done,error:p.error,events:p.events,props:p.ready?this.state.getContainerProps(this.props):null,retry:this.props.retry,stale:p.stale});}else if(p.ready){var r=this.props.Container;m=c('React').createElement(r,this.state.getContainerProps(this.props));}n=true;}if(m===undefined){m=null;n=false;}return (c('React').createElement(c('StaticContainer.react'),{shouldUpdate:n},m));};j.childContextTypes={relay:c('RelayPropTypes').Environment,route:c('RelayPropTypes').QueryConfig.isRequired};function k(){var m=void 0,n=void 0;return function(o){if(!n||!m||m.Container!==o.Container||m.queryConfig!==o.queryConfig)n=c('getRelayQueries')(o.Container,o.queryConfig);var p=babelHelpers['extends']({},o.queryConfig.params,c('mapObject')(n,function(q){return l(o.environment,q);}));m=o;return p;};}function l(m,n){return n?c('RelayFragmentPointer').createForRoot(m.getStoreData().getQueuedStore(),n):null;}f.exports=j;}),null);
__d('RelayRenderer',['React','RelayPropTypes','RelayReadyStateRenderer','getRelayQueries'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k={aborted:false,done:false,error:null,events:[],ready:false,stale:false};h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(m,n){i.constructor.call(this,m,n);var o=this.props.environment.getStoreData().getGarbageCollector();this.gcHold=o&&o.acquireHold();this.mounted=true;this.pendingRequest=null;this.state={active:false,readyState:null,retry:this.$RelayRenderer1.bind(this)};}l.prototype.componentDidMount=function(){this.$RelayRenderer2(this.props);};l.prototype.$RelayRenderer2=function(m){var n=m.Container,o=m.forceFetch,p=m.onForceFetch,q=m.onPrimeCache,r=m.queryConfig,s=m.environment,t=m.shouldFetch;if(!t)return;var u=function(x){if(!this.mounted){this.$RelayRenderer3(babelHelpers['extends']({},x,{mounted:false}));return;}if(w!==this.lastRequest)return;if(x.aborted||x.done||x.error)this.pendingRequest=null;this.setState({active:true,readyState:babelHelpers['extends']({},x,{mounted:true})});}.bind(this);if(this.pendingRequest)this.pendingRequest.abort();var v=c('getRelayQueries')(n,r),w=this.pendingRequest=o?p?p(v,u):s.forceFetch(v,u):q?q(v,u):s.primeCache(v,u);this.lastRequest=w;};l.prototype.$RelayRenderer1=function(){var m=this.state.readyState;if(m&&m.error){this.$RelayRenderer2(this.props);this.setState({readyState:null});}};l.prototype.componentWillReceiveProps=function(m){if(m.Container!==this.props.Container||m.environment!==this.props.environment||m.queryConfig!==this.props.queryConfig||m.shouldFetch!==this.props.shouldFetch||m.forceFetch&&!this.props.forceFetch){if(m.environment!==this.props.environment){if(this.gcHold)this.gcHold.release();var n=m.environment.getStoreData().getGarbageCollector();this.gcHold=n&&n.acquireHold();}this.$RelayRenderer2(m);this.setState({readyState:null});}};l.prototype.componentDidUpdate=function(m,n){var o=this.state.readyState;if(o)if(!n||o!==n.readyState)this.$RelayRenderer3(o);};l.prototype.$RelayRenderer3=function(m){var n=this.props.onReadyStateChange;if(n)n(m);};l.prototype.componentWillUnmount=function(){if(this.pendingRequest)this.pendingRequest.abort();if(this.gcHold)this.gcHold.release();this.gcHold=null;this.mounted=false;};l.prototype.render=function(){var m=this.state.active?this.state.readyState:k;return (c('React').createElement(c('RelayReadyStateRenderer'),{Container:this.props.Container,environment:this.props.environment,queryConfig:this.props.queryConfig,readyState:m,render:this.props.render,retry:this.state.retry}));};l.propTypes={Container:c('RelayPropTypes').Container,forceFetch:j.bool,onReadyStateChange:j.func,queryConfig:c('RelayPropTypes').QueryConfig.isRequired,environment:c('RelayPropTypes').Environment,render:j.func,shouldFetch:j.bool};l.defaultProps={shouldFetch:true};f.exports=l;}),null);
__d('RelayRootContainer',['React','RelayPropTypes','RelayRenderer','RelayStore'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes;function i(j){var k=j.Component,l=j.forceFetch,m=j.onReadyStateChange,n=j.renderFailure,o=j.renderFetched,p=j.renderLoading,q=j.route,r=j.shouldFetch;return (c('React').createElement(c('RelayRenderer'),{Container:k,forceFetch:l,onReadyStateChange:m,queryConfig:q,environment:c('RelayStore'),shouldFetch:r,render:function s(t){var u=t.done,v=t.error,w=t.props,x=t.retry,y=t.stale;if(v){if(n)return n(v,x);}else if(w){if(o){return o(w,{done:u,stale:y});}else return c('React').createElement(k,w);}else if(p)return p();return undefined;}}));}i.propTypes={Component:c('RelayPropTypes').Container,forceFetch:h.bool,onReadyStateChange:h.func,renderFailure:h.func,renderFetched:h.func,renderLoading:h.func,route:c('RelayPropTypes').QueryConfig.isRequired,shouldFetch:h.bool};f.exports=i;}),null);
__d('RelayRoute',['invariant','RelayQueryConfig','forEachObject'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=function m(){return null;};i=babelHelpers.inherits(l,c('RelayQueryConfig'));j=i&&i.prototype;function l(m,n){j.constructor.call(this,m);var o=this.constructor,p=o.routeName,q=o.path;o!==l||h(0);p||h(0);Object.defineProperty(this,'uri',{enumerable:true,get:function r(){if(!n&&q)n=k(o,this.params);return n;}});}l.prototype.prepareVariables=function(m){var n=this.constructor,o=n.paramDefinitions,p=n.prepareParams,q=n.routeName,r=m;if(p)r=p(r);c('forEachObject')(o,function(s,t){if(r)if(r.hasOwnProperty(t)){return;}else r[t]=undefined;!s.required||h(0);});return r;};l.injectURICreator=function(m){k=m;};f.exports=l;}),null);
__d('createRelayQuery',['invariant','RelayMetaRoute','RelayQuery'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){typeof k==='object'&&k!=null&&!Array.isArray(k)||h(0);return c('RelayQuery').Root.create(j,c('RelayMetaRoute').get('$createRelayQuery'),k);}f.exports=i;}),null);
__d('RelayPublic',['RelayContainer','RelayEnvironment','RelayGraphQLMutation','RelayInternals','RelayMutation','RelayPropTypes','RelayQL','RelayQueryCaching','RelayQueryConfig','RelayReadyStateRenderer','RelayRenderer','RelayRootContainer','RelayRoute','RelayStore','createRelayQuery','getRelayQueries','isRelayContainer'],(function a(b,c,d,e,f,g){'use strict';if(typeof b.__REACT_DEVTOOLS_GLOBAL_HOOK__!=='undefined')b.__REACT_DEVTOOLS_GLOBAL_HOOK__._relayInternals=c('RelayInternals');var h={Environment:c('RelayEnvironment'),GraphQLMutation:c('RelayGraphQLMutation'),Mutation:c('RelayMutation'),PropTypes:c('RelayPropTypes'),QL:c('RelayQL'),QueryConfig:c('RelayQueryConfig'),ReadyStateRenderer:c('RelayReadyStateRenderer'),Renderer:c('RelayRenderer'),RootContainer:c('RelayRootContainer'),Route:c('RelayRoute'),Store:c('RelayStore'),createContainer:c('RelayContainer').create,createQuery:c('createRelayQuery'),getQueries:c('getRelayQueries'),disableQueryCaching:c('RelayQueryCaching').disable,injectNetworkLayer:c('RelayStore').injectNetworkLayer.bind(c('RelayStore')),injectTaskScheduler:c('RelayStore').injectTaskScheduler.bind(c('RelayStore')),isContainer:c('isRelayContainer')};f.exports=h;}),null);
__d('RelayNetworkDebug',['RelayPublic','performanceNow','xhrSimpleDataSerializer'],(function a(b,c,d,e,f,g){'use strict';function h(n,o){this.$RelayNetworkDebugger1=c('performanceNow')();this.$RelayNetworkDebugger2=0;this.$RelayNetworkDebugger3=n.addNetworkSubscriber(function(p){return this.logRequest(i('Relay Query',p,o));}.bind(this),function(p){return this.logRequest(i('Relay Mutation',p,o));}.bind(this));}h.prototype.uninstall=function(){this.$RelayNetworkDebugger3.remove();};h.prototype.logRequest=function(n){var o=n.name,p=n.type,q=n.promise,r=n.logResult,s=this.$RelayNetworkDebugger2++,t='['+s+'] Request Duration';console.timeStamp&&console.timeStamp('START: ['+s+'] '+p+': '+o+' \u2192');console.time&&console.time(t);var u=function(v,w){var x=(c('performanceNow')()-this.$RelayNetworkDebugger1)/1000;console.timeStamp&&console.timeStamp('\u2190 END: ['+s+'] '+p+': '+o);var y='%c['+s+'] '+p+': '+o+' @ '+x+'s';console.groupCollapsed(y,'color:'+(v?'red':'black')+';');console.timeEnd&&console.timeEnd(t);r(v,w);console.groupEnd();}.bind(this);q.then(function(v){return u(null,v);},function(v){return u(v,null);});};function i(n,o,p){return {name:o.getDebugName(),type:n,promise:o.getPromise(),logResult:function q(r,s){var t=k(c('xhrSimpleDataSerializer')({q:o.getQueryString(),query_params:o.getVariables()}).length),u=o.getVariables();console.groupCollapsed('Request Query (Estimated Size: %s)',t);if(p){console.groupCollapsed('GraphiQL Link');console.groupEnd();}console.groupCollapsed('Query Text');console.groupEnd();console.groupEnd();Object.keys(u).length>0;r&&false;s&&false;}};}var j=['B','KB','MB','GB','TB','PB','EB','ZB','YB'];function k(n){var o=n<0?-1:1;n=Math.abs(n);var p=0;while(n>=Math.pow(1024,p+1)&&p<j.length)p++;var q=o*n*1/Math.pow(1024,p);return Number(q.toFixed(2))+j[p];}var l=void 0,m={init:function n(){var o=arguments.length<=0||arguments[0]===undefined?c('RelayPublic').Store:arguments[0],p=arguments[1];l&&l.uninstall();if(console.groupCollapsed)l=new h(o,p);},logRequest:function n(o){l&&l.logRequest(o);}};f.exports=m;}),null);
__d('RelayRouteRegExps',[],(function a(b,c,d,e,f,g){'use strict';var h={PATH_COMPONENT:/^[^\/{}]+$/,COMPONENT_VALUE:{Float:'-?(?:\\.\\d+|\\d+(?:\\.\\d+)?)',Int:'-?\\d+',Path:'.+?',String:'[^/]+'}};f.exports=h;}),null);
__d('compareRouteExpressions',[],(function a(b,c,d,e,f,g){'use strict';function h(k,l){k=i(k);l=i(l);for(var m=0;m<Math.min(k.length,l.length);m++){var n=k[m],o=l[m],p=j(n)-j(o);if(p)return p;var q=n.toLowerCase(),r=o.toLowerCase();if(q!==r)return q<r?-1:1;if(n!==o)return n<o?-1:1;}return k.length-l.length;}function i(k){var l=[];for(var m=0,n=0,o=0;m<k.length;m++)switch(k.charAt(m)){case '/':if(!o){if(m-n>0)l.push(k.slice(n,m));if(k.charAt(m+1)==='?')m++;n=m+1;}break;case '(':if(!o++){if(m-n>0)l.push(k.slice(n,m));n=m;}break;case ')':if(!--o){if(k.charAt(m+1)==='?')m++;l.push(k.slice(n,m+1));n=m+1;}break;}return l;}function j(k){if(k==='<<vanity>>')return 3;k=k.replace(/\\\./,'x');if(/[.+*?\[\](){}=!|:]/.test(k)){if(k.indexOf('\\d')!==-1){return 1;}else return 2;}else return 0;}f.exports=h;}),null);
__d('escapeRegex',[],(function a(b,c,d,e,f,g){function h(i){return i.replace(/([.?*+\^$\[\]\\(){}|\-])/g,'\\$1');}f.exports=h;}),null);
__d('RelayRouter',['invariant','Map','RelayRouteRegExps','compareRouteExpressions','escapeRegex','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i=[],j=new (c('Map'))(),k={addRoute:function q(r){if(!j.has(r)){m(r);o(r);var s=l(r,0,i.length);if(i[s]!==r)i.splice(s,0,r);}},getRoute:function q(r){var s=r.getDomain(),t=window.location&&window.location.hostname;if(s&&t&&s!==t)return null;for(var u=0;u<i.length;u++){var v=i[u],w=n(o(v),r);if(w)return new v(w,r);}return null;},createRouteFromURI:function q(r,s){k.addRoute(r);return new r(n(o(r),s),s);}};function l(q,r,s){var t=p(q),u=s-r;if(u===0)return r;var v=r+Math.floor(u/2);if(c('compareRouteExpressions')(t,p(i[v]))<=0){return l(q,r,v);}else return l(q,v+1,s);}function m(q){var r=q.path;r!=null||h(0);r.charAt(0)==='/'||h(0);r==='/'||r.charAt(r.length-1)!=='/'||h(0);}function n(q,r){var s=q.regex,t=q.captureNames,u=r.getPath(),v=s.exec(u);if(!v)return null;var w=babelHelpers['extends']({},r.getQueryData());for(var x=1;x<v.length;x++)w[t[x-1]]=v[x];return w;}function o(q){var r;if(!j.has(q))(function(){var s=[],t=q.path||'',u='';if(t==='/'){u='^/$';}else{var v=t.slice(1).split('/').map(function(w){if(c('RelayRouteRegExps').PATH_COMPONENT.test(w))return '/'+c('escapeRegex')(w);var x=w.charAt(1)==='?',y=w.slice(x?2:1,-1),z=c('nullthrows')(q.paramDefinitions)[y],aa='('+c('RelayRouteRegExps').COMPONENT_VALUE[z.type]+')';s.push(y);return x?'(?:/'+aa+')?':'/'+aa;});u='^'+v.join('')+'/?$';}j.set(q,{regex:new RegExp(u),regexString:u,captureNames:s});})();return j.get(q);}function p(q){return o(q).regexString;}f.exports=k;}),null);
__d('getURIBuilder',['RelayRouter','XControllerURIBuilder'],(function a(b,c,d,e,f,g){'use strict';function h(i){c('RelayRouter').addRoute(i);return new (c('XControllerURIBuilder'))(i.path||'',i.paramDefinitions);}f.exports=h;}),null);
__d('createRelayRouteURI',['invariant','getURIBuilder'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){var l,m=c('getURIBuilder')(j);if(j.paramDefinitions)(function(){var n=j.paramDefinitions;Object.keys(n).forEach(function(o){var p=k[o],q=n[o];if(q&&p!=null)switch(q.type){case 'Float':m.setFloat(o,p);break;case 'Int':m.setInt(o,p);break;case 'String':m.setString(o,p);break;case 'FBID':m.setFBID(o,p);break;case 'StringVector':m.setStringVector(o,p);break;case 'IntVector':m.setIntVector(o,p);break;case 'FBIDVector':m.setFBIDVector(o,p);break;case 'FloatVector':m.setFloatVector(o,p);break;case 'IntSet':m.setIntSet(o,p);break;case 'FBIDSet':m.setFBIDSet(o,p);break;case 'StringSet':m.setStringSet(o,p);break;case 'FloatSet':m.setFloatSet(o,p);break;case 'StringToStringMap':m.setStringToStringMap(o,p);break;case 'Exists':m.setExists(o,p);break;default:h(0);}});})();return m.getURI();}f.exports=i;}),null);
__d('Relay',['RelayPublic','RelayGraphQLBatchNetworkLayer','createRelayRouteURI','RelayNetworkDebug'],(function a(b,c,d,e,f,g){'use strict';c('RelayPublic').injectNetworkLayer(new (c('RelayGraphQLBatchNetworkLayer'))());c('RelayPublic').Route.injectURICreator(c('createRelayRouteURI'));f.exports=babelHelpers['extends']({},c('RelayPublic'),{DefaultNetworkLayer:c('RelayGraphQLBatchNetworkLayer')});}),null);
__d('MessengerPhotoInfoDialog.react',['cx','fbt','MessengerEnvironment','MessengerContactImage.react','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerActions','MessengerSpinner.react','MercuryIDs','MercuryTimestamp','MercuryParticipants','React','Relay','RelayQL','XUIDialog.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=54;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerPhotoInfoDialog6=function(){var t=this.props.fullMedia.exif_data,u='';if(t){if(t.aperture)u=t.aperture+' ';if(t.focal_length){var v=t.focal_length.split('/'),w=parseInt(v[0],10)/(parseInt(v[1],10)||1);u+=w+'mm ';}if(t.iso)u+='ISO '+t.iso;}if(!u.length)return null;return (c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("Appareil photo")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},t.model||'Camera'),c('React').createElement('div',{className:"_2zn6"},u))));}.bind(this),this.$MessengerPhotoInfoDialog5=function(){var t=this.props.fullMedia,u='';if(t.filesize>1e+06){u=(t.filesize/1e+06).toFixed(2)+'MB';}else if(t.filesize>1000){u=(t.filesize/1000).toFixed(2)+'KB';}else if(t.filesize>0)u=t.filesize+'B';var v=t.__typename==='MessageImage'?(t.original_dimensions.x*t.original_dimensions.y/1e+06).toFixed(2)+'MP':'';return (c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("D\u00e9tails")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},t.filename),c('React').createElement('div',{className:"_2zn6"},v+' '+t.original_dimensions.x+' x '+t.original_dimensions.y+' '+u))));}.bind(this),this.$MessengerPhotoInfoDialog4=function(event){event.preventDefault();this.props.showHeader&&this.props.showHeader();c('MessengerActions').hideDialog();}.bind(this),this.$MessengerPhotoInfoDialog3=function(t){if(!t){this.props.showHeader&&this.props.showHeader();this.props.closeInfo();}}.bind(this),p;}n.prototype.render=function(){if(!this.props.fullMedia)return null;return c('MessengerEnvironment').messengerui?this.$MessengerPhotoInfoDialog1():this.$MessengerPhotoInfoDialog2();};n.prototype.$MessengerPhotoInfoDialog1=function(){var o=this.props.fullMedia;return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerPhotoInfoDialog3,ref:'dialog',type:'default',width:504},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Infos")),c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',label:i._("Termin\u00e9"),onClick:this.$MessengerPhotoInfoDialog4,type:'primary'})),c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("T\u00e9l\u00e9charg\u00e9e par")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},o.creator.name),c('React').createElement('div',{className:"_2zn6"},c('MercuryTimestamp').getPreciseTimestamp(o.creation_time*1000))),c('React').createElement('div',{className:"_2zn7"},this.showProfilePic())),this.$MessengerPhotoInfoDialog5(),this.$MessengerPhotoInfoDialog6());};n.prototype.$MessengerPhotoInfoDialog2=function(){var o=this.props.fullMedia;return c('React').createElement(c('XUIDialog.react'),{onToggle:this.$MessengerPhotoInfoDialog3,shown:this.props.infoOpen,ref:'dialog',type:'serif',width:504},c('React').createElement(c('XUIDialogHeader.react'),null,c('React').createElement(c('XUIDialogHeaderTitle.react'),null,i._("Infos"))),c('React').createElement('div',{className:"_2zn1"},c('React').createElement('div',{className:"_2zn2"},i._("T\u00e9l\u00e9charg\u00e9e par")),c('React').createElement('div',{className:"_2zn4"},c('React').createElement('div',{className:"_2zn5"},o.creator.name),c('React').createElement('div',{className:"_2zn6"},c('MercuryTimestamp').getPreciseTimestamp(o.creation_time*1000))),c('React').createElement('div',{className:"_2zn7"},this.showProfilePic())),this.$MessengerPhotoInfoDialog5(),this.$MessengerPhotoInfoDialog6());};n.prototype.showProfilePic=function(){var o=this.props.fullMedia;if(!o){return c('React').createElement(c('MessengerSpinner.react'),null);}else{var p=c('MercuryIDs').getParticipantIDFromUserID(o.creator.id),q=c('MercuryParticipants').getNow(p);if(q)return (c('React').createElement(c('MessengerContactImage.react'),{isMessengerUser:q.is_messenger_user,size:m,src:q.big_image_src||q.image_src}));return c('React').createElement(c('MessengerSpinner.react'),null);}};n.propTypes={closeInfo:l.func,fullMedia:l.object,infoOpen:l.bool,photoID:l.string,showHeader:l.func};f.exports=c('Relay').createContainer(n,{fragments:{fullMedia:function o(p){return function(){return {children:[{fieldName:'__typename',kind:'Field',metadata:{isRequisite:true},type:'String'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{children:[{fieldName:'creation_time',kind:'Field',metadata:{},type:'Time'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'creator',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'filename',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'filesize',kind:'Field',metadata:{},type:'Int'},{children:[{fieldName:'iso',kind:'Field',metadata:{},type:'Int'},{fieldName:'aperture',kind:'Field',metadata:{},type:'String'},{fieldName:'focal_length',kind:'Field',metadata:{},type:'String'},{fieldName:'model',kind:'Field',metadata:{},type:'String'}],fieldName:'exif_data',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageImageExifData'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageImage',type:'MessageImage'},{children:[{fieldName:'creation_time',kind:'Field',metadata:{},type:'Time'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'creator',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'filename',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageVideo',type:'MessageVideo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'MessengerPhotoInfoDialog_react_FullMediaRelayQL',type:'Node'};}();}}});}),null);
__d('SpotlightMessagesViewerContainerRoute',['RelayRoute','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='SpotlightMessagesViewerContainerRoute';j.paramDefinition={photoID:{type:'String',required:true}};j.queries={fullMedia:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'photoID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(m)]),fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'SpotlightMessagesViewerContainerRoute',type:'Node'};}(l.getFragment('fullMedia'));}};f.exports=j;}),null);
__d('MessengerPhotoInfoDialogContainer.react',['MessengerPhotoInfoDialog.react','RelayRootContainer','SpotlightMessagesViewerContainerRoute','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerPhotoInfoDialogContainer',proptypes:{photoID:h.string.isRequired,showHeader:h.func},render:function j(){var k=new (c('SpotlightMessagesViewerContainerRoute'))({photoID:this.props.photoID});return (c('React').createElement(c('RelayRootContainer'),{Component:c('MessengerPhotoInfoDialog.react'),route:k,renderFetched:function(l){return (c('React').createElement(c('MessengerPhotoInfoDialog.react'),babelHelpers['extends']({},l,{closeInfo:this.props.closeInfo,photoID:this.props.photoID,infoOpen:this.props.infoOpen,showHeader:this.props.showHeader})));}.bind(this)}));}});f.exports=i;}),null);
__d('ActorURI',['ActorURIConfig','URI'],(function a(b,c,d,e,f,g){var h={create:function i(j,k){return new (c('URI'))(j).addQueryData(c('ActorURIConfig').PARAMETER_ACTOR,k);}};h.PARAMETER_ACTOR=c('ActorURIConfig').PARAMETER_ACTOR;f.exports=h;}),null);
__d("XMessagingVideoAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/video\/",{video_id:{type:"String",required:true},video_container_id:{type:"String",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true},start_muted:{type:"Bool",defaultValue:false},no_autoplay:{type:"Bool",defaultValue:false},no_fullscreen:{type:"Bool",defaultValue:false},load_player_controller:{type:"Bool",defaultValue:false},hide_controls_on_finish:{type:"Bool",defaultValue:false},is_share:{type:"Bool",defaultValue:false},render_play_button:{type:"Bool",defaultValue:false}});}),null);
__d('MessengerVideoPlayer.react',['cx','ActorURI','AsyncRequest','BackgroundImage.react','Event','FullScreen','MessengerSpinner.react','React','VideoPlayerReason','VideoPlayerStates','Vector','XMessagingVideoAttachmentController','SpotlightMercurySharedMediaViewer.react','SubscriptionsHandler','getFullScreenElement','guid','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l="_ox1";i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$MessengerVideoPlayer2=false;this.$MessengerVideoPlayer3=[];this.$MessengerVideoPlayer4=-1;this.$MessengerVideoPlayer5=false;this.$MessengerVideoPlayer9=function(o){if(!this.props.onClick||!this.isVideoClicked(o))return;o.preventDefault();this.pause();this.props.onClick&&this.props.onClick();}.bind(this);this.$MessengerVideoPlayer10=function(o){if(!this.isRightClick(o))return;o.stopPropagation();o.preventDefault();c('setImmediate')(function(){this.props.onSelect&&this.props.onSelect();}.bind(this));}.bind(this);this.$MessengerVideoPlayer7=function(){if(this.$MessengerVideoPlayer2){this.play();this.$MessengerVideoPlayer2=false;}}.bind(this);this.$MessengerVideoPlayer6=function(){this.$MessengerVideoPlayer2=!!this.state.playerAPI&&this.state.playerAPI.isState(c('VideoPlayerStates').PLAYING);this.pause();}.bind(this);this.state={playerAPI:null};this.$MessengerVideoPlayer1=c('guid')();if(this.props.isInThread){this.listeners=new (c('SubscriptionsHandler'))();this.listeners.addSubscriptions(c('Event').listen(window,'blur',this.$MessengerVideoPlayer6),c('Event').listen(window,'focus',this.$MessengerVideoPlayer7));}}m.prototype.shouldComponentUpdate=function(n){var o=document.getElementById(this.$MessengerVideoPlayer1.toString()),p=c('FullScreen').isFullScreen();if(o!=null&&p&&o.children[0].children[0]===c('getFullScreenElement')())return false;var q=!!(n.stageDimensions&&n.stageDimensions!==this.props.stageDimensions);if(q){this.$MessengerVideoPlayer4=this.getCurrentTimePosition();this.$MessengerVideoPlayer5=!this.isState(c('VideoPlayerStates').PLAYING);}return !this.props.videoData||n.videoData.id!==this.props.videoData.id||q;};m.prototype.componentWillReceiveProps=function(n){if(this.props.isInThread&&n.isVisible!==this.props.isVisible)n.isVisible?this.play():this.pause();};m.prototype.componentDidMount=function(){if(this.props.videoData)this.$MessengerVideoPlayer8();};m.prototype.componentDidUpdate=function(){this.$MessengerVideoPlayer3.forEach(function(n){return n.abandon();});this.$MessengerVideoPlayer3=[];if(this.props.videoData)this.$MessengerVideoPlayer8();};m.prototype.componentWillUnmount=function(){this.$MessengerVideoPlayer3.forEach(function(n){return n.abandon();});this.listeners&&this.listeners.release();this.pause();this.seek(0);if(this.state.playerAPI){this.state.playerAPI.destroy();this.setState({playerAPI:null});}};m.prototype.isVideoLoaded=function(){var n=!!this.state.playerAPI;!n;if(this.isState(c('VideoPlayerStates').FALLBACK))return false;return n;};m.prototype.isVideoClicked=function(n){if(n.target instanceof HTMLElement)return n.target.classList.contains(l);return false;};m.prototype.isRightClick=function(n){n=n||window.event;return n.button===2;};m.prototype.play=function(){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.play(c('VideoPlayerReason').AUTOPLAY);};m.prototype.pause=function(){var n=arguments.length<=0||arguments[0]===undefined?c('VideoPlayerReason').AUTOPLAY:arguments[0];if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.pause(n);};m.prototype.seek=function(n){if(!this.isVideoLoaded())return;if(this.state.playerAPI)this.state.playerAPI.seek(n);};m.prototype.getCurrentTimePosition=function(){return this.isVideoLoaded()&&this.state.playerAPI?this.state.playerAPI.getCurrentTimePosition():-1;};m.prototype.render=function(){var n=this.props.videoData,o=c('React').createElement('div',{ref:'placeholder'},c('React').createElement(c('MessengerSpinner.react'),{color:'blue',size:c('MessengerSpinner.react').Sizes.LARGE})),p={};if(n&&n.url){var q=n.original_dimensions;p.backgroundImage='url('+n.url+')';o=c('React').createElement('div',{ref:'placeholder'},c('React').createElement(c('BackgroundImage.react'),{className:this.props.className,width:q.x,height:q.y,loadingIndicatorStyle:'large',backgroundSize:'cover',ref:'placeholder',style:p,src:n.url}));}return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_4-od"),id:this.$MessengerVideoPlayer1,onClick:this.$MessengerVideoPlayer9,onMouseDown:this.$MessengerVideoPlayer10,style:p,tabIndex:'0'},o);};m.prototype.$MessengerVideoPlayer8=function(){var n=this.props.videoData;if(n){var o=n.original_dimensions;if(this.props.stageDimensions)o=c('SpotlightMercurySharedMediaViewer.react').getImageDimensionsForStage(new (c('Vector'))(n.original_dimensions.x,n.original_dimensions.y),this.props.stageDimensions);var p=c('XMessagingVideoAttachmentController').getURIBuilder().setString('video_id',n.legacy_attachment_id).setString('video_container_id',this.$MessengerVideoPlayer1).setInt('width',o.x).setInt('height',o.y).setBool('start_muted',n.start_muted).setBool('no_autoplay',n.no_autoplay).setBool('no_fullscreen',n.no_fullscreen).setBool('load_player_controller',true).setBool('hide_controls_on_finish',n.hide_controls_on_finish).setBool('is_share',n.is_share).setBool('render_play_button',this.props.isInThread).getURI(),q=this.props.attachment;if(q&&q.metadata&&q.metadata.pageid)p=c('ActorURI').create(p,q.metadata.pageid);var r=new (c('AsyncRequest'))();this.$MessengerVideoPlayer3.push(r);r.setMethod('GET').setStatusElement(this.refs.placeholder).setURI(p).setRelativeTo(this).setReadOnly(true).setHandler(function(s){}).send();}};m.prototype.$MessengerVideoPlayer11=function(){if(this.props.isVisible&&this.isState(c('VideoPlayerStates').FINISHED))this.play();};m.prototype.onVideoLoaded=function(){if(!this.state.playerAPI)return;this.state.playerAPI.addListener('stateChange',function(){return this.$MessengerVideoPlayer11();}.bind(this));var n=this.$MessengerVideoPlayer4>0?this.$MessengerVideoPlayer4:0;this.seek(n);if(this.props.isVisible&&!this.$MessengerVideoPlayer5){this.play();}else this.pause();this.$MessengerVideoPlayer4=-1;this.$MessengerVideoPlayer5=false;};m.prototype.isState=function(n){return !!(this.state.playerAPI&&this.state.playerAPI.isState(n));};m.propTypes={attachment:k.object,className:k.string,isInThread:k.bool,isVisible:k.bool,stageDimensions:k.instanceOf(c('Vector')),videoData:k.object,onClick:k.func,onSelect:k.func};m.invokeVideoLoaded=function(n,o){if(o.isState(c('VideoPlayerStates').LOADING)){n.stateChangeListener=o.addListener('stateChange',function(){if(!o.isState(c('VideoPlayerStates').LOADING)){if(n.state&&n.state.playerAPI)return;n.setState({playerAPI:o},n.onVideoLoaded);if(n.stateChangeListener)n.stateChangeListener.remove();}});}else n.setState({playerAPI:o},n.onVideoLoaded);};f.exports=m;}),null);
__d("LoadingDialogDimensions",[],(function a(b,c,d,e,f,g){var h={HEIGHT:96,WIDTH:300};f.exports=h;}),null);
__d('AsyncDialog',['cx','AsyncRequest','CSS','DialogX','DOM','Keys','LayerFadeOnShow','LoadingDialogDimensions','Parent','React','ReactDOM','URI','XUISpinner.react','XUIDialogTitle.react','emptyFunction','forEachObject'],(function a(b,c,d,e,f,g,h){var i,j;function k(s){var t=c('LoadingDialogDimensions').WIDTH,u;if(s){t=parseInt(s.getAttribute('data-dialog-width'),10)||t;u=s.getAttribute('data-dialog-title')||u;}if(!i){var v=c('DOM').create('div',{className:"_57-x"});i=new (c('DialogX'))({width:t,addedBehaviors:[c('LayerFadeOnShow')],xui:true},c('DOM').create('div',null,v));j=c('DOM').create('div');c('DOM').insertBefore(v,j);c('ReactDOM').render(c('React').createElement(c('XUISpinner.react'),{size:'large'}),v);i.subscribe(['key','blur'],function(w,x){if(w=='blur'||w=='key'&&x.keyCode==c('Keys').ESC){o();return false;}});}if(u){c('ReactDOM').render(c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},u),j);}else c('DOM').empty(j);i.setWidth(t);return i;}var l={},m=1,n=[];function o(){c('forEachObject')(l,function(s,t){s.abandon();p(t);});}function p(s){delete l[s];if(!Object.keys(l).length)k().hide();}function q(s,t){var u=m++;n[u]=t;l[u]=s;var v=p.bind(null,''+u);Object.assign(s.getData(),{__asyncDialog:u});var w=s.getRelativeTo();k(w).setCausalElement(w).show();var x=s.finallyHandler;s.setFinallyHandler(function(aa){var ba=aa.getPayload();if(ba&&ba.asyncURL)r.send(new (c('AsyncRequest'))(ba.asyncURL));v();x&&x(aa);});var y=s.abortHandler||c('emptyFunction'),z=s.interceptHandler||c('emptyFunction');s.setInterceptHandler(function(){try{z();}finally{v();}}).setAbortHandler(function(){try{y();}finally{v();}});s.send();}var r={send:function s(t,u){q(t,u||c('emptyFunction'));},bootstrap:function s(t,u,v){if(!t)return;var w=c('Parent').byClass(u,'stat_elem')||u;if(w&&c('CSS').hasClass(w,'async_saving'))return false;var x=new (c('URI'))(t).getQueryData(),y=v==='dialog',z=new (c('AsyncRequest'))().setURI(t).setData(x).setMethod(y?'GET':'POST').setReadOnly(y).setStatusElement(w);if(u){z.setRelativeTo(u);z.setNectarModuleDataSafe(u);}r.send(z);},respond:function s(t,u){var v=n[t];if(v){v(u);delete n[t];}},getLoadingDialog:function s(){return k();}};f.exports=r;}),null);
__d('FunnelAction',[],(function a(b,c,d,e,f,g){'use strict';var h='name',i='payload',j='relative_time',k='tag';function l(m,n,o,p){this.$FunnelAction1={};this.$FunnelAction1[h]=m;this.$FunnelAction1[j]=n;if(o!==undefined)this.$FunnelAction1[k]=o;if(p!==undefined)this.$FunnelAction1[i]=JSON.stringify(p);}l.prototype.getData=function(){return this.$FunnelAction1;};f.exports=l;}),null);
__d('Funnel',['invariant','FunnelAction','FunnelRegistry','sprintf'],(function a(b,c,d,e,f,g,h){'use strict';var i='name',j='instance_id',k='start_time',l='tags',m='actions',n='sampling_rate',o='timeout_sec',p={EXPLICIT:'explicit',TIMEOUT:'timeout',SESSION_END:'session_end',RESTART:'restart',ACTIONS_FULL:'actions_full'},q={ACTION_END:'funnel_end',ACTION_WINDOW_BLUR:'window_blur',ACTION_WINDOW_FOCUS:'window_focus'},r=600;function s(t,u,v,w){c('FunnelRegistry')[t]===true||h(0);this.$Funnel1=t;this.$Funnel2=u;this.$Funnel3=[];this.$Funnel4={};this.$Funnel5=v;this.$Funnel6=Date.now();this.timeout_sec=r;this.shouldTrackFocus=false;this.$Funnel7=w;this.devModeLogger('Started funnel');}s.prototype.addTag=function(t){typeof t==='string'||h(0);this.$Funnel4[t]=true;this.devModeLogger('Added funnel tag %s',t);return this;};s.prototype.appendAction=function(t,u,v){this.$Funnel3.push(new (c('FunnelAction'))(t,Date.now()-this.$Funnel6,u,v));if(u){this.devModeLogger('Appended action %s with tag %s',t,u);}else this.devModeLogger('Appended action %s',t);this.$Funnel8=t;return this;};s.prototype.appendActionIfNew=function(t,u,v){if(t!==this.$Funnel8)this.appendAction(t,u,v);return this;};s.prototype.getLogData=function(){var t={};t[i]=this.$Funnel1;if(this.$Funnel2!==undefined){t[j]=this.$Funnel2;}else t[j]=Math.floor(Math.random()*65536);t[k]=this.$Funnel6;t[n]=this.$Funnel5;t[o]=this.timeout_sec;t[l]=[];for(var u in this.$Funnel4)if(this.$Funnel4[u]===true)t[l].push(u);if(this.$Funnel3.length>0){t[m]=[];for(var v=0;v<this.$Funnel3.length;v++)t[m].push(this.$Funnel3[v].getData());}return t;};s.prototype.devModeLogger=function(){};s.prototype.getTags=function(){return this.$Funnel4;};f.exports={Funnel:s,EndType:p,ActionType:q};}),null);
__d('FunnelLoggerSampler',['FunnelLoggerConfig'],(function a(b,c,d,e,f,g){'use strict';function h(j){var k=i(j);if(k===0)return false;return Math.random()*k<1;}function i(j){var k=c('FunnelLoggerConfig').freq[j];if(k===undefined)k=c('FunnelLoggerConfig').freq['default'];return k;}f.exports={shouldLog:h,getSamplingRate:i};}),null);
__d('MarauderLogger',['Banzai','CacheStorage','MarauderConfig'],(function a(b,c,d,e,f,g){var h='client_event',i='navigation',j=180000,k='marauder',l='marauder_last_event_time',m='marauder_last_session_id',n={},o=[],p=false,q=null,r=null,s=null,t=0,u,v,w=false,x=null,y=false;function z(){ia().set(l,aa());}c('Banzai').subscribe(c('Banzai').SHUTDOWN,z);function aa(){u=u||ia().get(l)||0;return u;}function ba(){if(!w){v=ia().get(m);w=true;}var ra=Date.now();if(!v||ra-j>aa()){v=ra.toString(16)+'-'+(~~(Math.random()*16777215)).toString(16);ia().set(m,v);}return v;}function ca(){return {user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null};}function da(){return {locale:navigator.language};}function ea(ra,sa,ta,ua,va,wa,xa){var ya=xa||Date.now();u=xa?Date.now():ya;sa=sa||q;return {name:ra,time:ya/1000,module:sa,obj_type:ua,obj_id:va,uuid:wa,extra:ta};}function fa(ra,sa,ta){return ea('content',null,{flags:sa},null,null,ra,ta);}function ga(ra){var sa=window.__mrdr;if(sa)for(var ta in sa){var ua=sa[ta];if(ua[3]!==0){delete sa[ta];if(ta==="1")if(s!==null){ta=s;}else continue;ra.push(fa(ta,1,ua[1]));ra.push(fa(ta,2,ua[2]));ra.push(fa(ta,3,ua[3]));}}}function ha(ra){ga(ra);if(ra.length===0)return;if(p)ra.push(ea('counters',null,n));var sa=ra[0].name==='time_spent_bit_array'&&c('Banzai').isEnabled('vital_navigations'),ta=sa?c('Banzai').VITAL:c('Banzai').BASIC,ua=c('MarauderConfig').gk_enabled;if(t===0&&ua){ra.push(ea('device_status',null,da()));if(!sa)ta={delay:5000};}if(ua&&Math.random()<.01)ra.push(ea('device_info',null,ca()));if(s!==null)for(var va=0;va<ra.length;va++){var wa=ra[va];if(wa.uuid===null||wa.uuid===undefined)wa.uuid=s;}var xa={app_ver:c('MarauderConfig').app_version,data:ra,log_type:h,seq:t++,session_id:ba()},ya=ia().get('device_id');if(ya)xa.device_id=ya;n={};p=false;c('Banzai').post(k,xa,ta);}function ia(){if(!y){y=true;x=new (c('CacheStorage'))('localstorage','');}return x;}function ja(ra){if(!n[ra])n[ra]=0;n[ra]++;p=true;}function ka(ra,sa,ta,ua,va,wa,xa){ha([ea(ra,sa,ta,ua,va,wa,xa)]);}function la(ra,sa){if(q!==sa){o.push(ea(i,q,{dest_module:sa,source_url:r,destination_url:ra}));q=sa;r=ra;}}function ma(ra,sa){if(q!==sa){s=null;la(ra,sa);}}function na(ra,sa,ta){ka(sa?'show_module':'hide_module',ra,ta);}function oa(ra){q=ra;}function pa(){return q;}function qa(ra){if(s===null){s=ra;if(ra!==null){ha(o);o=[];}}}f.exports={count:ja,log:ka,navigateTo:ma,navigateWithinSession:la,toggleModule:na,setUUID:qa,setNavigationModule:oa,getNavigationModule:pa};}),null);
__d('FunnelLogger',['invariant','Banzai','Funnel','FunnelRegistry','FunnelLoggerSampler','MarauderLogger'],(function a(b,c,d,e,f,g,h){'use strict';var i={},j=false,k=true;function l(qa,ra){var sa=ba(qa,ra);pa();ka(sa);if(c('FunnelLoggerSampler').shouldLog(qa)){i[sa]=new (c('Funnel').Funnel)(qa,ra,c('FunnelLoggerSampler').getSamplingRate(qa),false);ea(sa);}}function m(qa,ra){var sa=ba(qa,ra);if(!ca(sa))return null;return i[sa];}function n(qa,ra){}function o(qa,ra,sa){if(sa===undefined){da(qa,undefined,ra);}else if(sa)da(qa,ra,sa);}function p(qa,ra){var sa=ba(qa,ra);if(ca(sa)){i[sa].devModeLogger('Cancelled funnel');fa(sa);i[sa]=undefined;}}function q(qa,ra){var sa=ba(qa,ra);if(ca(sa)){i[sa].appendAction(c('Funnel').ActionType.ACTION_END,c('Funnel').EndType.EXPLICIT);la(sa);}}function r(qa,ra,sa){if(sa===undefined){ga(qa,undefined,String(ra));}else ga(qa,Number(ra),sa);}function s(qa,ra,sa){if(sa===undefined){ha(qa,undefined,Boolean(ra));}else ha(qa,Number(ra),sa);}function t(qa,ra,sa){if(sa===undefined){ia(qa,undefined,String(ra),undefined);}else ia(qa,Number(ra),sa,undefined);}function u(qa,ra,sa){if(sa===undefined){ja(qa,undefined,String(ra),undefined);}else ja(qa,Number(ra),sa,undefined);}function v(qa,ra,sa,ta){if(ta===undefined){ia(qa,undefined,String(ra),sa);}else ia(qa,Number(ra),sa,ta);}function w(qa,ra,sa,ta){if(ta===undefined){ja(qa,undefined,String(ra),sa);}else ja(qa,Number(ra),sa,ta);}function x(qa,ra,sa,ta){if(ta===undefined){ia(qa,undefined,String(ra),undefined,sa);}else ia(qa,Number(ra),String(sa),undefined,ta);}function y(qa,ra,sa,ta){if(ta===undefined){ja(qa,undefined,String(ra),undefined,sa);}else ja(qa,Number(ra),String(sa),undefined,ta);}function z(qa,ra,sa,ta,ua){if(ua===undefined){ia(qa,undefined,String(ra),sa,ta);}else ia(qa,Number(ra),String(sa),String(ta),ua);}function aa(qa,ra,sa,ta,ua){if(ua===undefined){ja(qa,undefined,String(ra),sa,ta);}else ja(qa,Number(ra),String(sa),String(ta),ua);}function ba(qa,ra){c('FunnelRegistry')[qa]===true||h(0);if(ra===undefined||ra===null){return qa;}else return qa+ra.toString();}function ca(qa){return i[qa]!==undefined;}function da(qa,ra,sa){var ta=ba(qa,ra);if(ca(ta)){i[ta].timeout_sec=sa;i[ta].devModeLogger('Timeout set to %d sec',sa);ea(ta);}}function ea(qa){fa(qa);i[qa].timeout_handle=setTimeout(function(){i[qa].appendAction(c('Funnel').ActionType.ACTION_END,c('Funnel').EndType.TIMEOUT);la(qa);},1000*i[qa].timeout_sec);}function fa(qa){if(i[qa].timeout_handle)clearTimeout(i[qa].timeout_handle);}function ga(qa,ra,sa){var ta=ba(qa,ra);if(ca(ta)){i[ta].addTag(sa);ea(ta);}}function ha(qa,ra,sa){var ta=ba(qa,ra);if(ca(ta)){i[ta].shouldTrackFocus=sa;i[ta].devModeLogger('Focus tracking %s',sa?'on':'off');}}function ia(qa,ra,sa,ta,ua){var va=ba(qa,ra);if(ca(va)){i[va].appendAction(sa,ta,ua);ea(va);}}function ja(qa,ra,sa,ta,ua){var va=ba(qa,ra);if(ca(va))i[va].appendActionIfNew(sa,ta,ua);}function ka(qa){if(ca(qa)){i[qa].appendAction(c('Funnel').ActionType.ACTION_END,c('Funnel').EndType.RESTART);la(qa);}}function la(qa){if(ca(qa)){var ra=i[qa].getLogData();c('MarauderLogger').log('funnel_analytics',null,ra);i[qa].devModeLogger('Logged: %s',JSON.stringify(ra));fa(qa);i[qa]=undefined;}}function ma(){for(var qa in i)if(i.hasOwnProperty(qa)&&ca(qa)){i[qa].appendAction(c('Funnel').ActionType.ACTION_END,c('Funnel').EndType.SESSION_END);la(qa);}}function na(){if(k){k=false;for(var qa in i)if(i.hasOwnProperty(qa)&&ca(qa)&&i[qa].shouldTrackFocus){i[qa].appendAction(c('Funnel').ActionType.ACTION_WINDOW_BLUR);fa(qa);}}}function oa(){if(!k){k=true;for(var qa in i)if(i.hasOwnProperty(qa)&&ca(qa)&&i[qa].shouldTrackFocus){i[qa].appendAction(c('Funnel').ActionType.ACTION_WINDOW_FOCUS);fa(qa);}}}function pa(){if(!j){j=true;if(window.addEventListener){c('Banzai').subscribe(c('Banzai').SHUTDOWN,ma);window.addEventListener('blur',na);window.addEventListener('focus',oa);}}}f.exports={startFunnel:l,startFunnel_DEV_MODE:n,setFunnelTimeout:o,setFunnelTrackFocus:s,addFunnelTag:r,appendAction:t,appendActionIfNew:u,appendActionWithTag:v,appendActionWithTagIfNew:w,appendActionWithPayload:x,appendActionWithPayloadIfNew:y,appendActionWithTagAndPayload:z,appendActionWithTagAndPayloadIfNew:aa,cancelFunnel:p,endFunnel:q,getFunnelInstance:m};}),null);
__d('Layout.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=false,m=false;c('React').Children.forEach(this.props.children,function(n){if(!n)return;if(n.type===k.FillColumn){m=true;}else if(m)l=true;});return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,l?"_5aj7":"clearfix _ikh")}),this.props.children));};function k(){'use strict';i.apply(this,arguments);}k.Column=function(){var l,m;l=babelHelpers.inherits(n,c('React').Component);m=l&&l.prototype;n.prototype.render=function(){'use strict';return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_4bl7")})));};function n(){'use strict';l.apply(this,arguments);}return n;}();k.FillColumn=function(){var l,m;l=babelHelpers.inherits(n,c('React').Component);m=l&&l.prototype;n.prototype.render=function(){'use strict';return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_4bl9")})));};function n(){'use strict';l.apply(this,arguments);}return n;}();f.exports=k;}),null);
__d('ImageBlock.react',['cx','invariant','LeftRight.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;function l(o){var p=o.children;p&&(p.length===2||p.length===3)||i(0);p[0]!==null||i(0);return p;}function m(o){return "img"+(' '+"_8o")+(o==='small'?' '+"_8r":'')+(o==='medium'?' '+"_8s":'')+(o==='large'?' '+"_8t":'');}j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){'use strict';var o=l(this.props),p=o[0],q=o[1],r=o[2],s=this.props,t=s.imageClassName,u=s.contentClassName,v=s.spacing,w=babelHelpers.objectWithoutProperties(s,['imageClassName','contentClassName','spacing']),x=p.props,y=x.className,z=x.alt,aa=x.tabIndex,ba=x.title,ca={className:c('joinClasses')(y,m(v),t)};if(p.type==='img'){if(z===undefined)ca.alt='';}else if((p.type==='a'||p.type==='link')&&aa===undefined&&ba===undefined&&p.props['aria-label']===undefined){ca.tabIndex='-1';ca['aria-hidden']='true';}p=c('React').cloneElement(p,ca);var da=c('joinClasses')(u,"_42ef"+(v==='small'?' '+"_8u":'')),ea=void 0;if(!r){ea=c('React').createElement('div',{className:da},q);}else ea=c('React').createElement(c('LeftRight.react'),{className:da,direction:c('LeftRight.react').DIRECTION.right},q,r);return (c('React').createElement(c('LeftRight.react'),babelHelpers['extends']({},w,{direction:c('LeftRight.react').DIRECTION.left}),p,ea));};function n(){'use strict';j.apply(this,arguments);}n.defaultProps={spacing:'small'};f.exports=n;}),null);
__d('MercuryMessageDeliveryState',[],(function a(b,c,d,e,f,g){'use strict';var h={SENDING:1,SENT:2,DELIVERED:3,ERROR:0,UNKNOWN:-1};f.exports=h;}),null);
__d('MercuryViewer',['CurrentUser','MercuryAssert'],(function a(b,c,d,e,f,g){'use strict';var h='fbid:'+c('CurrentUser').getID(),i={getID:function j(){return h;},isViewer:function j(k){c('MercuryAssert').isParticipantID(k);return k===h;}};f.exports=i;}),null);
__d('MercuryMessageInfo',['MercuryActionStatus','MercuryMessageDeliveryState','MercuryViewer'],(function a(b,c,d,e,f,g){'use strict';var h={isOutbound:function i(j){return j.author===c('MercuryViewer').getID();},isInbound:function i(j){return !h.isOutbound(j);},isSending:function i(j){return (j.status===c('MercuryActionStatus').UNSENT||j.status===c('MercuryActionStatus').UNCONFIRMED||j.status===c('MercuryActionStatus').UNABLE_TO_CONFIRM||j.status===c('MercuryActionStatus').RESENDING);},isSent:function i(j){return (j.status===undefined||j.status===c('MercuryActionStatus').SUCCESS);},hasError:function i(j){return (j.status===c('MercuryActionStatus').FAILED_UNKNOWN_REASON||j.status===c('MercuryActionStatus').UNABLE_TO_CONFIRM||j.status===c('MercuryActionStatus').ERROR);},getDeliveryState:function i(j,k){if(this.hasError(j))return c('MercuryMessageDeliveryState').ERROR;if(this.isSending(j))return c('MercuryMessageDeliveryState').SENDING;if(this.isSent(j)){if(j.timestamp<=k)return c('MercuryMessageDeliveryState').DELIVERED;return c('MercuryMessageDeliveryState').SENT;}return c('MercuryMessageDeliveryState').UNKNOWN;}};f.exports=h;}),null);
__d('MercuryErrorInfo',['fbt','MercuryErrorType','MercuryMessageInfo'],(function a(b,c,d,e,f,g,h){var i={getMessage:function j(k){var l='';if(i.isConnectionError(k)){l=h._("Ce message n\u2019a pas \u00e9t\u00e9 envoy\u00e9.");if(i.isTransient(k))l=h._("{message} V\u00e9rifiez votre connexion Internet et cliquez pour r\u00e9essayer.",[h.param('message',l)]);}else{if(k&&k.description){l=k.description;}else l=h._("Le message n\u2019a pas pu \u00eatre envoy\u00e9.");if(i.isTransient(k))l=h._("{message} Cliquez pour renvoyer.",[h.param('message',l)]);}return l;},isConnectionError:function j(k){if(k&&k.type==c('MercuryErrorType').TRANSPORT)return k.code===1001||k.code===1004||k.code===1006;return false;},isTransient:function j(k){return k&&k.is_transient;},isPermanent:function j(k){return k?!this.isTransient(k):false;},hasErrorStatus:function j(k){return c('MercuryMessageInfo').hasError(k);}};f.exports=i;}),null);
__d('MercuryThreadMetadataRawRenderer',['cx','fbt','Event','CSS','DOM','MercuryActionStatus','MercuryErrorInfo','MercuryStatusTemplates','TooltipData'],(function a(b,c,d,e,f,g,h,i){var j={renderParticipantListWithNoThreadName:function k(l,m,n,o,p,q){var r={callback:true,check_length:true,show_unread_count:true};q=q||{};var s={};for(var t in q)if(r[t]){s[t]=q[t];delete q[t];}var u=n.map(function(z){return o[z];}),v=this.renderRawParticipantList(l,u,n.length,q);v=this.renderRawTitleWithUnreadCount(v,s.show_unread_count?m.unread_count:0);var w=q.abbr_mode,x={};for(var y in q)x[y]=q[y];x.abbr_mode=true;p.forEach(function(z){var aa=p.length>1?this._cloneIfDOMElement(v):v;c('DOM').setContent(z,aa);if(s.check_length&&!w&&z.scrollWidth>z.clientWidth){var ba=this.renderRawParticipantList(l,u,n.length,x),ca=this.renderRawTitleWithUnreadCount(ba,s.show_unread_count?m.unread_count:0);c('DOM').setContent(z,ca);}}.bind(this));s.callback&&s.callback(v);},renderRawParticipantList:function k(l,m,n,o){var p={abbr_mode:true,last_separator_uses_and:true,names_renderer:true};o=o||{};var q=null;if(o.names_renderer){q=o.names_renderer(m);}else q=m.map(function(s){return s.name;});var r=null;if(q.length===0){if(!l){r=i._("Nouveau message");}else r=i._("Aucun participant");}else if(q.length==1){r=q[0];}else if(q.length==2){if(o.last_separator_uses_and){r=i._("{participant1} et {participant2}",[i.param('participant1',q[0]),i.param('participant2',q[1])]);}else r=i._("{participant1}, {participant2}",[i.param('participant1',q[0]),i.param('participant2',q[1])]);}else if(o.last_separator_uses_and){if(o.abbr_mode){r=i._("{participant1} et {others_link}",[i.param('participant1',q[0]),i.param('others_link',this.renderRawParticipantCount({render_subset:true,count:n-1}))]);}else if(q.length==3){r=i._("{participant1}, {participant2} et {participant3}",[i.param('participant1',q[0]),i.param('participant2',q[1]),i.param('participant3',q[2])]);}else r=i._("{participant1}, {participant2} et {others_link}",[i.param('participant1',q[0]),i.param('participant2',q[1]),i.param('others_link',this.renderRawParticipantCount({render_subset:true,count:n-2}))]);}else if(q.length==3){r=i._("{participant1}, {participant2}, {participant3}",[i.param('participant1',q[0]),i.param('participant2',q[1]),i.param('participant3',q[2])]);}else r=i._("{participant1}, {participant2}, {participant3}, {others_link}",[i.param('participant1',q[0]),i.param('participant2',q[1]),i.param('participant3',q[2]),i.param('others_link',this.renderRawParticipantCount({render_subset:true,count:n-3}))]);if(Array.isArray(r))r=c('DOM').create('span',{},r);return r;},renderRawTitleWithUnreadCount:function k(l,m){var n=l;if(m&&m>1)n=c('DOM').create('span',{},i._("{conversation_title} ({unread_count})",[i.param('conversation_title',l),i.param('unread_count',m)]));return n;},renderRawParticipantCount:function k(l){var m=l.render_subset,n;if(!m){n=l.count>1?i._({"*":"{num} personnes"},[i.param('num',l.count,[0])]):i._("1 personne");}else n=l.count>1?i._({"*":"{others_count} autres personnes"},[i.param('others_count',l.count,[0])]):i._("1 autre");return n;},renderShortNames:function k(l){if(l.length==1)return [l[0].name];return l.map(function(m){return m.short_name;});},renderStatusIndicator:function k(l,m,n){var o;if(l==c('MercuryActionStatus').RESENDING){o=this.renderResendIndicator();}else if(l!==undefined&&l!=c('MercuryActionStatus').UNSENT&&l!=c('MercuryActionStatus').UNCONFIRMED&&l!=c('MercuryActionStatus').SUCCESS)o=this.renderErrorIndicator(m,n);return o;},renderResendIndicator:function k(){return c('MercuryStatusTemplates')[':fb:mercury:resend-indicator'].render();},renderErrorIndicator:function k(l,m){if(!l)return null;var n=c('MercuryStatusTemplates')[':fb:mercury:error-indicator'].render(),o=l.is_transient,p=c('MercuryErrorInfo').getMessage(l);if(o)if(c('MercuryErrorInfo').isConnectionError(l)){p=i._("{message} V\u00e9rifiez votre connexion Internet et cliquez pour r\u00e9essayer.",[i.param('message',p)]);}else p=i._("{message} Cliquez pour renvoyer.",[i.param('message',p)]);c('TooltipData').set(n,p,'above','center');if(m&&o){c('Event').listen(n,'click',m);n.setAttribute('tabindex','0');c('CSS').addClass(n,"_55q-");}return n;},_cloneIfDOMElement:function k(l){if(l&&l.cloneNode){return l.cloneNode();}else return l;}};f.exports=j;}),null);
__d('TypeaheadViewItem',['React','ReactDOM','SearchableEntry'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={entry:h.instanceOf(c('SearchableEntry')).isRequired,highlighted:h.bool,role:h.string,selected:h.bool,onSelect:h.func.isRequired,onHighlight:h.func,onRenderHighlight:h.func},j={_onSelect:function l(m){this.props.onSelect(this.props.entry,m);},_onHighlight:function l(m){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,m);},getDefaultProps:function l(){return {role:'option'};},shouldComponentUpdate:function l(m){return (this.props.entry.getUniqueID()!==m.entry.getUniqueID()||this.props.highlighted!==m.highlighted||this.props.selected!==m.selected);},componentDidMount:function l(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(c('ReactDOM').findDOMNode(this));},componentDidUpdate:function l(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(c('ReactDOM').findDOMNode(this));}};function k(l){var m,n;return n=m=function(){var o,p;o=babelHelpers.inherits(q,c('React').Component);p=o&&o.prototype;function q(){var r,s;'use strict';for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=p.constructor).call.apply(r,[this].concat(u)),this.$TypeaheadViewItem1=function(w){this.props.onSelect(this.props.entry,w);}.bind(this),this.$TypeaheadViewItem2=function(w){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,w);}.bind(this),s;}q.prototype.shouldComponentUpdate=function(r){'use strict';return this.props.entry.getUniqueID()!==r.entry.getUniqueID()||this.props.highlighted!==r.highlighted||this.props.selected!==r.selected;};q.prototype.componentDidMount=function(){'use strict';if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(c('ReactDOM').findDOMNode(this));};q.prototype.componentDidUpdate=function(){'use strict';if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(c('ReactDOM').findDOMNode(this));};q.prototype.render=function(){'use strict';return c('React').createElement(l,babelHelpers['extends']({},this.props,{onSelect:this.$TypeaheadViewItem1,onHighlight:this.$TypeaheadViewItem2}));};return q;}(),m.displayName='TypeaheadViewItem('+l.displayName+')',m.defaultProps={role:'option'},n;}f.exports={makeTypeaheadViewItem:k,Mixin:j,propTypes:i};}),null);
__d('MessagingRecipientTypeaheadItem.react',['cx','BackgroundImage.react','ChatTypeaheadConstants','ImageBlock.react','LeftRight.react','React','SplitImage.react','MercuryThreadMetadataRawRenderer','TypeaheadViewItem','joinClasses','Keys'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessagingRecipientTypeaheadItem',propTypes:babelHelpers['extends']({},c('TypeaheadViewItem').propTypes,{imageSize:i.number.isRequired}),mixins:[c('TypeaheadViewItem').Mixin],isThreadRecipient:function k(){return this.props.entry.getType()===c('ChatTypeaheadConstants').THREAD_TYPE;},_getImage:function k(){var l=this.props.entry;if(l.getType()===c('ChatTypeaheadConstants').THREAD_TYPE&&!l.getPhoto()){var m=l.getAuxiliaryData();return (c('React').createElement(c('SplitImage.react'),{size:this.props.imageSize,srcs:m.participantsToRender.map(function(n){return n.image_src;})}));}if(l.getPhoto())return (c('React').createElement(c('BackgroundImage.react'),{width:this.props.imageSize,height:this.props.imageSize,backgroundSize:'cover',src:l.getPhoto()}));return c('React').createElement('span',null);},_getThreadParticipantList:function k(){if(!this.isThreadRecipient())return null;var l=this.props.entry;return c('MercuryThreadMetadataRawRenderer').renderRawParticipantList(l.getUniqueID(),l.getAuxiliaryData().participantsToRender,l.getAuxiliaryData().thread.participants.length-1,{names_renderer:c('MercuryThreadMetadataRawRenderer').renderShortNames});},_getTitle:function k(){var l=this.props.entry;if(this.isThreadRecipient()&&!l.getTitle())return this._getThreadParticipantList();return l.getTitle();},_getSubtitle:function k(){var l=this.props.entry;if(this.isThreadRecipient()&&!l.getTitle())return this._getThreadParticipantList();return l.getSubtitle()?l.getSubtitle().split(' \u00b7 ')[0]:null;},_onKeyDown:function k(event){if(event.keyCode===c('Keys').SPACE||event.keyCode===c('Keys').RETURN){event.preventDefault();this._onSelect(event);}},render:function k(){var l=this._getSubtitle(),m=c('joinClasses')("_599m"+(' '+"_55xn")+(!l?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":''),this.props.className);return (c('React').createElement('li',{'aria-selected':this.props.selected,className:m,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,onKeyDown:this._onKeyDown,role:this.props.role},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},this._getImage(),c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',null,c('React').createElement('div',{className:"_55xt _599p"},this._getTitle()),c('React').createElement('div',{className:"_55z3 _599q"},l)),this.props.children))));}});f.exports=j;}),null);
__d('xuiglyph',['ix'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){if(typeof j==='string')j={name:j};var k=babelHelpers['extends']({name:undefined,shade:'dark',size:'small'},j);return h.call(null,k.name+':'+k.shade+':'+k.size);}f.exports=i;}),null);
__d('MessagingRecipientSelectedList.react',['cx','fbt','xuiglyph','Image.react','LeftRight.react','Map','MessagingRecipientTypeaheadItem.react','React'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$MessagingRecipientSelectedList1=function(t){var u=j({name:'cross',shade:'dark',size:'small'});return (c('React').createElement(c('MessagingRecipientTypeaheadItem.react'),{key:t.getUniqueID(),entry:t,imageSize:24,onSelect:this.props.onSelect},c('React').createElement(c('Image.react'),{className:"_1jm4",src:u})));}.bind(this),p;}n.prototype.render=function(){'use strict';var o=i._("Envoyer \u00e0\u00a0:"),p=[];this.props.entries.forEach(function(q){return p.push(this.$MessagingRecipientSelectedList1(q));}.bind(this));return (c('React').createElement('div',{className:"_1jm5"},c('React').createElement(c('LeftRight.react'),{className:"_1jm6 _2ph-"},c('React').createElement('span',null,o),c('React').createElement('span',null,this.props.entries.size)),c('React').createElement('ul',null,p)));};n.propTypes={entries:m.instanceOf(c('Map')),onSelect:m.func.isRequired};f.exports=n;}),null);
__d('MessagingRecipientTypeaheadView.react',['cx','fbt','CenteredContainer.react','Link.react','Map','MessagingRecipientTypeaheadItem.react','React','TypeaheadViewPropTypes','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=32;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessagingRecipientTypeaheadView1=function(t){var u=t===this.props.highlightedEntry,v=this.props.selectedEntries.has(t.getUniqueID());return (c('React').createElement(c('MessagingRecipientTypeaheadItem.react'),{key:t.getUniqueID(),entry:t,highlighted:u,imageSize:m,selected:v,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight},c('React').createElement(c('Link.react'),{'aria-checked':v,className:"_2i83"+(v?' '+"_2i85":'')+(!v?' '+"_2i86":''),href:'#',role:'checkbox',tabIndex:'0'})));}.bind(this),p;}n.prototype.render=function(){'use strict';if(this.props.entries.length===0&&!this.props.loading)return (c('React').createElement(c('CenteredContainer.react'),{className:"_2pi1"},i._("Aucun r\u00e9sultat")));return (c('React').createElement('ul',{id:this.props.ariaOwneeID,className:"_51do",role:this.props.role},this.props.entries.map(this.$MessagingRecipientTypeaheadView1),c('React').createElement('div',{className:"_51dq"},this.props.loading?c('React').createElement(c('XUISpinner.react'),null):null)));};n.propTypes=babelHelpers['extends']({},c('TypeaheadViewPropTypes'),{selectedEntries:l.instanceOf(c('Map')),loading:l.bool});n.defaultProps={role:'listbox'};f.exports=n;}),null);
__d('AbstractTextField.react',['cx','React','Keys','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').Component,l=c('React').Element,m=c('React').PropTypes;i=babelHelpers.inherits(n,k);j=i&&i.prototype;function n(p){'use strict';j.constructor.call(this,p);o.call(this);this.state={focused:false,value:this.props.defaultValue||''};}n.prototype.getValue=function(){'use strict';return this.props.value!=null?String(this.props.value):this.state.value;};n.prototype.cloneElement=function(p){'use strict';return c('React').cloneElement(p,{'aria-activedescendant':this.props['aria-activedescendant'],'aria-autocomplete':this.props['aria-autocomplete'],'aria-label':this.props['aria-label'],'aria-labelledby':this.props['aria-labelledby'],'aria-expanded':this.props['aria-expanded'],'aria-owns':this.props['aria-owns'],'aria-valuenow':this.props['aria-valuenow'],'aria-valuetext':this.props['aria-valuetext'],'data-testid':this.props['data-testid'],required:this.props.required,role:this.props.role,placeholder:this.props.placeholder,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,onKeyDown:this.onInputKeyDown,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onChange:this.onInputChange,className:this.props.useLabel?p.props.className:c('joinClasses')(p.props.className,this.props.className),dir:this.props.dir,disabled:this.props.disabled,defaultValue:this.props.defaultValue,name:this.props.name,value:this.getValue(),id:this.props.id,maxLength:this.props.maxLength,min:this.props.min,max:this.props.max,pattern:this.props.pattern,style:this.props.style,title:this.props.title,type:this.props.type||p.props.type});};n.prototype.render=function(){'use strict';var p=c('React').Children.only(this.props.children);if(!this.props.useLabel)return this.cloneElement(p);var q=this.props.className;if(this.props.classNames){q=c('joinClasses')(q,this.props.classNames.root);if(!this.getValue())q=c('joinClasses')(q,this.props.classNames.empty);}return (c('React').createElement('label',{className:q,style:this.props.styles.label},this.props.leftChild,this.cloneElement(p),this.props.rightChild));};n.defaultProps={useLabel:true,classNames:{root:"_58ak",empty:"_3ct8"},styles:{label:null}};n.propTypes={useLabel:m.bool,leftChild:m.element,rightChild:m.element,classNames:m.shape({root:m.string.isRequired,empty:m.string.isRequired}),styles:m.shape({label:m.object}),'aria-activedescendant':m.string,'aria-autocomplete':m.string,'aria-label':m.string,'aria-labelledby':m.string,'aria-expanded':m.bool,'aria-owns':m.string,'aria-valuenow':m.number,'aria-valuetext':m.string,'data-testid':m.string,autoComplete:m.string,className:m.string,defaultValue:m.string,dir:m.string,disabled:m.bool,id:m.string,max:m.string,maxLength:m.number,min:m.string,name:m.string,onBackspace:m.func,onBackTab:m.func,onBlur:m.func,onChange:m.func,onComma:m.func,onDownArrow:m.func,onEnter:m.func,onEscape:m.func,onFocus:m.func,onKeyDown:m.func,onKeyPress:m.func,onKeyUp:m.func,onLeftArrow:m.func,onNoShiftEnter:m.func,onPaste:m.func,onRightArrow:m.func,onShiftDownArrow:m.func,onShiftEnter:m.func,onShiftUpArrow:m.func,onSpace:m.func,onTab:m.func,onUpArrow:m.func,pattern:m.string,placeholder:m.string,required:m.bool,role:m.string,style:m.object,title:m.string,type:m.string,value:m.string,autoCapitalize:m.string,autoCorrect:m.string};var o=function p(){this.onInputKeyDown=function(q){var r=this.props,s=q.keyCode,t=q.shiftKey;if(s===c('Keys').BACKSPACE&&!t&&r.onBackspace){r.onBackspace(q);}else if(s===c('Keys').TAB&&!t&&r.onTab){r.onTab(q);}else if(s===c('Keys').TAB&&t&&r.onBackTab){r.onBackTab(q);}else if(s===c('Keys').UP){if(t){if(r.onShiftUpArrow)r.onShiftUpArrow(q);}else if(r.onUpArrow)r.onUpArrow(q);}else if(s===c('Keys').DOWN&&r.onDownArrow){if(t){if(r.onShiftDownArrow)r.onShiftDownArrow(q);}else if(r.onDownArrow)r.onDownArrow(q);}else if(s===c('Keys').LEFT&&r.onLeftArrow){r.onLeftArrow(q);}else if(s===c('Keys').RIGHT&&r.onRightArrow){r.onRightArrow(q);}else if(s===c('Keys').RETURN){if(r.onEnter)r.onEnter(q);if(t){if(r.onShiftEnter)r.onShiftEnter(q);}else if(r.onNoShiftEnter)r.onNoShiftEnter(q);}else if(s===c('Keys').ESC&&r.onEscape){r.onEscape(q);}else if(s==c('Keys').COMMA&&r.onComma){r.onComma(q);}else if(s==c('Keys').SPACE&&r.onSpace)r.onSpace(q);if(r.onKeyDown)r.onKeyDown(q);}.bind(this);this.onInputChange=function(q){if(this.props.onChange)this.props.onChange(q);if(this.props.value===null||this.props.value===undefined)this.setState({value:q.target.value});}.bind(this);this.onInputBlur=function(q){if(this.props.onBlur)this.props.onBlur(q);if(!q.isDefaultPrevented())this.setState({focused:false});}.bind(this);this.onInputFocus=function(q){if(this.props.onFocus)this.props.onFocus(q);if(!q.isDefaultPrevented())this.setState({focused:true});}.bind(this);};f.exports=n;}),null);
__d('AbstractTextInput.react',['cx','AbstractTextField.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){'use strict';return (c('React').createElement(c('AbstractTextField.react'),this.props,c('React').createElement('input',{className:"_58al",onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,size:this.props.size,tabIndex:this.props.tabIndex,type:'text',ref:function(m){return this.$AbstractTextInput1=m;}.bind(this)})));};l.prototype.focusInput=function(){'use strict';this.$AbstractTextInput1&&this.$AbstractTextInput1.focus();};l.prototype.blurInput=function(){'use strict';this.$AbstractTextInput1&&this.$AbstractTextInput1.blur();};l.prototype.getTextFieldDOM=function(){'use strict';return this.$AbstractTextInput1;};l.prototype.getValue=function(){'use strict';return this.$AbstractTextInput1?this.$AbstractTextInput1.value:'';};function l(){'use strict';i.apply(this,arguments);}l.propTypes=c('AbstractTextField.react').propTypes;f.exports=l;}),null);
__d('SearchableTextInput.react',['EventListener','React','AbstractTextInput.react','getActiveElement','areEqual'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$SearchableTextInput2=function(){var q=this.props.searchSource.bootstrap(function(){if(this.props.searchOnFocus)this.search(this.props.queryString);}.bind(this));if(q&&q.done)q.done();this.props.onFocus&&this.props.onFocus();}.bind(this),this.$SearchableTextInput3=function(q,r,s){if(this.props.queryString===r)this.props.onEntriesFound(q,r,s);}.bind(this),this.$SearchableTextInput4=function(event){this.props.onChange&&this.props.onChange(event);var q=event.target.value;setTimeout(function(){return this.search(q);}.bind(this));}.bind(this),this.search=function(q,r){this.props.searchSource.search(q,this.$SearchableTextInput3,r||this.props.searchSourceOptions);}.bind(this),this.focusInput=function(){var q=this.getTextFieldDOM();if(c('getActiveElement')()===q){this.$SearchableTextInput2();}else q.offsetHeight&&q.focus();}.bind(this),this.blurInput=function(){var q=this.getTextFieldDOM();q.offsetHeight&&q.blur();}.bind(this),this.getTextFieldDOM=function(){return this.refs.input.getTextFieldDOM();}.bind(this),m;}k.prototype.componentDidMount=function(){'use strict';if(this.props.onPaste)this.$SearchableTextInput1=c('EventListener').listen(this.refs.input.getTextFieldDOM(),'paste',this.props.onPaste);};k.prototype.componentWillReceiveProps=function(l){'use strict';if(l.searchSourceOptions&&!c('areEqual')(l.searchSourceOptions,this.props.searchSourceOptions))this.search(this.props.queryString,l.searchSourceOptions);};k.prototype.componentDidUpdate=function(l){'use strict';if(this.props.searchOnUpdate)if(l.queryString!==this.props.queryString)this.search(this.props.queryString);};k.prototype.componentWillUnmount=function(){'use strict';if(this.$SearchableTextInput1){this.$SearchableTextInput1.remove();this.$SearchableTextInput1=null;}};k.prototype.render=function(){'use strict';var l=this.props.queryString||'';return (c('React').createElement(c('AbstractTextInput.react'),babelHelpers['extends']({},this.props,{onChange:this.$SearchableTextInput4,onFocus:this.$SearchableTextInput2,ref:'input',role:'combobox',value:l})));};k.propTypes=babelHelpers['extends']({},c('AbstractTextInput.react').propTypes,{queryString:j.string,searchSource:j.object,searchSourceOptions:j.object,onEntriesFound:j.func.isRequired,searchOnFocus:j.bool,searchOnUpdate:j.bool,required:j.bool,onPaste:j.func,onFocus:j.func,onChange:j.func});f.exports=k;}),null);
__d("XMessagingForwardAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/forward\/",{});}),null);
__d("XMessengerPlatformShareCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/platform\/share\/",{});}),null);
__d('MessagingForwardAttachmentDialog.react',['ix','cx','fbt','AsyncRequest','ChatSearchSource','Image.react','LayerFadeOnHide','Layout.react','Map','MessageShareType','MessagingRecipientSelectedList.react','MessagingRecipientTypeaheadView.react','React','SearchableTextInput.react','ScrollableArea.react','XMessagingForwardAttachmentController','XMessengerPlatformShareCTAController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUISpinner.react','fbglyph','requireWeak'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=c('React').PropTypes;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={bootstrappedEntries:[],entries:[],loading:true,selectedEntries:new (c('Map'))(),sendError:null,sending:false,startingThreadingID:Date.now(),query:''},this.$MessagingForwardAttachmentDialog2=function(v){var w=v.getUniqueID(),x=new (c('Map'))(this.state.selectedEntries);if(x.has(w)){x['delete'](w);}else x.set(w,v);this.setState({selectedEntries:x});}.bind(this),this.$MessagingForwardAttachmentDialog3=function(v){var w=v.target.value;this.setState({loading:true,query:w});}.bind(this),this.$MessagingForwardAttachmentDialog4=function(v){this.setState({entries:v});}.bind(this),this.$MessagingForwardAttachmentDialog5=function(v){v===this.state.query&&this.setState({loading:false});}.bind(this),this.$MessagingForwardAttachmentDialog6=function(){var v={},w=this.state.startingThreadingID;this.state.selectedEntries.forEach(function(y){v[w++]=y.getUniqueID();});if(this.props.shareType===c('MessageShareType').PLATFORM_SHARE_CTA){var x=c('XMessengerPlatformShareCTAController').getURIBuilder().getURI();new (c('AsyncRequest'))(x).setMethod('POST').setHandler(this.$MessagingForwardAttachmentDialog7).setData({cta_id:this.props.attachmentID,recipient_map:v}).send();}else{x=c('XMessagingForwardAttachmentController').getURIBuilder().getURI();new (c('AsyncRequest'))(x).setMethod('POST').setHandler(this.$MessagingForwardAttachmentDialog7).setData({attachment_id:this.props.attachmentID,recipient_map:v}).send();}this.setState({sending:true,sendError:null});}.bind(this),this.$MessagingForwardAttachmentDialog7=function(v){if(v.payload.success){this.setState({bootstrappedEntries:[],selectedEntries:new (c('Map'))(),sending:false,startingThreadID:Date.now(),query:''},this.props.onClose);return;}this.setState({sending:false,sendError:v.payload.error});}.bind(this),this.$MessagingForwardAttachmentDialog8=function(v){if(!v)this.props.onClose();}.bind(this),r;}p.prototype.componentWillMount=function(){'use strict';this.$MessagingForwardAttachmentDialog1=new (c('ChatSearchSource'))({queryRequests:[{uri:'/ajax/mercury/composer_query.php'}]});};p.prototype.componentDidMount=function(){'use strict';c('requireWeak')('OrderedFriendsList',function(q){return q.getSearchableEntries(20,function(r){this.setState({bootstrappedEntries:r,loading:false});}.bind(this));}.bind(this));};p.prototype.render=function(){'use strict';var q=j._("Envoyer"),r=null;if(this.state.sending){r=c('React').createElement('div',null,c('React').createElement(c('XUISpinner.react'),null),c('React').createElement('span',{className:"_5s0d _3-99"},j._("Envoi en cours")));}else if(this.state.sendError){var s=h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/caution-solid_16_bluegray-40.png");r=c('React').createElement('div',{className:"_5s0d"},c('React').createElement(c('Image.react'),{src:s}),c('React').createElement('span',{className:"_3-99"},this.state.sendError));}var t=j._("Rechercher des personnes et des groupes");return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,onToggle:this.$MessagingForwardAttachmentDialog8,shown:this.props.shown,width:560},c('React').createElement(c('XUIDialogTitle.react'),null,this.props.title),c('React').createElement(c('XUIDialogBody.react'),{useCustomPadding:true},c('React').createElement(c('Layout.react'),null,c('React').createElement(m,{className:"_5s0e"},c('React').createElement('div',{className:"_2ph_"},c('React').createElement(c('SearchableTextInput.react'),{className:"_5s0f autofocus",onChange:this.$MessagingForwardAttachmentDialog3,onEntriesFound:this.$MessagingForwardAttachmentDialog4,placeholder:t,queryString:this.state.query,searchSource:this.$MessagingForwardAttachmentDialog1,searchSourceOptions:{onQueryFinished:this.$MessagingForwardAttachmentDialog5}})),c('React').createElement(c('ScrollableArea.react'),{className:"_5s0g",height:400,width:360},c('React').createElement(c('MessagingRecipientTypeaheadView.react'),{entries:this.state.query?this.state.entries:this.state.bootstrappedEntries,loading:this.state.loading,selectedEntries:this.state.selectedEntries,onSelect:this.$MessagingForwardAttachmentDialog2}))),c('React').createElement(n,{className:"_5s0h"},c('React').createElement(c('ScrollableArea.react'),{height:457,shadow:false},c('React').createElement(c('MessagingRecipientSelectedList.react'),{entries:this.state.selectedEntries,onSelect:this.$MessagingForwardAttachmentDialog2}))))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:r},c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.props.onClose}),c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',disabled:!this.state.selectedEntries.size||this.state.sending,label:q,onClick:this.$MessagingForwardAttachmentDialog6}))));};p.propTypes={attachmentID:o.string.isRequired,onClose:o.func,shown:o.bool.isRequired,title:o.string.isRequired,shareType:o.string};p.defaultProps={shareType:c('MessageShareType').IMAGE};f.exports=p;}),null);
__d("XForwardingNUXSeenController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/chat\/forwarding_nux_seen\/",{});}),null);
__d('MessagingForwardingButtonNUX.react',['AsyncRequest','ChatConfig','React','XForwardingNUXSeenController','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={showNUX:!c('ChatConfig').get('seen_forwarding_nux')},this.$MessagingForwardingButtonNUX1=function(){if(!this.state.showNUX)return;c('ChatConfig').set('seen_forwarding_nux',true);new (c('AsyncRequest'))(c('XForwardingNUXSeenController').getURIBuilder().getURI()).send();this.setState({showNUX:false});}.bind(this),this.close=function(){this.$MessagingForwardingButtonNUX1();}.bind(this),m;}k.prototype.render=function(){'use strict';return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.props.contextRef,onCloseButtonClick:this.$MessagingForwardingButtonNUX1,position:'left',width:'auto',shown:this.state.showNUX},this.props.children);};k.propTypes={contextRef:j.func.isRequired};f.exports=k;}),null);
__d("XWebGraphQLQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/webgraphql\/query\/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"}});}),null);
__d('WebGraphQLQueryHelper',['XWebGraphQLQueryController'],(function a(b,c,d,e,f,g){'use strict';f.exports={getExports:function h(i){var j=i.controller,k=j===undefined?c('XWebGraphQLQueryController'):j,l=i.docID,m=i.queryID;return {getQueryID:function n(){return m;},getURI:function n(o){var p=k.getURIBuilder().setFBID('doc_id',l);if(o)p.setString('variables',JSON.stringify(o));return p.getURI();},getLegacyURI:function n(o){var p=k.getURIBuilder().setFBID('query_id',m);if(o)p.setString('variables',JSON.stringify(o));return p.getURI();}};}};}),null);
__d("MessengerThreadSharedMediaAfterWebGraphQLQuery",["WebGraphQLQueryHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLQueryHelper").getExports({docID:"862057963929327",queryID:"865890076879449"});}),null);
__d("MessengerThreadSharedMediaBeforeWebGraphQLQuery",["WebGraphQLQueryHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLQueryHelper").getExports({docID:"862057933929330",queryID:"865890050212785"});}),null);
__d("MessengerThreadSharedMediaFindWebGraphQLQuery",["WebGraphQLQueryHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLQueryHelper").getExports({docID:"841896385945485",queryID:"865890046879452"});}),null);
__d('PhotoUtils',['Event','URI'],(function a(b,c,d,e,f,g){var h={getImagesFromData:function i(j){var k=[];for(var l in j)if(l.indexOf('image')===0)k.push(j[l]);return k;},getFBIDFromData:function i(j){return j&&j.id;},getOriginalImageFromData:function i(j){return j.original||j.download_image;},getDownloadURLFromData:function i(j){var k=this.getOriginalImageFromData(j);if(!k)return null;var l=new (c('URI'))(k.uri);l.addQueryData({dl:1});return l;},getPermalinkFromData:function i(j){return j.permalink;},canViewerMakeCoverPhoto:function i(j){return !!j.can_viewer_make_cover_photo;},getCoverPhotoURLFromData:function i(j){return new (c('URI'))('/profile.php').addQueryData({preview_cover:h.getFBIDFromData(j)});},preload:function i(j,k,l){var m=j.getDimensions();for(var n=0;n<k.length;++n){var o=m.getBestFitImageFromPhoto(k[n],m.getMaxStageDimensions()),p=new Image();l&&c('Event').listen(p,'load',l.bind(null,k[n]));j.getLogger().log(o.uri);p.src=o.uri;}}};f.exports=h;}),null);
__d('ReactFragment',['invariant','ReactChildren','ReactElement','emptyFunction','warning'],(function a(b,c,d,e,f,g,h){'use strict';var i=/^\d+$/,j=false,k={create:function l(m){if(typeof m!=='object'||!m||Array.isArray(m)){c('warning')(false,'React.addons.createFragment only accepts a single object. Got: %s',m);return m;}if(c('ReactElement').isValidElement(m)){c('warning')(false,'React.addons.createFragment does not accept a ReactElement '+'without a wrapper object.');return m;}m.nodeType!==1||h(0);var n=[];for(var o in m)c('ReactChildren').mapIntoWithKeyPrefixInternal(m[o],n,o,c('emptyFunction').thatReturnsArgument);return n;}};f.exports=k;}),null);
__d('SpotlightMessagesViewerPagers.react',['cx','LeftRight.react','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){return (c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('Link.react'),{className:"_322u"+(!k.disablePrevArrow?' '+"_2bbb":'')+(' '+"_50-m")},c('React').createElement('div',{className:(!k.disablePrevArrow?"_4ksl":'')+(!k.disablePrevArrow?' '+"_4ksm":'')})),c('React').createElement(c('Link.react'),{className:"_322u"+(!k.disableNextArrow?' '+"_2bbc":'')+(' '+"_50-m")},c('React').createElement('div',{className:(!k.disableNextArrow?"_4ksl":'')+(!k.disableNextArrow?' '+"_4kso":'')}))));};f.exports=i;}),null);
__d('SpotlightViewer',['cx','React','Spotlight.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';if(!this.props.open)return null;var l="_n3";if(this.props.className)l+=' '+this.props.className;return (c('React').createElement(c('Spotlight.react'),{onBeforeHide:this.props.onBeforeHide,onHide:this.props.onHide,rootClassName:this.props.rootClassName,shown:this.props.open,key:'photoLayer'},c('React').createElement('div',{className:l,onClick:this.props.onClick},this.props.children)));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('SpotlightViewerImage',['cx','Image.react','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this.$SpotlightViewerImage3=function(){this.setState({loading:false});}.bind(this);this.state={loading:true};}k.prototype.componentWillReceiveProps=function(l){'use strict';if(l.src!==this.props.src)this.setState({loading:true});};k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_4-od"},this.$SpotlightViewerImage1(),this.$SpotlightViewerImage2());};k.prototype.$SpotlightViewerImage1=function(){'use strict';if(!this.state.loading)return null;return (c('React').createElement(c('XUISpinner.react'),{className:"_enh",size:'large'}));};k.prototype.$SpotlightViewerImage2=function(){'use strict';return (c('React').createElement('div',{className:this.state.loading?"_eni":''},c('React').createElement(c('Image.react'),{onLoad:this.$SpotlightViewerImage3,src:this.props.src,style:{width:this.props.dimensions.x,height:this.props.dimensions.y}})));};f.exports=k;}),null);
__d('SpotlightViewport',['csx','cx','Locale','Parent','React','ReactDOM','Vector','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'SpotlightViewport',propTypes:{stageDimensions:j.object.isRequired,useWidth:j.bool},PAGE_TO_PREV_PERCENTAGE:.2,sections:{NONE:null,FORWARD:1,BACKWARD:2},timer:null,getInitialState:function l(){return {currentActiveSection:this.sections.NONE,active:true};},componentDidMount:function l(){this._onMouseEnter();},componentWillUnmount:function l(){if(this.props.fadeInNOut)clearTimeout(this.timer);},_onMouseMove:function l(event){var m=c('ReactDOM').findDOMNode(this),n=c('Vector').getEventPosition(event.nativeEvent),o=c('Vector').getElementPosition(m),p=this.props.useWidth?this.props.stageDimensions.x:c('Vector').getElementDimensions(m).x;if(this.props.fadeInNOut)if(this._isMouseOverActionBars(n)){clearTimeout(this.timer);}else this._onMouseEnter();var q,r=n.x-o.x,s=r/p;if(c('Locale').isRTL()){q=s>1-this.PAGE_TO_PREV_PERCENTAGE;}else q=s<this.PAGE_TO_PREV_PERCENTAGE;if(q){this.setState({currentActiveSection:this.sections.BACKWARD});}else this.setState({currentActiveSection:this.sections.FORWARD});},_onClick:function l(event){var m=this.state.currentActiveSection==this.sections.FORWARD,n=event.target;if(!c('Parent').bySelector(n,"._51an"))this.props.onClick&&this.props.onClick(m,event);},_isMouseOverActionBars:function l(m){return m.y<70||m.y>this.props.stageDimensions.y-70;},_onMouseEnter:function l(){this.setState({active:true});if(this.props.fadeInNOut){clearTimeout(this.timer);this.timer=setTimeout(this._onMouseLeave,1000);}},_onMouseLeave:function l(){this.setState({active:false});},makeActive:function l(){this._onMouseEnter();},render:function l(){var m="_4-of"+(!this.state.active&&!this.props.active?' '+"_50-l":'')+(this.state.currentActiveSection===this.sections.BACKWARD?' '+"_516a":'')+(this.state.currentActiveSection===this.sections.FORWARD?' '+"_516b":'')+(this.props.showLoadingIndicator?' '+"_51jp":'');if(this.props.className)m=c('joinClasses')(m,this.props.className);var n={};if(this.props.stageDimensions){n={height:this.props.stageDimensions.y};if(this.props.useWidth)n.width=this.props.stageDimensions.x;}return (c('React').createElement('div',{className:m,style:n,onClick:this._onClick,onMouseMove:this._onMouseMove,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this.props.children,c('React').createElement('div',{className:"_4-og"},c('React').createElement('span',{className:"_4-oh"}),this.props.media,c('React').createElement('div',{className:"_4-oi"}))));}});f.exports=k;}),null);
__d("XMessagingPhotoDownloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/photo\/",{photo_id:{type:"String",required:true}});}),null);
__d("XMessagingShareAttachmentDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/attachments\/share\/dialog\/",{__asyncDialog:{type:"Int"}});}),null);
__d('SpotlightMercurySharedMediaViewer.react',['csx','cx','fbt','invariant','ActorURI','AsyncDialog','AsyncRequest','ChatPhotoViewFooterHScroll.react','ChatPhotoViewHeader.react','Event','FunnelLogger','KeyEventController','MessagingForwardAttachmentDialog.react','MessagingForwardingButtonNUX.react','MessengerPhotoInfoDialogContainer.react','MessengerThreadSharedMediaHelper','MessengerVideoPlayer.react','Parent','PhotoUtils','React','ReactFragment','SpotlightViewer','SpotlightViewerImage','SpotlightMessagesViewerPagers.react','SpotlightViewport','SubscriptionsHandler','Vector','XMessagingPhotoDownloadController','XMessagingShareAttachmentDialogController'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('React').PropTypes,o=88,p=30,q='WWW_MESSENGER_SHARE_TO_FB_FUNNEL',r="_4-og";l=babelHelpers.inherits(s,c('React').Component);m=l&&l.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=m.constructor).call.apply(t,[this].concat(w)),this.$SpotlightMercurySharedMediaViewer1=undefined,this.$SpotlightMercurySharedMediaViewer2=[],this.state={hasPrevPage:false,hasNextPage:false,firstPhotoLoaded:false,isLoading:false,mediaData:[],numberInOneBatch:p,photoData:null,showForward:false,showInfo:false,stageDimensions:new (c('Vector'))()},this.$SpotlightMercurySharedMediaViewer11=function(){if(!this.state.photoData)return null;return (c('React').createElement(c('ChatPhotoViewFooterHScroll.react'),{onScroll:this.$SpotlightMercurySharedMediaViewer17,photoID:this.state.photoData.node.id,sharedPhotos:this.state.mediaData,updateNumberInOneBatch:this.$SpotlightMercurySharedMediaViewer18,width:this.state.stageDimensions.x}));}.bind(this),this.$SpotlightMercurySharedMediaViewer13=function(){return this.state.showInfo?c('React').createElement(c('MessengerPhotoInfoDialogContainer.react'),{closeInfo:this.$SpotlightMercurySharedMediaViewer20,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id}):c('React').createElement('xhp',null);}.bind(this),this.$SpotlightMercurySharedMediaViewer18=function(y){this.setState({numberInOneBatch:y});}.bind(this),this.$SpotlightMercurySharedMediaViewer17=function(y){if(!this.state.mediaData||this.state.isLoading)return;var z=this.state.mediaData.findIndex(function(ba){return ba.node.legacy_attachment_id===y;});if(z<0)return;var aa=this.state.mediaData[z];this.setState({photoData:aa});this.$SpotlightMercurySharedMediaViewer21(z);}.bind(this),this.$SpotlightMercurySharedMediaViewer5=function(y,event){if(this.state.photoData==null||this.state.isLoading)return;if(event&&!!c('Parent').bySelector(event.target,"._3tsq"))return;if(event&&event.target instanceof HTMLElement&&event.target.className===r)this.$SpotlightMercurySharedMediaViewer10();var z=this.state.mediaData.findIndex(function(ba){this.state.photoData!=null||k(0);return ba.node.legacy_attachment_id===this.state.photoData.node.legacy_attachment_id;}.bind(this));if(z<0||z===this.state.mediaData.length-1&&!this.state.hasNextPage&&y)return;if(z===0&&!y){this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer7(this.state.photoData,1,function(ba){if(ba===0)return;this.$SpotlightMercurySharedMediaViewer5(y);}.bind(this));}.bind(this));return;}var aa=y?this.state.mediaData[z+1]:this.state.mediaData[z-1];this.setState({photoData:aa});this.$SpotlightMercurySharedMediaViewer21(z);}.bind(this),this.$SpotlightMercurySharedMediaViewer21=function(y){var z=this.state.numberInOneBatch,aa=this.state.mediaData;if(y<=z/2){this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer7(aa[0],z,function(){});}.bind(this));}else if(y>=aa.length-z/2&&this.state.hasNextPage)this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer6(aa[aa.length-1],z,function(){});}.bind(this));}.bind(this),this.$SpotlightMercurySharedMediaViewer10=function(){if(this.props.photoID===null)return;this.setState({photoData:null});this.props.onClosePhotoView();}.bind(this),this.$SpotlightMercurySharedMediaViewer15=function(){this.setState({showForward:true});this.refs.forwardNUX.close();}.bind(this),this.$SpotlightMercurySharedMediaViewer19=function(){this.setState({showForward:false});}.bind(this),this.$SpotlightMercurySharedMediaViewer14=function(){this.setState({showInfo:true});}.bind(this),this.$SpotlightMercurySharedMediaViewer20=function(){this.setState({showInfo:false});}.bind(this),this.$SpotlightMercurySharedMediaViewer16=function(){this.setState({showForward:false,showInfo:false});this.refs.forwardNUX.close();c('FunnelLogger').appendAction(q,'click');var y=this.state.photoData;if(!y||y.node.__typename!=='MessageImage')return;var z=y.node.legacy_attachment_id,aa=c('XMessagingShareAttachmentDialogController').getURIBuilder().getURI(),ba=new (c('AsyncRequest'))(aa).setData({attachment_id:z}).setMethod('POST');c('AsyncDialog').send(ba);}.bind(this),this.$SpotlightMercurySharedMediaViewer4=function(y){var z=c('MessengerThreadSharedMediaHelper').search(this.props.threadID,String(y),function(aa){return this.$SpotlightMercurySharedMediaViewer22(aa,0,function(){});}.bind(this));this.$SpotlightMercurySharedMediaViewer2.push(z);}.bind(this),this.$SpotlightMercurySharedMediaViewer6=function(y,z,aa){var ba=c('MessengerThreadSharedMediaHelper').loadMorePrevious(this.props.threadID,y.cursor,z||1,function(ca){return this.$SpotlightMercurySharedMediaViewer22(ca,1,aa);}.bind(this));this.$SpotlightMercurySharedMediaViewer2.push(ba);}.bind(this),this.$SpotlightMercurySharedMediaViewer7=function(y,z,aa){var ba=y?y.cursor:null,ca=c('MessengerThreadSharedMediaHelper').loadMoreLatest(this.props.threadID,ba,z||1,function(da){return this.$SpotlightMercurySharedMediaViewer22(da,-1,aa);}.bind(this));this.$SpotlightMercurySharedMediaViewer2.push(ca);}.bind(this),this.$SpotlightMercurySharedMediaViewer22=function(y,z,aa){var ba=Object.keys(y)[0],ca=y[ba].message_shared_media,da=ca.page_info,ea=ca.edges.length;if(ea!==0){var fa=this.state.mediaData;switch(z){case 0:this.setState({photoData:ca.edges[0],mediaData:[ca.edges[0]],firstPhotoLoaded:true});break;case 1:fa=fa.concat(ca.edges);this.setState({hasNextPage:da.has_next_page,mediaData:fa});break;case -1:fa=ca.edges;fa=fa.concat(this.state.mediaData);this.setState({mediaData:fa,hasPrevPage:da.has_previous_page});break;}}this.setState({isLoading:false});aa(ea);}.bind(this),this.$SpotlightMercurySharedMediaViewer3=function(){var y=new (c('Vector'))(c('Vector').getViewportDimensions().x,c('Vector').getViewportDimensions().y-o);return y;},this.$SpotlightMercurySharedMediaViewer8=function(){if(this.state.photoData&&this.state.photoData.node){var y=this.state.photoData.node;if(y.__typename&&y.__typename==='MessageVideo')return this.$SpotlightMercurySharedMediaViewer23();var z=this.state.stageDimensions,aa=this.$SpotlightMercurySharedMediaViewer24(y,z);if(!aa)return null;var ba=s.getImageDimensionsForStage(new (c('Vector'))(aa.width,aa.height),z);return this.$SpotlightMercurySharedMediaViewer25(aa,ba);}else return null;}.bind(this),this.$SpotlightMercurySharedMediaViewer25=function(y,z){return (c('React').createElement(c('SpotlightViewerImage'),{dimensions:z,ref:'image',src:y.uri}));},this.$SpotlightMercurySharedMediaViewer24=function(y,z){var aa=null,ba=c('PhotoUtils').getImagesFromData(y);ba=ba.sort(function(da,ea){return ea.width-da.width;});if(window.devicePixelRatio&&window.devicePixelRatio>1)z=new (c('Vector'))(z.x*window.devicePixelRatio,z.y*window.devicePixelRatio);for(var ca=0;ca<ba.length;ca++)if(!aa||ba[ca].width>=z.x||ba[ca].height>=z.y)aa=ba[ca];return aa;},u;}s.prototype.componentDidMount=function(){this.setState({isLoading:true,stageDimensions:this.$SpotlightMercurySharedMediaViewer3()},function(){return this.$SpotlightMercurySharedMediaViewer4(this.props.photoID);}.bind(this));this.$SpotlightMercurySharedMediaViewer1=new (c('SubscriptionsHandler'))();this.$SpotlightMercurySharedMediaViewer1.addSubscriptions(c('Event').listen(window,'resize',function(){this.setState({stageDimensions:this.$SpotlightMercurySharedMediaViewer3()});}.bind(this)),c('KeyEventController').registerKey('LEFT',function(){this.$SpotlightMercurySharedMediaViewer5(false);return false;}.bind(this)),c('KeyEventController').registerKey('RIGHT',function(){this.$SpotlightMercurySharedMediaViewer5(true);return false;}.bind(this)));if(this.props.enableShareToFB)c('FunnelLogger').startFunnel(q);};s.prototype.componentWillUpdate=function(t,u){if(u.firstPhotoLoaded!==this.state.firstPhotoLoaded)this.setState({isLoading:true},function(){this.$SpotlightMercurySharedMediaViewer6(u.photoData,u.numberInOneBatch,function(){});this.$SpotlightMercurySharedMediaViewer7(u.photoData,u.numberInOneBatch,function(){});}.bind(this));if(u.numberInOneBatch!=this.state.numberInOneBatch&&!u.isLoading)this.setState({isLoading:true},function(){return this.$SpotlightMercurySharedMediaViewer6(u.mediaData[u.mediaData.length-1],u.numberInOneBatch,function(){});}.bind(this));};s.prototype.componentWillUnmount=function(){this.$SpotlightMercurySharedMediaViewer1&&this.$SpotlightMercurySharedMediaViewer1.release();this.$SpotlightMercurySharedMediaViewer1=null;this.$SpotlightMercurySharedMediaViewer2.forEach(function(t){return t.abandon();});};s.prototype.render=function(){var t=this.$SpotlightMercurySharedMediaViewer8(),u=this.state.stageDimensions,v=this.state.isLoading||this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var w=this.state.mediaData.findIndex(function(y){this.state.photoData!=null||k(0);return y.node.id===this.state.photoData.node.id;}.bind(this)),x=c('React').createElement('div',null,this.$SpotlightMercurySharedMediaViewer9(),this.props.disablepaging?null:c('React').createElement(c('SpotlightMessagesViewerPagers.react'),{disablePrevArrow:w<=0&&!this.state.hasPrevPage,disableNextArrow:!this.state.hasNextPage&&w>=this.state.mediaData.length-1}));return c('React').createElement('span',null,c('React').createElement(c('SpotlightViewer'),{className:"_53vs",onHide:this.$SpotlightMercurySharedMediaViewer10,open:this.props.photoID!==null,ref:'spotlightViewer',rootClassName:this.props.rootClassName},c('React').createElement(c('SpotlightViewport'),{active:false,fadeInNOut:true,media:t,onClick:this.$SpotlightMercurySharedMediaViewer5,ref:'viewport',showLoadingIndicator:v,stageDimensions:u,useWidth:true},x),this.$SpotlightMercurySharedMediaViewer11()),this.$SpotlightMercurySharedMediaViewer12(),this.$SpotlightMercurySharedMediaViewer13());};s.prototype.$SpotlightMercurySharedMediaViewer9=function(){if(!this.state.photoData)return null;var t=this.state.photoData,u=t.node.legacy_attachment_id,v=c('XMessagingPhotoDownloadController').getURIBuilder().setString('photo_id',u).getURI();if(this.props.actorid)v=c('ActorURI').create(v,this.props.actorid);var w=this.props.enableShareToFB&&t.node.__typename==='MessageImage';return c('React').createElement(c('ChatPhotoViewHeader.react'),{disableForward:this.props.disableForward,enableShareToFB:w,onClose:this.$SpotlightMercurySharedMediaViewer10,openInfo:this.$SpotlightMercurySharedMediaViewer14,ref:'photoviewheader',showForwardDialog:this.$SpotlightMercurySharedMediaViewer15,showShareDialog:this.$SpotlightMercurySharedMediaViewer16,url:v});};s.prototype.$SpotlightMercurySharedMediaViewer12=function(){if(!this.state.photoData)return null;var t=j._("Transf\u00e9rer dans des messages s\u00e9par\u00e9s");return c('ReactFragment').create({forwardDialog:c('React').createElement(c('MessagingForwardAttachmentDialog.react'),{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$SpotlightMercurySharedMediaViewer19,shown:this.state.showForward,title:t}),forwardButtonNUX:c('React').createElement(c('MessagingForwardingButtonNUX.react'),{contextRef:function(){return this.refs.forwardButton;}.bind(this),ref:'forwardNUX'},j._("Envoyer cette image \u00e0 d\u2019autres personnes dans des messages s\u00e9par\u00e9s."))});};s.prototype.$SpotlightMercurySharedMediaViewer23=function(){if(this.state.photoData)return c('React').createElement(c('MessengerVideoPlayer.react'),{isVisible:true,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions});return null;};s.propTypes={disableForward:n.bool,enableShareToFB:n.bool,onClosePhotoView:n.func,photoID:n.string,rootClassName:n.string,threadID:n.string};s.getImageDimensionsForStage=function(t,u){var v=t.x,w=t.y,x=u.x,y=u.y,z=v/w,aa=x/y;if(v>=x||w>=y){if(aa<z){v=x;w=Math.round(x/z);}else if(aa>z){v=Math.round(y*z);w=y;}else{v=x;w=y;}}else if(z<aa){v=Math.round(w*z);}else w=Math.round(v/z);return new (c('Vector'))(v,w);};f.exports=s;}),null);
__d("XVideoQualitySurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/quality_survey\/",{videoid:{type:"String"},__asyncDialog:{type:"Int"}});}),null);
__d('VideoPlayButton',['AsyncRequest','CSS','EventListener','VideoDisplayTimePlayButton','XVideoQualitySurveyController'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.$VideoPlayButton1=i;this.$VideoPlayButton2=j;if(k){this.$VideoPlayButton3=k.hiddenAfterFinish;this.$VideoPlayButton4=k.hiddenWhilePaused;this.$VideoPlayButton5=!!k.hiddenInFallback;this.$VideoPlayButton6=k.spherical;}var l=c('VideoDisplayTimePlayButton').getClicked(this.$VideoPlayButton2);c('VideoDisplayTimePlayButton').unregister(this.$VideoPlayButton2);i.addListener('beginPlayback',this.$VideoPlayButton7.bind(this));i.addListener('finishPlayback',this.$VideoPlayButton8.bind(this));i.addListener('pausePlayback',this.$VideoPlayButton9.bind(this));i.addListener('buffering',this.$VideoPlayButton10.bind(this));i.addListener('buffered',this.$VideoPlayButton11.bind(this));i.addListener('stateChange',this.$VideoPlayButton12.bind(this));i.addListener('playRequested',this.$VideoPlayButton13.bind(this));i.addListener('VideoChannelController/exitChannel',this.$VideoPlayButton14.bind(this));i.addListener('clickVideo',this.$VideoPlayButton15.bind(this));c('EventListener').listen(this.$VideoPlayButton2,'click',this.$VideoPlayButton16.bind(this));if(k&&k.hiddenWhileLoading)c('CSS').show(this.$VideoPlayButton2);if(l)this.$VideoPlayButton16();}h.prototype.$VideoPlayButton12=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))if(this.$VideoPlayButton5||this.$VideoPlayButton1.getIsInChannel()){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton7=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton9=function(){'use strict';if(this.$VideoPlayButton4)return;c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton13=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton14=function(){'use strict';if(this.$VideoPlayButton1.isState('paused')&&(!this.$VideoPlayButton4||this.$VideoPlayButton6)||this.$VideoPlayButton1.isState('finished')&&!this.$VideoPlayButton3)c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton8=function(){'use strict';var i=this.$VideoPlayButton1.getOption('Looping','isLooping');if(this.$VideoPlayButton3||this.$VideoPlayButton1.getIsInChannel()||i){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);if(!this.$VideoPlayButton1.getIsInChannel()&&!this.$VideoPlayButton1.isAd()&&!this.$VideoPlayButton1.hasOption('WatchAndScroll','isActive')&&!this.$VideoPlayButton1.isMuted()){var j=c('XVideoQualitySurveyController').getURIBuilder().setString('videoid',this.$VideoPlayButton1.getVideoID()).getURI(),k=new (c('AsyncRequest'))().setURI(j);k.send();}};h.prototype.$VideoPlayButton10=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton11=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton16=function(){'use strict';this.$VideoPlayButton1.clickVideo();};h.prototype.$VideoPlayButton15=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};f.exports=h;}),null);