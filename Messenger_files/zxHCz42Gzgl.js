if (self.CavalryLogger) { CavalryLogger.start_js(["rhvXz"]); }

__d('ReactLayeredComponentMixin_DEPRECATED',['ExecutionEnvironment','ReactInstanceMap','ReactCurrentOwner','React','ReactDOM','ReactFragment','renderSubtreeIntoContainer'],(function a(b,c,d,e,f,g){'use strict';var h={componentWillMount:function i(){if(c('ExecutionEnvironment').canUseDOM)this._layersContainer=document.createElement('div');},componentDidMount:function i(){this._renderLayersIntoContainer();},componentDidUpdate:function i(){this._renderLayersIntoContainer();},componentWillUnmount:function i(){c('ReactDOM').unmountComponentAtNode(this._layersContainer);},_renderLayersIntoContainer:function i(){c('ReactCurrentOwner').current=c('ReactInstanceMap').get(this);var j;try{j=this.renderLayers();}finally{c('ReactCurrentOwner').current=null;}if(j&&!Array.isArray(j)&&!c('React').isValidElement(j))j=c('ReactFragment').create(j);c('renderSubtreeIntoContainer')(this,c('React').createElement('div',null,j),this._layersContainer);}};f.exports=h;}),null);
__d('MessengerForwardAttachmentDialog.react',['ix','cx','fbt','AsyncRequest','CurrentUser','Image.react','immutable','LayerFadeOnHide','MessageShareType','MessengerComposeViewHeader.react','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerSpinner.react','React','XMessagingForwardAttachmentController','XMessengerPlatformShareCTAController','emptyFunction','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('messengerDialogBodyReact').comp,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={recipients:c('immutable').List(),sendError:null,sending:false,startingThreadingID:Date.now()},this.$MessengerForwardAttachmentDialog3=function(u){this.setState({recipients:this.state.recipients.push(u)});}.bind(this),this.$MessengerForwardAttachmentDialog4=function(u){var v=this.state.recipients;this.setState({recipients:v['delete'](v.indexOf(u))});}.bind(this),this.$MessengerForwardAttachmentDialog2=function(){this.setState({recipients:c('immutable').List()});}.bind(this),this.$MessengerForwardAttachmentDialog5=function(){var u={},v=this.state.startingThreadingID;this.state.recipients.forEach(function(x){u[v++]=x.getUniqueID();});if(this.props.shareType===c('MessageShareType').PLATFORM_SHARE_CTA){var w=c('XMessengerPlatformShareCTAController').getURIBuilder().getURI();new (c('AsyncRequest'))(w).setMethod('POST').setHandler(this.$MessengerForwardAttachmentDialog6).setData({cta_id:this.props.attachmentID,recipient_map:u}).send();}else{w=c('XMessagingForwardAttachmentController').getURIBuilder().getURI();new (c('AsyncRequest'))(w).setMethod('POST').setHandler(this.$MessengerForwardAttachmentDialog6).setData({attachment_id:this.props.attachmentID,recipient_map:u}).send();}this.setState({sending:true,sendError:null});}.bind(this),this.$MessengerForwardAttachmentDialog6=function(u){if(u.payload.success){this.props.onClose&&this.props.onClose();this.setState({recipients:c('immutable').List(),sending:false,startingThreadingID:Date.now()});return;}this.setState({sending:false,sendError:u.payload.error});}.bind(this),this.$MessengerForwardAttachmentDialog1=function(u){if(!u)this.props.onClose&&this.props.onClose();}.bind(this),q;}o.prototype.getDefaultProps=function(){'use strict';return {shareType:c('MessageShareType').IMAGE};};o.prototype.render=function(){'use strict';var p=j._("Envoyer"),q;if(this.state.sending){q=c('React').createElement('div',null,c('React').createElement(c('MessengerSpinner.react'),null),c('React').createElement('span',{className:"_1e1n _3-99"},j._("Envoi en cours")));}else if(this.state.sendError){var r=h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/caution-solid_16_bluegray-40.png");q=c('React').createElement('div',{className:"_1e1n"},c('React').createElement(c('Image.react'),{src:r}),c('React').createElement('span',{className:"_3-99"},this.state.sendError));}return c('React').createElement(c('MessengerDialog.react'),{shown:this.props.shown,behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,onToggle:this.$MessengerForwardAttachmentDialog1,width:560},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,this.props.title)),c('React').createElement(m,null,c('React').createElement(c('MessengerComposeViewHeader.react'),{className:"_1e1o",forceHideClearButton:false,onClear:this.$MessengerForwardAttachmentDialog2,onAddRecipient:this.$MessengerForwardAttachmentDialog3,onRemoveRecipient:this.$MessengerForwardAttachmentDialog4,onResize:c('emptyFunction'),recipients:this.state.recipients,viewer:c('CurrentUser').getID()})),c('React').createElement(c('MessengerDialogFooter.react'),{leftContent:q},c('React').createElement(c('MessengerDialogCancelButton.react'),{onClick:this.props.onClose}),c('React').createElement(c('MessengerDialogButton.react'),{action:'confirm',disabled:!this.state.recipients.size||this.state.sending,label:p,onClick:this.$MessengerForwardAttachmentDialog5,type:'primary'})));};o.propTypes={attachmentID:n.string.isRequired,onClose:n.func,shown:n.bool.isRequired,title:n.node.isRequired,shareType:n.string};f.exports=o;}),null);
__d('getPageIDFromThreadID',['FBID','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('MercuryIDs').getUserIDFromThreadID(i);if(!j||c('FBID').isUser(j))return null;return j;}f.exports=h;}),null);