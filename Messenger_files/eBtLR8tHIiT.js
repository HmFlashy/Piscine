if (self.CavalryLogger) { CavalryLogger.start_js(["Dg0AN"]); }

__d("CollectionCurationReferrerParamNames",[],(function a(b,c,d,e,f,g){f.exports={CLICK_REF:"cref"};}),null);
__d("CollectionCurationReferrerTags",[],(function a(b,c,d,e,f,g){f.exports={OG_COLLECTION_LINK:1,EGO_REPORT_LINK:2,EGO_REPORT_PLUS_BUTTON:3,EGO_REPORT_HEADER:4,NETEGO_COLLECTION_HEADER:5,NETEGO_COLLECTION_RATING_HEADER:6,SOCIAL_CONTEXT_FACEPILE:7,SOCIAL_PLUS_BUTTON:8,NEWSFEED_QUESTION_LINK:9,EGO_REPORT_NUX_LINK:12,NETEGO_TOP100_HEADER:13,NETEGO_TOP100_STATUSBOX:14,WELCOME_PAGE_LINK:15,SAVED_BOOKMARK:16,ENT_PAGE_ACTION_BAR:17,SAVED_COLLECTION_HEADER:18,COLLECTION_CURATION_FOOTER:19,STORY_ATTACHMENT_FOOTER:20,MOBILE_SAVE_BUTTON_FLYOUT:21,DESKTOP_SAVE_BUTTON_FLYOUT:22,MOBILE_STORY_SAVE_BUTTON_FLYOUT:23,MOBILE_NETEGO_SAVE_BUTTON_FLYOUT:24,MOBILE_PAGE_SAVE_BUTTON_FLYOUT:25,MOBILE_NETEGO_SEE_ALL_LINK:26,MOBILE_PAGE_TOAST_LINK:27,DESKTOP_SAVED_BOOKMARK:28,MOBILE_SAVED_BOOKMARK:29,REMINDER_BOX_TITLE:30,REMINDER_BOX_SEE_ALL_LINK:31,REMINDER_BOX_SEE_MORE_LINK:32,SEARCH_SHORTCUT:33,PAPER_SAVED_TAB:34,DESKTOP_SAVED_FOLLOWUP:35,MOBILE_DUMMY_STORY_SEE_ALL_LINK:36,SAVED_VIDEOS_DUMMY_STORY_SEE_ALL_LINK:37,SAVED_EMAIL_REMINDER:38,MBASIC_SAVED_BOOKMARK:39,MOBILE_PRODUCT_DETAILS_SAVE_BUTTON_FLYOUT:40,DESKTOP_PRODUCT_DETAILS_SAVE_BUTTON_FLYOUT:41,SAVED_NEAR_PLACE_NOTIF:42,SAVED_HEAVY_REMINDER_NOTIF:43,SAVED_COLLECTION_HEADER_DROPDOWN:44,SAVED_DASHBOARD_IN_APP_BROWSER:45,SAVED_DASHBOARD_ME_TAB_SEE_MORE:46,SAVED_ME_TAB_SECTION_HEADER:47,SAVED_PRODUCTS_NOTIF:48,SAVED_PLUGIN_OVERLAY:49,SAVED_NEWSFEED_ENTRY_POINT:50,AIRPORT_SAVED_PLACE_NOTIF:51,SAVED_OFF_FB_NOTIF:52,SAVED_TOAST_RECENT_ITEM_COUNT:53,VIDEO_DOWNLOAD_FINISHED_NOTIF:54,VIDEO_DOWNLOAD_QUOTA_EXCEEDED:55,DAILY_DIALOGUE_PINNED_UNIT:56,SAVED_LIGHT_REMINDER_NOTIF:57,DESKTOP_DUMMY_STORY_SEE_ALL_LINK:58,SAVED_DASHBOARD_IN_APP_BROWSER_MESSENGER:59,MESSENGER_DOT_COM_SAVE_CONFIRMATION:60,VIDEO_DOWNLOAD_LOCAL_PUSH_NOTIF:61,VIDEO_DOWNLOAD_FEED_ROW:62,INLINE_DOWNLOAD:63,SAVED_VIDEOS_REMINDER_NOTIF:64};}),null);
__d("MessageBorderType",[],(function a(b,c,d,e,f,g){f.exports={FLOWERS:"flowers"};}),null);
__d("MessageCustomizationType",[],(function a(b,c,d,e,f,g){f.exports={BORDER:"border"};}),null);
__d("SavedStateActions",[],(function a(b,c,d,e,f,g){f.exports={NONE:"NONE",SAVE:"SAVE",UNSAVE:"UNSAVE",ARCHIVE:"ARCHIVE",UNARCHIVE:"UNARCHIVE",REMOVE_FROM_ARCHIVE:"REMOVE_FROM_ARCHIVE"};}),null);
__d("TextWithEntitiesMetadataType",[],(function a(b,c,d,e,f,g){f.exports={NONE:0,CONCEPT:1,INTENT:2};}),null);
__d("URLMatcherConfig",[],(function a(b,c,d,e,f,g){f.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09b0\u09a4|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|wales|vuelos|vu|voyage|voto|voting|vote|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\u00f6gensberatung|verm\u00f6gensberater|verisign|ventures|vegas|ve|vc|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|ru|rsvp|rs|room|rodeo|rocks|rocher|ro|rip|rio|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|philips|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|pa|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|na|mz|my|mx|mw|mv|mutuelle|mutual|museum|mu|mtr|mtpc|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moscow|mortgage|mormon|mopar|montblanc|money|monash|mom|moi|moe|moda|mobily|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mcdonalds|mcd|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|in|immobilien|immo|imdb|imamat|im|il|ikano|iinet|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|htc|ht|hsbc|hr|how|house|hotmail|hoteles|hot|hosting|host|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|genting|gent|gea|ge|gdn|gd|gbiz|gb|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|ec|eat|earth|dz|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|crs|crown|cricket|creditunion|creditcard|credit|cr|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catering|cat|casino|cash|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|boutique|bot|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|ar|aquarelle|aq|apple|app|apartments|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"};}),null);
__d('EmployeeLinkMatcher',['CurrentUser'],(function a(b,c,d,e,f,g){'use strict';var h=new RegExp('^[\\s.,:]'),i=new RegExp('(?:\\b)([BDTPSX]\\d{4,})(?:\\b)','im'),j=new RegExp('(?:\\b)(designpack:\/\/.+)(?:\\b)','im'),k=function n(o){if(!c('CurrentUser').isEmployee())return null;var p=i.exec(o)||j.exec(o);if(p===null)return null;return {lnk:p[1],idx:p.index+(h.exec(p[0])?1:0)};},l=function n(o){var p=c('CurrentUser').isEmployee()&&(i.exec(o)!==null||j.exec(o)!==null);return p;},m={match:k,isMatch:l};f.exports=m;}),null);
__d('EmployeeLinkRanges',['EmployeeLinkMatcher'],(function a(b,c,d,e,f,g){'use strict';var h={PHABRICATOR_PREFIX:'https://phabricator.intern.facebook.com/',TASKS_PREFIX:'https://our.intern.facebook.com/intern/tasks/?t=',BUSINESS_PREFIX:'https://our.intern.facebook.com/intern/business/?q=',SEV_PREFIX:'https://our.intern.facebook.com/intern/sevmanager/view/s/',CHRONOS_PREFIX:'https://our.intern.facebook.com/intern/chronos/lucky/?query=',get:function i(j){var k=arguments.length<=1||arguments[1]===undefined?0:arguments[1],l=j.substr(k),m=c('EmployeeLinkMatcher').match(l);if(!m)return [];var n=m.lnk;k+=m.idx;var o='';switch(n[0].toLowerCase()){case 'd':if(n.indexOf('designpack://')===0){o=n;}else o=this.PHABRICATOR_PREFIX+n.toUpperCase();break;case 'p':o=this.PHABRICATOR_PREFIX+n.toUpperCase();break;case 't':o=this.TASKS_PREFIX+n.substr(1);break;case 'b':o=this.BUSINESS_PREFIX+n.substr(1);break;case 's':o=this.SEV_PREFIX+n.substr(1);break;case 'x':o=this.CHRONOS_PREFIX+n.substr(1);break;default:return [];}var p=n.length,q=[{offset:k,length:p,entity:{url:o}}];return q.concat(this.get(j,k+p));}};f.exports=h;}),null);
__d('URLMatcher',['URLMatcherConfig'],(function a(b,c,d,e,f,g){var h='!"#%&\'()*,-./:;<>?@[\\]^_`{|}',i='\u2000-\u206F\u00ab\u00bb\uff08\uff09',j='(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])',k='(?:(?:ht|f)tps?)://',l='(?:(?:'+j+'[.]){3}'+j+')',m='\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]',n='(?:\\b)www\\d{0,3}[.]',o='[^\\s'+h+i+']',p='(?:(?:(?:[.:\\-_%@]|'+o+')*'+o+')|'+m+')',q='(?::\\d+){0,1}',r='(?=[/?#])',s=c('URLMatcherConfig').tlds,t='(?:'+'(?:'+k+p+q+')|'+'(?:'+l+q+')|'+'(?:'+m+q+')|'+'(?:'+n+p+s+q+')|'+'(?:'+p+s+q+r+')'+')',u='[/#?]',v='\\([^\\s()<>]+\\)',w='[^\\s()<>?#]+',x=new RegExp(t,'im'),y='^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]',z=new RegExp(y,'im'),aa='(?:'+'(?:'+u+')'+'(?:'+'(?:'+v+'|'+w+')*'+')*'+')*',ba=new RegExp('('+'(?:'+t+')'+'(?:'+aa+')'+')','im'),ca=new RegExp('('+'(?:'+k+p+q+')|'+'(?:'+n+p+s+q+')'+')'),da=/[\s'";]/,ea=new RegExp(u,'im'),fa=new RegExp('[\\s!"#%&\'()*,./:;<>?@[\\]^`{|}\u00ab\u00bb\u2000-\u206F\uff08\uff09]','im'),ga=new RegExp('[\\s()<>?#]','im'),ha=new RegExp('\\s()<>'),ia=function pa(qa){if(qa&&qa.indexOf('@')!=-1){return ca.exec(qa)?qa:null;}else return qa;},ja=function pa(qa){return ka(qa,ba);},ka=function pa(qa,ra){var sa=(ra.exec(qa)||[])[1]||null;return ia(sa);},la=function pa(qa){return x.exec(qa);},ma=function pa(qa){return !da.test(qa.charAt(qa.length-1));},na=function pa(qa){do{var ra=x.exec(qa);if(!ra)return null;var sa=false;if(ra[0][0]==='['&&ra.index>0&&qa[ra.index-1]==='@'){var ta=z.exec(ra[0]);if(ta){sa=true;qa=qa.substr(ra.index+ta[0].length);}}}while(sa);var ua=qa.substr(ra.index+ra[0].length);if(ua.length===0||!ea.test(ua[0]))return ia(ra[0]);var va=0,wa=0,xa=1,ya=0,za=wa;for(var ab=1;ab<ua.length;ab++){var bb=ua[ab];if(za===wa){if(bb==='('){ya=ya+1;za=xa;}else if(ea.test(bb)||!fa.test(bb)){va=ab;}else if(ga.test(bb))break;}else if(bb==='('){ya=ya+1;}else if(bb===')'){ya=ya-1;if(ya===0){za=wa;va=ab;}}else if(ha.test(bb))break;}return ia(ra[0]+ua.substring(0,va+1));},oa={};oa.permissiveMatch=ja;oa.matchToPattern=ka;oa.matchHost=la;oa.trigger=ma;oa.match=na;f.exports=oa;}),null);
__d('URLScraper',['ArbiterMixin','DataStore','Event','URLMatcher','mixin'],(function a(b,c,d,e,f,g){var h,i,j='scraperLastPermissiveMatch';h=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function k(l,m){'use strict';i.constructor.call(this);this.input=l;this.enable();this.getValueFn=m;}k.prototype.reset=function(){'use strict';c('DataStore').set(this.input,j,null);};k.prototype.enable=function(){'use strict';if(this.events)return;var l=function m(n){setTimeout(this.check.bind(this,n),30);};this.events=c('Event').listen(this.input,{paste:l.bind(this,false),keydown:l.bind(this,true)});};k.prototype.disable=function(){'use strict';if(!this.events)return;for(var event in this.events)this.events[event].remove();this.events=null;};k.prototype.check=function(l){'use strict';var m=this.getValueFn?this.getValueFn():this.input.value;if(l&&k.trigger(m))return;var n=k.match(m),o=c('URLMatcher').permissiveMatch(m);if(o&&o!=c('DataStore').get(this.input,j)){c('DataStore').set(this.input,j,o);this.inform('match',{url:n||o,alt_url:o});}};Object.assign(k,c('URLMatcher'));f.exports=k;}),null);
__d('getURLRanges',['URI','URLScraper','UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=arguments.length<=1||arguments[1]===undefined?0:arguments[1],k=i.substr(j),l=c('URLScraper').match(k);if(!l)return [];var m=l;if(!/^[a-z][a-z0-9\-+.]+:\/\//i.test(l))m='http://'+l;if(!c('URI').isValidURI(m))return [];var n=k.indexOf(l),o=c('UnicodeUtils').strlen(k.substr(0,n));j+=o;var p=l.length,q=[{offset:j,length:l.length,entity:{url:m}}];return q.concat(h(i,j+p));}f.exports=h;}),null);
__d('shouldAddMRefParam',['URI','isFacebookURI'],(function a(b,c,d,e,f,g){var h=function i(j){if(!c('isFacebookURI')(j)||j.getFragment())return false;if(/^\/safetycheck\//.test(j.getPath()))return false;return true;};f.exports=h;}),null);
__d('MercuryMessageBody.react',['cx','fbt','BootloadedComponent.react','EmojiRenderer','EmoticonsList','EmoticonEmojiList','EmployeeLinkMatcher','EmployeeLinkRanges','JSResource','Link.react','MercuryConfig','MessengerSupportedEmoji','MessengerTextWithEntities.react','P2PTriggersUtils','React','TextWithEntities.react','TextWithEntitiesMetadataType','URI','URLMatcher','emptyFunction','getURLRanges','ifRequired','shouldAddMRefParam'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=function o(){m=c('emptyFunction');c('ifRequired')('ChatAppActions',function(p){p.setInitialDisplayDone();});};j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.targetBlankLinkInterpolator=function(t,u){if(u.className)return c('React').createElement('span',{className:u.className},t);if(u.id){var v={};if(!this.props.isFromViewer&&this.props.threadCustomColor)v.color=this.props.threadCustomColor;return (c('React').createElement(c('Link.react'),{className:"_ih-",href:u.url,style:v},t));}if(u.entity&&u.entity.url){var w=new (c('URI'))(u.entity.url.replace(/#+$/,''));if(c('shouldAddMRefParam')(w))w.addQueryData({__mref:'message_bubble'});return (c('React').createElement(c('Link.react'),{href:{url:w.toString(),shimhash:u.entity.shimhash},s:u.entity.s,target:'_blank'},t));}else if(!u.entity)switch(u.type){case c('TextWithEntitiesMetadataType').NONE:return (c('React').createElement('span',{className:"_2y9",title:JSON.stringify(u.data)},t));default:return t;}return t;}.bind(this),p;}n.prototype.render=function(){var o=this.props,p=o.body,q=o.ranges,r=o.metaRanges;p=p||'';if(p.startsWith('?OTR'))return (c('React').createElement('span',{className:"_89h"},i._("[message chiffr\u00e9]")));p=p.replace(/\s+$/,'');if(p.length===0)return null;var s=false,t=!!(this.props.threadID&&c('P2PTriggersUtils').canSeeTriggers(this.props.threadID)&&c('P2PTriggersUtils').getMatches(p));if(q&&q.length||r&&r.length||c('EmoticonsList').noncapturingRegexp.test(p)||c('EmojiRenderer').containsEmoji(p)||c('URLMatcher').match(p)||c('EmployeeLinkMatcher').isMatch(p)||t||c('MercuryConfig').MessengerNewEmojiGK&&(c('MessengerSupportedEmoji').findEmoji(p)||c('EmoticonEmojiList').noncapturingRegexp.test(p)))s=true;if(!s){m();return c('React').createElement('span',{className:this.props.className},p);}if(q==undefined)q=c('getURLRanges')(p);if(q==undefined){q=c('EmployeeLinkRanges').get(p);}else{q=q.concat(c('EmployeeLinkRanges').get(p));q=q.filter(function(w){return w!=undefined;});}var u={className:this.props.className,interpolator:this.targetBlankLinkInterpolator,metaRanges:this.props.metaRanges,ranges:q,renderEmoji:true,renderEmoticons:true,text:p},v=c('React').createElement(c('TextWithEntities.react'),u);m();if(t){return (c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadPlaceholder:v,bootloadLoader:c('JSResource')('TextWithEntitiesAndP2P.react').__setRef('MercuryMessageBody.react')},u,{getMessengerEmote:this.$MercuryMessageBody1,isSupportedEmoji:this.$MercuryMessageBody2,threadID:this.props.threadID})));}else if(c('MercuryConfig').MessengerNewEmojiGK){return (c('React').createElement(c('MessengerTextWithEntities.react'),u));}else return v;};n.prototype.$MercuryMessageBody2=function(o){return !!c('MessengerSupportedEmoji').emoji[o];};n.prototype.$MercuryMessageBody1=function(o){var p=c('EmoticonEmojiList').emote2emojis[o];return c('MessengerSupportedEmoji').emoji[p]?p:null;};n.propTypes={body:l.string,customLike:l.object,isFromViewer:l.bool,metaRanges:l.array,ranges:l.array,threadCustomColor:l.string,threadID:l.string};f.exports=n;}),null);
__d('MercuryMessageError.react',['cx','CurrentUser','ImmutableObject','Link.react','MercuryErrorInfo','MercuryMessageActions','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.messageResend=function(r){r.preventDefault();var s=this.props.message,t=s.error_data;if(c('MercuryErrorInfo').isTransient(t))c('MercuryMessageActions').getForFBID(this.props.authorFBID).resend(this.props.message);}.bind(this),this.$MercuryMessageError1=function(r){if(c('MercuryErrorInfo').hasErrorStatus(r)){return "_2fs2"+(' '+"_2fs3")+(c('MercuryErrorInfo').isTransient(r.error_data)?' '+"_2fs4":'')+(c('MercuryErrorInfo').isPermanent(r.error_data)?' '+"_2fs5":'');}else return "_2fs6 _2fs2";},n;}l.prototype.render=function(){var m=this.props.message,n=m.error_data;return c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.props,{href:'#',className:c('joinClasses')(this.props.className,this.$MercuryMessageError1(m)),tabIndex:c('MercuryErrorInfo').isTransient(n)?0:null,onClick:this.messageResend}),c('React').createElement('i',{className:"_2fs1"}),c('React').createElement('span',{dangerouslySetInnerHTML:{__html:this.$MercuryMessageError2(m)}}));};l.prototype.$MercuryMessageError2=function(m){var n='',o=m.error_data;if(c('MercuryErrorInfo').hasErrorStatus(m)){var p=c('MercuryErrorInfo').getMessage(o);if(p)n=p.toString();}if(typeof n==='object'&&n.__html)n=n.__html;return n;};l.propTypes={authorFBID:k.string,message:k.instanceOf(c('ImmutableObject')).isRequired};l.defaultProps={authorFBID:c('CurrentUser').getID()};f.exports=l;}),null);
__d("DOMWrapper",[],(function a(b,c,d,e,f,g){var h,i,j={setRoot:function k(l){h=l;},getRoot:function k(){return h||document.body;},setWindow:function k(l){i=l;},getWindow:function k(){return i||self;}};f.exports=j;}),null);
__d('htmlSpecialChars',[],(function a(b,c,d,e,f,g){var h=/&/g,i=/</g,j=/>/g,k=/"/g,l=/'/g;function m(n){if(typeof n=='undefined'||n===null||!n.toString)return '';if(n===false){return '0';}else if(n===true)return '1';return n.toString().replace(h,'&amp;').replace(k,'&quot;').replace(l,'&#039;').replace(i,'&lt;').replace(j,'&gt;');}f.exports=m;}),null);
__d('Flash',['DOMEventListener','DOMWrapper','QueryString','UserAgent_DEPRECATED','guid','htmlSpecialChars'],(function a(b,c,d,e,f,g){var h={},i,j=c('DOMWrapper').getWindow().document;function k(p){var q=j.getElementById(p);if(q)q.parentNode.removeChild(q);delete h[p];}function l(){for(var p in h)if(h.hasOwnProperty(p))k(p);}function m(p){return p.replace(/\d+/g,function(q){return '000'.substring(q.length)+q;});}function n(p){if(!i){if(c('UserAgent_DEPRECATED').ie()>=9)c('DOMEventListener').add(window,'unload',l);i=true;}h[p]=p;}var o={embed:function p(q,r,s,t){var u=c('guid')();q=c('htmlSpecialChars')(q).replace(/&amp;/g,'&');s=babelHelpers['extends']({allowscriptaccess:'always',flashvars:t,movie:q},s);if(typeof s.flashvars=='object')s.flashvars=c('QueryString').encode(s.flashvars);var v=[];for(var w in s)if(s.hasOwnProperty(w)&&s[w])v.push('<param name="'+c('htmlSpecialChars')(w)+'" value="'+c('htmlSpecialChars')(s[w])+'">');var x=r.appendChild(j.createElement('span')),y='<object '+(c('UserAgent_DEPRECATED').ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+q+'" '+(s.height?'height="'+s.height+'" ':'')+(s.width?'width="'+s.width+'" ':'')+'id="'+u+'">'+v.join('')+'</object>';x.innerHTML=y;var z=x.firstChild;n(u);return z;},remove:k,getVersion:function p(){var q='Shockwave Flash',r='application/x-shockwave-flash',s='ShockwaveFlash.ShockwaveFlash',t;if(navigator.plugins&&typeof navigator.plugins[q]=='object'){var u=navigator.plugins[q].description;if(u&&navigator.mimeTypes&&navigator.mimeTypes[r]&&navigator.mimeTypes[r].enabledPlugin)t=u.match(/\d+/g);}if(!t)try{t=new ActiveXObject(s).GetVariable('$version').match(/(\d+),(\d+),(\d+),(\d+)/);t=Array.prototype.slice.call(t,1);}catch(v){}return t;},getVersionString:function p(){var q=o.getVersion();return q?q.join('.'):'';},checkMinVersion:function p(q){var r=o.getVersion();if(!r)return false;return m(r.join('.'))>=m(q);},isAvailable:function p(){return !!o.getVersion();}};f.exports=o;}),null);
__d('MercuryAudioPlayer',['Arbiter','DOM','Event','Flash'],(function a(b,c,d,e,f,g){var h=200;function i(){var r=c('DOM').create('audio'),s=false;try{if(!!r.canPlayType)if(r.canPlayType('video/mp4;').replace(/^no$/,''))s=true;}finally{return s;}}function j(){return c('Flash').isAvailable();}var k=function r(){this.interval=null;this.arbiterInstance=null;this.audio=c('DOM').create('audio');c('Event').listen(this.audio,'playing',function(){this.informAttachment('playing',this.audio.currentTime);this.interval=setInterval(function(){this.informAttachment('playing',this.audio.currentTime);}.bind(this),h);}.bind(this));c('Event').listen(this.audio,'ended',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};Object.assign(k.prototype,{setAudio:function r(s,t){this.audio.setAttribute('src',s);this.arbiterInstance=t;},informAttachment:function r(s,t){if(this.arbiterInstance)this.arbiterInstance.inform(s,t);},play:function r(){this.audio.play();this.informAttachment('played');},resume:function r(){this.audio.play();this.informAttachment('played');},pause:function r(){this.audio.pause();clearInterval(this.interval);this.informAttachment('paused');},getType:function r(){return 'html5';}});var l=function r(){this.src=null;this.arbiterInstance=null;var s=c('DOM').create('div');document.body.appendChild(s);this.swf=c('Flash').embed('/swf/cigars/SoundStreamPlayer.swf',s,null,{});this.interval=null;c('Arbiter').subscribe('soundstream/finished',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};Object.assign(l.prototype,{setAudio:function r(s,t){this.src=s;this.arbiterInstance=t;},informAttachment:function r(s,t){if(this.arbiterInstance)this.arbiterInstance.inform(s,t);},play:function r(){this.swf.playSound(this.src);this.interval=setInterval(function(){var s=this.swf.getCurrentTime();this.informAttachment('playing',s);}.bind(this),h);this.informAttachment('played');},resume:function r(){this.swf.resume();this.informAttachment('played');},pause:function r(){clearInterval(this.interval);this.swf.pause();this.informAttachment('paused');},getType:function r(){return 'flash';}});function m(){if(i()){return new k();}else if(j())return new l();return false;}var n=null,o=null,p=0;function q(r,s){this.src=r;this.arbiterInstance=s;this.audio_id=++p;n!==null||(n=m());if(!n)return false;}Object.assign(q.prototype,{getType:function r(){if(!n){return false;}else return n.getType();},play:function r(s){if(s&&o==this.audio_id){n.resume();}else{this.pause();o=this.audio_id;n.setAudio(this.src,this.arbiterInstance);n.play();}},pause:function r(){n.pause();}});f.exports=q;}),null);
__d('messengerCustomColorUtils',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){j=j||{};j.backgroundColor=i;return j;}f.exports={customBubbleStyle:h};}),null);
__d('MercuryAttachmentAudioClip.react',['cssVar','cx','fbt','Arbiter','ArbiterMixin','MercuryAudioPlayer','CurrentUser','JSLogger','LeftRight.react','MercuryShareAttachmentRenderLocations','React','SubscriptionsHandler','WorkModeConfig','joinClasses','messengerCustomColorUtils','shield'],(function a(b,c,d,e,f,g,h,i,j){var k=c('React').PropTypes,l='MercuryAttachmentAudioClip/play',m='progress-bar',n=c('JSLogger').create('mercury_audio_clip'),o=c('React').createClass({displayName:'AudioClip',mixins:[c('ArbiterMixin')],propTypes:{customColor:k.string,duration:k.number,isChat:k.bool,isFromViewer:k.bool,location:k.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),onAttachmentLoad:k.func,rootClassName:k.string,showHelp:k.bool,src:k.string.isRequired,width:k.number},getInitialState:function p(){this.logged=false;return {time:0,playing:false,started:false,duration:this.props.duration,audioPlayer:new (c('MercuryAudioPlayer'))(this.props.src,this)};},componentDidMount:function p(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._subscriptionsHandler=new (c('SubscriptionsHandler'))();this._subscriptionsHandler.addSubscriptions(this.subscribe('playing',this.updateTime),this.subscribe('played',c('shield')(this.setState,this,{playing:true,started:true})),this.subscribe('paused',c('shield')(this.setState,this,{playing:false})),this.subscribe('finished',c('shield')(this.setState,this,{playing:false,started:false,time:this.props.duration})),c('Arbiter').subscribe(l,function(q,r){if(this.props.src!=r)this.setState({time:0});}.bind(this)));},componentWillUnmount:function p(){this._subscriptionsHandler&&this._subscriptionsHandler.release();},updateTime:function p(q,r){this.setState({time:r});},play:function p(){if(this.state.playing){this.state.audioPlayer.pause();}else{this.state.audioPlayer.play(this.state.started);c('Arbiter').inform(l,this.props.src);if(!this.logged){this.logged=true;n.log('play',{uid:c('CurrentUser').getID(),duration:this.props.duration});}}},_formatSeconds:function p(q){if(q){q=Math.round(q);var r=q%60;if(r<10)r='0'+r;var s=Math.floor(q/60);return s+':'+r;}else return null;},_renderPlayer:function p(q,r,s){var t=this.props.isFromViewer,u=this.props.isChat,v=c('WorkModeConfig').is_work_user,w=u&&t&&s!==m,x=v?"#373e4c":"#4080ff",y=s||x,z={width:q};if(w)c('messengerCustomColorUtils').customBubbleStyle(y,z);var aa=s&&s!==m&&!u?{color:s}:{};return (c('React').createElement('a',{className:"_1miz"+(' '+"_2e-1")+(' '+"_3_om")+(t&&u?' '+"_3e5f":''),href:'#',style:z,onClick:this.play},c('React').createElement('span',{className:"_1mi- _2e-2"},c('React').createElement('i',{className:"_1mi_ _2e-3"})),c('React').createElement('span',{style:aa,className:"_1mj0 _2e-4 _3oh-"},r),c('React').createElement('div',{className:"_1mj1 _2e-5"})));},render:function p(){var q=this.state.time,r=this.state.playing,s=this._formatSeconds(this.state.duration),t=this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER,u=this.props.width||170;if(t){var v=this.props.duration;if(v>10){u=240;}else if(v>5){u=200;}else if(v>2){u=160;}else u=120;}var w=null,x=Math.ceil(q*(u+2)/this.state.duration);if(t)x=Math.ceil(q*(u+24)/this.state.duration);if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var y=this._renderPlayer(u,s,this.props.customColor),z=this._renderPlayer(u,s,m),aa="_1mj2"+(' '+"_2e-6")+(r&&q!==0?' '+"_1mj3":'')+(r&&q===0?' '+"_4g4x":'');w=c('React').createElement('div',{className:aa},y,c('React').createElement('div',{className:"_1mj4 _2e-7",style:{width:x}},z));}else w=c('React').createElement('div',{className:"_1mj2"},c('React').createElement('div',{className:"_1miz"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('a',{className:"_1mj5",href:this.props.src},c('React').createElement('span',{className:"_3qi6"},c('React').createElement('i',{className:"_1mj6"})),c('React').createElement('span',{className:"_1mj7"},j._("Message vocal")),c('React').createElement('span',{className:"_1mj8"},s)),c('React').createElement('a',{href:this.props.src,className:"_1mj9"},c('React').createElement('i',{className:"_1mja"})))));return (c('React').createElement('div',{className:c('joinClasses')("_1mjb"+(t?' '+"_454y":''),this.props.rootClassName)},w));}});f.exports=o;}),null);
__d('Clipboard',['UserAgent'],(function a(b,c,d,e,f,g){var h={isSupported:function i(){return (document.queryCommandSupported instanceof Function&&document.queryCommandSupported('copy')&&!c('UserAgent').isBrowser('Firefox < 41')||c('UserAgent').isBrowser('Chrome >= 43'));},copy:function i(j,k){k=k||document.body;var l=true,m=document.createElement('textarea');k.appendChild(m);m.value=j;m.select();try{l=document.execCommand('copy');}catch(n){l=false;}k.removeChild(m);return l;}};f.exports=h;}),null);
__d('FBClipboardLink.react',['cx','fbt','Clipboard','DOMContainer.react','Event','React','ReactDOM','SubscriptionsHandler','Tooltip.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={copied:false,supported:c('Clipboard').isSupported()},this.$FBClipboardLink1=null,this.$FBClipboardLink2=null,this.$FBClipboardLink4=function(s){if(s.clipboardData){s.clipboardData.setData('text/html',this.props.value);s.preventDefault();}}.bind(this),this.$FBClipboardLink5=function(){if(!this.state.supported)return 'Unsupported in this browser';if(this.state.copied)return this.props.tooltipSuccess;return this.props.tooltip;}.bind(this),this.$FBClipboardLink3=function(){if(this.$FBClipboardLink2){clearTimeout(this.$FBClipboardLink2);this.$FBClipboardLink2=null;}}.bind(this),this.$FBClipboardLink7=function(){this.$FBClipboardLink2=setTimeout(this.$FBClipboardLink8,this.props.tooltipSuccessDuration);}.bind(this),this.$FBClipboardLink6=function(event){var s=c('ReactDOM').findDOMNode(this.refs.root),t=c('Clipboard').copy(this.props.value,s);this.$FBClipboardLink3();this.setState({copied:true,supported:t});this.$FBClipboardLink7();this.props.onComplete&&this.props.onComplete(t);}.bind(this),this.$FBClipboardLink8=function(){this.$FBClipboardLink3();this.setState({copied:false});}.bind(this),o;}m.prototype.componentWillUnmount=function(){'use strict';this.$FBClipboardLink3();if(this.$FBClipboardLink1)this.$FBClipboardLink1.release();};m.prototype.componentDidMount=function(){'use strict';if(this.props.type==='html'){var n=c('ReactDOM').findDOMNode(this);this.$FBClipboardLink1=new (c('SubscriptionsHandler'))();this.$FBClipboardLink1.addSubscriptions(c('Event').listen(n,'copy',this.$FBClipboardLink4));}};m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,"_xd6"),o=this.props.children||this.props.label;if(!o&&this.props.childrenDONOTUSE)o=c('React').createElement(c('DOMContainer.react'),null,this.props.childrenDONOTUSE);return c('React').createElement(c('Tooltip.react'),babelHelpers['extends']({},this.props,{ref:'root',className:n,tooltip:this.$FBClipboardLink5(),'data-pitloot-persistonclick':true,onClick:this.$FBClipboardLink6,position:this.props.position,alignH:this.props.alignment}),c('React').createElement('div',{ref:'content',className:"_xd7"},o));};m.propTypes={type:l.string,label:l.node,value:l.node.isRequired,tooltip:l.node,tooltipSuccess:l.node,tooltipSuccessDuration:l.number,onComplete:l.func,position:l.oneOf(['above','below','left','right']),alignment:l.oneOf(['left','center','right'])};m.defaultProps={tooltip:i._("Copier le texte dans le presse-papiers"),tooltipSuccess:i._("Texte copi\u00e9 dans le presse-papier"),tooltipSuccessDuration:1000,type:'string'};f.exports=m;}),null);
__d('isRTL',['UnicodeBidi','UnicodeBidiDirection'],(function a(b,c,d,e,f,g){function h(i){return c('UnicodeBidi').getDirection(i)===c('UnicodeBidiDirection').RTL;}f.exports=h;}),null);
__d('MessengerWebViewReactionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MessengerWebViewReactionsLoggerConfig',this.$MessengerWebViewReactionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MessengerWebViewReactionsLoggerConfig',this.$MessengerWebViewReactionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MessengerWebViewReactionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MessengerWebViewReactionsTypedLogger1=babelHelpers['extends']({},this.$MessengerWebViewReactionsTypedLogger1,j);return this;};h.prototype.setEmojiGroup=function(j){this.$MessengerWebViewReactionsTypedLogger1.emoji_group=j;return this;};h.prototype.setEmojiGroupCount=function(j){this.$MessengerWebViewReactionsTypedLogger1.emoji_group_count=j;return this;};h.prototype.setEvent=function(j){this.$MessengerWebViewReactionsTypedLogger1.event=j;return this;};h.prototype.setMid=function(j){this.$MessengerWebViewReactionsTypedLogger1.mid=j;return this;};h.prototype.setSenderID=function(j){this.$MessengerWebViewReactionsTypedLogger1.sender_id=j;return this;};h.prototype.setVC=function(j){this.$MessengerWebViewReactionsTypedLogger1.vc=j;return this;};var i={emoji_group:true,emoji_group_count:true,event:true,mid:true,sender_id:true,vc:true};f.exports=h;}),null);
__d('EmojiSticker.react',['cx','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();};l.prototype.render=function(){var m=this.props.emojiImage?this.props.emojiImage:c('React').createElement(c('Image.react'),{src:this.props.sourceURI});return (c('React').createElement('div',{'aria-label':this.props.emoji,className:c('joinClasses')(this.props.className,"_383m"),tabIndex:'0'},m));};function l(){i.apply(this,arguments);}l.propTypes={emoji:k.string,emojiImage:k.any,onAttachmentLoad:k.func,sourceURI:k.string.isRequired};f.exports=l;}),null);
__d('MercuryMessageCustomizations',[],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l=j.customizations;if(!l)return null;var m=l.filter(function(n){return n.customization_type===k;});return m.length>0?m[0].customization_value:null;}function i(j){var k=JSON.parse(j),l=[];Object.keys(k).forEach(function(m){l.push({customization_type:m,customization_value:k[m]});});return l;}f.exports={getCustomizationValue:h,parseCustomizations:i};}),null);
__d('MessagingFlowerBorderChecker',['MercuryConfig','MercuryMessageCustomizations','MessageBorderType','MessageCustomizationType'],(function a(b,c,d,e,f,g){'use strict';var h={shouldRenderWithFlowerBorder:function i(j){return c('MercuryConfig').WWWMessengerFlowerBorderViewer&&c('MercuryMessageCustomizations').getCustomizationValue(j,c('MessageCustomizationType').BORDER)===c('MessageBorderType').FLOWERS;}};f.exports=h;}),null);
__d('MessengerErrorAttachment.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);}k.prototype.render=function(){return (c('React').createElement('div',{className:"_1o12 _52mr"},c('React').createElement('div',{className:"_1o13"},this.props.attachment.error_msg)));};f.exports=k;}),null);
__d('MessengerFileAttachment.react',['cx','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('Link.react'),{className:"_4pcn _2uf4",target:'_blank',href:this.props.attachment.url},c('React').createElement('div',{className:"_2uf5"}),this.props.attachment.name));};function l(){i.apply(this,arguments);}l.propTypes={attachment:k.object.isRequired};f.exports=l;}),null);
__d('HotLikeSound',['MercurySoundsConfig','SoundPlayer','StickerConstants'],(function a(b,c,d,e,f,g){'use strict';var h=[c('MercurySoundsConfig').hot_like_grow_mp3_url,c('MercurySoundsConfig').hot_like_grow_ogg_url],i=[c('MercurySoundsConfig').hot_like_pop_mp3_url,c('MercurySoundsConfig').hot_like_pop_ogg_url],j=[c('MercurySoundsConfig').hot_like_outgoing_small_mp3_url,c('MercurySoundsConfig').hot_like_outgoing_small_ogg_url],k=[c('MercurySoundsConfig').hot_like_outgoing_medium_mp3_url,c('MercurySoundsConfig').hot_like_outgoing_medium_ogg_url],l=[c('MercurySoundsConfig').hot_like_outgoing_large_mp3_url,c('MercurySoundsConfig').hot_like_outgoing_large_ogg_url],m=function o(){return false;},n={setCheckSoundEnabledFunc:function o(p){m=p;},start:function o(){this._play(h);},stop:function o(){c('SoundPlayer').stop(h);},pop:function o(){this.stop();this._play(i);},snap:function o(p){this.stop();if(p===c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID)this._play(j);if(p===c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID)this._play(k);if(p===c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID)this._play(l);},_play:function o(p){if(m())c('SoundPlayer').play(p);}};f.exports=n;}),null);
__d('MessengerHotLikePreview.react',['cx','Animation','EmojiLikeConstants','EmojiLikeCxData','HotLikeSound','MercuryConfig','MessengerHotLikePreviewEvents','MessengerHotLikeSVG.react','MessengerHotLikeUtils','React','ReactDOM','StickerConstants','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerHotLikePreview5=function(){this.$MessengerHotLikePreview6=new (c('Animation'))(c('ReactDOM').findDOMNode(this));this.$MessengerHotLikePreview7(-2,2,150,1000);this.$MessengerHotLikePreview7(-4,4,100,1000);this.$MessengerHotLikePreview7(-10,10,75,1000);this.$MessengerHotLikePreview6.go();}.bind(this),this.$MessengerHotLikePreview7=function(r,s,t,u){var v=Math.floor(u/t),w=null;for(var x=0;x<v;x++){w=x%2?r:s;this.$MessengerHotLikePreview6.to('rotateZ',w).duration(t).checkpoint();}}.bind(this),this.$MessengerHotLikePreview2=function(r,s){var t=s?c('MessengerHotLikePreviewEvents').FINISH_EMOJI_ANIMATION:c('MessengerHotLikePreviewEvents').FINISH_ANIMATION;if(this.$MessengerHotLikePreview8)return;this.$MessengerHotLikePreview8=true;var u=Date.now()-this.props.since,v=null;if(this.props.customLike)v=c('MessengerHotLikeUtils').getEmojiSizeForTime(u);var w=c('MessengerHotLikeUtils').getStickerIDForTime(u);c('HotLikeSound').snap(w);var x=c('MessengerHotLikeUtils').getMetadataForHotLike(v||w);this.$MessengerHotLikePreview6.stop();var y=30,z=-10;if(w===c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID){y=0;z=0;}this.$MessengerHotLikePreview4.stop().to('width',x.width*1.2).to('height',x.height*1.2).to('rotateZ',y).duration(100).checkpoint().to('width',x.width*.9).to('height',x.height*.9).to('rotateZ',z).duration(100).checkpoint().to('width',x.width).to('height',x.height).to('rotateZ',0).duration(100).ondone(function(){c('MessengerHotLikePreviewEvents').emit(t,r,w,v);}).go();}.bind(this),this.$MessengerHotLikePreview3=function(r){c('HotLikeSound').pop();this.$MessengerHotLikePreview4.stop().to('width',0).to('height',0).duration(100).ondone(function(){c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').REMOVE,r);}).go();}.bind(this),n;}l.prototype.componentDidMount=function(){this.$MessengerHotLikePreview1=new (c('SubscriptionsHandler'))();this.$MessengerHotLikePreview1.addSubscriptions(c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP,this.$MessengerHotLikePreview2),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP_EMOJI,this.$MessengerHotLikePreview2),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').POP,this.$MessengerHotLikePreview3));c('HotLikeSound').start();this.$MessengerHotLikePreview4=new (c('Animation'))(c('ReactDOM').findDOMNode(this)).to('width',80).to('height',80).duration(3000).go();this.$MessengerHotLikePreview5();};l.prototype.componentWillUnmount=function(){this.$MessengerHotLikePreview1&&this.$MessengerHotLikePreview1.release();};l.prototype.render=function(){if(this.props.customLike){var m=this.props.customLike;if(c('MercuryConfig').MessengerNewEmojiGK)var n=c('EmojiLikeCxData').getNewEmojiData(m.emoji,c('EmojiLikeConstants').size.LARGE);var o=n?n.url:this.props.customLike.large;if(m.uri)o=m.uri;return c('React').createElement('div',{className:"_4a9g _383m",style:{backgroundImage:'url('+o+')'}});}return c('React').createElement('div',{className:"_4a9g _576q"},c('React').createElement(c('MessengerHotLikeSVG.react'),{color:this.props.customColor}));};l.propTypes={customLike:k.object,since:k.number};f.exports=l;}),null);
__d('MessengerStickerUtils',['MercuryAttachmentType'],(function a(b,c,d,e,f,g){'use strict';function h(k){return !!(k&&k.attach_type===c('MercuryAttachmentType').STICKER);}function i(k){var l=k.attachments;return !!(k.is_like_preview||k.sticker_id||l&&l.length===1&&h(l[0]));}function j(k){return k.size===1&&i(k.first());}f.exports={isStickerMessageGroup:j,isStickerMessage:i,isStickerAttachment:h};}),null);
__d('MessengerVoiceClipAttachment.react',['cx','MercuryAttachmentAudioClip.react','MercuryShareAttachmentRenderLocations','MessagingGiftWrap.react','MessagingFlowerBorder.react','React','messengerCustomColorUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.attachment,n=m.metadata.duration/1000,o=!!m.app_attribution,p={};if(this.props.customColor)p=c('messengerCustomColorUtils').customBubbleStyle(this.props.customColor,p);var q=this.props.isGiftWrapped?c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:this.props.onUnwrap}):null,r=this.props.hasFlowerBorder?c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10}):null;return (c('React').createElement('div',{className:"_hh7"+(' '+"_s1-")+(!!this.props.customColor?' '+"_5sxi":'')+(!o?' '+"_52mr":'')+(o?' '+"_mxz":'')+(' '+"_1fz8")+(o?' '+"_1-wa":'')+(' '+"_1nqp"),style:p},c('React').createElement(c('MercuryAttachmentAudioClip.react'),{customColor:this.props.customColor,src:m.url,duration:n,key:'audio:'+this.props.message.message_id,showHelp:false,width:200,location:c('MercuryShareAttachmentRenderLocations').MESSENGER,rootClassName:"_3czg"+(o?' '+"_4yjw":'')+(' '+"_2poz")+(' '+"_ui9")}),q,r));};function l(){i.apply(this,arguments);}l.propTypes={attachment:k.object.isRequired,customColor:k.string,isGiftWrapped:k.bool,message:k.object.isRequired,onUnwrap:k.func};f.exports=l;}),null);
__d("XStickerInTrayController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/stickers\/in_tray\/",{pack_id:{type:"Int",required:true}});}),null);
__d('StickersPackInTray',['Promise','AsyncRequest','RelayQL','RelayStore','XStickerInTrayController','createRelayQuery'],(function a(b,c,d,e,f,g){'use strict';var h={onIsPackInTray:function i(j,k,l){var m=c('createRelayQuery')(function(){return {children:[{children:[{calls:[{kind:'Call',metadata:{type:'StickerInterfaces'},name:'interface',value:{kind:'CallVariable',callVariableName:'stickerInterface'}},{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:10000}}],children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'StickerPack'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'PacksInTrayEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'tray_packs',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'PacksInTrayConnection'}],fieldName:'sticker_store',kind:'Field',metadata:{canHaveSubselections:true},type:'StickerStore'}],fieldName:'viewer',kind:'Query',metadata:{},name:'StickersPackInTray',type:'Viewer'};}(),{stickerInterface:k}),n=c('RelayStore').readQuery(m);n=n&&n.length>0?n[0]:null;if(n&&n.sticker_store&&n.sticker_store.tray_packs&&n.sticker_store.tray_packs.edges)return new (c('Promise'))(function(p,q){return p({in_sticker_tray:n.sticker_store.tray_packs.edges.filter(function(r){return r.node.id===j;}).length>0});}).then(l);var o=c('XStickerInTrayController').getURIBuilder().setInt('pack_id',j).getURI();return new (c('Promise'))(function(p,q){return (new (c('AsyncRequest'))(o).setHandler(function(r){return p(r.getPayload());}).setAllowCrossPageTransition(true).send());}).then(l);}};f.exports=h;}),null);
__d('isRetina',[],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){return (window.devicePixelRatio||1)>1;};}),null);
__d('MessengerAttachmentRenderer',['cx','EmojiLikeCxData','EmojiLikeUtils','EmojiSticker.react','MercuryAttachment','MercuryAttachmentType','MercuryAudioType','MercuryConfig','MercuryShareAttachment.react','MercuryShareAttachmentRenderLocations','MessagingFlowerBorder.react','MessagingFlowerBorderChecker','MessagingGiftWrap.react','MessagingGiftWrapChecker','MessengerErrorAttachment.react','MessengerFileAttachment.react','MessengerFromViewerUtils','MessengerHotLikePreview.react','MessengerHotLikeUtils','MessengerPhotosGroup.react','MessengerStickerUtils','MessengerVoiceClipAttachment.react','MessengerWebDriverTestIDs','React','Set','Sticker.react','StickerAssetType','StickerConstants','StickerInterfaces','StickersActions','StickersStoreController','StickersPackInTray','StickerUtils','StoryAttachmentStyle','XStickerAssetController','isRetina','wrapNullableForReact'],(function a(b,c,d,e,f,g,h){'use strict';var i=new (c('Set'))([c('MercuryAttachmentType').ANIMATED_IMAGE,c('MercuryAttachmentType').PHOTO,c('MercuryAttachmentType').VIDEO,c('MercuryAttachmentType').THIRDPARTYSTICKER]),j=700,k='sticker:',l='giftwrap:',m='share:',n="_1c_u",o=function q(r){return r===Object(r);},p={getAttachmentsInsideBubble:function q(r,s){var t=c('MercuryAttachment').get(r).filter(o).filter(function(u){return (!this.attachmentShouldAppearOutsideBubble(u));}.bind(this));return this._getAttachmentComponents(t,r,s);},getAttachmentsOutsideBubble:function q(r,s,t){var u=c('MercuryAttachment').get(r).filter(o).filter(function(v){return (this.attachmentShouldAppearOutsideBubble(v));}.bind(this));return this._getAttachmentComponents(u,r,s,t);},_getAttachmentComponents:function q(r,s,t,u){var v=this._getPhotosGroup(r.filter(this.isPhotoAttachment),s,t,u),w=r.filter(function(x){return !this.isPhotoAttachment(x);}.bind(this)).map(function(x){return this._getAttachmentComponent(x,s,t,u);}.bind(this));if(v)w.push(v);return w;},_getAttachmentComponent:function q(r,s,t,u){var v=u&&u.customColor,w=u&&u.onUnwrap,x=u&&u.isVisible,y=u&&u.onSelect;if(c('MessengerStickerUtils').isStickerAttachment(r))return this._getStickerComponent(r,s,v,w);if(this.isEmojiLikeAttachment(r))return this._getEmojiLikeAttachment(r,s,w);if(this.isVoiceClip(r))return this._getVoiceClip(r,s,v,w);if(this.isFileAttchment(r))return this._getFileComponent(r,s);if(this.isP2P(r)||this.isShareAttachment(r))return this._getShareAttachment(r,s,t,x,y);if(this.isErrorAttachment(r))return this._getErrorAttachment(r,s);return null;},_getStickerComponent:function q(r,s,t,u){if(s.is_like_preview)return this._maybeGiftWrapSticker(c('React').createElement(c('MessengerHotLikePreview.react'),{customColor:t,customLike:s.customLike,key:'hlp:'+s.like_preview_since,since:s.like_preview_since}),s,u);var v=r.metadata;if(!v){v=c('MessengerHotLikeUtils').getMetadataForHotLike(s.sticker_id);if(!v){v={};var w=c('StickerUtils').getScaledDimensions(c('StickerConstants').THREAD_SIZE,c('StickerConstants').THREAD_SIZE,c('StickerConstants').THREAD_SIZE),x=w.height,y=w.width;v.height=x;v.width=y;}v.stickerID=s.sticker_id;}var z=c('XStickerAssetController').getURIBuilder().setInt('sticker_id',v.stickerID),aa=null,ba=null;if(c('isRetina')()){aa=v.paddedSpriteURI2x;ba=v.spriteURI2x;}else{aa=v.paddedSpriteURI;ba=v.spriteURI;}var ca=v.stickerID.toString(),da=c('React').createElement(c('Sticker.react'),{className:"_2poz"+(' '+"_ui9")+(c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s)&&!!c('MessengerHotLikeUtils').getMetadataForHotLike(ca)?' '+"_4ue_":''),animationTrigger:'hover',customColor:t,frameCount:v.frameCount||1,frameRate:v.frameRate||c('StickerConstants').DEFAULT_FRAME_RATE,framesPerCol:v.framesPerCol||1,framesPerRow:v.framesPerRow||1,key:k+s.message_id,onStickerClick:function ea(fa,ga){c('StickersPackInTray').onIsPackInTray(fa,c('StickerInterfaces').MESSAGES,function(ha){if(ha.in_sticker_tray){c('StickersActions').selectTrayPack(fa);c('StickersActions').showStickerFlyout(s.thread_id);}else c('StickersStoreController').showStore(fa);});},packID:v.packID&&v.packID.toString(),paddedSpriteURI:aa,sourceHeight:v.height,sourceURI:z.setEnum('image_type',c('StickerAssetType').IMAGE).getURI().toString(),sourceWidth:v.width,spriteURI:ba,stickerID:ca,testID:c('MessengerWebDriverTestIDs').STICKER});return this._maybeGiftWrapSticker(da,s,u);},_getEmojiLikeAttachment:function q(r,s,t){var u=c('EmojiLikeCxData').transferSize(r.size),v=c('MercuryConfig').MessengerNewEmojiGK?c('EmojiLikeCxData').getNewEmojiData(s.body,u):null,w=v?v.emoji:undefined,x=null;if(!v){x=c('EmojiLikeUtils').getURI(s.body,u);if(!x)return this._getErrorAttachment(r,s);}var y=c('React').createElement(c('EmojiSticker.react'),{className:"_2poz _ui9",key:k+s.message_id,emoji:s.body,emojiImage:w,sourceURI:x?x:''});return this._maybeGiftWrapSticker(y,s,t);},_getShareAttachment:function q(r,s,t,u,v){var w=null;if(s&&s.platform_xmd)w=JSON.parse(s.platform_xmd);return c('React').createElement(c('MercuryShareAttachment.react'),{attachment:r.share,isSponsored:s.is_sponsored,isVisible:!!u,key:m+s.message_id,location:c('MercuryShareAttachmentRenderLocations').MESSENGER,maxWidth:j,messageID:s.message_id,mnMessageType:w&&w.template_type,onComponentLoaded:t,onSelect:v,pageID:s.author,threadID:s.thread_id});},_getVoiceClip:function q(r,s,t,u){t=c('MessengerFromViewerUtils').isFromViewer(s)?t||undefined:undefined;return (c('React').createElement(c('MessengerVoiceClipAttachment.react'),{attachment:r,customColor:t,isGiftWrapped:c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s),hasFlowerBorder:c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(s),key:'audio:'+s.message_id,message:s,onUnwrap:function(v){function w(){return v.apply(this,arguments);}w.toString=function(){return v.toString();};return w;}(function(){u&&u();})}));},_getErrorAttachment:function q(r,s){return (c('React').createElement(c('MessengerErrorAttachment.react'),{attachment:r,key:'error:'+s.message_id}));},_getPhotosGroup:function q(r,s,t,u){if(!r.length)return null;var v=u&&u.onUnwrap,w=u&&u.isVisible,x=u&&u.onSelect,y=u&&u.isPageMessage,z=c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(s),aa=c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s)&&this._rendersWithoutAttribution(r);return (c('React').createElement(c('MessengerPhotosGroup.react'),{attachments:r,className:"_2poz _52mr _ui9",count:r.length,hasFlowerBorder:z,isGiftWrapped:aa,isPageMessage:y,isVisible:!!w,key:'photos:'+s.message_id,message:s,onSelect:x,onUnwrap:function(ba){function ca(){return ba.apply(this,arguments);}ca.toString=function(){return ba.toString();};return ca;}(function(){v&&v();})}));},getVideoElem:function q(r,s){var t=s.getMessageElement(r);if(!t)return null;var u=t.getElementsByClassName(n);return u&&u.length?u[0]:t;},_rendersWithoutAttribution:function q(r){return r.length!=1||!c('MercuryAttachment').hasAttribution(r[0]);},_getFileComponent:function q(r,s){return (c('React').createElement(c('MessengerFileAttachment.react'),{attachment:r,className:"_2poz",key:'file:'+r.url}));},attachmentShouldAppearOutsideBubble:function q(r){return c('MessengerStickerUtils').isStickerAttachment(r)||this.isPhotoAttachment(r)||this.isShareAttachment(r)||this.isP2P(r)||this.isVoiceClip(r)||this.isErrorAttachment(r)||this.isEmojiLikeAttachment(r);},isPhotoAttachment:function q(r){return i.has(r.attach_type);},isPhotosGroupAttachment:function q(r){var s=r.props.attachments;return !!s&&s.length>1&&s.some(function(t){return !!t&&this.isPhotoAttachment(t);}.bind(this));},isRenderedShareAttachment:function q(r){return !!(r.key&&r.key.startsWith(m));},isFileAttchment:function q(r){return r.attach_type===c('MercuryAttachmentType').FILE;},isShareAttachment:function q(r){return !!(this._isStoryBased(r)&&!this.isP2P(r)&&(r.share.style_list.indexOf(c('StoryAttachmentStyle').SHARE)>-1||r.share.style_list.indexOf(c('StoryAttachmentStyle').FALLBACK)>-1));},isSharedVideoAttachment:function q(r){var s=r.attach_type===c('MercuryAttachmentType').SHARE&&r.share&&r.share.subattachments&&r.share.subattachments[0];return !!(s&&s.target&&s.target.video_id);},isP2P:function q(r){return !!(this._isStoryBased(r)&&r.share.style_list.indexOf(c('StoryAttachmentStyle').ORION)>-1);},_isStoryBased:function q(r){return !!(r.attach_type===c('MercuryAttachmentType').SHARE&&r.share&&r.share.style_list);},isEmojiLikeAttachment:function q(r){return r.attach_type===c('MercuryAttachmentType').EMOJI_LIKE;},isVoiceClip:function q(r){return !!r.metadata&&(r.metadata.type===c('MercuryAudioType').AudioClip||r.metadata.type===c('MercuryAudioType').VoiceMessageWithTranscript);},isVoiceClipAttachment:function q(r){var s=c('MercuryAttachment').get(r).filter(o).filter(function(t){return (this.isVoiceClip(t));}.bind(this));return !!s.length;},isP2PAttachment:function q(r){var s=c('MercuryAttachment').get(r).filter(function(t){return (o(t)&&this.isP2P(t));}.bind(this));return !!s.length;},isSingleVideoAttachment:function q(r){var s=c('MercuryAttachment').get(r).filter(o).filter(function(t){return (c('MercuryAttachment').isVideoAttachment(t));});return s.length===1;},isSharedVideoAttachmentMessage:function q(r){var s=c('MercuryAttachment').get(r).filter(o).filter(function(t){return (this.isSharedVideoAttachment(t)||this.isGenieSharedVideoAttachment(t));}.bind(this));return s.length===1;},isGenieSharedVideoAttachment:function q(r){return !!(r.attach_type===c('MercuryAttachmentType').SHARE&&r.share&&r.share.style_list.indexOf(c('StoryAttachmentStyle').GENIE_MESSAGE)>-1&&r.share.target&&r.share.target.attachment&&this.isSharedVideoAttachment(r.share.target.attachment));},isErrorAttachment:function q(r){return r.attach_type===c('MercuryAttachmentType').ERROR;},_maybeGiftWrapComponentForMessage:function q(r,s,t){var u=c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s),v=c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(s);if(!u&&!v)return r;return (c('React').createElement('div',{key:l+s.message_id},r,u?c('React').createElement(c('MessagingGiftWrap.react'),{onUnwrap:c('wrapNullableForReact')(t)}):null,v?c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10}):null));},_maybeGiftWrapSticker:function q(r,s,t){var u=c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(s),v=c('MessagingFlowerBorderChecker').shouldRenderWithFlowerBorder(s);if(!u&&!v)return r;return (c('React').createElement('div',{key:l+s.message_id},r,u?c('React').createElement(c('MessagingGiftWrap.react'),{isSticker:true,onUnwrap:c('wrapNullableForReact')(t)}):null,v?c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10}):null));}};f.exports=p;}),null);
__d('EmojiOnlyMessage.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.sourceURIs,n=0,o=m.map(function(p){n++;if(p.emoji){return c('React').createElement('span',{key:n,title:p.title},p.emoji);}else if(p.title){return c('React').createElement('span',{className:"_5qi2",key:n,style:{backgroundImage:'url('+p.url+')'},title:p.title});}else return c('React').createElement('span',{key:n},p.text);});return (c('React').createElement('div',{className:this.props.className,tabIndex:'0'},o));};function l(){i.apply(this,arguments);}l.propTypes={sourceURIs:k.arrayOf(k.shape({emoji:k.any,text:k.string,title:k.string,type:k.string.isRequired,url:k.string.isRequired})).isRequired};f.exports=l;}),null);
__d('MessengerReactionsUtil',['EmojiFormat'],(function a(b,c,d,e,f,g){'use strict';var h=[[128525],[128518],[128558],[128546],[128544],[128077],[128078]],i={};h.forEach(function(j,k){i[c('EmojiFormat').codeArrayToUnicode(j)]=k+1;});f.exports={sortFunction:function j(k,l){if(!i[k]&&!i[l]){return 0;}else if(!i[k]){return 1;}else if(!i[l])return -1;return i[k]-i[l];}};}),null);
__d('MessengerReactions.react',['cx','Bootloader','MercuryConfig','MessengerEnvironment','MessengerReactionsUtil','MessengerTextWithEmoticons.react','MessengerWebViewReactionsTypedLogger','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l='ALL';i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerReactions1=function(){var s=c('MessengerEnvironment').messengerui,t=this.props,u=t.isFromViewer,v=t.message,w=t.participants,x=v.reactions;new (c('MessengerWebViewReactionsTypedLogger'))().setEvent('open_details').setMid(v.message_id).setSenderID(v.author).setEmojiGroup(l).setEmojiGroupCount(Object.values(x).length).log();if(s){c('Bootloader').loadModules(["MessengerActions","MessengerReactionsDialog.react"],function(y,z){y.showDialog(z,{isFromViewer:u,participants:w,message:v});},'MessengerReactions.react');}else c('Bootloader').loadModules(["ChatReactionsDialog"],function(y){y.show(v,w,u);},'MessengerReactions.react');}.bind(this),o;}m.prototype.render=function(){var n=this.props.message,o=n.reactions;if(!o)return null;var p={},q=0;Object.values(o).forEach(function(t){if(typeof t==='string'){if(!p[t])p[t]=0;p[t]++;q++;}});var r=Object.keys(p).sort(c('MessengerReactionsUtil').sortFunction).map(function(t){return c('React').createElement('span',{className:"_4kf5 _3-99",key:t},c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:t}));}),s=q>0?c('React').createElement('span',{className:"_4kf6 _3-99"},q):null;if(c('MercuryConfig').ReactionsPreview){return c('React').createElement('div',{className:"_4kf7 _3-95 preview",onClick:this.$MessengerReactions1,role:'button',tabIndex:'0'},r,s);}else return c('React').createElement('div',{className:"_4kf7 _3-95"},r,s);};m.propTypes={isFromViewer:k.bool.isRequired,message:k.object.isRequired,participants:k.object.isRequired};f.exports=m;}),null);
__d('MessengerDecorator',['cssVar','cx','BootloadedComponent.react','JSResource','MercuryConfig','MercuryMessageActions','MercuryMessageCustomizations','MercuryTagHelper','MessageBorderType','MessageCustomizationType','MessagingFlowerBorder.react','MessagingGiftWrap.react','MessagingGiftWrapConstants','MessengerEnvironment','MessengerReactions.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=[{name:'GiftWrap',check:function n(o){var p=function r(s){return c('MercuryTagHelper').get(s,c('MessagingGiftWrapConstants').TAG_PREFIX)===c('MessagingGiftWrapConstants').VALENTINES_GIFT;},q=function r(s){return !!c('MercuryTagHelper').get(s,c('MessagingGiftWrapConstants').UNWRAPPED_TAG);};return !!(c('MercuryConfig').GiftWrapViewerGK&&o.tags&&p(o.tags)&&!q(o.tags));},render:function n(o,p){return (c('React').createElement(c('MessagingGiftWrap.react'),{key:'giftwrap',onUnwrap:function q(){var r="2500ms",s=parseInt(r.substring(0,r.length-2),10);setTimeout(function(){return c('MercuryMessageActions').get().unwrap(o);},s);}}));},getAdditionalClassNames:function n(){return null;}},{name:'FlowerBorder',check:function n(o){return (c('MercuryConfig').WWWMessengerFlowerBorderViewer&&c('MercuryMessageCustomizations').getCustomizationValue(o,c('MessageCustomizationType').BORDER)===c('MessageBorderType').FLOWERS);},render:function n(o,p){if(c('MessengerEnvironment').messengerui)return c('React').createElement(c('MessagingFlowerBorder.react'),{offset:-10,key:'giftwrap:'+o.message_id});return c('React').createElement(c('MessagingFlowerBorder.react'),{key:'giftwrap:'+o.message_id});},getAdditionalClassNames:function n(){if(!c('MessengerEnvironment').messengerui)return "_337n";return null;}}],k=[{name:'Reactions',check:function n(o){return !!(c('MercuryConfig').Reactions&&o.reactions&&Object.keys(o.reactions).length>0);},render:function n(o,p,q){return (c('React').createElement(c('MessengerReactions.react'),{isFromViewer:p,key:o.message_id+'-reactions',message:o,participants:q}));},getAdditionalClassNames:function n(){return null;}}],l=[{name:'MontageReply',check:function n(o){if(!c('MercuryConfig').MontageThreadViewer)return false;var p=o.montage_reply_data&&o.montage_reply_data.message_id;return !!p;},render:function n(o,p){var q=o.montage_reply_data&&o.montage_reply_data.message_id;return c('React').createElement(c('BootloadedComponent.react'),{key:'montagereply:'+o.message_id,bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('MontageReplyDecoratorContainer.react').__setRef('MessengerDecorator'),isFromViewer:p,messageID:q,replyAuthorID:o.author,threadID:o.thread_id});},getAdditionalClassNames:function n(){return null;}}],m={getBeforeDecorators:function n(){return l;},getAfterDecorators:function n(){return j;},getAfterExternalDecorators:function n(){return k;}};f.exports=m;}),null);
__d('shouldNotRenderSegoe',['MessengerConfig','UserAgent'],(function a(b,c,d,e,f,g){'use strict';var h=new RegExp('[\u0530-\u05f4\u10a0-\u10ff]'),i=c('UserAgent').isBrowser('Chrome')&&c('UserAgent').isPlatform('Windows 10');f.exports=function j(k){return (!c('MessengerConfig').SegoeUIDisabled&&i&&h.test(k));};}),null);
__d('MessengerBubble.react',['cx','EmojiLikeUtils','EmojiOnlyMessage.react','immutable','ImmutableObject','MercuryMessageBody.react','MessengerDecorator','React','joinClasses','messengerCustomColorUtils','shouldNotRenderSegoe'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={emojis:undefined},n;}l.prototype.componentDidMount=function(){if(!this.props.emojis){var m=this.props.body||'',n=c('EmojiLikeUtils').richContent(m);if(n&&n.length)this.setState({emojis:n});}};l.prototype.render=function(){var m={};if(!this.state.emojis&&this.props.customColor)m=c('messengerCustomColorUtils').customBubbleStyle(this.props.customColor,m);var n=false;if(this.state.emojis){var o=c('EmojiLikeUtils').getSourceURIs(this.state.emojis),p=c('React').createElement(c('EmojiOnlyMessage.react'),{sourceURIs:o});}else{n=true;p=c('React').createElement(c('MercuryMessageBody.react'),{body:this.props.body,className:"_3oh-"+(c('shouldNotRenderSegoe')(this.props.body||'')?' '+"_2por":'')+(' '+"_58nk"),threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges,metaRanges:this.props.metaRanges,threadID:this.props.threadID,customLike:this.props.customLike});}var q=[],r=[],s=this.props.message,t=!!this.props.isFromViewer;if(s){c('MessengerDecorator').getAfterDecorators().forEach(function(v){if(v.check(s)){q.push(v.render(s,t));r.push(v.getAdditionalClassNames());}});c('MessengerDecorator').getBeforeDecorators().forEach(function(v){if(v.check(s))r.push(v.getAdditionalClassNames());});}var u=r.join(' ');return (c('React').createElement('div',babelHelpers['extends']({},this.props,{style:m,className:c('joinClasses')(u,this.props.className,"_hh7"+(' '+"_s1-")+(' '+"_52mr")+(this.props.isP2PAttachment?' '+"_4z55":'')+(!!this.state.emojis?' '+"_2f5r":'')+(!!this.state.emojis?' '+"_581a":'')+(n?' '+"_3oh-":''))}),p,this.props.attachments,q));};l.propTypes={attachments:k.instanceOf(c('immutable').List),body:k.string,customColor:k.string,customLike:k.object,isFromViewer:k.bool,message:k.instanceOf(c('ImmutableObject')),metaRanges:k.array,onUnwrap:k.func,ranges:k.array,threadID:k.string,threadCustomColor:k.string};f.exports=l;}),null);
__d('MessengerCodePasteUtils',['cx','BanzaiODS','MessengerBubble.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=/`{3,}/;function j(l){return !!(l&&l.search(i)!==-1&&l.split('\n').length>1);}function k(l,m,n,o){var p=l.split(i),q=[];for(var r=0;r<p.length;r+=2){var s=p[r].trim();if(s&&s.length>0)q.push(c('React').createElement(c('MessengerBubble.react'),{key:r,body:s,customColor:o||undefined,className:"clearfix _3058 _ui9",ranges:m,threadID:n}));if(r+1<p.length&&p[r+1]){var t=p[r+1].split('\n'),u=t[0].replace(/[^a-zA-Z]+/g,''),v=t.slice(1).join('\n');c('BanzaiODS').bumpEntityKey('messenger_code_paste','render_bubble');q.push(c('React').createElement('div',{key:r+1,className:"_3058 _wu0 _52mr"},c('React').createElement('div',{ref:'syntaxTarget'+r,className:'language-'+u},v)));}}return q;}f.exports={containsCodeBlock:j,getCodeAndMessageBubbles:k};}),null);
__d('MercuryAttachmentAttribution.react',['cx','Image.react','ImmutableObject','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MercuryAttachmentAttribution1=function(){return this.props.attachment&&this.props.attachment.app_attribution;}.bind(this),n;}l.prototype.render=function(){var m=this.$MercuryAttachmentAttribution1();if(!m)return null;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_29ew")},c('React').createElement(c('Image.react'),{src:m.icon_url,className:"_29ex"}),c('React').createElement('span',{className:"_29ey"},m.name));};l.propTypes={attachment:k.instanceOf(c('ImmutableObject'))};f.exports=l;}),null);
__d('MessengerAttachmentAttribution.react',['cx','ImmutableObject','MercuryAttachmentAttribution.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('MercuryAttachmentAttribution.react'),{attachment:this.props.attachment,className:"_2f5n _4br2"}));};function l(){i.apply(this,arguments);}l.propTypes={attachment:k.instanceOf(c('ImmutableObject'))};f.exports=l;}),null);
__d('MessengerBubbleBlock.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement('div',{className:"_52mr _4h13 _3058"},this.props.children));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MessengerCodeBubble.react',['Bootloader','immutable','MessengerCodePasteUtils','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.componentDidMount=function(){c('Bootloader').loadModules(["Prism.Complete"],function(l){for(var m in this.refs){var n=c('ReactDOM').findDOMNode(this.refs[m]);l.highlightElement(n);}}.bind(this),'MessengerCodeBubble.react');};k.prototype.render=function(){var l=c('MessengerCodePasteUtils').getCodeAndMessageBubbles(this.props.body,this.props.ranges,this.props.threadID,this.props.customColor);return c('React').createElement('div',{className:this.props.className},l);};function k(){h.apply(this,arguments);}k.propTypes={attachments:j.instanceOf(c('immutable').List),body:j.string.isRequired,customColor:j.string,ranges:j.array.isRequired,threadID:j.string.isRequired};f.exports=k;}),null);
__d('MessengerDeleteMessageDialog.react',['fbt','MercuryConfig','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerDeleteMessageDialog1=function(){if(c('MercuryConfig').MessengerGlobalDeleteGK)if(this.props.isFromViewer){return h._("Supprimer le message\u00a0?");}else return h._("Masquer le message\u00a0?");return h._("Supprimer le message");}.bind(this),this.$MessengerDeleteMessageDialog2=function(){if(c('MercuryConfig').MessengerGlobalDeleteGK)if(this.props.isFromViewer){return h._("Si vous supprimez ce message, plus aucun participant \u00e0 cette conversation ne pourra le voir. L\u2019op\u00e9ration est irr\u00e9versible.");}else return h._("Si vous masquez votre copie de ce message, vous ne pouvez pas la r\u00e9cup\u00e9rer. L\u2019autre participant \u00e0 la conversation pourra peut-\u00eatre encore le voir.");return h._("Souhaitez-vous vraiment supprimer ce message\u00a0?");}.bind(this),this.$MessengerDeleteMessageDialog4=function(){if(!this.props.isFromViewer&&c('MercuryConfig').MessengerGlobalDeleteGK)return h._("Masquer");return h._("Supprimer");}.bind(this),this.$MessengerDeleteMessageDialog5=function(){this.props.onToggle&&this.props.onToggle(false);this.props.onDelete&&this.props.onDelete();}.bind(this),this.$MessengerDeleteMessageDialog3=function(){this.props.onCancel&&this.props.onCancel();}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,this.$MessengerDeleteMessageDialog1()),c('React').createElement(k,null,this.$MessengerDeleteMessageDialog2()),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),{onClick:this.$MessengerDeleteMessageDialog3}),c('React').createElement(c('MessengerDialogButton.react'),{label:this.$MessengerDeleteMessageDialog4(),onClick:this.$MessengerDeleteMessageDialog5,type:'primary',use:'danger'})));};m.propTypes={isFromViewer:l.bool,onDelete:l.func,onToggle:l.func};f.exports=m;}),null);
__d('MessengerContextualActions.react',['cx','ContextualLayerUpdateOnScroll','LayerHideOnBlur','Link.react','React','ReactAbstractContextualDialog','ReactLayer'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('React').PropTypes,n=c('ReactLayer').createClass(c('ReactAbstractContextualDialog').createSpec({displayName:'MessengerContextualActionsDialog',theme:{wrapperClassName:"_hw2",arrowDimensions:{offset:12,length:12}}}));i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;o.prototype.render=function(){var q=this.props,r=q.children,s=babelHelpers.objectWithoutProperties(q,['children']);return (c('React').createElement(n,babelHelpers['extends']({alignment:'center',behaviors:{ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll'),LayerHideOnBlur:c('LayerHideOnBlur')}},s,{onToggle:this.props.onToggle}),c('React').createElement('ul',{className:"_hw3"},r)));};function o(){i.apply(this,arguments);}o.propTypes={onToggle:m.func};o.Item=p;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;p.prototype.render=function(){return (c('React').createElement('li',{className:"_hw4"},c('React').createElement(c('Link.react'),{className:"_hw5",onClick:this.props.onClick},this.props.children)));};function p(){k.apply(this,arguments);}p.propTypes={onClick:m.func};f.exports=o;}),null);
__d('MessengerSaveMessageDialog.react',['fbt','CollectionCurationReferrerTags','CollectionCurationReferrerParamNames','Link.react','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogHeader.react','React','URI','setTimeout','clearTimeout'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={closeTimeout:null},o;}m.prototype.render=function(){var n={};n[c('CollectionCurationReferrerParamNames').CLICK_REF]=c('CollectionCurationReferrerTags').MESSENGER_DOT_COM_SAVE_CONFIRMATION;var o=new (c('URI'))('https://www.facebook.com/saved/').setQueryData(n);return (c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Enregistrement sur Facebook")),c('React').createElement(k,null,c('React').createElement(c('Link.react'),{href:o,target:'_blank'},h._("Voir vos \u00e9l\u00e9ments enregistr\u00e9s")))));};m.prototype.componentDidMount=function(){var n=c('setTimeout')(function(){this.props.onToggle(false);}.bind(this),2000);this.setState({closeTimeout:n});};m.prototype.componentWillUnmount=function(){c('clearTimeout')(this.state.closeTimeout);};m.propTypes={onToggle:l.func.isRequired};f.exports=m;}),null);
__d("XMessengerDotComSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/save\/message\/",{});}),null);
__d("messengerURIUtilsRe",["MercuryIDs","MessengerURISerializer","MessengerView","URI"],(function a(b,c,d,e,f,g){'use strict';function h(k){var l=c("MessengerURISerializer").deserialize(new (c("URI"))(window.location.href)),m=c("MessengerView").DETAIL.THREAD,n=+l.queryAll;return c("MessengerURISerializer").serialize(Object.assign({},l,{activeThreadID:k,detailView:m,query:n!==0?l.query:undefined}));}function i(k){return h(c("MercuryIDs").getThreadIDFromUserID(k));}function j(k){return new (c("URI"))("/m/"+k);}g.getURIForThreadID=h;g.getURIForUserID=i;g.getURIForMessageID=j;}),null);
__d('MessengerMessageActionsWrapper.react',['csx','cx','fbt','invariant','DOMQuery','FBClipboardLink.react','ImmutableObject','ReactLayeredComponentMixin_DEPRECATED','MercuryAttachmentType','MercuryConfig','MercuryMessageActions','MercuryMessageInfo','MessengerActions','MessengerContextualActions.react','MessengerDeleteMessageDialog.react','Parent','React','ReactDOM','AsyncRequest','CollectionsDisplaySurface','CollectionCurationMechanisms','List.react','MessengerConfig','MessengerDotComSaveModule','MessengerSaveMessageDialog.react','messengerURIUtilsRe','SaveMessageUtils','SavedStateActions','URLMatcher','XMessengerDotComSaveController','setImmediate'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l=c('MessengerContextualActions.react').Item,m=c('React').PropTypes,n="_ui9",o="._ui9",p=c('React').createClass({displayName:'MessengerMessageActionsWrapper',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{isActive:m.bool,isDeletable:m.bool,isFromViewer:m.bool,message:m.instanceOf(c('ImmutableObject')).isRequired,onDeselect:m.func.isRequired,onSelect:m.func.isRequired},getDefaultProps:function q(){return {isDeletable:true};},render:function q(){return (c('React').createElement('div',babelHelpers['extends']({onContextMenu:this._handleContextMenu},this.props),this.props.children));},renderLayers:function q(){if(!this.props.isDeletable||!this.props.isActive)return {};var r=c('ReactDOM').findDOMNode(this),s=r&&c('DOMQuery').scry(r,o)[0];if(!s)return {};var t=[];t.push(c('React').createElement(l,{key:'delete',onClick:this._handleDelete},this._renderActionItemMsg()));if(this._canSaveMessage())t.push(c('React').createElement(l,{key:'save',onClick:this._handleSave},this._renderSaveItemMsg()));if(c('MessengerConfig').ShowMessageLinks)t.push(c('React').createElement(l,{key:'perma-link',onClick:this._handleLink},this._renderLinkItemMsg()));return {contextualDialog:c('React').createElement(c('MessengerContextualActions.react'),{context:s,onToggle:this._handleActionsToggle,shown:this.props.isActive},this._renderRetry(),t)};},_renderActionItemMsg:function q(){if(!this.props.isFromViewer&&c('MercuryConfig').MessengerGlobalDeleteGK)return j._("Masquer");return j._("Supprimer");},_renderSaveItemMsg:function q(){return j._("Enregistrer sur Facebook");},_renderLinkItemMsg:function q(){var r=c('messengerURIUtilsRe').getURIForMessageID(this.props.message.message_id).getQualifiedURIBase().toString(),s=j._("Copier un lien");return (c('React').createElement(c('FBClipboardLink.react'),{suppress:true,tooltip:'',value:r},s));},_renderRetry:function q(){if(!c('MercuryMessageInfo').hasError(this.props.message))return null;return (c('React').createElement(l,{onClick:this._handleRetry},j._("R\u00e9essayer")));},_handleActionsToggle:function q(r){!r&&this._handleDeselect();},_handleDeselect:function q(){this.props.onDeselect(this.props.message.message_id);},_handleDelete:function q(){var r=this.props.message;c('MessengerActions').showDialog(c('MessengerDeleteMessageDialog.react'),{onDelete:function s(){c('MercuryMessageActions').get()['delete'](r.thread_id,[r.message_id]);},onToggle:this._handleDialogToggle,onCancel:this._handleDeselect,isFromViewer:this.props.isFromViewer});},_canSaveMessage:function q(){var r=this.props.message;if(c('MessengerDotComSaveModule').enabled_attachment_save&&this._isSavableMessageAttachment())return true;if(c('MessengerDotComSaveModule').enabled_video_save&&r.attachments&&r.attachments.length>0&&r.attachments[0].share&&r.attachments[0].share.media.playable)return true;if(c('MessengerDotComSaveModule').enabled_inline_save){var s=c('URLMatcher').match(r.body);if(s!=null&&s.length>0)return true;}return false;},_handleLink:function q(){this._handleActionsToggle(false);},_isSavableMessageAttachment:function q(){var r=this.props.message.attachments;if(!r||r.length===0)return false;for(var s=0;s<r.length;s++){var t=r[s],u=false;if(t.share&&t.share.style_list){var v=t.share.style_list;u=c('SaveMessageUtils').isSavableMessageAttachment(v);}else u=t.attach_type===c('MercuryAttachmentType').VIDEO;if(!u)return false;}return true;},_handleSave:function q(){var r=this.props.message,s=c('CollectionsDisplaySurface').MESSENGER_DOT_COM_MESSAGE,t=c('CollectionCurationMechanisms').RIGHT_CLICK;new (c('AsyncRequest'))().setURI(c('XMessengerDotComSaveController').getURIBuilder().getURI()).setData({action:c('SavedStateActions').SAVE,surface:s,mechanism:t,message_id:r.message_id}).send();c('MessengerActions').showDialog(c('MessengerSaveMessageDialog.react'),{onToggle:this._handleDialogToggle});this._handleActionsToggle(false);},_handleDialogToggle:function q(r){if(!r)c('MessengerActions').hideDialog();},_handleRetry:function q(){this._handleDeselect();c('MercuryMessageActions').get().resend(this.props.message);},_handleContextMenu:function q(r){if(!this._shouldAllowNativeContextMenu(r))r.preventDefault();c('setImmediate')(function(){this.props.onSelect(this.props.message.message_id);}.bind(this));},_shouldAllowNativeContextMenu:function q(r){r.target instanceof HTMLElement||k(0);return (r.target.nodeName.toLowerCase()==='a'||window.getSelection().toString()!==''||!c('Parent').byClass(r.target,n));}});f.exports=p;}),null);
__d('MessengerMessageSeenHeads.react',['cssVar','cx','fbt','Image.react','immutable','ImmutableObject','MercuryMessageInfo','MercuryTimestamp','MessengerConfig','React','getViewportDimensions','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=c('MessengerConfig').MaxSeenHeadCount||8;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;o.prototype.render=function(){var q=this.props,r=q.message,s=q.nextTimestamp,t=q.participants,u=q.readReceipts;if(c('MercuryMessageInfo').isSending(r)||u.isEmpty()||c('MercuryMessageInfo').hasError(r))return null;var v=c('immutable').Seq(u).filter(function(da,ea){return (da.watermark>=r.timestamp&&da.watermark<s);}).sort(function(da,ea){return da.action-ea.action;});if(v.isEmpty())return null;var w=this.props.isFromViewer?n:p(),x=v.count()>w+1,y=x?v.slice(0,w):v,z=y.map(function(da,ea){var fa=t.get(ea);if(!fa)return null;var ga=da?j._("Vu par {full name} \u00e0 {seen time}",[j.param('full name',fa.name),j.param('seen time',c('MercuryTimestamp').getPreciseTimestamp(da.action))]):j._("Vu par {full name}",[j.param('full name',fa.name)]);return (c('React').createElement(c('Image.react'),{alt:ga,className:"_jf2",key:ea,src:fa.image_src,title:ga}));}).toArray(),aa=z.length;if(!aa)return null;var ba=x?v.slice(w).count():0;if(ba>0){var ca=v.slice(w).map(function(da,ea){var fa=t.get(ea);return fa?fa.name:null;}).filter(function(da){return !!da;}).join('\n')+' ';z.unshift(c('React').createElement('span',{className:"_jf3",key:'overflow',title:ca},'+'+ba));}return (c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_jf4"+(aa+ba===1?' '+"_jf5":''))},z));};function o(){k.apply(this,arguments);}o.propTypes={isFromViewer:m.bool,message:m.instanceOf(c('ImmutableObject')).isRequired,nextTimestamp:m.number.isRequired,participants:m.instanceOf(c('immutable').Map).isRequired,readReceipts:m.instanceOf(c('immutable').OrderedMap).isRequired};function p(){var q=c('getViewportDimensions')().width;if(q<parseInt("920px".replace('px',''),10))return Math.min(n,8);if(q<parseInt("1211px".replace('px',''),10))return Math.min(n,3);return n;}f.exports=o;}),null);
__d('MessengerVideoAutoplayActions',['immutable','MessengerFluxReduceDispatcher','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h='messenger_video',i=c('keyMirror')({DESTROY:null,DSTROY_ALL:null,SCROLL:null,UPDATE:null}),j={Types:i,Namespace:h,onScroll:function k(l,m,n,o){c('MessengerFluxReduceDispatcher').dispatch({type:i.SCROLL,namespace:h,threadID:l,messageIDs:m,messageRectMap:n,viewportRect:o});},updateStore:function k(l,m){c('MessengerFluxReduceDispatcher').dispatch({type:i.UPDATE,namespace:h,threadID:l,messageIDs:m});},deleteThread:function k(l){c('MessengerFluxReduceDispatcher').dispatch({type:i.DESTROY,namespace:h,threadID:l});},deleteAllThreads:function k(){c('MessengerFluxReduceDispatcher').dispatch({type:i.DESTROY_ALL,namespace:h});}};f.exports=j;}),null);
__d('MessengerVideoAutoplayStore',['FluxReduceStore','immutable','MessengerVideoAutoplayActions','MessengerFluxReduceDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l=c('MessengerVideoAutoplayActions').Types;h=babelHelpers.inherits(m,c('immutable').Record({currentVideoMessageID:null,lastVideoMessageID:null,messageIDs:null,videoVisibilityMap:null}));i=h&&h.prototype;function m(){h.apply(this,arguments);}j=babelHelpers.inherits(n,c('FluxReduceStore'));k=j&&j.prototype;n.prototype.getInitialState=function(){return c('immutable').Map();};n.prototype.reduce=function(o,p){if(p.namespace!==c('MessengerVideoAutoplayActions').Namespace)return o;switch(p.type){case l.SCROLL:if(p.messageIDs)o=this.$MessengerVideoAutoplayStore1(o,p.threadID,p.messageIDs);return this.$MessengerVideoAutoplayStore2(o,p.threadID,p.messageRectMap,p.viewportRect);case l.UPDATE:return this.$MessengerVideoAutoplayStore1(o,p.threadID,p.messageIDs);case l.DESTROY:return this.$MessengerVideoAutoplayStore3(o,p.threadID);case l.DESTROY_ALL:return o.clear();}return o;};n.prototype.$MessengerVideoAutoplayStore1=function(o,p,q){if(!q)return o['delete'](p);return o.set(p,new m({currentVideoMessageID:null,lastVideoMessageID:q.first(),messageIDs:q,videoVisibilityMap:null}));};n.prototype.$MessengerVideoAutoplayStore3=function(o,p){return o['delete'](p);};n.prototype.$MessengerVideoAutoplayStore4=function(o,p,q,r,s){var t=null,u=q.map(function(v){if(t){return [v,false];}else{var w=this.$MessengerVideoAutoplayStore5(v,r,s);if(w)t=v;return [v,w];}}.bind(this)).fromEntrySeq().toOrderedMap();return o.mergeIn([p],{currentVideoMessageID:t,videoVisibilityMap:u});};n.prototype.$MessengerVideoAutoplayStore2=function(o,p,q,r){var s=o.getIn([p,'messageIDs']);if(!s||!q||!r)return o;if(!o.getIn([p,'currentVideoMessageID'])){return this.$MessengerVideoAutoplayStore4(o,p,s,q,r);}else{var t=o.getIn([p,'videoVisibilityMap']),u=o.getIn([p,'lastVideoMessageID']),v=o.getIn([p,'currentVideoMessageID']);if(this.$MessengerVideoAutoplayStore5(u,q,r)){if(t&&t.first())return o;}else if(this.$MessengerVideoAutoplayStore5(v,q,r))return o;o=o.setIn([p,'currentVideoMessageID'],null);return this.$MessengerVideoAutoplayStore4(o,p,s,q,r);}};n.prototype.$MessengerVideoAutoplayStore6=function(o,p){if(!o)return false;return o.top>p.top&&o.bottom<p.bottom;};n.prototype.$MessengerVideoAutoplayStore5=function(o,p,q){var r=p.get(o);return this.$MessengerVideoAutoplayStore6(r,q);};n.prototype.getVideoVisibilityMap=function(o){return this.getState().getIn([o,'videoVisibilityMap']);};n.prototype.getMessageIDs=function(o){return this.getState().getIn([o,'messageIDs']);};n.prototype.isVisible=function(o,p){return !!this.getState().getIn([o,'videoVisibilityMap',p]);};function n(){j.apply(this,arguments);}f.exports=new n(c('MessengerFluxReduceDispatcher'));}),null);
__d('messengerRTLClasses',['cx','isRTL'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){var l=c('isRTL')(j||'');return k?l?"_4pv0":'':(!l?"direction_ltr":'')+(l?' '+"direction_rtl":'')+(!l?' '+"text_align_ltr":'')+(l?' '+"text_align_rtl":'')+(l?' '+"_4pv0":'');}f.exports=i;}),null);
__d('MessengerMessage.react',['cssVar','cx','fbt','EmojiLikeUtils','MercuryDisplayTimeFilterMessageRenderer','FluxContainer','immutable','ImmutableObject','MercuryAttachment','MercuryConfig','MercuryMessageDeliveryState','MercuryMessageError.react','MercuryMessageInfo','MercuryTimestamp','MessengerAttachmentAttribution.react','MessengerAttachmentRenderer','MessengerBubble.react','MessengerBubbleBlock.react','MessengerCodeBubble.react','MessengerCodePasteUtils','MessengerConfig','MessengerDecorator','MessengerMessageActionsWrapper.react','MessengerMessageSeenHeads.react','messengerURIUtilsRe','MessengerVideoAutoplayStore','MNCommerceMessageType','React','TooltipData','emptyFunction','getViewportDimensions','joinClasses','messengerRTLClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;function n(q){switch(q){case c('MercuryMessageDeliveryState').SENDING:return j._("Envoi en cours");case c('MercuryMessageDeliveryState').SENT:return j._("Envoy\u00e9");case c('MercuryMessageDeliveryState').DELIVERED:return j._("Livr\u00e9");case c('MercuryMessageDeliveryState').ERROR:return j._("Erreur");}return null;}k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={isVisible:false},this.$MessengerMessage9=function(v){v.stopPropagation();this.props.onSelect(this.props.message.message_id);}.bind(this),this.$MessengerMessage8=function(){this.props.onSelect(this.props.message.message_id);}.bind(this),r;}o.getStores=function(){return [c('MessengerVideoAutoplayStore')];};o.calculateState=function(q,r){return {isVisible:c('MessengerVideoAutoplayStore').isVisible(r.message.thread_id,r.message.message_id)};};o.prototype.shouldComponentUpdate=function(q,r){return q.isActive!==this.props.isActive||q.isFromViewer!==this.props.isFromViewer||q.message!==this.props.message||q.nextTimestamp!==this.props.nextTimestamp||q.showDeliveryState!==this.props.showDeliveryState||q.deliveryTimestamp!==this.props.deliveryTimestamp||!c('immutable').is(q.readReceipts,this.props.readReceipts)||!c('immutable').is(q.participants,this.props.participants)||q.customColor!==this.props.customColor||r.isVisible!==this.state.isVisible;};o.prototype.render=function(){var q=this.props,r=q.isActive,s=q.isFromViewer,t=q.message,u=q.participants,v=j._("{time}",[j.param('time',c('MercuryTimestamp').getPreciseTimestamp(t.timestamp))]),w=c('MessengerConfig').SentTimestampEnabled&&s?Object.assign({'data-tooltip-alignh':r?'right':'center'},c('TooltipData').propsFor(v,p())):null,x=[],y=this.props.message,z=s||false;if(y&&!this.props.hideBeforeDecorator)c('MessengerDecorator').getBeforeDecorators().forEach(function(aa){if(aa.check(y))x.push(aa.render(y,z));});return c('React').createElement(c('MessengerMessageActionsWrapper.react'),{className:c('joinClasses')("clearfix"+(' '+"_o46")+(' '+"_3erg")+(r?' '+"_-5k":'')+(s?' '+"_3i_m":'')+(s?' '+"_nd_":'')+(!s?' '+"_29_7":'')+(t.isSelected?' '+"_3xsz":''),c('messengerRTLClasses')(t.body)),isActive:r,isDeletable:!this.$MessengerMessage1()&&!this.props.isPageMessage,isFromViewer:s,message:t,onDeselect:this.props.onDeselect,onSelect:this.props.onSelect},x,this.$MessengerMessage2(w),this.$MessengerMessage3(w),this.$MessengerMessage4(y,z,u),this.$MessengerMessage5(),this.$MessengerMessage6(),c('React').createElement(c('MessengerMessageSeenHeads.react'),{className:"_4jzq",isFromViewer:s,message:t,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts}));};o.prototype.$MessengerMessage4=function(q,r,s){var t;if(q&&!this.props.hideAfterExternalDecorator){var t=function(){var u=[],v=[];c('MessengerDecorator').getAfterExternalDecorators().forEach(function(x){if(q&&x.check(q)){u.push(x.render(q,r,s));v.push(x.getAdditionalClassNames());}});var w=v.join(' ');return {v:c('React').createElement('span',{className:c('joinClasses')(w,"_31gm"+(!r?' '+"isFromOther":''))},u)};}();if(typeof t==="object")return t.v;}return null;};o.prototype.$MessengerMessage7=function(q){return q.every(function(r){return !r||!c('MessengerAttachmentRenderer').isRenderedShareAttachment(r);});};o.prototype.$MessengerMessage3=function(q){var r,s=this;if(this.props.message.is_filtered_content)return null;if(this.props.message.commerce_message_type===c('MNCommerceMessageType').RIDE_INTENT)return null;var t=c('MessengerAttachmentRenderer').getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isVisible:this.state.isVisible,onSelect:this.$MessengerMessage8,onUnwrap:null,isPageMessage:this.props.isPageMessage});if(!t||!t.length)return null;if(q){var u=t.some(function(x){return !!x&&c('MessengerAttachmentRenderer').isPhotosGroupAttachment(x);});t=this.$MessengerMessage7(t)?c('React').createElement('div',babelHelpers['extends']({},q,{className:"_3zvs"+(u?' '+"_2-x3":'')}),t):t.map(function(x){return x&&c('React').cloneElement(x,q);});}var v=c('MercuryConfig').MessengerSharedVideoNewDesign&&c('MessengerAttachmentRenderer').isSharedVideoAttachmentMessage(this.props.message),w=c('React').createElement('div',{key:'renderedAttachments',className:"_3058"+(' '+"_15gf")+(v?' '+"_3duc":'')},t);if(this.props.message.attachments.length===1&&c('MercuryAttachment').hasAttribution(this.props.message.attachments[0])){var r=function(){var x=[w,c('React').createElement(c('MessengerAttachmentAttribution.react'),{attachment:new (c('ImmutableObject'))(s.props.message.attachments[0]),key:'attribution'})],y=[],z=s.props.message,aa=s.props.isFromViewer||false;if(z)c('MessengerDecorator').getAfterDecorators().forEach(function(ba){if(ba.check(z))y.push(ba.render(z,aa));});if(y.length)x.push.apply(x,y);return {v:c('React').createElement(c('MessengerBubbleBlock.react'),null,x)};}();if(typeof r==="object")return r.v;}return w;};o.prototype.$MessengerMessage1=function(){return c('MessengerAttachmentRenderer').isP2PAttachment(this.props.message);};o.prototype.$MessengerMessage2=function(q){var r=this.props.message,s=c('immutable').List(c('MessengerAttachmentRenderer').getAttachmentsInsideBubble(r,this.props.onAttachmentLoad)),t=r.ranges;if(r.profile_ranges&&r.profile_ranges.length)t=(t||[]).concat(r.profile_ranges.map(function(v){return babelHelpers['extends']({},v,{url:c('messengerURIUtilsRe').getURIForUserID(v.id)});}));if(c('MessengerCodePasteUtils').containsCodeBlock(r.body))return c('React').createElement(c('MessengerCodeBubble.react'),{attachments:s,body:r.body,customColor:this.props.isFromViewer?this.props.customColor:'',className:(this.props.isFromViewer?"_3uhm":'')+(!this.props.isFromViewer?' '+"_3uhn":''),ranges:t,threadID:r.thread_id||''});if(r.is_filtered_content)return c('React').createElement('div',{className:"_3058 _wiu _52mr uiBoxYellow clearfix"},c('MercuryDisplayTimeFilterMessageRenderer').renderFilteredContent(r));var u=r.body&&!c('EmojiLikeUtils').isEmojiLike(r);if(u||!s.isEmpty())return c('React').createElement(c('MessengerBubble.react'),babelHelpers['extends']({attachments:s,body:r.body,className:"_3058 _ui9",customColor:this.props.isFromViewer?this.props.customColor:'',customLike:r.customLike,isFromViewer:this.props.isFromViewer,isP2PAttachment:this.$MessengerMessage1(),ranges:t,message:r,metaRanges:r.meta_ranges,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:r.thread_id},q||{}));return null;};o.prototype.$MessengerMessage6=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState||this.props.message.is_like_preview)return null;var q=c('MercuryMessageInfo').getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(q===c('MercuryMessageDeliveryState').UNKNOWN)return null;var r={};if(this.props.customColor&&(q===c('MercuryMessageDeliveryState').SENT||q===c('MercuryMessageDeliveryState').SENDING||q===c('MercuryMessageDeliveryState').DELIVERED))r.color=this.props.customColor;return c('React').createElement('span',{className:"_2her"+(q===c('MercuryMessageDeliveryState').SENDING?' '+"_4jzp":'')+(q===c('MercuryMessageDeliveryState').SENT?' '+"_3zzf":'')+(q===c('MercuryMessageDeliveryState').DELIVERED?' '+"_9ah":'')+(q===c('MercuryMessageDeliveryState').ERROR?' '+"_5ei9":''),onClick:this.$MessengerMessage9,style:r,title:n(q)},c('React').createElement('i',{className:"_57e_"}));};o.prototype.$MessengerMessage5=function(){var q=this.props.message;if(!c('MercuryMessageInfo').hasError(q))return null;return c('React').createElement(c('MercuryMessageError.react'),{className:"_3058 _2ygi",message:q,authorFBID:this.props.authorFBID});};o.propTypes={customColor:m.string,deliveryTimestamp:m.number.isRequired,hideAfterExternalDecorator:m.bool,hideBeforeDecorator:m.bool,isActive:m.bool,isFromViewer:m.bool,isPageMessage:m.bool,message:m.instanceOf(c('ImmutableObject')).isRequired,nextTimestamp:m.number.isRequired,onAttachmentLoad:m.func.isRequired,onDeselect:m.func.isRequired,onSelect:m.func.isRequired,participants:m.instanceOf(c('immutable').Map).isRequired,readReceipts:m.instanceOf(c('immutable').OrderedMap).isRequired,showDeliveryState:m.bool,authorFBID:m.string,threadCustomColor:m.string};o.defaultProps={onAttachmentLoad:c('emptyFunction')};function p(){if(c('getViewportDimensions')().width<=parseInt("700px".replace('px',''),10))return 'above';return 'right';}f.exports=c('FluxContainer').create(o,{withProps:true});}),null);
__d('MessengerReactionsGroups.react',['cx','fbt','MessengerReactionsUtil','MessengerTextWithEmoticons.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.reactions,p=n.selectedGroup,q=n.onGroupSelected,r={all:0},s=[],t=Object.values(o);t.forEach(function(w){if(typeof w==='string'){if(!r[w]){r[w]=1;s.push(w);}else r[w]++;r.all++;}});var u=false,v=s.sort(c('MessengerReactionsUtil').sortFunction).map(function(w){var x=p===w;u=u||x;return (c('React').createElement('li',{className:x?"selected":'',key:w,onClick:q.bind(this,w),role:'button',tabIndex:'0'},c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:w}),c('React').createElement('span',{className:"_359u"},r[w])));}.bind(this));return (c('React').createElement('ol',{className:"_koh _2pit"},c('React').createElement('li',{className:!u?"selected":'',key:'allReactions',onClick:q.bind(this,null),role:'button',tabIndex:'0'},c('React').createElement('span',{className:"_359u"},i._({"*":"Toutes ({total reactions})"},[i.param('total reactions',r.all,[0])]))),v));};function m(){j.apply(this,arguments);}m.propTypes={onGroupSelected:l.func.isRequired,reactions:l.object.isRequired,selectedGroup:l.string.isRequired};f.exports=m;}),null);
__d('MessengerReactionsList.react',['cx','Image.react','MercuryIDs','MercuryParticipants','MessengerProfileImageWrapper.react','MessengerTextWithEmoticons.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=40;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var n=this.props,o=n.participants,p=n.reactions,q=Object.keys(p).map(function(r){var s=c('MercuryIDs').getParticipantIDFromUserID(r),t=o.get(s),u=null;if(!t)t=c('MercuryParticipants').getNow(s);if(t)u=c('React').createElement(c('Image.react'),{alt:'',src:t.image_src,height:l,width:l});var v=t&&t.name,w=p[r];return (c('React').createElement('div',{className:"_3s-3 _2pin",key:'profile-reaction-'+r},c('React').createElement(c('MessengerProfileImageWrapper.react'),{size:l,showBadge:false},u,c('React').createElement('div',{className:"_3s-4"},c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:w}))),c('React').createElement('div',{className:"_3s-8 _3-9b _3-8w"},v)));});return (c('React').createElement('div',{className:"_5jpi _2pit"},q));};function m(){i.apply(this,arguments);}m.propTypes={participants:k.object.isRequired,reactions:k.object.isRequired};f.exports=m;}),null);
__d('MessengerReactionsOverview.react',['cx','immutable','ImmutableObject','MessengerMessage.react','MessengerReactionsGroups.react','MessengerReactionsList.react','MessengerWebViewReactionsTypedLogger','React','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l='ALL';i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={selectedGroup:l},this.$MessengerReactionsOverview1=function(s){var t=this.props.message,u=t.reactions,v=void 0;if(!s){v=Object.values(u).length;}else v=Object.values(u).filter(function(w){return w===s;}).length;new (c('MessengerWebViewReactionsTypedLogger'))().setEvent('select_group').setMid(t.message_id).setSenderID(t.author).setEmojiGroup(s||l).setEmojiGroupCount(v).log();if(!s){this.setState({selectedGroup:l});}else this.setState({selectedGroup:s});}.bind(this),o;}m.prototype.render=function(){var n=this.props,o=n.isFromViewer,p=n.participants,q=n.message,r=q.reactions,s=this.state.selectedGroup;if(!r)return null;var t=void 0;if(s===l){t=r;}else{var u=Object.keys(r);t=u.reduce(function(v,w){if(r[w]===s)v[w]=s;return v;},{});}return c('React').createElement('div',null,c('React').createElement('div',{className:"_47s7 _2ph_"},c('React').createElement(c('MessengerMessage.react'),{customColor:'',deliveryTimestamp:0,hideAfterExternalDecorator:true,hideBeforeDecorator:true,isActive:false,isFromViewer:o,isPageMessage:false,key:q.message_id,message:q,messageActionsWrapper:c('emptyFunction'),nextTimestamp:0,onAttachmentLoad:c('emptyFunction'),onDeselect:c('emptyFunction'),onSelect:c('emptyFunction'),participants:p,readReceipts:c('immutable').OrderedMap(),ref:q.message_id,showDeliveryState:false})),c('React').createElement(c('MessengerReactionsGroups.react'),{onGroupSelected:this.$MessengerReactionsOverview1,reactions:r,selectedGroup:s}),c('React').createElement(c('MessengerReactionsList.react'),{participants:p,reactions:t}));};m.propTypes={isFromViewer:k.bool.isRequired,message:k.object.isRequired,participants:k.object.isRequired};f.exports=m;}),null);
__d('MessengerReactionsDialog.react',['fbt','MessengerActions','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerReactionsOverview.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.isFromViewer,o=m.message,p=m.participants;return (c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerReactionsDialog1,ref:'dialog',type:'default',width:544},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,h._("R\u00e9actions")),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Termin\u00e9"),onClick:this.$MessengerReactionsDialog2,type:'primary'})),c('React').createElement('div',null,c('React').createElement(c('MessengerReactionsOverview.react'),{isFromViewer:n,message:o,participants:p}))));};l.prototype.$MessengerReactionsDialog2=function(event){event.preventDefault();c('MessengerActions').hideDialog();};l.prototype.$MessengerReactionsDialog1=function(m){if(!m)c('MessengerActions').hideDialog();};function l(){i.apply(this,arguments);}l.propTypes={isFromViewer:k.bool.isRequired,message:k.object.isRequired,participants:k.object.isRequired};f.exports=l;}),null);