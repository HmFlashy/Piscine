if (self.CavalryLogger) { CavalryLogger.start_js(["KIXgo"]); }

__d("AdPageMessageTypeEnum",[],(function a(b,c,d,e,f,g){f.exports={AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble",NON_AD:"non_ad"};}),null);
__d("ChatNotificationConstants",[],(function a(b,c,d,e,f,g){f.exports={NORMAL:0,NO_USER_MESSAGE_NOTIFICATION:1};}),null);
__d("ComposedBlockType",[],(function a(b,c,d,e,f,g){f.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9,HEADER_THREE:10,HEADER_FOUR:11,HEADER_FIVE:12,HEADER_SIX:13};}),null);
__d("ComposedEntityMutability",[],(function a(b,c,d,e,f,g){f.exports={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2};}),null);
__d("ComposedEntityMutabilityToName",[],(function a(b,c,d,e,f,g){f.exports={"0":"MUTABLE","1":"IMMUTABLE","2":"SEGMENTED"};}),null);
__d("ComposedEntityType",[],(function a(b,c,d,e,f,g){f.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7,EMBED:8,EMOJI:9};}),null);
__d("ComposedEntityTypeToName",[],(function a(b,c,d,e,f,g){f.exports={"0":"MENTION","1":"LINK","2":"IMAGE","3":"VIDEO","4":"EMOTICON","5":"TOKEN","6":"HASHTAG","7":"IMPLICIT_LINK","8":"EMBED","9":"EMOJI"};}),null);
__d("ComposedInlineStyle",[],(function a(b,c,d,e,f,g){f.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};}),null);
__d("IrisProtocolMessageLifetime",[],(function a(b,c,d,e,f,g){f.exports={TTL_OFF:0,TTL_ON_UNKNOWN:1,TTL_30SECONDS:30000,TTL_1MINUTE:60000,TTL_3MINUTES:180000,TTL_5MINUTES:300000,TTL_10MINUTES:600000,TTL_15MINUTES:900000,TTL_30MINUTES:1800000,TTL_1HOUR:3600000,TTL_2HOURS:7200000,TTL_4HOURS:14400000,TTL_8HOURS:28800000,TTL_12HOURS:43200000,TTL_24HOURS:86400000};}),null);
__d("MercuryGenericConstants",[],(function a(b,c,d,e,f,g){f.exports={MAX_THREAD_NAME_LENGTH:250};}),null);
__d("MercurySyncTopicType",[],(function a(b,c,d,e,f,g){f.exports={DELTA:"delta",DELTAFLOW:"deltaflow",DELTAFLOWREJECT:"deltaflowreject"};}),null);
__d("MessagingEvent",[],(function a(b,c,d,e,f,g){f.exports={DELETE:"delete",DELETE_MESSAGES:"delete_messages",DELIVER:"deliver",ERROR:"error",READ:"read",REPORT_SPAM:"report_spam",REPORT_SPAM_MESSAGES:"report_spam_messages",UNMARK_SPAM:"unmark_spam",SUBSCRIBE:"subscribe",CHANGE_MUTE_SETTINGS:"change_mute_settings",TAG:"tag",UNREAD:"unread",UNSUBSCRIBE:"unsubscribe",DELIVER_LOG:"deliver_log",MORE_THREADS:"more_threads",READ_ALL:"read_all",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",SENT_PUSH:"sent_push",DELIVER_FAST_PAST:"deliver_fast_path",MESSENGER_STATUS:"messenger_status",UPDATE_PINNED_THREADS:"update_pinned_threads",CHANGE_PAGE_THREAD_FLAG:"change_page_thread_flag",CREATE_PAGE_ADMIN_NOTE:"create_page_admin_note",NO_OP:"no_op"};}),null);
__d("MessagingThreadAction",[],(function a(b,c,d,e,f,g){f.exports={ACTION_INVALID:"ACTION_INVALID",ACTION_ARCHIVED:"ACTION_ARCHIVED",ACTION_UNARCHIVED:"ACTION_UNARCHIVED"};}),null);
__d("MessagingThreadCustomizationSource",[],(function a(b,c,d,e,f,g){f.exports={ADMIN_MSG_CHANGE_LINK:"admin_msg",THREAD_INLINE:"thread_inline",JOURNEY_PROMPT:"journey_prompt",JOURNEY_PROMPT_WRITE_IN:"journey_prompt_write_in",PROMO_LINK:"promo_link",SETTINGS:"thread_settings",USER_INFO_ACTION_SHEET:"user_info_action_sheet",ROOM_CREATION:"room_creation"};}),null);
__d("MessengerApprovalQueueTypes",[],(function a(b,c,d,e,f,g){f.exports={REQUESTED:"REQUESTED",REMOVED:"REMOVED"};}),null);
__d("MessengerDotComPromotionActionURL",[],(function a(b,c,d,e,f,g){f.exports={turn_on_notification:"TurnOnNotification",messengerdotcom_cell_cutover_qp:"messengerdotcomCellCutoverQp"};}),null);
__d("MessengerInbox2UnitType",[],(function a(b,c,d,e,f,g){f.exports={ACTIVE_NOW:"1702060250031255",ALL_CONTACTS:"181516655603694",ALL_REMAINING_THREADS:"1553637598292592",ANNOUNCEMENT:"1554751858153522",BIRTHDAYS:"444523712420688",BMR:"236766086711892",BOTSYMM:"219309241797996",BYMM:"977757422301634",CAMERA_ROLL:"1667645653518937",CONVERSATION_REQUESTS:"849346485182969",CUSTOMIZED_GROUPS:"1777531309203296",CYMK:"1773727359523460",DIRECT_M:"1632976573662274",FEATURED_STICKER_PACKS:"112107225855321",FRIEND_STORIES:"1565724067055200",GAMES_RECOMMENDATION:"527207557478641",GET_STARTED_SUGGESTED_CONTACTS:"144141402662646",GROUPS:"268379460187635",MESSAGE_REQUEST_THREADS:"1032277756851915",MESSENGER_ADS:"1257891170941846",MONTAGE_COMPOSER:"548653741981572",MULTIACCOUNT:"140931109675274",MOST_RECENT_THREADS:"1674434246165228",PHONE_ACTIVITY_USERS:"1795567067351746",PHOTO_REMINDERS:"1161184033900246",PYMM:"947827448626337",INVITE:"113246789103775",RECENTLY_ADDED_FRIENDS:"1576460689312390",RECENTLY_CLICKED_LINKS:"1570987926559251",RECENTLY_POKED:"1052007951514421",RECENT_SMS_THREADS:"1138747646163867",RECENTLY_WATCHED_VIDEOS:"1743612819204904",ROOM_SUGGESTIONS:"178585572548976",ROOMS:"1100090256693067",RTC_RECOMMENDATION:"1077149622346030",SUBSCRIPTION_CONTENTS:"1599726440337302",SUBSCRIPTION_CONTENTS_MORE:"193497917768814",SUBSCRIPTION_NUX:"1032732696802753",STALE_MESSAGES:"512235432291290",TRENDING_GIFS:"972340172846515",UNREAD_MESSAGES:"860636320720716",VIDEOS_ABOUT:"558474001020112",REMINDERS:"1836450139923369",COMBINED_DIRECT_M:"225422574547147",BIRTHDAYS_DIRECT_M:"1606134436356580",MESSENGER_EVENTS_DIRECT_M:"978540982268714",MY_FB_EVENTS_DIRECT_M:"1832813540335901"};}),null);
__d("MessengerRedirectSource",[],(function a(b,c,d,e,f,g){f.exports={FB:"fb"};}),null);
__d("MNCommerceErrors",[],(function a(b,c,d,e,f,g){f.exports={ALREADY_UNLINKED:1893001};}),null);
__d("MNCommerceReplyTypes",[],(function a(b,c,d,e,f,g){f.exports={COMMERCE_LINK:2,COMMERCE_UNLINK:3};}),null);
__d("P2PPaymentLogMessageSubtype",[],(function a(b,c,d,e,f,g){f.exports={SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail",REQUEST_CANCELED_BY_REQUESTER:"request_canceled_by_requester",REQUEST_DECLINED_BY_REQUESTEE:"request_declined_by_requestee",REQUEST_EXPIRED:"request_expired"};}),null);
__d("PagesMessagingEventType",[],(function a(b,c,d,e,f,g){f.exports={FLAG:1,CREATE_ADMIN_NOTE:2,PRIORITY_UPDATE:3};}),null);
__d("SupportedFBEmoji",[],(function a(b,c,d,e,f,g){f.exports={"1f004":1,"1f0cf":1,"1f170":1,"1f171":1,"1f17e":1,"1f17f":1,"1f18e":1,"1f191":1,"1f192":1,"1f193":1,"1f194":1,"1f195":1,"1f196":1,"1f197":1,"1f198":1,"1f199":1,"1f19a":1,"1f1e6":1,"1f1e6_1f1e8":1,"1f1e6_1f1e9":1,"1f1e6_1f1ea":1,"1f1e6_1f1eb":1,"1f1e6_1f1ec":1,"1f1e6_1f1ee":1,"1f1e6_1f1f1":1,"1f1e6_1f1f2":1,"1f1e6_1f1f4":1,"1f1e6_1f1f6":1,"1f1e6_1f1f7":1,"1f1e6_1f1f8":1,"1f1e6_1f1f9":1,"1f1e6_1f1fa":1,"1f1e6_1f1fc":1,"1f1e6_1f1fd":1,"1f1e6_1f1ff":1,"1f1e7":1,"1f1e7_1f1e6":1,"1f1e7_1f1e7":1,"1f1e7_1f1e9":1,"1f1e7_1f1ea":1,"1f1e7_1f1eb":1,"1f1e7_1f1ec":1,"1f1e7_1f1ed":1,"1f1e7_1f1ee":1,"1f1e7_1f1ef":1,"1f1e7_1f1f1":1,"1f1e7_1f1f2":1,"1f1e7_1f1f3":1,"1f1e7_1f1f4":1,"1f1e7_1f1f6":1,"1f1e7_1f1f7":1,"1f1e7_1f1f8":1,"1f1e7_1f1f9":1,"1f1e7_1f1fb":1,"1f1e7_1f1fc":1,"1f1e7_1f1fe":1,"1f1e7_1f1ff":1,"1f1e8":1,"1f1e8_1f1e6":1,"1f1e8_1f1e8":1,"1f1e8_1f1e9":1,"1f1e8_1f1eb":1,"1f1e8_1f1ec":1,"1f1e8_1f1ed":1,"1f1e8_1f1ee":1,"1f1e8_1f1f0":1,"1f1e8_1f1f1":1,"1f1e8_1f1f2":1,"1f1e8_1f1f3":1,"1f1e8_1f1f4":1,"1f1e8_1f1f5":1,"1f1e8_1f1f7":1,"1f1e8_1f1fa":1,"1f1e8_1f1fb":1,"1f1e8_1f1fc":1,"1f1e8_1f1fd":1,"1f1e8_1f1fe":1,"1f1e8_1f1ff":1,"1f1e9":1,"1f1e9_1f1ea":1,"1f1e9_1f1ec":1,"1f1e9_1f1ef":1,"1f1e9_1f1f0":1,"1f1e9_1f1f2":1,"1f1e9_1f1f4":1,"1f1e9_1f1ff":1,"1f1ea":1,"1f1ea_1f1e6":1,"1f1ea_1f1e8":1,"1f1ea_1f1ea":1,"1f1ea_1f1ec":1,"1f1ea_1f1ed":1,"1f1ea_1f1f7":1,"1f1ea_1f1f8":1,"1f1ea_1f1f9":1,"1f1ea_1f1fa":1,"1f1eb":1,"1f1eb_1f1ee":1,"1f1eb_1f1ef":1,"1f1eb_1f1f0":1,"1f1eb_1f1f2":1,"1f1eb_1f1f4":1,"1f1eb_1f1f7":1,"1f1ec":1,"1f1ec_1f1e6":1,"1f1ec_1f1e7":1,"1f1ec_1f1e9":1,"1f1ec_1f1ea":1,"1f1ec_1f1eb":1,"1f1ec_1f1ec":1,"1f1ec_1f1ed":1,"1f1ec_1f1ee":1,"1f1ec_1f1f1":1,"1f1ec_1f1f2":1,"1f1ec_1f1f3":1,"1f1ec_1f1f5":1,"1f1ec_1f1f6":1,"1f1ec_1f1f7":1,"1f1ec_1f1f8":1,"1f1ec_1f1f9":1,"1f1ec_1f1fa":1,"1f1ec_1f1fc":1,"1f1ec_1f1fe":1,"1f1ed":1,"1f1ed_1f1f0":1,"1f1ed_1f1f2":1,"1f1ed_1f1f3":1,"1f1ed_1f1f7":1,"1f1ed_1f1f9":1,"1f1ed_1f1fa":1,"1f1ee":1,"1f1ee_1f1e8":1,"1f1ee_1f1e9":1,"1f1ee_1f1ea":1,"1f1ee_1f1f1":1,"1f1ee_1f1f2":1,"1f1ee_1f1f3":1,"1f1ee_1f1f4":1,"1f1ee_1f1f6":1,"1f1ee_1f1f7":1,"1f1ee_1f1f8":1,"1f1ee_1f1f9":1,"1f1ef":1,"1f1ef_1f1ea":1,"1f1ef_1f1f2":1,"1f1ef_1f1f4":1,"1f1ef_1f1f5":1,"1f1f0":1,"1f1f0_1f1ea":1,"1f1f0_1f1ec":1,"1f1f0_1f1ed":1,"1f1f0_1f1ee":1,"1f1f0_1f1f2":1,"1f1f0_1f1f3":1,"1f1f0_1f1f5":1,"1f1f0_1f1f7":1,"1f1f0_1f1fc":1,"1f1f0_1f1fe":1,"1f1f0_1f1ff":1,"1f1f1":1,"1f1f1_1f1e6":1,"1f1f1_1f1e7":1,"1f1f1_1f1e8":1,"1f1f1_1f1ee":1,"1f1f1_1f1f0":1,"1f1f1_1f1f7":1,"1f1f1_1f1f8":1,"1f1f1_1f1f9":1,"1f1f1_1f1fa":1,"1f1f1_1f1fb":1,"1f1f1_1f1fe":1,"1f1f2":1,"1f1f2_1f1e6":1,"1f1f2_1f1e8":1,"1f1f2_1f1e9":1,"1f1f2_1f1ea":1,"1f1f2_1f1eb":1,"1f1f2_1f1ec":1,"1f1f2_1f1ed":1,"1f1f2_1f1f0":1,"1f1f2_1f1f1":1,"1f1f2_1f1f2":1,"1f1f2_1f1f3":1,"1f1f2_1f1f4":1,"1f1f2_1f1f5":1,"1f1f2_1f1f6":1,"1f1f2_1f1f7":1,"1f1f2_1f1f8":1,"1f1f2_1f1f9":1,"1f1f2_1f1fa":1,"1f1f2_1f1fb":1,"1f1f2_1f1fc":1,"1f1f2_1f1fd":1,"1f1f2_1f1fe":1,"1f1f2_1f1ff":1,"1f1f3":1,"1f1f3_1f1e6":1,"1f1f3_1f1e8":1,"1f1f3_1f1ea":1,"1f1f3_1f1eb":1,"1f1f3_1f1ec":1,"1f1f3_1f1ee":1,"1f1f3_1f1f1":1,"1f1f3_1f1f4":1,"1f1f3_1f1f5":1,"1f1f3_1f1f7":1,"1f1f3_1f1fa":1,"1f1f3_1f1ff":1,"1f1f4":1,"1f1f4_1f1f2":1,"1f1f5":1,"1f1f5_1f1e6":1,"1f1f5_1f1ea":1,"1f1f5_1f1eb":1,"1f1f5_1f1ec":1,"1f1f5_1f1ed":1,"1f1f5_1f1f0":1,"1f1f5_1f1f1":1,"1f1f5_1f1f2":1,"1f1f5_1f1f3":1,"1f1f5_1f1f7":1,"1f1f5_1f1f8":1,"1f1f5_1f1f9":1,"1f1f5_1f1fc":1,"1f1f5_1f1fe":1,"1f1f6":1,"1f1f6_1f1e6":1,"1f1f7":1,"1f1f7_1f1ea":1,"1f1f7_1f1f4":1,"1f1f7_1f1f8":1,"1f1f7_1f1fa":1,"1f1f7_1f1fc":1,"1f1f8":1,"1f1f8_1f1e6":1,"1f1f8_1f1e7":1,"1f1f8_1f1e8":1,"1f1f8_1f1e9":1,"1f1f8_1f1ea":1,"1f1f8_1f1ec":1,"1f1f8_1f1ed":1,"1f1f8_1f1ee":1,"1f1f8_1f1ef":1,"1f1f8_1f1f0":1,"1f1f8_1f1f1":1,"1f1f8_1f1f2":1,"1f1f8_1f1f3":1,"1f1f8_1f1f4":1,"1f1f8_1f1f7":1,"1f1f8_1f1f8":1,"1f1f8_1f1f9":1,"1f1f8_1f1fb":1,"1f1f8_1f1fd":1,"1f1f8_1f1fe":1,"1f1f8_1f1ff":1,"1f1f9":1,"1f1f9_1f1e6":1,"1f1f9_1f1e8":1,"1f1f9_1f1e9":1,"1f1f9_1f1eb":1,"1f1f9_1f1ec":1,"1f1f9_1f1ed":1,"1f1f9_1f1ef":1,"1f1f9_1f1f0":1,"1f1f9_1f1f1":1,"1f1f9_1f1f2":1,"1f1f9_1f1f3":1,"1f1f9_1f1f4":1,"1f1f9_1f1f7":1,"1f1f9_1f1f9":1,"1f1f9_1f1fb":1,"1f1f9_1f1fc":1,"1f1f9_1f1ff":1,"1f1fa":1,"1f1fa_1f1e6":1,"1f1fa_1f1ec":1,"1f1fa_1f1f2":1,"1f1fa_1f1f8":1,"1f1fa_1f1fe":1,"1f1fa_1f1ff":1,"1f1fb":1,"1f1fb_1f1e6":1,"1f1fb_1f1e8":1,"1f1fb_1f1ea":1,"1f1fb_1f1ec":1,"1f1fb_1f1ee":1,"1f1fb_1f1f3":1,"1f1fb_1f1fa":1,"1f1fc":1,"1f1fc_1f1eb":1,"1f1fc_1f1f8":1,"1f1fd":1,"1f1fd_1f1f0":1,"1f1fe":1,"1f1fe_1f1ea":1,"1f1fe_1f1f9":1,"1f1ff":1,"1f1ff_1f1e6":1,"1f1ff_1f1f2":1,"1f1ff_1f1fc":1,"1f201":1,"1f202":1,"1f21a":1,"1f22f":1,"1f232":1,"1f233":1,"1f234":1,"1f235":1,"1f236":1,"1f237":1,"1f238":1,"1f239":1,"1f23a":1,"1f250":1,"1f251":1,"1f300":1,"1f301":1,"1f302":1,"1f303":1,"1f304":1,"1f305":1,"1f306":1,"1f307":1,"1f308":1,"1f309":1,"1f30a":1,"1f30b":1,"1f30c":1,"1f30d":1,"1f30e":1,"1f30f":1,"1f310":1,"1f311":1,"1f312":1,"1f313":1,"1f313_20":1,"1f314":1,"1f315":1,"1f316":1,"1f317":1,"1f318":1,"1f319":1,"1f31a":1,"1f31b":1,"1f31c":1,"1f31d":1,"1f31e":1,"1f31f":1,"1f320":1,"1f321":1,"1f324":1,"1f325":1,"1f326":1,"1f327":1,"1f328":1,"1f329":1,"1f32a":1,"1f32b":1,"1f32c":1,"1f32d":1,"1f32e":1,"1f32f":1,"1f330":1,"1f331":1,"1f332":1,"1f333":1,"1f334":1,"1f335":1,"1f336":1,"1f337":1,"1f338":1,"1f339":1,"1f33a":1,"1f33b":1,"1f33c":1,"1f33d":1,"1f33e":1,"1f33f":1,"1f340":1,"1f341":1,"1f342":1,"1f343":1,"1f344":1,"1f345":1,"1f346":1,"1f347":1,"1f348":1,"1f349":1,"1f34a":1,"1f34b":1,"1f34c":1,"1f34d":1,"1f34e":1,"1f34f":1,"1f350":1,"1f351":1,"1f352":1,"1f353":1,"1f354":1,"1f355":1,"1f356":1,"1f357":1,"1f358":1,"1f359":1,"1f35a":1,"1f35b":1,"1f35c":1,"1f35d":1,"1f35e":1,"1f35f":1,"1f360":1,"1f361":1,"1f362":1,"1f363":1,"1f364":1,"1f365":1,"1f366":1,"1f367":1,"1f368":1,"1f369":1,"1f36a":1,"1f36b":1,"1f36c":1,"1f36d":1,"1f36e":1,"1f36f":1,"1f370":1,"1f371":1,"1f372":1,"1f373":1,"1f374":1,"1f375":1,"1f376":1,"1f377":1,"1f378":1,"1f379":1,"1f37a":1,"1f37b":1,"1f37c":1,"1f37d":1,"1f37e":1,"1f37f":1,"1f380":1,"1f381":1,"1f382":1,"1f383":1,"1f384":1,"1f385":1,"1f385_1f3fb":1,"1f385_1f3fc":1,"1f385_1f3fd":1,"1f385_1f3fe":1,"1f385_1f3ff":1,"1f386":1,"1f387":1,"1f388":1,"1f389":1,"1f38a":1,"1f38b":1,"1f38c":1,"1f38d":1,"1f38e":1,"1f38f":1,"1f390":1,"1f391":1,"1f392":1,"1f393":1,"1f396":1,"1f397":1,"1f399":1,"1f39a":1,"1f39b":1,"1f39e":1,"1f39f":1,"1f3a0":1,"1f3a1":1,"1f3a2":1,"1f3a3":1,"1f3a4":1,"1f3a5":1,"1f3a6":1,"1f3a7":1,"1f3a8":1,"1f3a9":1,"1f3aa":1,"1f3ab":1,"1f3ac":1,"1f3ad":1,"1f3ae":1,"1f3af":1,"1f3b0":1,"1f3b1":1,"1f3b2":1,"1f3b3":1,"1f3b4":1,"1f3b5":1,"1f3b6":1,"1f3b7":1,"1f3b8":1,"1f3b9":1,"1f3ba":1,"1f3bb":1,"1f3bc":1,"1f3bd":1,"1f3be":1,"1f3bf":1,"1f3c0":1,"1f3c1":1,"1f3c2":1,"1f3c2_1f3fb":1,"1f3c2_1f3fc":1,"1f3c2_1f3fd":1,"1f3c2_1f3fe":1,"1f3c2_1f3ff":1,"1f3c3":1,"1f3c3_1f3f":1,"1f3c3_1f3fb":1,"1f3c3_1f3fb_200d_2642":1,"1f3c3_1f3fc":1,"1f3c3_1f3fc_200d_2642":1,"1f3c3_1f3fd":1,"1f3c3_1f3fd_200d_2642":1,"1f3c3_1f3fe":1,"1f3c3_1f3fe_200d_2642":1,"1f3c3_1f3ff":1,"1f3c3_1f3ff_200d_2642":1,"1f3c3_200d_2642":1,"1f3c4":1,"1f3c4_1f3fb":1,"1f3c4_1f3fb_200d_2642":1,"1f3c4_1f3fc":1,"1f3c4_1f3fc_200d_2642":1,"1f3c4_1f3fd":1,"1f3c4_1f3fd_200d_2642":1,"1f3c4_1f3fe":1,"1f3c4_1f3fe_200d_2642":1,"1f3c4_1f3ff":1,"1f3c4_1f3ff_200d_2642":1,"1f3c4_200d_2642":1,"1f3c5":1,"1f3c6":1,"1f3c7":1,"1f3c7_1f3fb":1,"1f3c7_1f3fc":1,"1f3c7_1f3fd":1,"1f3c7_1f3fe":1,"1f3c7_1f3ff":1,"1f3c8":1,"1f3c9":1,"1f3ca":1,"1f3ca_1f3fb":1,"1f3ca_1f3fb_200d_2642":1,"1f3ca_1f3fc":1,"1f3ca_1f3fc_200d_2642":1,"1f3ca_1f3fd":1,"1f3ca_1f3fd_200d_2642":1,"1f3ca_1f3fe":1,"1f3ca_1f3fe_200d_2642":1,"1f3ca_1f3ff":1,"1f3ca_1f3ff_200d_2642":1,"1f3ca_200d_2642":1,"1f3cb":1,"1f3cb_1f3fb":1,"1f3cb_1f3fb_200d_2642":1,"1f3cb_1f3fc":1,"1f3cb_1f3fc_200d_2642":1,"1f3cb_1f3fd":1,"1f3cb_1f3fd_200d_2642":1,"1f3cb_1f3fe":1,"1f3cb_1f3fe_200d_2642":1,"1f3cb_1f3ff":1,"1f3cb_1f3ff_200d_2642":1,"1f3cb_200d_2642":1,"1f3cc":1,"1f3cc_1f3fb":1,"1f3cc_1f3fb_200d_2642":1,"1f3cc_1f3fc":1,"1f3cc_1f3fc_200d_2642":1,"1f3cc_1f3fd":1,"1f3cc_1f3fd_200d_2642":1,"1f3cc_1f3fe":1,"1f3cc_1f3fe_200d_2642":1,"1f3cc_1f3ff":1,"1f3cc_1f3ff_200d_2642":1,"1f3cc_200d_2642":1,"1f3cd":1,"1f3ce":1,"1f3cf":1,"1f3d0":1,"1f3d1":1,"1f3d2":1,"1f3d3":1,"1f3d4":1,"1f3d5":1,"1f3d6":1,"1f3d7":1,"1f3d8":1,"1f3d9":1,"1f3da":1,"1f3db":1,"1f3dc":1,"1f3dd":1,"1f3de":1,"1f3df":1,"1f3e0":1,"1f3e1":1,"1f3e2":1,"1f3e3":1,"1f3e4":1,"1f3e5":1,"1f3e6":1,"1f3e7":1,"1f3e8":1,"1f3e9":1,"1f3ea":1,"1f3eb":1,"1f3ec":1,"1f3ed":1,"1f3ee":1,"1f3ef":1,"1f3f0":1,"1f3f3":1,"1f3f3_200d_1f308":1,"1f3f3_fe0f_200d_1f308":1,"1f3f4":1,"1f3f5":1,"1f3f7":1,"1f3f8":1,"1f3f9":1,"1f3fa":1,"1f3fb":1,"1f3fc":1,"1f3fd":1,"1f3fe":1,"1f3ff":1,"1f400":1,"1f401":1,"1f402":1,"1f403":1,"1f404":1,"1f405":1,"1f406":1,"1f407":1,"1f408":1,"1f409":1,"1f40a":1,"1f40b":1,"1f40c":1,"1f40d":1,"1f40e":1,"1f40f":1,"1f410":1,"1f411":1,"1f412":1,"1f413":1,"1f414":1,"1f415":1,"1f416":1,"1f417":1,"1f418":1,"1f419":1,"1f41a":1,"1f41b":1,"1f41c":1,"1f41d":1,"1f41e":1,"1f41f":1,"1f420":1,"1f421":1,"1f422":1,"1f423":1,"1f424":1,"1f425":1,"1f426":1,"1f427":1,"1f428":1,"1f429":1,"1f42a":1,"1f42b":1,"1f42c":1,"1f42d":1,"1f42e":1,"1f42f":1,"1f430":1,"1f431":1,"1f432":1,"1f433":1,"1f434":1,"1f435":1,"1f436":1,"1f437":1,"1f438":1,"1f439":1,"1f43a":1,"1f43b":1,"1f43c":1,"1f43d":1,"1f43e":1,"1f43f":1,"1f440":1,"1f441":1,"1f441_200d_1f5e8":1,"1f442":1,"1f442_1f3fb":1,"1f442_1f3fc":1,"1f442_1f3fd":1,"1f442_1f3fe":1,"1f442_1f3ff":1,"1f443":1,"1f443_1f3fb":1,"1f443_1f3fc":1,"1f443_1f3fd":1,"1f443_1f3fe":1,"1f443_1f3ff":1,"1f444":1,"1f445":1,"1f446":1,"1f446_1f3fb":1,"1f446_1f3fc":1,"1f446_1f3fd":1,"1f446_1f3fe":1,"1f446_1f3ff":1,"1f447":1,"1f447_1f3fb":1,"1f447_1f3fc":1,"1f447_1f3fd":1,"1f447_1f3fe":1,"1f447_1f3ff":1,"1f448":1,"1f448_1f3fb":1,"1f448_1f3fc":1,"1f448_1f3fd":1,"1f448_1f3fe":1,"1f448_1f3ff":1,"1f449":1,"1f449_1f3fb":1,"1f449_1f3fc":1,"1f449_1f3fd":1,"1f449_1f3fe":1,"1f449_1f3ff":1,"1f44a":1,"1f44a_1f3fb":1,"1f44a_1f3fc":1,"1f44a_1f3fd":1,"1f44a_1f3fe":1,"1f44a_1f3ff":1,"1f44b":1,"1f44b_1f3fb":1,"1f44b_1f3fc":1,"1f44b_1f3fd":1,"1f44b_1f3fe":1,"1f44b_1f3ff":1,"1f44c":1,"1f44c_1f3fb":1,"1f44c_1f3fc":1,"1f44c_1f3fd":1,"1f44c_1f3fe":1,"1f44c_1f3ff":1,"1f44d":1,"1f44d_1f3fb":1,"1f44d_1f3fc":1,"1f44d_1f3fd":1,"1f44d_1f3fe":1,"1f44d_1f3ff":1,"1f44e":1,"1f44e_1f3fb":1,"1f44e_1f3fc":1,"1f44e_1f3fd":1,"1f44e_1f3fe":1,"1f44e_1f3ff":1,"1f44f":1,"1f44f_1f3fb":1,"1f44f_1f3fc":1,"1f44f_1f3fd":1,"1f44f_1f3fe":1,"1f44f_1f3ff":1,"1f450":1,"1f450_1f3fb":1,"1f450_1f3fc":1,"1f450_1f3fd":1,"1f450_1f3fe":1,"1f450_1f3ff":1,"1f451":1,"1f452":1,"1f453":1,"1f454":1,"1f455":1,"1f456":1,"1f457":1,"1f458":1,"1f459":1,"1f45a":1,"1f45b":1,"1f45c":1,"1f45d":1,"1f45e":1,"1f45f":1,"1f460":1,"1f461":1,"1f462":1,"1f463":1,"1f464":1,"1f465":1,"1f466":1,"1f466_1f3fb":1,"1f466_1f3fc":1,"1f466_1f3fd":1,"1f466_1f3fe":1,"1f466_1f3ff":1,"1f467":1,"1f467_1f3fb":1,"1f467_1f3fc":1,"1f467_1f3fd":1,"1f467_1f3fe":1,"1f467_1f3ff":1,"1f468":1,"1f468_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_2764_200d_1f468_1f3fb":1,"1f468_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f468_1f3fb_200d_2764_fe0f_200d_1f468_1f3fb":1,"1f468_1f3fb_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fb":1,"1f468_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_2764_200d_1f468_1f3fc":1,"1f468_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f468_1f3fc_200d_2764_fe0f_200d_1f468_1f3fc":1,"1f468_1f3fc_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fc":1,"1f468_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_2764_200d_1f468_1f3fd":1,"1f468_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f468_1f3fd_200d_2764_fe0f_200d_1f468_1f3fd":1,"1f468_1f3fd_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fd":1,"1f468_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_2764_200d_1f468_1f3fe":1,"1f468_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f468_1f3fe_200d_2764_fe0f_200d_1f468_1f3fe":1,"1f468_1f3fe_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fe":1,"1f468_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_2764_200d_1f468_1f3ff":1,"1f468_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f468_1f3ff_200d_2764_fe0f_200d_1f468_1f3ff":1,"1f468_1f3ff_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3ff":1,"1f468_200d_1f468_200d_1f466":1,"1f468_200d_1f468_200d_1f466_200d_1f466":1,"1f468_200d_1f468_200d_1f467":1,"1f468_200d_1f468_200d_1f467_200d_1f466":1,"1f468_200d_1f468_200d_1f467_200d_1f467":1,"1f468_200d_1f469_200d_1f466":1,"1f468_200d_1f469_200d_1f466_200d_1f466":1,"1f468_200d_1f469_200d_1f467":1,"1f468_200d_1f469_200d_1f467_200d_1f466":1,"1f468_200d_1f469_200d_1f467_200d_1f467":1,"1f468_200d_2764_200d_1f468":1,"1f468_200d_2764_200d_1f48b_200d_1f468":1,"1f468_200d_2764_fe0f_200d_1f468":1,"1f468_200d_2764_fe0f_200d_1f48b_200d_1f468":1,"1f469":1,"1f469_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f469_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f469_1f3fb":1,"1f469_1f3fb_200d_2764_fe0f_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_fe0f_200d_1f469_1f3fb":1,"1f469_1f3fb_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3fb":1,"1f469_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f469_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f469_1f3fc":1,"1f469_1f3fc_200d_2764_fe0f_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_fe0f_200d_1f469_1f3fc":1,"1f469_1f3fc_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3fc":1,"1f469_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f469_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f469_1f3fd":1,"1f469_1f3fd_200d_2764_fe0f_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_fe0f_200d_1f469_1f3fd":1,"1f469_1f3fd_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3fd":1,"1f469_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f469_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f469_1f3fe":1,"1f469_1f3fe_200d_2764_fe0f_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_fe0f_200d_1f469_1f3fe":1,"1f469_1f3fe_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3fe":1,"1f469_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f469_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f469_1f3ff":1,"1f469_1f3ff_200d_2764_fe0f_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_fe0f_200d_1f469_1f3ff":1,"1f469_1f3ff_200d_2764_fe0f_200d_1f48b_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_fe0f_200d_1f48b_200d_1f469_1f3ff":1,"1f469_200d_1f469_200d_1f466":1,"1f469_200d_1f469_200d_1f466_200d_1f466":1,"1f469_200d_1f469_200d_1f467":1,"1f469_200d_1f469_200d_1f467_200d_1f466":1,"1f469_200d_1f469_200d_1f467_200d_1f467":1,"1f469_200d_2764_200d_1f468":1,"1f469_200d_2764_200d_1f469":1,"1f469_200d_2764_200d_1f48b_200d_1f468":1,"1f469_200d_2764_200d_1f48b_200d_1f469":1,"1f469_200d_2764_fe0f_200d_1f468":1,"1f469_200d_2764_fe0f_200d_1f469":1,"1f469_200d_2764_fe0f_200d_1f48b_200d_1f468":1,"1f469_200d_2764_fe0f_200d_1f48b_200d_1f469":1,"1f46a":1,"1f46a_1f3fb":1,"1f46a_1f3fc":1,"1f46a_1f3fd":1,"1f46a_1f3fe":1,"1f46a_1f3ff":1,"1f46b":1,"1f46b_1f3fb":1,"1f46b_1f3fc":1,"1f46b_1f3fd":1,"1f46b_1f3fe":1,"1f46b_1f3ff":1,"1f46c":1,"1f46c_1f3fb":1,"1f46c_1f3fc":1,"1f46c_1f3fd":1,"1f46c_1f3fe":1,"1f46c_1f3ff":1,"1f46d":1,"1f46d_1f3fb":1,"1f46d_1f3fc":1,"1f46d_1f3fd":1,"1f46d_1f3fe":1,"1f46d_1f3ff":1,"1f46e":1,"1f46e_1f3fb":1,"1f46e_1f3fb_200d_2642":1,"1f46e_1f3fc":1,"1f46e_1f3fc_200d_2642":1,"1f46e_1f3fd":1,"1f46e_1f3fd_200d_2642":1,"1f46e_1f3fe":1,"1f46e_1f3fe_200d_2642":1,"1f46e_1f3ff":1,"1f46e_1f3ff_200d_2642":1,"1f46e_200d_2642":1,"1f46f":1,"1f46f_1f3fb":1,"1f46f_1f3fb_200d_2640":1,"1f46f_1f3fc":1,"1f46f_1f3fc_200d_2640":1,"1f46f_1f3fd":1,"1f46f_1f3fd_200d_2640":1,"1f46f_1f3fe":1,"1f46f_1f3fe_200d_2640":1,"1f46f_1f3ff":1,"1f46f_1f3ff_200d_2640":1,"1f46f_200d_2640":1,"1f470":1,"1f470_1f3fb":1,"1f470_1f3fc":1,"1f470_1f3fd":1,"1f470_1f3fe":1,"1f470_1f3ff":1,"1f471":1,"1f471_1f3fb":1,"1f471_1f3fb_200d_2642":1,"1f471_1f3fc":1,"1f471_1f3fc_200d_2642":1,"1f471_1f3fd":1,"1f471_1f3fd_200d_2642":1,"1f471_1f3fe":1,"1f471_1f3fe_200d_2642":1,"1f471_1f3ff":1,"1f471_1f3ff_200d_2642":1,"1f471_200d_2642":1,"1f472":1,"1f472_1f3fb":1,"1f472_1f3fc":1,"1f472_1f3fd":1,"1f472_1f3fe":1,"1f472_1f3ff":1,"1f473":1,"1f473_1f3fb":1,"1f473_1f3fb_200d_2642":1,"1f473_1f3fc":1,"1f473_1f3fc_200d_2642":1,"1f473_1f3fd":1,"1f473_1f3fd_200d_2642":1,"1f473_1f3fe":1,"1f473_1f3fe_200d_2642":1,"1f473_1f3ff":1,"1f473_1f3ff_200d_2642":1,"1f473_200d_2642":1,"1f474":1,"1f474_1f3fb":1,"1f474_1f3fc":1,"1f474_1f3fd":1,"1f474_1f3fe":1,"1f474_1f3ff":1,"1f475":1,"1f475_1f3fb":1,"1f475_1f3fc":1,"1f475_1f3fd":1,"1f475_1f3fe":1,"1f475_1f3ff":1,"1f476":1,"1f476_1f3fb":1,"1f476_1f3fc":1,"1f476_1f3fd":1,"1f476_1f3fe":1,"1f476_1f3ff":1,"1f477":1,"1f477_1f3fb":1,"1f477_1f3fb_200d_2642":1,"1f477_1f3fc":1,"1f477_1f3fc_200d_2642":1,"1f477_1f3fd":1,"1f477_1f3fd_200d_2642":1,"1f477_1f3fe":1,"1f477_1f3fe_200d_2642":1,"1f477_1f3ff":1,"1f477_1f3ff_200d_2642":1,"1f477_200d_2642":1,"1f478":1,"1f478_1f3fb":1,"1f478_1f3fc":1,"1f478_1f3fd":1,"1f478_1f3fe":1,"1f478_1f3ff":1,"1f479":1,"1f47a":1,"1f47b":1,"1f47c":1,"1f47c_1f3fb":1,"1f47c_1f3fc":1,"1f47c_1f3fd":1,"1f47c_1f3fe":1,"1f47c_1f3ff":1,"1f47d":1,"1f47e":1,"1f47f":1,"1f480":1,"1f481":1,"1f481_1f3fb":1,"1f481_1f3fb_200d_2640":1,"1f481_1f3fc":1,"1f481_1f3fc_200d_2640":1,"1f481_1f3fd":1,"1f481_1f3fd_200d_2640":1,"1f481_1f3fe":1,"1f481_1f3fe_200d_2640":1,"1f481_1f3ff":1,"1f481_1f3ff_200d_2640":1,"1f481_200d_2640":1,"1f482":1,"1f482_1f3fb":1,"1f482_1f3fb_200d_2642":1,"1f482_1f3fc":1,"1f482_1f3fc_200d_2642":1,"1f482_1f3fd":1,"1f482_1f3fd_200d_2642":1,"1f482_1f3fe":1,"1f482_1f3fe_200d_2642":1,"1f482_1f3ff":1,"1f482_1f3ff_200d_2642":1,"1f482_200d_2642":1,"1f483":1,"1f483_1f3fb":1,"1f483_1f3fc":1,"1f483_1f3fd":1,"1f483_1f3fe":1,"1f483_1f3ff":1,"1f484":1,"1f485":1,"1f485_1f3fb":1,"1f485_1f3fc":1,"1f485_1f3fd":1,"1f485_1f3fe":1,"1f485_1f3ff":1,"1f486":1,"1f486_1f3fb":1,"1f486_1f3fb_200d_2640":1,"1f486_1f3fc":1,"1f486_1f3fc_200d_2640":1,"1f486_1f3fd":1,"1f486_1f3fd_200d_2640":1,"1f486_1f3fe":1,"1f486_1f3fe_200d_2640":1,"1f486_1f3ff":1,"1f486_1f3ff_200d_2640":1,"1f486_200d_2640":1,"1f487":1,"1f487_1f3fb":1,"1f487_1f3fb_200d_2640":1,"1f487_1f3fc":1,"1f487_1f3fc_200d_2640":1,"1f487_1f3fd":1,"1f487_1f3fd_200d_2640":1,"1f487_1f3fe":1,"1f487_1f3fe_200d_2640":1,"1f487_1f3ff":1,"1f487_1f3ff_200d_2640":1,"1f487_200d_2640":1,"1f488":1,"1f489":1,"1f48a":1,"1f48b":1,"1f48c":1,"1f48d":1,"1f48e":1,"1f48f":1,"1f48f_1f3fb":1,"1f48f_1f3fc":1,"1f48f_1f3fd":1,"1f48f_1f3fe":1,"1f48f_1f3ff":1,"1f490":1,"1f491":1,"1f491_1f3fb":1,"1f491_1f3fc":1,"1f491_1f3fd":1,"1f491_1f3fe":1,"1f491_1f3ff":1,"1f492":1,"1f493":1,"1f494":1,"1f495":1,"1f496":1,"1f497":1,"1f498":1,"1f499":1,"1f49a":1,"1f49b":1,"1f49c":1,"1f49d":1,"1f49e":1,"1f49f":1,"1f4a0":1,"1f4a1":1,"1f4a2":1,"1f4a3":1,"1f4a4":1,"1f4a5":1,"1f4a6":1,"1f4a7":1,"1f4a8":1,"1f4a9":1,"1f4aa":1,"1f4aa_1f3fb":1,"1f4aa_1f3fc":1,"1f4aa_1f3fd":1,"1f4aa_1f3fe":1,"1f4aa_1f3ff":1,"1f4ab":1,"1f4ac":1,"1f4ad":1,"1f4ae":1,"1f4af":1,"1f4b0":1,"1f4b1":1,"1f4b2":1,"1f4b3":1,"1f4b4":1,"1f4b5":1,"1f4b6":1,"1f4b7":1,"1f4b8":1,"1f4b9":1,"1f4ba":1,"1f4bb":1,"1f4bc":1,"1f4bd":1,"1f4be":1,"1f4bf":1,"1f4c0":1,"1f4c1":1,"1f4c2":1,"1f4c3":1,"1f4c4":1,"1f4c5":1,"1f4c6":1,"1f4c7":1,"1f4c8":1,"1f4c9":1,"1f4ca":1,"1f4cb":1,"1f4cc":1,"1f4cd":1,"1f4ce":1,"1f4cf":1,"1f4d0":1,"1f4d1":1,"1f4d2":1,"1f4d3":1,"1f4d4":1,"1f4d5":1,"1f4d6":1,"1f4d7":1,"1f4d8":1,"1f4d9":1,"1f4da":1,"1f4db":1,"1f4dc":1,"1f4dd":1,"1f4de":1,"1f4df":1,"1f4e0":1,"1f4e1":1,"1f4e2":1,"1f4e3":1,"1f4e4":1,"1f4e5":1,"1f4e6":1,"1f4e7":1,"1f4e8":1,"1f4e9":1,"1f4ea":1,"1f4eb":1,"1f4ec":1,"1f4ed":1,"1f4ee":1,"1f4ef":1,"1f4f0":1,"1f4f1":1,"1f4f2":1,"1f4f3":1,"1f4f4":1,"1f4f5":1,"1f4f6":1,"1f4f7":1,"1f4f8":1,"1f4f9":1,"1f4fa":1,"1f4fb":1,"1f4fc":1,"1f4fd":1,"1f4ff":1,"1f500":1,"1f501":1,"1f502":1,"1f503":1,"1f504":1,"1f505":1,"1f506":1,"1f507":1,"1f508":1,"1f509":1,"1f50a":1,"1f50b":1,"1f50c":1,"1f50d":1,"1f50e":1,"1f50f":1,"1f510":1,"1f511":1,"1f512":1,"1f513":1,"1f514":1,"1f515":1,"1f516":1,"1f517":1,"1f518":1,"1f519":1,"1f51a":1,"1f51b":1,"1f51c":1,"1f51d":1,"1f51e":1,"1f51f":1,"1f520":1,"1f521":1,"1f522":1,"1f523":1,"1f524":1,"1f525":1,"1f526":1,"1f527":1,"1f528":1,"1f529":1,"1f52a":1,"1f52b":1,"1f52c":1,"1f52d":1,"1f52e":1,"1f52f":1,"1f530":1,"1f531":1,"1f532":1,"1f533":1,"1f534":1,"1f535":1,"1f536":1,"1f537":1,"1f538":1,"1f539":1,"1f53a":1,"1f53b":1,"1f53c":1,"1f53d":1,"1f549":1,"1f54a":1,"1f54b":1,"1f54c":1,"1f54d":1,"1f54e":1,"1f550":1,"1f551":1,"1f552":1,"1f553":1,"1f554":1,"1f555":1,"1f556":1,"1f557":1,"1f558":1,"1f559":1,"1f55a":1,"1f55b":1,"1f55c":1,"1f55d":1,"1f55e":1,"1f55f":1,"1f560":1,"1f561":1,"1f562":1,"1f563":1,"1f564":1,"1f565":1,"1f566":1,"1f567":1,"1f56f":1,"1f570":1,"1f573":1,"1f574":1,"1f574_1f3fb":1,"1f574_1f3fc":1,"1f574_1f3fd":1,"1f574_1f3fe":1,"1f574_1f3ff":1,"1f575":1,"1f575_1f3fb":1,"1f575_1f3fb_200d_2642":1,"1f575_1f3fc":1,"1f575_1f3fc_200d_2642":1,"1f575_1f3fd":1,"1f575_1f3fd_200d_2642":1,"1f575_1f3fe":1,"1f575_1f3fe_200d_2642":1,"1f575_1f3ff":1,"1f575_1f3ff_200d_2642":1,"1f575_200d_2642":1,"1f576":1,"1f577":1,"1f578":1,"1f579":1,"1f57a":1,"1f57a_1f3fb":1,"1f57a_1f3fc":1,"1f57a_1f3fd":1,"1f57a_1f3fe":1,"1f57a_1f3ff":1,"1f587":1,"1f58a":1,"1f58b":1,"1f58c":1,"1f58d":1,"1f590":1,"1f590_1f3fb":1,"1f590_1f3fc":1,"1f590_1f3fd":1,"1f590_1f3fe":1,"1f590_1f3ff":1,"1f595":1,"1f595_1f3fb":1,"1f595_1f3fc":1,"1f595_1f3fd":1,"1f595_1f3fe":1,"1f595_1f3ff":1,"1f596":1,"1f596_1f3fb":1,"1f596_1f3fc":1,"1f596_1f3fd":1,"1f596_1f3fe":1,"1f596_1f3ff":1,"1f5a4":1,"1f5a5":1,"1f5a8":1,"1f5b1":1,"1f5b2":1,"1f5bc":1,"1f5c2":1,"1f5c3":1,"1f5c4":1,"1f5d1":1,"1f5d2":1,"1f5d3":1,"1f5dc":1,"1f5dd":1,"1f5de":1,"1f5e1":1,"1f5e3":1,"1f5e8":1,"1f5ef":1,"1f5f3":1,"1f5fa":1,"1f5fb":1,"1f5fc":1,"1f5fd":1,"1f5fe":1,"1f5ff":1,"1f600":1,"1f601":1,"1f602":1,"1f603":1,"1f604":1,"1f605":1,"1f606":1,"1f607":1,"1f608":1,"1f609":1,"1f60a":1,"1f60b":1,"1f60c":1,"1f60d":1,"1f60e":1,"1f60f":1,"1f610":1,"1f611":1,"1f612":1,"1f613":1,"1f614":1,"1f615":1,"1f616":1,"1f617":1,"1f618":1,"1f619":1,"1f61a":1,"1f61b":1,"1f61c":1,"1f61d":1,"1f61e":1,"1f61f":1,"1f620":1,"1f621":1,"1f622":1,"1f623":1,"1f624":1,"1f625":1,"1f626":1,"1f627":1,"1f628":1,"1f629":1,"1f62a":1,"1f62b":1,"1f62c":1,"1f62d":1,"1f62e":1,"1f62f":1,"1f630":1,"1f631":1,"1f632":1,"1f633":1,"1f634":1,"1f635":1,"1f636":1,"1f637":1,"1f638":1,"1f639":1,"1f63a":1,"1f63b":1,"1f63c":1,"1f63d":1,"1f63e":1,"1f63f":1,"1f640":1,"1f641":1,"1f642":1,"1f643":1,"1f644":1,"1f645":1,"1f645_1f3fb":1,"1f645_1f3fb_200d_2640":1,"1f645_1f3fc":1,"1f645_1f3fc_200d_2640":1,"1f645_1f3fd":1,"1f645_1f3fd_200d_2640":1,"1f645_1f3fe":1,"1f645_1f3fe_200d_2640":1,"1f645_1f3ff":1,"1f645_1f3ff_200d_2640":1,"1f645_200d_2640":1,"1f646":1,"1f646_1f3fb":1,"1f646_1f3fb_200d_2640":1,"1f646_1f3fc":1,"1f646_1f3fc_200d_2640":1,"1f646_1f3fd":1,"1f646_1f3fd_200d_2640":1,"1f646_1f3fe":1,"1f646_1f3fe_200d_2640":1,"1f646_1f3ff":1,"1f646_1f3ff_200d_2640":1,"1f646_200d_2640":1,"1f647":1,"1f647_1f3fb":1,"1f647_1f3fb_200d_2642":1,"1f647_1f3fc":1,"1f647_1f3fc_200d_2642":1,"1f647_1f3fd":1,"1f647_1f3fd_200d_2642":1,"1f647_1f3fe":1,"1f647_1f3fe_200d_2642":1,"1f647_1f3ff":1,"1f647_1f3ff_200d_2642":1,"1f647_200d_2642":1,"1f648":1,"1f649":1,"1f64a":1,"1f64b":1,"1f64b_1f3fb":1,"1f64b_1f3fb_200d_2640":1,"1f64b_1f3fc":1,"1f64b_1f3fc_200d_2640":1,"1f64b_1f3fd":1,"1f64b_1f3fd_200d_2640":1,"1f64b_1f3fe":1,"1f64b_1f3fe_200d_2640":1,"1f64b_1f3ff":1,"1f64b_1f3ff_200d_2640":1,"1f64b_200d_2640":1,"1f64c":1,"1f64c_1f3fb":1,"1f64c_1f3fc":1,"1f64c_1f3fd":1,"1f64c_1f3fe":1,"1f64c_1f3ff":1,"1f64d":1,"1f64d_1f3fb":1,"1f64d_1f3fb_200d_2640":1,"1f64d_1f3fc":1,"1f64d_1f3fc_200d_2640":1,"1f64d_1f3fd":1,"1f64d_1f3fd_200d_2640":1,"1f64d_1f3fe":1,"1f64d_1f3fe_200d_2640":1,"1f64d_1f3ff":1,"1f64d_1f3ff_200d_2640":1,"1f64d_200d_2640":1,"1f64e":1,"1f64e_1f3fb":1,"1f64e_1f3fb_200d_2640":1,"1f64e_1f3fc":1,"1f64e_1f3fc_200d_2640":1,"1f64e_1f3fd":1,"1f64e_1f3fd_200d_2640":1,"1f64e_1f3fe":1,"1f64e_1f3fe_200d_2640":1,"1f64e_1f3ff":1,"1f64e_1f3ff_200d_2640":1,"1f64e_200d_2640":1,"1f64f":1,"1f64f_1f3fb":1,"1f64f_1f3fc":1,"1f64f_1f3fd":1,"1f64f_1f3fe":1,"1f64f_1f3ff":1,"1f680":1,"1f681":1,"1f682":1,"1f683":1,"1f684":1,"1f685":1,"1f686":1,"1f687":1,"1f688":1,"1f689":1,"1f68a":1,"1f68b":1,"1f68c":1,"1f68d":1,"1f68e":1,"1f68f":1,"1f690":1,"1f691":1,"1f692":1,"1f693":1,"1f694":1,"1f695":1,"1f696":1,"1f697":1,"1f698":1,"1f699":1,"1f69a":1,"1f69b":1,"1f69c":1,"1f69d":1,"1f69e":1,"1f69f":1,"1f6a0":1,"1f6a1":1,"1f6a2":1,"1f6a3":1,"1f6a3_1f3fb":1,"1f6a3_1f3fb_200d_2642":1,"1f6a3_1f3fc":1,"1f6a3_1f3fc_200d_2642":1,"1f6a3_1f3fd":1,"1f6a3_1f3fd_200d_2642":1,"1f6a3_1f3fe":1,"1f6a3_1f3fe_200d_2642":1,"1f6a3_1f3ff":1,"1f6a3_1f3ff_200d_2642":1,"1f6a3_200d_2642":1,"1f6a4":1,"1f6a5":1,"1f6a6":1,"1f6a7":1,"1f6a8":1,"1f6a9":1,"1f6aa":1,"1f6ab":1,"1f6ac":1,"1f6ad":1,"1f6ae":1,"1f6af":1,"1f6b0":1,"1f6b1":1,"1f6b2":1,"1f6b3":1,"1f6b4":1,"1f6b4_1f3fb":1,"1f6b4_1f3fb_200d_2642":1,"1f6b4_1f3fc":1,"1f6b4_1f3fc_200d_2642":1,"1f6b4_1f3fd":1,"1f6b4_1f3fd_200d_2642":1,"1f6b4_1f3fe":1,"1f6b4_1f3fe_200d_2642":1,"1f6b4_1f3ff":1,"1f6b4_1f3ff_200d_2642":1,"1f6b4_200d_2642":1,"1f6b5":1,"1f6b5_1f3fb":1,"1f6b5_1f3fb_200d_2642":1,"1f6b5_1f3fc":1,"1f6b5_1f3fc_200d_2642":1,"1f6b5_1f3fd":1,"1f6b5_1f3fd_200d_2642":1,"1f6b5_1f3fe":1,"1f6b5_1f3fe_200d_2642":1,"1f6b5_1f3ff":1,"1f6b5_1f3ff_200d_2642":1,"1f6b5_200d_2642":1,"1f6b6":1,"1f6b6_1f3fb":1,"1f6b6_1f3fb_200d_2642":1,"1f6b6_1f3fc":1,"1f6b6_1f3fc_200d_2642":1,"1f6b6_1f3fd":1,"1f6b6_1f3fd_200d_2642":1,"1f6b6_1f3fe":1,"1f6b6_1f3fe_200d_2642":1,"1f6b6_1f3ff":1,"1f6b6_1f3ff_200d_2642":1,"1f6b6_200d_2642":1,"1f6b7":1,"1f6b8":1,"1f6b9":1,"1f6ba":1,"1f6bb":1,"1f6bc":1,"1f6bd":1,"1f6be":1,"1f6bf":1,"1f6c0":1,"1f6c0_1f3fb":1,"1f6c0_1f3fc":1,"1f6c0_1f3fd":1,"1f6c0_1f3fe":1,"1f6c0_1f3ff":1,"1f6c1":1,"1f6c2":1,"1f6c3":1,"1f6c4":1,"1f6c5":1,"1f6cb":1,"1f6cc":1,"1f6cc_1f3fb":1,"1f6cc_1f3fc":1,"1f6cc_1f3fd":1,"1f6cc_1f3fe":1,"1f6cc_1f3ff":1,"1f6cd":1,"1f6ce":1,"1f6cf":1,"1f6d0":1,"1f6d1":1,"1f6d2":1,"1f6e0":1,"1f6e1":1,"1f6e2":1,"1f6e3":1,"1f6e4":1,"1f6e5":1,"1f6e9":1,"1f6eb":1,"1f6ec":1,"1f6f0":1,"1f6f3":1,"1f6f4":1,"1f6f5":1,"1f6f6":1,"1f910":1,"1f911":1,"1f912":1,"1f913":1,"1f914":1,"1f915":1,"1f916":1,"1f917":1,"1f918":1,"1f918_1f3fb":1,"1f918_1f3fc":1,"1f918_1f3fd":1,"1f918_1f3fe":1,"1f918_1f3ff":1,"1f919":1,"1f919_1f3fb":1,"1f919_1f3fc":1,"1f919_1f3fd":1,"1f919_1f3fe":1,"1f919_1f3ff":1,"1f91a":1,"1f91a_1f3fb":1,"1f91a_1f3fc":1,"1f91a_1f3fd":1,"1f91a_1f3fe":1,"1f91a_1f3ff":1,"1f91b":1,"1f91b_1f3fb":1,"1f91b_1f3fc":1,"1f91b_1f3fd":1,"1f91b_1f3fe":1,"1f91b_1f3ff":1,"1f91c":1,"1f91c_1f3fb":1,"1f91c_1f3fc":1,"1f91c_1f3fd":1,"1f91c_1f3fe":1,"1f91c_1f3ff":1,"1f91d":1,"1f91d_1f3fb":1,"1f91d_1f3fc":1,"1f91d_1f3fd":1,"1f91d_1f3fe":1,"1f91d_1f3ff":1,"1f91e":1,"1f91e_1f3fb":1,"1f91e_1f3fc":1,"1f91e_1f3fd":1,"1f91e_1f3fe":1,"1f91e_1f3ff":1,"1f920":1,"1f921":1,"1f922":1,"1f923":1,"1f924":1,"1f925":1,"1f926":1,"1f926_1f3fb":1,"1f926_1f3fb_200d_2640":1,"1f926_1f3fc":1,"1f926_1f3fc_200d_2640":1,"1f926_1f3fd":1,"1f926_1f3fd_200d_2640":1,"1f926_1f3fe":1,"1f926_1f3fe_200d_2640":1,"1f926_1f3ff":1,"1f926_1f3ff_200d_2640":1,"1f926_200d_2640":1,"1f927":1,"1f930":1,"1f930_1f3fb":1,"1f930_1f3fc":1,"1f930_1f3fd":1,"1f930_1f3fe":1,"1f930_1f3ff":1,"1f933":1,"1f933_1f3fb":1,"1f933_1f3fc":1,"1f933_1f3fd":1,"1f933_1f3fe":1,"1f933_1f3ff":1,"1f934":1,"1f934_1f3fb":1,"1f934_1f3fc":1,"1f934_1f3fd":1,"1f934_1f3fe":1,"1f934_1f3ff":1,"1f935":1,"1f935_1f3fb":1,"1f935_1f3fc":1,"1f935_1f3fd":1,"1f935_1f3fe":1,"1f935_1f3ff":1,"1f936":1,"1f936_1f3fb":1,"1f936_1f3fc":1,"1f936_1f3fd":1,"1f936_1f3fe":1,"1f936_1f3ff":1,"1f937":1,"1f937_1f3fb":1,"1f937_1f3fb_200d_2640":1,"1f937_1f3fc":1,"1f937_1f3fc_200d_2640":1,"1f937_1f3fd":1,"1f937_1f3fd_200d_2640":1,"1f937_1f3fe":1,"1f937_1f3fe_200d_2640":1,"1f937_1f3ff":1,"1f937_1f3ff_200d_2640":1,"1f937_200d_2640":1,"1f938":1,"1f938_1f3fb":1,"1f938_1f3fb_200d_2640":1,"1f938_1f3fc":1,"1f938_1f3fc_200d_2640":1,"1f938_1f3fd":1,"1f938_1f3fd_200d_2640":1,"1f938_1f3fe":1,"1f938_1f3fe_200d_2640":1,"1f938_1f3ff":1,"1f938_1f3ff_200d_2640":1,"1f938_200d_2640":1,"1f939":1,"1f939_1f3fb":1,"1f939_1f3fc":1,"1f939_1f3fd":1,"1f939_1f3fe":1,"1f939_1f3ff":1,"1f93a":1,"1f93c":1,"1f93c_1f3fb":1,"1f93c_1f3fb_200d_2642":1,"1f93c_1f3fc":1,"1f93c_1f3fc_200d_2642":1,"1f93c_1f3fd":1,"1f93c_1f3fd_200d_2642":1,"1f93c_1f3fe":1,"1f93c_1f3fe_200d_2642":1,"1f93c_1f3ff":1,"1f93c_1f3ff_200d_2642":1,"1f93c_200d_2642":1,"1f93d":1,"1f93d_1f3fb":1,"1f93d_1f3fb_200d_2642":1,"1f93d_1f3fc":1,"1f93d_1f3fc_200d_2642":1,"1f93d_1f3fd":1,"1f93d_1f3fd_200d_2642":1,"1f93d_1f3fe":1,"1f93d_1f3fe_200d_2642":1,"1f93d_1f3ff":1,"1f93d_1f3ff_200d_2642":1,"1f93d_200d_2642":1,"1f93e":1,"1f93e_1f3fb":1,"1f93e_1f3fb_200d_2642":1,"1f93e_1f3fc":1,"1f93e_1f3fc_200d_2642":1,"1f93e_1f3fd":1,"1f93e_1f3fd_200d_2642":1,"1f93e_1f3fe":1,"1f93e_1f3fe_200d_2642":1,"1f93e_1f3ff":1,"1f93e_1f3ff_200d_2642":1,"1f93e_200d_2642":1,"1f940":1,"1f941":1,"1f942":1,"1f943":1,"1f944":1,"1f945":1,"1f947":1,"1f948":1,"1f949":1,"1f94a":1,"1f94b":1,"1f950":1,"1f951":1,"1f952":1,"1f953":1,"1f954":1,"1f955":1,"1f956":1,"1f957":1,"1f958":1,"1f959":1,"1f95a":1,"1f95b":1,"1f95c":1,"1f95d":1,"1f95e":1,"1f980":1,"1f981":1,"1f982":1,"1f983":1,"1f984":1,"1f985":1,"1f986":1,"1f987":1,"1f988":1,"1f989":1,"1f98a":1,"1f98b":1,"1f98c":1,"1f98d":1,"1f98e":1,"1f98f":1,"1f990":1,"1f991":1,"1f9c0":1,"203c":1,"2049":1,"2122":1,"2139":1,"2194":1,"2195":1,"2196":1,"2197":1,"2198":1,"2199":1,"21a9":1,"21aa":1,"231a":1,"231b":1,"2328":1,"23_20e3":1,"23_fe0f_20e3":1,"23cf":1,"23e9":1,"23ea":1,"23eb":1,"23ec":1,"23ed":1,"23ee":1,"23ef":1,"23f0":1,"23f1":1,"23f2":1,"23f3":1,"23f8":1,"23f9":1,"23fa":1,"24c2":1,"25aa":1,"25ab":1,"25b6":1,"25c0":1,"25fb":1,"25fc":1,"25fd":1,"25fe":1,"2600":1,"2601":1,"2602":1,"2603":1,"2604":1,"260e":1,"2611":1,"2614":1,"2615":1,"2618":1,"261d":1,"261d_1f3fb":1,"261d_1f3fc":1,"261d_1f3fd":1,"261d_1f3fe":1,"261d_1f3ff":1,"2620":1,"2622":1,"2623":1,"2626":1,"262a":1,"262e":1,"262f":1,"2638":1,"2639":1,"263a":1,"2640":1,"2642":1,"2648":1,"2649":1,"264a":1,"264b":1,"264c":1,"264d":1,"264e":1,"264f":1,"2650":1,"2651":1,"2652":1,"2653":1,"2660":1,"2663":1,"2665":1,"2666":1,"2668":1,"267b":1,"267f":1,"2692":1,"2693":1,"2694":1,"2696":1,"2697":1,"2699":1,"269b":1,"269c":1,"26a0":1,"26a1":1,"26aa":1,"26ab":1,"26b0":1,"26b1":1,"26bd":1,"26be":1,"26c4":1,"26c5":1,"26c8":1,"26ce":1,"26cf":1,"26d1":1,"26d3":1,"26d4":1,"26e9":1,"26ea":1,"26f0":1,"26f1":1,"26f2":1,"26f3":1,"26f4":1,"26f5":1,"26f7":1,"26f8":1,"26f9":1,"26f9_1f3fb":1,"26f9_1f3fb_200d_2642":1,"26f9_1f3fc":1,"26f9_1f3fc_200d_2642":1,"26f9_1f3fd":1,"26f9_1f3fd_200d_2642":1,"26f9_1f3fe":1,"26f9_1f3fe_200d_2642":1,"26f9_1f3ff":1,"26f9_1f3ff_200d_2642":1,"26f9_200d_2642":1,"26fa":1,"26fd":1,"2702":1,"2705":1,"2708":1,"2709":1,"270a":1,"270a_1f3fb":1,"270a_1f3fc":1,"270a_1f3fd":1,"270a_1f3fe":1,"270a_1f3ff":1,"270b":1,"270b_1f3fb":1,"270b_1f3fc":1,"270b_1f3fd":1,"270b_1f3fe":1,"270b_1f3ff":1,"270c":1,"270c_1f3fb":1,"270c_1f3fc":1,"270c_1f3fd":1,"270c_1f3fe":1,"270c_1f3ff":1,"270d":1,"270d_1f3fb":1,"270d_1f3fc":1,"270d_1f3fd":1,"270d_1f3fe":1,"270d_1f3ff":1,"270f":1,"2712":1,"2714":1,"2716":1,"271d":1,"2721":1,"2728":1,"2733":1,"2734":1,"2744":1,"2747":1,"274c":1,"274e":1,"2753":1,"2754":1,"2755":1,"2757":1,"2763":1,"2764":1,"2764_fe0f":1,"2795":1,"2796":1,"2797":1,"27a1":1,"27b0":1,"27bf":1,"2934":1,"2935":1,"2a_20e3":1,"2a_fe0f_20e3":1,"2b05":1,"2b06":1,"2b07":1,"2b1b":1,"2b1c":1,"2b50":1,"2b55":1,"3030":1,"303d":1,"30_20e3":1,"30_fe0f_20e3":1,"31_20e3":1,"31_fe0f_20e3":1,"3297":1,"3299":1,"32_20e3":1,"32_fe0f_20e3":1,"33_20e3":1,"33_fe0f_20e3":1,"34_20e3":1,"34_fe0f_20e3":1,"35_20e3":1,"35_fe0f_20e3":1,"36_20e3":1,"36_fe0f_20e3":1,"37_20e3":1,"37_fe0f_20e3":1,"38_20e3":1,"38_fe0f_20e3":1,"39_20e3":1,"39_fe0f_20e3":1,"":1,a9:1,ae:1};}),null);
__d("WorkUserAvailabilityStatusType",[],(function a(b,c,d,e,f,g){f.exports={NONE:"None",AVAILABLE:"Available",SPORADIC:"Sporadic",TENTATIVE:"Tentative",BUSY:"Busy",DO_NOT_DISTURB:"Do Not Disturb",FOCUS:"Focus"};}),null);
__d('ChannelConnection',['Arbiter','ChannelConstants','ChannelManager','JSLogger','Run','SystemEvents','Visibility','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){var h=c('JSLogger').create('channel_connection'),i=null,j=null,k=null,l=null,m=0,n=Object.assign(new (c('Arbiter'))(),{CONNECTED:'chat-connection/connected',RECONNECTING:'chat-connection/reconnecting',SHUTDOWN:'chat-connection/shutdown',MUTE_WARNING:'chat-connection/mute',UNMUTE_WARNING:'chat-connection/unmute'});c('Run').onBeforeUnload(function(){});function o(){if(j){clearTimeout(j);j=null;}}function p(){o();h.log('unmute_warning');n.inform(n.UNMUTE_WARNING);}function q(v){o();j=c('setTimeoutAcrossTransitions')(p,v);h.log('mute_warning',{time:v});n.inform(n.MUTE_WARNING);}function r(){if(k){clearTimeout(k);k=null;}}function s(v,w){r();if(v===c('ChannelConstants').ON_ENTER_STATE&&(w.nextState||w.state)==='pull'){if(l!==n.CONNECTED){h.log('connected');var x=!l;l=n.CONNECTED;m=0;n.inform(n.CONNECTED,{init:x});}}else if(v===c('ChannelConstants').ON_ENTER_STATE&&((w.nextState||w.state)==='ping'||!w.nextState&&w.state==='idle')){k=c('setTimeoutAcrossTransitions')(function(){var y=null;if(!(w.state==='idle'&&!w.nextState))y=w.delay||0;h.log('reconnecting',{delay:y});if(n.disconnected())h.log('reconnecting_ui',{delay:y});l=n.RECONNECTING;w.state==='idle'&&m++;if(m>1){n.inform(n.RECONNECTING,y);}else if(!w.nextState&&w.state==='idle')s(v,w);},500);}else if(v===c('ChannelConstants').ON_SHUTDOWN){h.log('shutdown',{reason:w.reason});l=n.SHUTDOWN;m=0;n.inform(n.SHUTDOWN,w.reason);}}function t(){if(c('ChannelManager').isShutdown()){s(c('ChannelConstants').ON_SHUTDOWN,c('ChannelManager')._shutdownHint);}else s(c('ChannelConstants').ON_ENTER_STATE,{state:c('ChannelManager').state,nextState:c('ChannelManager').nextState,delay:0});c('Visibility').addListener(c('Visibility').VISIBLE,n.reconnect);}c('Run').onAfterLoad(t);Object.assign(n,{disconnected:function v(){return l===n.SHUTDOWN||l===n.RECONNECTING&&!j&&m>1;},isShutdown:function v(){return l===n.SHUTDOWN;},reconnect:function v(w){if(c('ChannelManager').state==='ping'||c('ChannelManager').state==='pull'||c('ChannelManager').isShutdown())return;h.log('reconnect',{now:w});n.inform(n.RECONNECTING,0);if(!!w){if(i!==null){clearTimeout(i);i=null;}c('ChannelManager').enterState('ping!');}else if(!i)i=c('setTimeoutAcrossTransitions')(function(){c('ChannelManager').enterState('ping!');i=null;},c('ChannelConstants').CHANNEL_MANUAL_RECONNECT_DEFER_MSEC);c('ChannelManager').resetDelay();},unmuteWarning:p});function u(){c('Arbiter').subscribe([c('ChannelConstants').ON_ENTER_STATE,c('ChannelConstants').ON_SHUTDOWN],s);c('Arbiter').subscribe(c('ChannelConstants').ATTEMPT_RECONNECT,function(){if(n.disconnected())n.reconnect();});c('SystemEvents').subscribe(c('SystemEvents').TIME_TRAVEL,function(){n.reconnect();q(c('ChannelConstants').MUTE_WARNING_TIME_MSEC);});c('Run').onBeforeUnload(r,false);}c('Run').onAfterLoad(u);n.mockAfterLoad=function(){t();u();};c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(v,w){w.channel_connected=!n.disconnected();});f.exports=n;}),3);
__d('ChatproxyPresence',['Arbiter','AvailableListConstants','AvailableListInitialData','BanzaiODS','ChannelConstants','LastActiveTimes','PresenceStatus','debounceAcrossTransitions','ClientChromeExperimentsData'],(function a(b,c,d,e,f,g){var h=c('ClientChromeExperimentsData').ClientChromeAvailableListInitialDataPreloader;function i(k){var l=k.activeList,m=k.lastActiveTimes;if(l)c('PresenceStatus').setMultiActive(l,'available_list_active');if(m&&!Array.isArray(m))c('LastActiveTimes').update(m);}function j(k){'use strict';this.$ChatproxyPresence1=k;this.$ChatproxyPresence2=false;this.$ChatproxyPresence3=c('AvailableListInitialData').chatNotif;this.$ChatproxyPresence4=false;if(h){h.onLoaded(i);}else i(c('AvailableListInitialData'));}j.prototype.subscribe=function(){'use strict';c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('chatproxy-presence'),this.updatePresenceInfo.bind(this));c('Arbiter').subscribe(c('ChannelConstants').ON_INVALID_HISTORY,function(){this.$ChatproxyPresence2=true;}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').RTI_SESSION,function(k,l){if(l)this.$ChatproxyPresence4=l;}.bind(this));c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('get_debug_presence'),function(k,l){var m=c('PresenceStatus').getAllDebugInfo(),n=c('LastActiveTimes').getDebugData();for(var o in n){var p=m[o];if(p===undefined){p={};m[o]=p;}p.l=Math.floor(n[o]);}this.$ChatproxyPresence4.issueRequest('/debug_presence',{},m,function(){c('BanzaiODS').bumpEntityKey('ChatproxyPresence','debug_presence.sucess');});}.bind(this));};j.prototype.getRTISession=function(){'use strict';return this.$ChatproxyPresence4;};j.prototype.updatePresenceInfo=function(k,l){'use strict';if(this.$ChatproxyPresence2){this.$ChatproxyPresence2=false;c('PresenceStatus').resetPresenceData();}l=l.obj;var m=l.buddyList;c('PresenceStatus').setMultiChatproxy(m);var n=false;if(l.chatNotif!==undefined)n=this.$ChatproxyPresence3!==l.chatNotif;if(n)this.$ChatproxyPresence3=l.chatNotif;if(l.gamers)c('PresenceStatus').setPlayingCanvasGameFriends(l.gamers);if(n)this.$ChatproxyPresence1(c('AvailableListConstants').ON_CHAT_NOTIFICATION_CHANGED,this.$ChatproxyPresence3);c('debounceAcrossTransitions')(function(){this.$ChatproxyPresence1(c('AvailableListConstants').ON_AVAILABILITY_CHANGED);}.bind(this),0)();};j.prototype.getWebChatNotification=function(){'use strict';return this.$ChatproxyPresence3;};f.exports=j;}),null);
__d("TypingStates",[],(function a(b,c,d,e,f,g){var h={INACTIVE:0,TYPING:1,QUITTING:2};f.exports=h;}),null);
__d('AvailableList',['Arbiter','ArbiterMixin','AsyncRequest','AvailableListConstants','BanzaiODS','Bootloader','ChannelConstants','ChatConfig','ChatDispatcher','ChatproxyPresence','ChatReliabilityInstrumentation','ChatVisibility','CurrentUser','ErrorUtils','JSLogger','LastActiveTimes','PresencePrivacy','PresenceStatus','PresenceStatusActionTypes','Run','ServerTime','TypingStates','debounceAcrossTransitions','emptyFunction','requireWeak'],(function a(b,c,d,e,f,g){'use strict';c('BanzaiODS').setEntitySample('presence',.0001);var h=babelHelpers['extends']({},c('AvailableListConstants'),c('ArbiterMixin')),i=/\D/;h.subscribe([c('AvailableListConstants').ON_AVAILABILITY_CHANGED,c('AvailableListConstants').ON_UPDATE_ERROR],function(q,r){c('Arbiter').inform(q,r);});var j=c('debounceAcrossTransitions')(function(){h.inform(c('AvailableListConstants').ON_AVAILABILITY_CHANGED);c('ChatDispatcher').dispatch({type:c('PresenceStatusActionTypes').AVAILABILITY_CHANGED});},0);function k(q,r,s,t,u){if(q===c('CurrentUser').getID())return;var v=c('PresenceStatus').set(q,r,s,t,u);if(v){var w=c('debounceAcrossTransitions')(function(){h.inform(c('AvailableListConstants').ON_AVAILABILITY_CHANGED,q);c('ChatDispatcher').dispatch({type:c('PresenceStatusActionTypes').AVAILABILITY_CHANGED,id:q});},0);w();}}function l(q){var r=q.payload.availability||{};for(var s in r)k(s&&s.toString(),r[s].a,true,'mercury_tabs',r[s].c);}function m(q){if(!q||i.test(q)){c('ChatReliabilityInstrumentation').logERROR('bad id for available list: '+q);return;}new (c('AsyncRequest'))('/ajax/mercury/tabs_presence.php').setData({target_id:q}).setHandler(l).setErrorHandler(c('emptyFunction')).setAllowCrossPageTransition(true).send();}function n(q,r){r.chat_config=c('ChatConfig').getDebugInfo();r.available_list_debug_info={count:c('PresenceStatus').getOnlineIDs().length};}var o=undefined;try{o=new (c('ChatproxyPresence'))(function(event){h.inform(event);});o.subscribe();}catch(p){c('ErrorUtils').reportError&&c('ErrorUtils').reportError(p,false);c('ChatReliabilityInstrumentation').logERROR(p.getMessage());}Object.assign(h,{getChatproxyPresenceObject:function q(){return o;},get:function q(r){return c('PresenceStatus').get(r);},updateForID:function q(r){m(r);if(c('PresencePrivacy').getVisibility()==c('PresencePrivacy').ONLINE)c('Run').onAfterLoad(function(){return (c('Bootloader').loadModules(["ChannelManager","ChannelTransport"],function(s,t){t.sendAdditionalBuddyRequest(s.getCompleteConfig(),r);},'AvailableList'));});},getWebChatNotification:function q(){return o&&o.getWebChatNotification();},isReady:function q(){return !!o;},set:function q(r,s,t,u){k(r,s,true,t,u);}});c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,n);c('PresencePrivacy').subscribe(['privacy-changed','privacy-availability-changed','privacy-user-presence-response'],j);c('requireWeak')('ChannelConnection',function(q){return (q.subscribe([q.CONNECTED,q.RECONNECTING,q.SHUTDOWN,q.MUTE_WARNING,q.UNMUTE_WARNING],j));});c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('buddylist_overlay'),function(q,r){var s={},t=r.obj.overlay;for(var u in t){h.set(u,t[u].a,t[u].s||'channel',t[u].vc);if(t[u].la)s[u]=t[u].la;}c('LastActiveTimes').update(s);});c('Arbiter').subscribe([c('ChannelConstants').getArbiterType('typ'),c('ChannelConstants').getArbiterType('ttyp')],function(q,r){var s=r.obj;if(s.st===c('TypingStates').TYPING){var t=s.from;if(c('ChatVisibility').isOnline()){c('BanzaiODS').bumpEntityKey('presence','stale_presence_check_typing');var u=c('PresenceStatus').get(t);if(u!=c('AvailableListConstants').ACTIVE){var v=c('LastActiveTimes').get(t)*1000,w=c('ServerTime').get();if(!v){c('BanzaiODS').bumpEntityKey('presence','no_detailed_presence_typing');}else if(w-v>5*60*1000){var x='stale_presence_typing',y=w-v;if(y<10*60*1000){x+='600';}else if(y<60*60*1000)x+='3600';c('BanzaiODS').bumpEntityKey('presence',x);}}}h.set(t&&t.toString(),c('AvailableListConstants').ACTIVE,'channel-typing');}});c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('messaging'),function(q,r){if(!c('ChatVisibility').isOnline())return;var s=r.obj;if(s.message&&s.message.timestamp&&s.message.sender_fbid){var t=c('ServerTime').get(),u=s.message.timestamp;if(t-u<2*60*1000){c('BanzaiODS').bumpEntityKey('presence','stale_presence_check');var v=s.message.sender_fbid,w=c('PresenceStatus').get(v);if(w==c('AvailableListConstants').ACTIVE)return;var x=c('LastActiveTimes').get(v)*1000;if(!x){c('BanzaiODS').bumpEntityKey('presence','no_detailed_presence');}else if(u-x>5*60*1000){var y='stale_presence',z=u-x;if(z<10*60*1000){y+='600';}else if(z<60*60*1000)y+='3600';c('BanzaiODS').bumpEntityKey('presence',y);}}}});f.exports=h;}),null);
__d('ChatProfileStore',['ChatSidebarPreloadStore'],(function a(b,c,d,e,f,g){'use strict';var h={},i={init:function j(){c('ChatSidebarPreloadStore').onLoaded(function(k){var l=k.profiles;return l.forEach(function(m){var n=new Date(),o=m.birthdate&&n.getDate()===m.birthdate.day&&n.getMonth()+1===m.birthdate.month,p=m.profile_picture&&m.profile_picture.uri?m.profile_picture.uri:null;h[m.id]={id:m.id,is_birthday:o,thumbSrc:p,name:m.name,is_messenger_only:!!m.is_messenger_only};});});},get:function j(k){return h[k];}};f.exports=i;}),null);
__d('ChatSidebarWebGraphQLPreloader',['AsyncData','AvailableListConstants','CurrentUser'],(function a(b,c,d,e,f,g){'use strict';var h=function k(l){return [l.buddy_id,c('AvailableListConstants')[l.status]].join('-');},i=function k(l){var m=l.all_participants.edges.map(function(o){return o.node.id;}),n=l.participants_to_render.edges.map(function(o){var p=o.node.messaging_actor,q=p.id,r=p.name,s=p.short_name,t=p.profile_picture;return {id:q,image_src:t?t.uri:null,name:r,short_name:s};});if(n.length>3)n=n.filter(function(o){return o.id!==c('CurrentUser').getID();}).slice(0,4);return {mercury_thread:{image_src:l.image?l.image.uri:null,name:l.name,participants:m},participants_to_render:n,text:'',uid:l.thread_key.thread_fbid};},j={onLoaded:function k(l){c('AsyncData').preload('ChatSidebarInitialQueryWebGraphQLPreloader').onLoaded(function(m){var n=m.result;l({buddies:n.viewer.buddies.map(function(o){return h(o);}),groups:n.viewer.groups.edges.map(function(o){return i(o.node);}),profiles:n.viewer.profiles.map(function(o){return o.represented_profile;}).filter(function(o){return !!o;}),nearby:[]});});}};f.exports=j;}),null);
__d('OrderedFriendsList',['AvailableListConstants','ChatProfileStore','ChatSidebarPreloadStore','MercuryIDs','PresenceStatus','SearchableEntry','ShortProfiles','WorkModeConfig','createArrayFromMixed','isValidUniqueID'],(function a(b,c,d,e,f,g){'use strict';var h=null,i={},j=[],k={};function l(r){r=String(r);return c('MercuryIDs').isValid(r)?r:c('MercuryIDs').getParticipantIDFromUserID(r);}function m(r,s){var t=c('createArrayFromMixed')(r);s(t.filter(function(u){var v=c('ShortProfiles').getNow(u);return !v||p(v)||v.is_nonfriend_messenger_contact;}));}function n(r){h=[];var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(c('PresenceStatus').get(u)==v){h[s]=u;i[u]=s++;}});}function o(r){var s=0;r.forEach(function(t){var u=t.slice(0,-2),v=t.slice(-1);if(v==c('AvailableListConstants').ACTIVE){j[s]=u;k[u]=s++;}});}function p(r){return r.type==='friend'||c('WorkModeConfig').is_work_user&&r.type==='fb4c';}var q={contains:function r(s){return s in i;},getList:function r(s){if(h&&h.length){m(h,s);return;}c('ChatSidebarPreloadStore').onLoaded(function(t){var u=t.buddies;n(u);m(h,s);});},getSearchableEntries:function r(s,t){q.getList(function(u){c('ChatSidebarPreloadStore').onLoaded(function(v){var w=v.groups;c('ShortProfiles').getMulti(u.slice(0,s),function(x){var y=[];for(var z in x)y.push(q.normalizeProfileEntry(x[z],z));var aa=w.map(q.normalizeThreadEntry);t(y.concat(aa).filter(function(ba){return !!ba;}).sort(function(ba,ca){return ba.getOrder()-ca.getOrder();}));});});});},normalizeProfileEntry:function r(s,t){var u=s.searchTokens||[],v=s.name,w=null;return new (c('SearchableEntry'))({uniqueID:s.id||t,keywordString:u.join(' '),order:q.getRank(s.id||t),photo:s.thumbSrc,title:v,subtitle:w,type:s.type,uri:s.uri,auxiliaryData:{isMessengerUser:s.is_messenger_user}});},normalizeThreadEntry:function r(s,t){var u=s.mercury_thread,v=s.participants_to_render.map(function(aa){return babelHelpers['extends']({},aa,{id:l(aa.id)});});u.participants=u.participants.map(l);var w=s.text,x=null;if(!w)w=u.name;var y=v.map(function(aa){return aa.name;}).join(', ');if(!w){w=y;}else x=y;var z=s.uid;if(!w||!c('isValidUniqueID')(z))return null;return new (c('SearchableEntry'))({uniqueID:z,order:t,photo:u.image_src,title:w,subtitle:x,type:'thread',auxiliaryData:{participantsToRender:v,thread:u}});},getRank:function r(s){if(s in i)return i[s];return h?h.length:0;},getActiveList:function r(s){if(j.length>0){s(j);return;}q.getList(function(t){return s(t);});},getActiveRank:function r(s){return s in k?k[s]:q.getRank(s);}};(function(){c('ChatSidebarPreloadStore').onLoaded(function(r){var s=r.buddies,t=r.shortProfiles;c('ShortProfiles').setMulti(t);o(s);n(s);});c('ChatProfileStore').init();})();f.exports=q;}),null);
__d('TypingDetector',['ArbiterMixin','Event','Input','Run','SubscriptionsHandler','TypingStates','createObjectFrom','emptyFunction'],(function a(b,c,d,e,f,g){function h(i,j){this._input=i;this._ignoreKeys={};this._getValueFn=j;}Object.assign(h.prototype,c('ArbiterMixin'),{_timeout:7000,_currentState:c('TypingStates').INACTIVE,init:function i(){this.init=c('emptyFunction');this.reset();this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(c('Event').listen(this._input,'keyup',this._update.bind(this)),c('Run').onUnload(this._onunload.bind(this)));},reset:function i(){clearTimeout(this._checkTimer);this._checkTimer=null;this._lastKeystrokeAt=null;this._currentState=c('TypingStates').INACTIVE;},setIgnoreKeys:function i(j){this._ignoreKeys=c('createObjectFrom')(j);},destroy:function i(){this._subscriptions.release();},_onunload:function i(){if(this._currentState==c('TypingStates').TYPING)this._transition(c('TypingStates').QUITTING);},_update:function i(event){var j=c('Event').getKeyCode(event),k=this._currentState;if(!this._ignoreKeys[j]){var l=this._getValueFn?this._getValueFn():c('Input').getValue(this._input);if(l.trim().length===0){if(k==c('TypingStates').TYPING)this._transition(c('TypingStates').INACTIVE);}else if(k==c('TypingStates').TYPING){this._recordKeystroke();}else if(k==c('TypingStates').INACTIVE){this._transition(c('TypingStates').TYPING);this._recordKeystroke();}}},_transition:function i(j){this.reset();this._currentState=j;this.inform('change',j);},_recordKeystroke:function i(){this._lastKeystrokeTime=Date.now();if(!this._checkTimer)this._checkTimer=setTimeout(this._checkTyping.bind(this),this._timeout);},_checkTyping:function i(){var j=this._lastKeystrokeTime+this._timeout,k=Date.now();if(k>j){this._transition(c('TypingStates').INACTIVE);}else{clearTimeout(this._checkTimer);this._checkTimer=setTimeout(this._checkTyping.bind(this),j-k+10);}}});f.exports=h;}),null);
__d('TypingDetectorController',['AsyncRequest','AvailableList','AvailableListConstants','ChatVisibility','Keys','MercuryServerRequestsConfig','TypingDetector','TypingStates','emptyFunction','ifRequired','setTimeoutAcrossTransitions','shield'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m,n){this.userID=i;this.input=j;this.source=k;this.threadID=m;this.remoteState=c('TypingStates').INACTIVE;this.notifyTimer=null;l=l||{};this.notifyDelay=l.notifyDelay||this.notifyDelay;this._typingDetector=new (c('TypingDetector'))(j,n);this._typingDetector.init(l);this._typingDetector.subscribe('change',this._stateChange.bind(this));}h.prototype.setUserAndThread=function(i,j){if(this.userID!==i||this.threadID!==j){this.resetState();this.userID=i;this.threadID=j;}};h.prototype.setIgnoreEnter=function(i){var j=i?[c('Keys').RETURN]:[];this._typingDetector.setIgnoreKeys(j);};h.prototype.resetState=function(){this._notifyState(c('TypingStates').INACTIVE);this.remoteState=c('TypingStates').INACTIVE;this._typingDetector.reset();clearTimeout(this.notifyTimer);this.notifyTimer=null;};h.prototype.destroy=function(){this.resetState();this._typingDetector.destroy();};h.prototype._stateChange=function(i,j){if(j!=c('TypingStates').QUITTING){clearTimeout(this.notifyTimer);this.notifyTimer=c('setTimeoutAcrossTransitions')(c('shield')(this._notifyState,this,j),this.notifyDelay);}else this._notifyState(j,true);};h.prototype._notifyState=function(i,j){if(!this.userID&&!this.threadID||!c('ChatVisibility').isOnline()||i===this.remoteState||c('ifRequired')('ChannelConnection',function(k){return k.disconnected();},function(){return true;}))return;this._sendRequest(i,this.userID,j);};h.prototype._sendRequest=function(i,j,k){this.remoteState=i;var l={typ:i,to:j,source:this.source,thread:this.threadID},m=new (c('AsyncRequest'))().setHandler(this._onTypResponse.bind(this,j)).setErrorHandler(c('emptyFunction')).setData(l).setURI('/ajax/messaging/typ.php').setAllowCrossPageTransition(true).setOption('asynchronous_DEPRECATED',!k);if(c('MercuryServerRequestsConfig').msgrRegion)m.setRequestHeader('X-MSGR-Region',c('MercuryServerRequestsConfig').msgrRegion);m.send();};h.prototype._onTypResponse=function(i,j){var k=j.getPayload()||{};if(k.offline)c('AvailableList').set(i,c('AvailableListConstants').OFFLINE,'typing_response');};Object.assign(h.prototype,{notifyDelay:1000});f.exports=h;}),null);
__d('NotificationSeenState',['NotificationConstants','NotificationUpdates','createObjectFrom'],(function a(b,c,d,e,f,g){var h={},i=1,j=2,k=0,l=i,m=i|j,n=c('NotificationConstants').PayloadSourceType.INITIAL_LOAD,o={UNSEEN_AND_UNREAD:k,SEEN_BUT_UNREAD:l,SEEN_AND_READ:m};function p(s){var t=[],u=[];Object.keys(s).forEach(function(v){var w=s[v],x=h[v];h[v]=w;if(x===undefined){t.push(v);u.push(v);return;}var y=x^w;if(y&i)t.push(v);if(y&j)u.push(v);});t.length&&c('NotificationUpdates').didUpdateSeenState(t);u.length&&c('NotificationUpdates').didUpdateReadState(u);}c('NotificationUpdates').subscribe('update-notifications',function(s,t){var u=t.nodes;if(!u||!u.length)return;var v=t.payloadsource,w=c('NotificationConstants').PayloadSourceType,x=v==w.ENDPOINT,y={};t.nodes.forEach(function(z){var aa=z.alert_id;if(!x||h[aa]===undefined)y[aa]=o[z.seen_state];});p(y);});c('NotificationUpdates').subscribe('update-seen',function(s,t){if(!t.seenState)return;var u=[],v={};Object.keys(t.seenState).forEach(function(x){if(!t.seenState[x]){u.push(x);return;}var y=h[x];if(y!==undefined)v[x]=y|i;});var w=babelHelpers['extends']({},c('createObjectFrom')(u,k),v);p(w);});c('NotificationUpdates').subscribe('update-read',function(s,t){if(!t.readState)return;var u=[],v={};Object.keys(t.readState).forEach(function(x){if(t.readState[x]){u.push(x);return;}var y=h[x];if(y!==undefined){v[x]=y&~j;}else if(t.payloadsource==n)v[x]=l;});var w=babelHelpers['extends']({},c('createObjectFrom')(u,m),v);p(w);});function q(s){var t=h[s];return t;}var r={isRead:function s(t){return q(t)===m;},isSeen:function s(t){return q(t)!==k;},getUnseenCount:function s(){return r.getUnseenIDs().length;},getUnseenIDs:function s(){return Object.keys(h).filter(function(t){return h[t]===k;});},getUnreadCount:function s(){return r.getUnreadIDs().length;},getUnreadIDs:function s(){return Object.keys(h).filter(function(t){return h[t]!==m;});}};f.exports=r;}),6);
__d('MentionResultsPropTypes',['React','SearchableEntry','SelectionState'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={viewID:h.string.isRequired,selection:h.instanceOf(c('SelectionState')).isRequired,contextComponent:h.object.isRequired,mentionableEntries:h.array.isRequired,highlightedMentionable:h.instanceOf(c('SearchableEntry')),onMentionSelect:h.func.isRequired,onMentionHighlight:h.func.isRequired,onMentionRenderHighlight:h.func.isRequired};f.exports=i;}),null);
__d('MentionsLayer.react',['Bootloader','Locale','MentionResultsPropTypes','React','areEqual'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=false,j=c('Locale').isRTL(),k,l,m,n,o=5,p=c('React').createClass({displayName:'MentionsLayer',propTypes:babelHelpers['extends']({},c('MentionResultsPropTypes'),{typeaheadView:h.func.isRequired,typeaheadViewProps:h.object,autoflip:h.bool,position:h.oneOf(['above','below'])}),getInitialState:function r(){return {bootloaded:i};},componentWillMount:function r(){if(!this.state.bootloaded)q(function(){this.isMounted()&&this.setState({bootloaded:true});}.bind(this));},_onMentionSelect:function r(s,t){t.preventDefault();this.props.onMentionSelect(s,t);},shouldComponentUpdate:function r(s,t){return (this.state.bootloaded!==t.bootloaded||!c('areEqual')(this.props.mentionableEntries,s.mentionableEntries)||this.props.highlightedMentionable!==s.highlightedMentionable||this.props.characterOffset!==s.characterOffset);},render:function r(){if(!this.state.bootloaded)return null;var s=this.props.mentionableEntries,t=this.props.selection,u=t.isCollapsed()&&t.getHasFocus()&&s&&s.length,v=null,w=this.props.typeaheadViewProps,x=false;if(w&&w.positionAtContext){x=true;}else if(u)v=n(this.props.characterOffset,j);var y={};if(this.props.autoflip){y.ContextualLayerAutoFlip=l;y.ContextualLayerUpdateOnScroll=m;}var z=this.props.typeaheadView;return (c('React').createElement(k,{shown:u,context:this.props.contextComponent,contextBounds:v,containerWidthMatchContext:x,offsetY:o,position:this.props.position||'below',behaviors:y,shouldSetARIAProperties:false},c('React').createElement('div',{'data-testid':'mentions-contextual-layer'},c('React').createElement(z,{id:this.props.viewID,viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:s||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight,onRenderHighlight:this.props.onMentionRenderHighlight}))));}});function q(r){c('Bootloader').loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(s,t,u,v){k=s;l=t;m=u;n=v;i=true;r();},'MentionsLayer.react');}f.exports=p;}),null);
__d('AbstractErrorBox.react',['cx','Event','Keys','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$AbstractErrorBox1=function(event){if(c('Event').getKeyCode(event)==c('Keys').ESC)this.props.onDismiss();}.bind(this),m;}k.prototype.render=function(){return c('React').createElement('div',{className:c('joinClasses')("_5oc-",this.props.className)},c('React').createElement('div',{className:"_5oc_"},c('React').createElement('h2',{className:"_5od0"},this.props.title),this.props.content),c('React').createElement('div',{className:"_5od1"},this.props.toolbarButtons.map(this.renderToolbarButton)));};k.prototype.renderToolbarButton=function(l){return c('React').cloneElement(l,{className:c('joinClasses')(l.props.className,"_5od2")});};k.prototype.componentDidMount=function(){this.$AbstractErrorBox2=c('Event').listen(document,'keydown',this.$AbstractErrorBox1);};k.prototype.componentWillUnmount=function(){this.$AbstractErrorBox2.remove();};f.exports=k;}),null);
__d('RedBox.react',['cx','AbstractErrorBox.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(m){return m.trim().replace(/\.?__annotator\.module$/,'');}i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$RedBox1=function(){this.props.onDismissError();}.bind(this),this.$RedBox2=function(){document.location.reload();},n;}l.prototype.render=function(){return c('React').createElement(c('AbstractErrorBox.react'),{className:"_4108",title:this.props.error.message,content:this.$RedBox3(this.props.error.stackFrames),toolbarButtons:this.$RedBox4(),onDismiss:this.$RedBox1});};l.prototype.$RedBox4=function(){return [c('React').createElement('button',{key:'dismiss',onClick:this.$RedBox1},'Dismiss (ESC)'),c('React').createElement('button',{key:'reload',onClick:this.$RedBox2},'Reload page (\u2318R)')];};l.prototype.$RedBox3=function(m){if(!m||!m.length)return null;return c('React').createElement('ul',null,m.map(this.$RedBox5));};l.prototype.$RedBox5=function(m,n){var o=k(m.identifier);if(!o)return null;return c('React').createElement('li',{key:n,className:"_50tv"},c('React').createElement('span',{className:"_50tw datawrap"},o),c('React').createElement('span',{className:"_50ty"},c('React').createElement('span',{className:"ellipsis"},m.script),c('React').createElement('span',{className:"_50tz"},'@ ',m.line,':',m.column)));};f.exports=l;}),null);
__d('YellowBox.react',['cx','AbstractErrorBox.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$YellowBox1=function(){this.props.onDismissWarning();}.bind(this),m;}k.prototype.render=function(){return c('React').createElement(c('AbstractErrorBox.react'),{className:"_2r1k",title:this.props.message,content:this.$YellowBox2(),toolbarButtons:this.$YellowBox3(),onDismiss:this.$YellowBox1});};k.prototype.$YellowBox2=function(){var l=this.props.count;return c('React').createElement('h4',{className:"_2r1l"},'Warning encountered ',l,' time',l===1?'':'s','.');};k.prototype.$YellowBox3=function(){return [c('React').createElement('button',{key:'dismiss',onClick:this.$YellowBox1},'Dismiss (ESC)')];};f.exports=k;}),null);
__d('ErrorMessageConsoleController.react',['React','RedBox.react','YellowBox.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(m,n){return m.message===n.message;}function k(m,n,o){var p=m.findIndex(function(t){return j(n,t);}),q=m.slice();if(p>-1){var r=o(m[p]);if(r){q.splice(p,1,r);}else q.splice(p,1);}else{var s=o(null);if(s)q.push(s);}return q;}h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(m){i.constructor.call(this,m);this.$ErrorMessageConsoleController3=function(n){this.setState(function(o){return {errors:[].concat(o.errors,[n])};});}.bind(this);this.$ErrorMessageConsoleController5=function(){this.setState(function(n){var o=n.errors.slice();o.shift();return {errors:o};});}.bind(this);this.$ErrorMessageConsoleController4=function(n){this.setState(function(o){var p=k(o.warnings,n,function(q){var r=q&&q.count?q.count+1:1;return babelHelpers['extends']({},n,{count:r});});return {warnings:p};});}.bind(this);this.$ErrorMessageConsoleController6=function(n){this.setState(function(o){var p=k(o.warnings,n,function(){return null;});return {warnings:p};});}.bind(this);this.$ErrorMessageConsoleController7=function(){this.$ErrorMessageConsoleController6(this.state.warnings[0]);}.bind(this);this.state={errors:m.initialErrors||[],warnings:m.initialWarnings||[]};this.$ErrorMessageConsoleController1=this.props.addErrorListener(this.$ErrorMessageConsoleController3);this.$ErrorMessageConsoleController2=this.props.addWarningListener(this.$ErrorMessageConsoleController4);}l.prototype.render=function(){var m=this.state,n=m.errors,o=m.warnings;if(n.length)return c('React').createElement(c('RedBox.react'),{error:n[0],onDismissError:this.$ErrorMessageConsoleController5});if(o.length)return c('React').createElement(c('YellowBox.react'),{count:o[0].count||1,message:o[0].message,onDismissWarning:this.$ErrorMessageConsoleController7});return null;};l.prototype.componentWillUnmount=function(){this.$ErrorMessageConsoleController1.remove();this.$ErrorMessageConsoleController2.remove();};f.exports=l;}),null);
__d('ErrorMessageConsole',['ErrorMessageConsoleController.react','ErrorUtils','EventEmitter','React','ReactDOM','setImmediate'],(function a(b,c,d,e,f,g){'use strict';var h='on_error',i='on_warning',j=void 0;function k(){if(j)return;j=new (c('EventEmitter'))();var t=document.createElement('div');document.body.appendChild(t);var u=[],v=[],w=j.addListener(h,function(y){return u.push(y);}),x=j.addListener(i,function(y){return v.push(y);});c('setImmediate')(function(){w.remove();x.remove();c('ReactDOM').render(c('React').createElement(c('ErrorMessageConsoleController.react'),{initialErrors:u,initialWarnings:v,addErrorListener:function y(z){return j.addListener(h,z);},addWarningListener:function y(z){return j.addListener(i,z);}}),t);});}function l(t){k();j.emit(h,c('ErrorUtils').normalizeError(t));}function m(t){k();j.emit(i,{message:t});}var n=false;function o(){if(n)return;n=true;c('ErrorUtils').addListener(l);}var p=false;function q(){if(p)return;p=true;var t=console,u=t.error,v=t.warn;emptyFunction=function(){u.apply(console,arguments);if(typeof arguments[0]==='string'&&arguments[0].startsWith('Warning: '))m(String(arguments[0]));};emptyFunction=function(){v.apply(console,arguments);m(String(arguments[0]));};}function r(){o();q();}var s={addError:l,addWarning:m,listenAll:r,listenForUncaughtErrors:o,listenForWarnings:q};f.exports=s;}),null);
__d('expectationViolation',['ErrorMessageConsole','emptyFunction','sprintf'],(function a(b,c,d,e,f,g){'use strict';var h=c('emptyFunction');function i(k){}i.setHandler=j;function j(k){h=k;}f.exports=i;}),null);
__d('getReactComponentDisplayName',[],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i==null)return '#empty';if(typeof i==='string'||typeof i==='number')return '#text';if(typeof i.type==='string')return i.type;return i.type.displayName||i.type.name||'Unknown';}f.exports=h;}),null);
__d('ErrorBoundary.react',['ErrorMessageConsole','expectationViolation','React','getReactComponentDisplayName'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);var l=c('React').Children.only(this.props.children);this.state={error:null,moduleName:c('getReactComponentDisplayName')(l)};}j.prototype.unstable_handleError=function(k){var l=this.state.moduleName;try{this.props.onHandleError&&this.props.onHandleError(k,l);}catch(m){c('expectationViolation')('encountered error: '+(m&&m.message)+' when executing\n        onHandleError. Please check error boundary at module '+l);}this.setState({error:k||'Unknown Error Occurred'});};j.prototype.componentDidUpdate=function(){if(this.state.error){var k=this.state.moduleName;try{this.props.onRenderFallback&&this.props.onRenderFallback(k);}catch(l){c('expectationViolation')('encountered error: '+(l&&l.message)+' when\n          executing onRenderFallback. please check error boundary at module\n          '+k);}}};j.prototype.render=function(){var k=this.state,l=k.error,m=k.moduleName;if(l){var n=this.props.fallbackComponent;if(n)return c('React').createElement(n,{error:l,moduleName:m});return null;}return c('React').Children.only(this.props.children);};f.exports=j;}),null);
__d('HelpLink.react',['React','joinClasses','TooltipLink.react'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return (c('React').createElement(c('TooltipLink.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,'uiHelpLink mls')}),undefined));};function j(){'use strict';h.apply(this,arguments);}j.defaultProps={href:'#'};f.exports=j;}),null);
__d('UFICreatorInfo.react',['cx','fbt','HelpLink.react','Image.react','React','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.getCreatorLink=function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (c('React').createElement('a',{className:'uiLinkSubtle','data-hover':'tooltip','data-tooltip-content':this.getTooltipText()},this.props.creatorName));case 'business_admin':return (c('React').createElement('a',{className:'uiLinkSubtle',href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (c('React').createElement('span',{className:'uiLinkSubtle'},c('React').createElement(c('Image.react'),{src:'/images/privacy/cant-see.png',width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (c('React').createElement('span',{className:'uiLinkSubtle'},this.props.creatorName));}}.bind(this),this.getTooltipText=function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}}.bind(this),this.getProfileLinkWithHovercard=function(){if(!this.props.profileURI)return c('React').createElement('span',null,this.props.creatorName);var s=new (c('URI'))('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (c('React').createElement('a',{className:'uiLinkSubtle','data-hovercard':s,href:this.props.profileURI},this.props.creatorName));}.bind(this),this.getApplicationText=function(){switch(this.props.labelType){case 'commented':return i._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un qui utilise {application}.",[i.param('application',this.props.creatorName)]);case 'edited_comment':return i._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un qui utilise {application}.",[i.param('application',this.props.creatorName)]);case 'sent_message':return i._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un depuis {application}.",[i.param('application',this.props.creatorName)]);case 'page_admin_note':return i._("Ceci a \u00e9t\u00e9 not\u00e9 par quelqu\u2019un utilisant {application}.",[i.param('application',this.props.creatorName)]);}}.bind(this),this.getIndirectAdminText=function(){switch(this.props.labelType){case 'commented':return i._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un de {page}.",[i.param('page',this.props.creatorName)]);case 'edited_comment':return i._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un de {page}.",[i.param('page',this.props.creatorName)]);case 'sent_message':return i._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un depuis {page}.",[i.param('page',this.props.creatorName)]);case 'page_admin_note':return i._("Ceci a \u00e9t\u00e9 not\u00e9 par quelqu\u2019un de {page}.",[i.param('page',this.props.creatorName)]);}}.bind(this),this.getGrayAccountText=function(){switch(this.props.labelType){case 'commented':return i._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un qui n\u2019a pas de compte personnel Facebook.");case 'edited_comment':return i._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un qui n\u2019a pas de compte personnel Facebook.");case 'sent_message':return i._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un qui ne poss\u00e8de pas de compte Facebook.");case 'page_admin_note':return i._("Ceci a \u00e9t\u00e9 not\u00e9 par quelqu\u2019un qui n\u2019a pas de compte Facebook personnel.");}}.bind(this),this.getHelpText=function(){switch(this.props.labelType){case 'commented':return i._("Seuls les gestionnaires de cette Page peuvent voir qui a publi\u00e9 un commentaire");case 'edited_comment':return i._("Seuls les gestionnaires de cette Page peuvent voir qui a modifi\u00e9 un commentaire");case 'sent_message':return i._("Seuls ceux qui administrent cette Page peuvent voir qui a envoy\u00e9 un message");case 'page_admin_note':return i._("Seules les personnes qui administrent cette Page peuvent voir la personne qui a cr\u00e9\u00e9 une note");}}.bind(this),o;}m.prototype.render=function(){var n=void 0,o=this.getCreatorLink();switch(this.props.labelType){case 'commented':n=i._("Comment\u00e9 par {creator}",[i.param('creator',o)]);break;case 'edited_comment':n=i._("Modifi\u00e9 par {creator}",[i.param('creator',o)]);break;case 'sent_message':n=i._("Envoy\u00e9 par {creator}",[i.param('creator',o)]);break;case 'page_admin_note':n=i._("Not\u00e9 par {creator}",[i.param('creator',o)]);break;default:return;}return c('React').createElement('span',null,n,c('React').createElement(c('HelpLink.react'),{tooltip:this.getHelpText()}));};m.propTypes={creatorID:l.string.isRequired,creatorType:l.string.isRequired,creatorName:l.string.isRequired,labelType:l.string.isRequired,pageID:l.string.isRequired,profileURI:l.string};f.exports=m;}),null);
__d('PagesMessengerCreatorInfo.react',['cx','React','UFICreatorInfo.react','XUIGrayText.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('XUIGrayText.react'),{className:"_ajk"+(this.props.isNote?' '+"_45l2":''),display:'inline',shade:'light',size:'small'},c('React').createElement(c('UFICreatorInfo.react'),{creatorID:this.props.creator_info.creatorID,creatorType:this.props.creator_info.creatorType,creatorName:this.props.creator_info.creatorName,labelType:this.props.creator_info.labelType,pageID:this.props.creator_info.pageID,profileURI:this.props.creator_info.profileURI})));};function l(){i.apply(this,arguments);}l.propTypes={creator_info:k.shape({creatorID:k.string.isRequired,creatorName:k.string.isRequired,creatorType:k.string.isRequired,labelType:k.string.isRequired,pageID:k.string.isRequired,profileURI:k.string}).isRequired};f.exports=l;}),null);
__d('LinkReactUnsafeHrefTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:LinkReactUnsafeHrefLoggerConfig',this.$LinkReactUnsafeHrefTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:LinkReactUnsafeHrefLoggerConfig',this.$LinkReactUnsafeHrefTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$LinkReactUnsafeHrefTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$LinkReactUnsafeHrefTypedLogger1=babelHelpers['extends']({},this.$LinkReactUnsafeHrefTypedLogger1,j);return this;};h.prototype.setDocumentLocation=function(j){this.$LinkReactUnsafeHrefTypedLogger1.document_location=j;return this;};h.prototype.setHref=function(j){this.$LinkReactUnsafeHrefTypedLogger1.href=j;return this;};var i={document_location:true,href:true};f.exports=h;}),null);
__d('isSecureInstagramDotComURI',['arrayContains'],(function a(b,c,d,e,f,g){var h=new RegExp('(^|\\.)instagram\\.com$','i'),i=['https'];function j(k){return (c('arrayContains')(i,k.getProtocol())&&h.test(k.getDomain()));}f.exports=j;}),null);
__d('isWitDotAiURI',[],(function a(b,c,d,e,f,g){var h=new RegExp('(^|\\.)wit\\.ai$','i'),i=['https'];function j(k){if(k.isEmpty()&&k.toString()!=='#')return false;if(!k.getDomain()&&!k.getProtocol())return true;return (i.indexOf(k.getProtocol())!==-1&&h.test(k.getDomain()));}f.exports=j;}),null);
__d('LinkHrefChecker',['ErrorUtils','LinkReactUnsafeHrefTypedLogger','URI','ex','isSecureInstagramDotComURI','isFacebookURI','isMessengerDotComURI','isWitDotAiURI'],(function a(b,c,d,e,f,g){function h(n){return (n.startsWith('#')||n.startsWith('/')&&!n.startsWith('//'));}function i(n){return n.startsWith('mailto:');}function j(n,o){if(h(n)||i(n))return true;var p=l(n),q=p?p.getProtocol():'';return (q===o||q===''||q==='http'||q==='https');}function k(n){if(h(n))return true;var o=l(n);return (o==null||c('isFacebookURI')(o)||c('isMessengerDotComURI')(o)||c('isSecureInstagramDotComURI')(o)||c('isWitDotAiURI')(o));}function l(n){try{return new (c('URI'))(n);}catch(o){return null;}}var m={logIfInvalidProtocol:function n(o,p){if(!j(o,p))new (c('LinkReactUnsafeHrefTypedLogger'))().setHref(o).setDocumentLocation(document.location.toString()).log();}};f.exports=m;}),null);
__d('MercurySyncHolesTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MercurySyncHolesLoggerConfig',this.$MercurySyncHolesTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MercurySyncHolesLoggerConfig',this.$MercurySyncHolesTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MercurySyncHolesTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MercurySyncHolesTypedLogger1=babelHelpers['extends']({},this.$MercurySyncHolesTypedLogger1,j);return this;};h.prototype.setDifference=function(j){this.$MercurySyncHolesTypedLogger1.difference=j;return this;};h.prototype.setSeqID=function(j){this.$MercurySyncHolesTypedLogger1.seq_id=j;return this;};h.prototype.setTopicType=function(j){this.$MercurySyncHolesTypedLogger1.topic_type=j;return this;};h.prototype.setVC=function(j){this.$MercurySyncHolesTypedLogger1.vc=j;return this;};var i={difference:true,seq_id:true,topic_type:true,vc:true};f.exports=h;}),null);
__d('MessengerContentSearchDataTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MessengerContentSearchDataLoggerConfig',this.$MessengerContentSearchDataTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MessengerContentSearchDataLoggerConfig',this.$MessengerContentSearchDataTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MessengerContentSearchDataTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MessengerContentSearchDataTypedLogger1=babelHelpers['extends']({},this.$MessengerContentSearchDataTypedLogger1,j);return this;};h.prototype.setAppID=function(j){this.$MessengerContentSearchDataTypedLogger1.appid=j;return this;};h.prototype.setClienttime=function(j){this.$MessengerContentSearchDataTypedLogger1.clienttime=j;return this;};h.prototype.setCountry=function(j){this.$MessengerContentSearchDataTypedLogger1.country=j;return this;};h.prototype.setMessageID=function(j){this.$MessengerContentSearchDataTypedLogger1.message_id=j;return this;};h.prototype.setMessageTimestamp=function(j){this.$MessengerContentSearchDataTypedLogger1.message_timestamp=j;return this;};h.prototype.setNumResults=function(j){this.$MessengerContentSearchDataTypedLogger1.num_results=j;return this;};h.prototype.setReadableTimestamp=function(j){this.$MessengerContentSearchDataTypedLogger1.readable_timestamp=j;return this;};h.prototype.setResultIndex=function(j){this.$MessengerContentSearchDataTypedLogger1.result_index=j;return this;};h.prototype.setSearchOutcome=function(j){this.$MessengerContentSearchDataTypedLogger1.search_outcome=j;return this;};h.prototype.setSearchTerm=function(j){this.$MessengerContentSearchDataTypedLogger1.search_term=j;return this;};h.prototype.setSearchType=function(j){this.$MessengerContentSearchDataTypedLogger1.search_type=j;return this;};h.prototype.setThreadFbid=function(j){this.$MessengerContentSearchDataTypedLogger1.thread_fbid=j;return this;};h.prototype.setVC=function(j){this.$MessengerContentSearchDataTypedLogger1.vc=j;return this;};var i={appid:true,clienttime:true,country:true,message_id:true,message_timestamp:true,num_results:true,readable_timestamp:true,result_index:true,search_outcome:true,search_term:true,search_type:true,thread_fbid:true,vc:true};f.exports=h;}),null);
__d('ChatBehavior',['Arbiter','AvailableList','AvailableListConstants','ChatNotificationConstants'],(function a(b,c,d,e,f,g){var h=false,i=c('AvailableList').getWebChatNotification&&c('AvailableList').getWebChatNotification(),j=h,k=true,l=Object.assign(new (c('Arbiter'))(),{ON_CHANGED:'changed',notifiesUserMessages:function n(){return i!==c('ChatNotificationConstants').NO_USER_MESSAGE_NOTIFICATION;},ignoresRemoteTabRaise:function n(){return j;},showsTabUnreadUI:function n(){return k;}});function m(){l.inform(l.ON_CHANGED);}c('AvailableList').subscribe&&c('AvailableList').subscribe(c('AvailableListConstants').ON_CHAT_NOTIFICATION_CHANGED,function(){var n=i,o=c('AvailableList').getWebChatNotification();i=o;if(n!=o)m();});c('Arbiter').subscribe('chat/set_does_page_occlude_tabs',function(n,o){j=!!o;m();});c('Arbiter').subscribe('chat/set_show_tab_unread_ui',function(n,o){k=!!o;m();});f.exports=l;}),null);
__d('ChatPageComposerNullState.react',['cx','fbt','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=function k(l){return (c('React').createElement('div',{className:"_2xh0"},c('React').createElement('div',{className:"_2xh4 _59w_"},c('React').createElement(c('Link.react'),{className:"_2xh6"+(' '+"_2xh7")+(l.disabled?' '+"_5vsu":''),onClick:l.onClick},i._("{name}",[i.param('name',l.title)])))));};f.exports=j;}),null);
__d('ChatPhotoUploader.react',['cx','fbt','Promise','Bootloader','InlineBlock.react','Link.react','MercuryConfig','React','ReactDOM','SubscriptionsHandler','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'ChatPhotoUploader',_uploader:null,_uploaderPromiseIsResolving:false,_uploaderPromise:null,_subscriptions:null,propTypes:{actionURI:j.string,allowCrossPage:j.bool,customUI:j.bool,disabled:j.bool,imageClassName:j.string,imagesOnly:j.bool,inputClassname:j.string,linkClassName:j.string,onSubmit:j.func,onAllUploadsComplete:j.func,onLastUploadFail:j.func,onLastUploadCancel:j.func,onMount:j.func,onUploadError:j.func},getDefaultProps:function l(){return {actionURI:c('MercuryConfig').upload_url,allowCrossPage:true,costomUI:false,disabled:false,imageClassName:"_509w",imagesOnly:true,linkClassName:'',onSubmit:c('emptyFunction'),onAllUploadsComplete:c('emptyFunction'),onLastUploadFail:c('emptyFunction'),onLastUploadCancel:c('emptyFunction')};},shouldComponentUpdate:function l(m){return m.actionURI!=this.props.actionURI||m.disabled!==this.props.disabled;},componentDidMount:function l(){if(this.props.onMount)this.props.onMount(this);},componentDidUpdate:function l(m){if(this._uploader)this._uploader.setAllowCrossPage(this.props.allowCrossPage);},componentWillUnmount:function l(){if(!this.isUploading()||!this.props.allowCrossPage)this._cleanup();},render:function l(){var m=this.props.imagesOnly?i._("Ajouter des photos"):i._("Ajouter des fichiers"),n=c('joinClasses')("_4q61"+(!this.props.customUI?' '+"_5f0v":'')+(!this.props.customUI?' '+"_509v":''),this.props.linkClassName);return (c('React').createElement('form',{action:this.props.actionURI,className:"_vzk",title:m,method:'post',onClick:function(o){o.stopPropagation();if(this.props.disabled)o.preventDefault();}.bind(this),ref:'form'},c('React').createElement('input',{type:'hidden',name:'attach_id',ref:'attachID'}),c('React').createElement('input',{type:'hidden',name:'images_only',value:this.props.imagesOnly}),c('React').createElement(c('InlineBlock.react'),{onClick:this._bootloadChatAutoSendPhotoUploader,className:c('joinClasses')(this.props.className,"_m _4q60 _3rzn")},c('React').createElement('input',{disabled:this.props.disabled,type:'file',className:c('joinClasses')(this.props.inputClassname,"_n _2__f"),name:'attachment[]',multiple:'true',accept:this.props.imagesOnly?'image/*':'*',ref:'input',title:m}),c('React').createElement(c('Link.react'),{className:n,tabIndex:-1},c('React').createElement('i',{className:this.props.imageClassName,alt:i._("Appareil photo")})))));},_handleSubmit:function l(m,n){this.props.onSubmit&&this.props.onSubmit(m,n);},_handleAllUploadsCompleted:function l(m,n){this.props.onAllUploadsComplete&&this.props.onAllUploadsComplete(m,n);if(!this.isMounted())this._cleanup();},_handleLastUploadFailed:function l(m,n){this.props.onLastUploadFail&&this.props.onLastUploadFail(m,n);if(!this.isMounted())this._cleanup();},_handleLastUploadCanceled:function l(m,n){this.props.onLastUploadCancel&&this.props.onLastUploadCancel(m,n);if(!this.isMounted())this._cleanup();},_handleUploadError:function l(m,n){this.props.onUploadError&&this.props.onUploadError(n);if(!this.isMounted())this._cleanup();},isUploading:function l(){return (this._uploader&&this._uploader.isUploading()||this._uploaderPromiseIsResolving);},_bootloadChatAutoSendPhotoUploader:function l(){if(!this._uploaderPromise){this._uploaderPromiseIsResolving=true;this._uploaderPromise=new (c('Promise'))(function(m){c('Bootloader').loadModules(["ChatAutoSendPhotoUploader"],function(n){this._uploaderPromiseIsResolving=false;var o=new n(c('ReactDOM').findDOMNode(this.refs.form),c('ReactDOM').findDOMNode(this.refs.input),c('ReactDOM').findDOMNode(this.refs.attachID),c('MercuryConfig').msgr_region);o.setAllowCrossPage(this.props.allowCrossPage);var p=new (c('SubscriptionsHandler'))();p.addSubscriptions(o.subscribe('submit',this._handleSubmit),o.subscribe('all-uploads-completed',this._handleAllUploadsCompleted),o.subscribe('last-upload-failed',this._handleLastUploadFailed),o.subscribe('last-upload-canceled',this._handleLastUploadCanceled),o.subscribe('file-upload-error',this._handleUploadError));this._subscriptions=p;this._uploader=o;m(this._uploader);}.bind(this),'ChatPhotoUploader.react');}.bind(this));}return this._uploaderPromise;},uploadFiles:function l(m){this._bootloadChatAutoSendPhotoUploader().then(function(n){n.uploadFiles(m);});},uploadURL:function l(m){this._bootloadChatAutoSendPhotoUploader().then(function(n){n.uploadURL(m);});},_cleanup:function l(){this._subscriptions&&this._subscriptions.release();this._uploader&&this._uploader.destroy();}});f.exports=k;}),null);
__d('MercuryTypingAnimation.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m="_4a0v"+(this.props.color==='light'?' '+"_4a0w":'')+(this.props.color==='dark'?' '+"_4a0x":'');return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,m)},c('React').createElement('div',{className:"_4b0g"},c('React').createElement('div',{className:"_5pd7"}),c('React').createElement('div',{className:"_5pd7"}),c('React').createElement('div',{className:"_5pd7"}))));};function l(){i.apply(this,arguments);}l.propTypes={color:k.oneOf(['light','dark'])};l.defaultProps={color:'dark'};f.exports=l;}),null);
__d('ChatTypingIndicator.react',['cx','fbt','ChatConfig','Image.react','MercuryParticipants','MercuryTypingAnimation.react','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('ChatConfig').get('chattab_rounded_profile',false),l=c('React').createClass({displayName:'ChatTypingIndicator',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{userID:j.string,showName:j.bool},render:function n(){var o=void 0;if(this.props.userID)o=c('MercuryParticipants').getNow(this.props.userID);if(!o)return null;return (c('React').createElement('div',{className:"_4tdt"},m(o),this._renderBubble()));},getBubble:function n(){return this.refs.bubble;},_renderBubble:function n(){var o=this.props.showName;return (c('React').createElement('div',{className:"_4tdv"},c('React').createElement('div',{className:"_5wd4"+(' '+"_1nc7")+(' '+"_2cnu")+(o?' '+"_5ysy":'')},c('React').createElement('div',{className:"_5wd9"+(' '+"_n4o")},c('React').createElement('div',{className:"_5w1r"+(' '+"_5wdf")+(' '+"_3_om")},c('React').createElement(c('MercuryTypingAnimation.react'),{className:"_5x7x",ref:'bubble'}))))));}});function m(n){var o=i._("{name}",[i.param('name',n.name)]);return (c('React').createElement('div',{className:"_31o4"+(k?' '+"_3njy":'')},c('React').createElement('a',{'aria-label':o,className:"_4tdw",'data-hover':'tooltip','data-tooltip-content':o,'data-tooltip-position':'left',href:n.href||'#',ref:'link'},c('React').createElement(c('Image.react'),{src:n.image_src,ref:'image'}))));}f.exports=l;}),null);
__d('MercuryTypingReceiver',['Arbiter','ChannelConstants','FBID','MercuryActionType','MercuryIDs','MercuryPayloadSource','MercuryDispatcher','MercurySingletonMixin','MercuryThreadIDMap','MercuryViewer','TypingStates','isEmpty','mixInEventEmitter','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){var h=c('MercuryThreadIDMap').get(),i=30000;function j(k){'use strict';this.$MercuryTypingReceiver1=null;this.$MercuryTypingReceiver2={};this.$MercuryTypingReceiver3=c('MercuryDispatcher').getForFBID(k);this.$MercuryTypingReceiver3.subscribe('update-typing-state',function(m,n){var o=n.payload_source;if(o!=c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE)return;var p=n.actions;if(!p||!p.length)return;var q=c('MercuryActionType').USER_GENERATED_MESSAGE;p.forEach(function(r){if(r.action_type==q&&r.author!=c('MercuryViewer').getID())this.$MercuryTypingReceiver4(r.thread_id,r.author);}.bind(this));}.bind(this));var l;if(c('FBID').isUser(k)){l=[c('ChannelConstants').getArbiterType('typ'),c('ChannelConstants').getArbiterType('ttyp')];}else l=[c('ChannelConstants').getArbiterType('page_typing')];c('Arbiter').subscribe(l,function(m,n){var o=n.obj,p=this.$MercuryTypingReceiver5(o);if(p){var q=c('MercuryIDs').getParticipantIDFromUserID(o.from.toString());if(o.st==c('TypingStates').TYPING){this.$MercuryTypingReceiver2[p]=this.$MercuryTypingReceiver2[p]||{};var r=this.$MercuryTypingReceiver2[p][q];this.$MercuryTypingReceiver2[p][q]=Date.now();if(!this.$MercuryTypingReceiver1)this.$MercuryTypingReceiver1=c('setTimeoutAcrossTransitions')(function(){this.$MercuryTypingReceiver6();}.bind(this),3000);!r&&this.$MercuryTypingReceiver7(p);}else if(o.st==c('TypingStates').INACTIVE)this.$MercuryTypingReceiver4(p,q);}}.bind(this));}j.prototype.$MercuryTypingReceiver8=function(k){'use strict';var l=this.$MercuryTypingReceiver2[k]||{},m=Object.keys(l);m.sort(function(n,o){return l[n]-l[o];});return m;};j.prototype.$MercuryTypingReceiver6=function(){'use strict';this.$MercuryTypingReceiver1=null;var k=Date.now(),l={},m=false;for(var n in this.$MercuryTypingReceiver2){var o=false;for(var p in this.$MercuryTypingReceiver2[n]||{})if(this.$MercuryTypingReceiver2[n][p]<k-i){delete this.$MercuryTypingReceiver2[n][p];o=true;}else m=true;if(o)l[n]=this.$MercuryTypingReceiver8(n);}if(!c('isEmpty')(l))this.$MercuryTypingReceiver9(l);if(m)this.$MercuryTypingReceiver1=c('setTimeoutAcrossTransitions')(function(){this.$MercuryTypingReceiver6();}.bind(this),3000);};j.prototype.$MercuryTypingReceiver4=function(k,l){'use strict';if(k in this.$MercuryTypingReceiver2)if(l in this.$MercuryTypingReceiver2[k]){delete this.$MercuryTypingReceiver2[k][l];this.$MercuryTypingReceiver7(k);}};j.prototype.$MercuryTypingReceiver9=function(k){'use strict';this.releaseHeldEventType('state-changed');this.emitAndHold('state-changed',k);};j.prototype.$MercuryTypingReceiver7=function(k){'use strict';var l={};l[k]=this.$MercuryTypingReceiver8(k);this.$MercuryTypingReceiver9(l);};j.prototype.$MercuryTypingReceiver5=function(k){'use strict';if(k.thread_fbid)return h.getClientIDFromServerIDNow(k.thread_fbid.toString());if(k.type==='typ'||k.type==='page_typing')return c('MercuryIDs').getThreadIDFromUserID(k.from.toString());return null;};c('mixInEventEmitter')(j,{'state-changed':true});Object.assign(j,c('MercurySingletonMixin'));f.exports=j;}),null);
__d('ChatTypingIndicators.react',['fbt','ChatTypingIndicator.react','DOM','MercuryIDs','MercuryThreadInformer','MercuryThreads','MercuryTypingReceiver','MercuryParticipants','React','ReactDOM','SubscriptionsHandler','TooltipData','createObjectFrom','emptyFunction'],(function a(b,c,d,e,f,g,h){var i=c('MercuryThreads').get(),j=c('React').PropTypes,k=c('React').createClass({displayName:'ChatTypingIndicators',propTypes:{indicatorClass:j.func,indicatorsWillShow:j.func,indicatorsDidShow:j.func,rootClassName:j.string,threadID:j.string.isRequired,viewer:j.string.isRequired},getDefaultProps:function l(){return {indicatorClass:c('ChatTypingIndicator.react'),indicatorsWillShow:c('emptyFunction'),indicatorsDidShow:c('emptyFunction')};},getInitialState:function l(){return {typingUserIDs:[]};},componentDidMount:function l(){var m=c('MercuryThreadInformer').getForFBID(this.props.viewer),n=c('MercuryTypingReceiver').getForFBID(this.props.viewer);this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(n.addRetroactiveListener('state-changed',this.typingStateChanged),m.subscribe('messages-received',this.messagesReceived));},componentWillReceiveProps:function l(m){if(m.threadID!=this.props.threadID)this.setState({typingUserIDs:[]});},componentWillUpdate:function l(m,n){if(n.typingUserIDs.length>0)this.props.indicatorsWillShow();},componentDidUpdate:function l(){if(this.state.typingUserIDs.length>0)this.props.indicatorsDidShow();c('MercuryParticipants').getMulti(this.state.typingUserIDs,function(m){if(this.isMounted())this.state.typingUserIDs.forEach(function(n){var o=m[n],p=this.refs[n]&&this.refs[n].getBubble();if(p&&o)c('TooltipData').set(c('ReactDOM').findDOMNode(p),this.renderTooltip(o.short_name),'above','left');}.bind(this));}.bind(this));},componentWillUnmount:function l(){this._subscriptions.release();},render:function l(){if(!c('MercuryIDs').isValid(this.props.threadID))return null;var m=i.getThreadMetaNow(this.props.threadID);if(m&&!m.is_subscribed)return null;var n=c('MercuryIDs').isGroupChat(this.props.threadID);return (c('React').createElement('div',{className:this.props.rootClassName},this.state.typingUserIDs.map(function(o){return (this._renderTypingIndicator(o,!!n));}.bind(this))));},_renderTypingIndicator:function l(m,n){var o=this.props.indicatorClass;return (c('React').createElement(o,{key:m,ref:m,showName:n,userID:m}));},renderTooltip:function l(m){var n=c('DOM').create('span');c('ReactDOM').render(c('React').createElement('span',null,h._("{name} est en train d\u2019\u00e9crire...",[h.param('name',m)])),n);return n;},typingStateChanged:function l(m){if(this.props.threadID in m)this.setState({typingUserIDs:m[this.props.threadID].slice().sort()});},messagesReceived:function l(m,n){if(this.props.threadID in n){var o=n[this.props.threadID],p=c('createObjectFrom')(o.map(function(q){return q.author;}));this.setState({typingUserIDs:this.state.typingUserIDs.filter(function(q){return !p[q];}).sort()});}}});f.exports=k;}),null);
__d('MessengerLogo.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j){var k=j.color,l=j.size;return (c('React').createElement('div',{style:{width:l,height:l}},c('React').createElement('svg',{viewBox:'0 0 16 16',version:'1.1',xmlns:'http://www.w3.org/2000/svg'},c('React').createElement('g',{transform:'scale(0.02)',fill:'none'},c('React').createElement('path',{fill:k,fillRule:'evenodd',d:'M399.494079,0.00274415094 C178.859771,0.00274415094 0.000304955527,167.227237 0.000304955527,373.508113 C0.000304955527,490.856138 57.8859466,595.562774 148.414028,664.036455 L148.414028,806.983343 L284.747446,731.373854 C321.092046,741.545506 359.609962,747.013481 399.494079,747.013481 C620.128386,747.013481 798.987853,579.788988 798.987853,373.508113 C798.987853,167.227237 620.128386,0.00274415094 399.494079,0.00274415094 M441.568386,500.879189L338.245388 393.558495 139.264956 503.581669 357.419975 272.117619 460.742973 379.437297 659.722389 269.414122z'})))));};f.exports=h;}),null);
__d('MontageDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:false});}),null);
__d('MontageActions',['MontageDispatcher','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({REQUEST_UPDATE:null,HAS_UPDATED:null}),i={Types:h,requestUpdate:function j(k){c('MontageDispatcher').dispatch({type:h.REQUEST_UPDATE,threadFBID:k});},hasUpdated:function j(k){c('MontageDispatcher').dispatch({type:h.HAS_UPDATED,threadFBID:k});}};f.exports=i;}),null);
__d('MontageShouldUpdateReducer',['MontageActions'],(function a(b,c,d,e,f,g){'use strict';var h=c('MontageActions').Types;function i(k,l){var m;switch(l.type){case h.REQUEST_UPDATE:var n=babelHelpers['extends']({},k.needsUpdating,(m={},m[l.threadFBID]=true,m));return babelHelpers['extends']({},k,{needsUpdating:n});}return k;}function j(k,l){switch(l.type){case h.HAS_UPDATED:var m=k.needsUpdating,n=m[l.threadFBID],o=babelHelpers.objectWithoutProperties(m,[l.threadFBID]);return babelHelpers['extends']({},k,{needsUpdating:o});}return k;}f.exports={requestUpdate:i,hasUpdated:j};}),null);
__d('MontageState',[],(function a(b,c,d,e,f,g){'use strict';var h={needsUpdating:{}};f.exports=h;}),null);
__d('MontageStore',['MontageDispatcher','MontageShouldUpdateReducer','MontageState','FluxReduceStore'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=[].concat(Object.values(c('MontageShouldUpdateReducer')));h=babelHelpers.inherits(k,c('FluxReduceStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return c('MontageState');};k.prototype.reduce=function(l,m){return j.reduce(function(n,o){return o(n,m);},l);};function k(){h.apply(this,arguments);}f.exports=new k(c('MontageDispatcher'));}),null);
__d('MessengerMarkReadMutation',['RelayMutation','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayMutation'));i=h&&h.prototype;j.prototype.getMutation=function(){return function(){return {calls:[{kind:'Call',metadata:{},name:'message_thread_update_read_state',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'MessageThreadUpdateReadStateData!'},name:'MessengerMarkReadMutation',responseType:'MessageThreadUpdateReadStateResponsePayload'};}();};j.prototype.getVariables=function(){return {actor_id:this.props.actorID,thread_id:this.props.threadID,update_type:'mark_read'};};j.prototype.getFatQuery=function(){return function(){return {children:[{children:[{fieldName:'unread_count',kind:'Field',metadata:{},type:'Int'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'thread',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessageThread'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerMarkReadMutationRelayQL',type:'MessageThreadUpdateReadStateResponsePayload'};}();};j.prototype.getConfigs=function(){return [{type:'FIELDS_CHANGE',fieldIDs:{thread:this.props.threadID}}];};j.prototype.getOptimisticResponse=function(){return {thread:{id:this.props.threadID,unread_count:0}};};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('MontageViewerSingleThread.react',['MontageSpotlightViewer.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MontageViewerSingleThread1=function(q){var r=this.props.montageThread.messages.count,s=this.props.relay.variables.count;if(s<r){var t=Math.min(s+q,r);this.props.relay.setVariables({count:t});}}.bind(this),m;}k.prototype.render=function(){return this.props.open?c('React').createElement(c('MontageSpotlightViewer.react'),{entryPoint:'reply_context',initialUnreadCount:this.props.unreadCount,loadMore:this.$MontageViewerSingleThread1,onHide:this.props.onHide,messages:this.props.montageThread.messages}):null;};k.propTypes={open:j.bool.isRequired,onHide:j.func.isRequired,montageThread:j.object.isRequired,relay:j.object.isRequired,unreadCount:j.number.isRequired};f.exports=c('Relay').createContainer(k,{initialVariables:{count:100},fragments:{montageThread:function l(){return function(m){return {children:[{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[].concat.apply([],[c('RelayQL').__frag(m)]),fieldName:'messages',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MessagesOfThreadConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageViewerSingleThread_react_MontageThreadRelayQL',type:'MessageThread'};}(c('MontageSpotlightViewer.react').getFragment('messages'));}}});}),null);
__d('convertMIGColorToFIGColor',['cssVar'],(function a(b,c,d,e,f,g,h){'use strict';var i={'#0077e5':"#4080ff",'#44bec7':"#54C7EC",'#ffc300':'#f5c33b','#fa3c4c':"#F35369",'#d696bb':'#d696bb','#6699cc':"#A3CEDF",'#13cf13':"#42b72a",'#ff7e29':"#F7923B",'#e68585':'#e68585','#7646ff':"#8C72CB",'#20cef5':"#54C7EC",'#67b868':"#A3CE71",'#d4a88c':'#cfa588','#ff5ca1':"#EC7EBD",'#a695c7':"#AF9CDA"};function j(k){return k&&i[k]||k||'';}f.exports=j;}),null);
__d('MontageThreadView.react',['cssVar','cx','fbt','CurrentUser','MessengerEnvironment','MessengerLogo.react','MessengerMarkReadMutation','MontageThumbnail.react','MontageViewerSingleThread.react','React','Relay','RelayQL','Timestamp.react','convertMIGColorToFIGColor','idx'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={showMontage:false},this.$MontageThreadView1=function(){this.setState({showMontage:true});}.bind(this),this.$MontageThreadView2=function(){this.setState({showMontage:false});this.props.relay.commitUpdate(new (c('MessengerMarkReadMutation'))({threadID:this.props.threadMessages.montage_thread.id,actorID:c('CurrentUser').getID()}));}.bind(this),p;}n.prototype.componentDidMount=function(){if(this.props.threadMessages)this.props.onResize&&this.props.onResize();};n.prototype.componentDidUpdate=function(o){if(o.threadMessages!==this.props.threadMessages)this.props.onResize&&this.props.onResize();};n.prototype.render=function(){var o=this.getFirstMontageMessage();if(!o)return null;var p=this.getCustomColor(),q=this.getUnread();return c('React').createElement('a',{className:"_5no5",href:'#',onClick:this.$MontageThreadView1,role:'button'},c('React').createElement(c('MontageThumbnail.react'),{customColor:p,message:o,unread:q}),c('React').createElement('div',{className:"_1sui"},this.renderHeader(q,p),c('React').createElement('span',{className:"_1suk"},c('React').createElement(c('Timestamp.react'),{minimize:true,time:this.getTimestamp()}))),this.renderLogo(),this.renderModal());};n.prototype.renderModal=function(){return this.state.showMontage?c('React').createElement(c('MontageViewerSingleThread.react'),{onHide:this.$MontageThreadView2,open:this.state.showMontage,montageThread:this.props.threadMessages.montage_thread,unreadCount:this.props.threadMessages.montage_thread.unread_count}):null;};n.prototype.renderLogo=function(){return c('MessengerEnvironment').messengerui?null:c('React').createElement(c('MessengerLogo.react'),{color:"rgba(0, 0, 0, .3)",size:'17px'});};n.prototype.renderHeader=function(o,p){return o?c('React').createElement('h1',{className:"_1suj",style:{color:p}},j._("Journ\u00e9e de {person_with_montage}",[j.param('person_with_montage',this.getAuthorName())])):null;};n.prototype.getAuthorName=function(){var o,p,q,r;return (o=this.props)!=null?(p=o.threadMessages)!=null?(q=p.montage_thread)!=null?(r=q.montage_author)!=null?r.short_name:r:q:p:o;};n.prototype.getFirstMontageMessage=function(){var o,p,q,r,s,t;return (o=this.props)!=null?(p=o.threadMessages)!=null?(q=p.montage_thread)!=null?(r=q.messages)!=null?(s=r.edges)!=null?(t=s[0])!=null?t.node:t:s:r:q:p:o;};n.prototype.getTimestamp=function(){var o=this.getFirstMontageMessage();return o&&o.timestamp;};n.prototype.getCustomColor=function(){var o,p,q,r=(o=this.props)!=null?(p=o.threadMessages)!=null?(q=p.customization_info)!=null?q.outgoing_bubble_color:q:p:o,s=void 0;if(!r){s="#0084ff";}else s='#'+r.substring(2);return c('convertMIGColorToFIGColor')(s);};n.prototype.getUnread=function(){var o,p,q;return !!((o=this.props)!=null?(p=o.threadMessages)!=null?(q=p.montage_thread)!=null?q.unread_count:q:p:o);};n.propTypes={onResize:m.func,threadMessages:m.object.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{threadMessages:function o(p){return function(q,r){return {children:[{children:[{fieldName:'outgoing_bubble_color',kind:'Field',metadata:{},type:'Color'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'customization_info',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessageThreadCustomization'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{calls:[{kind:'Call',metadata:{},name:'last',value:{kind:'CallValue',callValue:1}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'timestamp',kind:'Field',metadata:{},type:'Time'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(r),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true,isRequisite:true},type:'Message'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessagesOfThreadEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'messages',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MessagesOfThreadConnection'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'short_name',kind:'Field',metadata:{},type:'String'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'montage_author',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'unread_count',kind:'Field',metadata:{},type:'Int'},c('RelayQL').__frag(q)]),fieldName:'montage_thread',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessageThread'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageThreadView_react_ThreadMessagesRelayQL',type:'MessageThread'};}(c('MontageViewerSingleThread.react').getFragment('montageThread'),c('MontageThumbnail.react').getFragment('message'));}}});}),null);
__d('MontageThreadViewContainer.react',['FluxContainer','MercuryIDs','MontageActions','MontageStore','MontageThreadView.react','MontageThreadViewRoute','React','Relay'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('Relay').RootContainer,k=c('React').PropTypes;h=babelHelpers.inherits(l,c('React').PureComponent);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$MontageThreadViewContainer1=function(r,s){var t=c('MercuryIDs').getThreadFBIDFromThreadID(this.props.threadID);if(!t)return null;var u=this.state.needsUpdating[t];if(u&&!s.stale)c('MontageActions').hasUpdated(t);return c('React').createElement(c('MontageThreadView.react'),babelHelpers['extends']({},r,{onResize:this.props.onResize}));}.bind(this),n;}l.getStores=function(){return [c('MontageStore')];};l.calculateState=function(){return {needsUpdating:c('MontageStore').getState().needsUpdating};};l.prototype.render=function(){var m=this.props.threadID,n=c('MercuryIDs').getThreadFBIDFromThreadID(m);if(!n)return null;return c('React').createElement(j,{Component:c('MontageThreadView.react'),route:new (c('MontageThreadViewRoute'))({threadFBID:n}),renderFetched:this.$MontageThreadViewContainer1,forceFetch:this.state.needsUpdating[n]});};l.propTypes={onResize:k.func,threadID:k.string.isRequired};f.exports=c('FluxContainer').create(l);}),null);
__d('MessengerInterstitialBanner.react',['cx','fbt','ix','Image.react','Link.react','React','WorkModeConfig'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=j('/images/mercury/clients/messenger/banner/messengerPhone-2x.png'),o='https://itunes.apple.com/app/id958124798';k=babelHelpers.inherits(p,c('React').PureComponent);l=k&&k.prototype;p.prototype.render=function(){if(this.props.mobileAppInfo.hasMessenger&&this.props.mobileAppInfo.messengerPushable)return null;if(this.props.isFirstRedirect)return null;return (c('React').createElement('div',{className:"_s15"},c('React').createElement(c('Image.react'),{src:n}),this.$MessengerInterstitialBanner1(),this.$MessengerInterstitialBanner2()));};p.prototype.$MessengerInterstitialBanner1=function(){if(!this.props.mobileAppInfo.hasMessenger){return i._("Continuez la conversation sur votre t\u00e9l\u00e9phone.");}else if(!this.props.mobileAppInfo.messengerPushable)return i._("Affichez les messages instantan\u00e9ment sur votre t\u00e9l\u00e9phone. Ouvrez l\u2019application pour en savoir plus.");return null;};p.prototype.$MessengerInterstitialBanner2=function(){if(this.props.mobileAppInfo.hasMessenger)return null;var q=c('WorkModeConfig').is_work_user?o:'https://www.messenger.com/about';return (c('React').createElement(c('Link.react'),{target:'_blank',className:"_s18",href:q},i._("Obtenir l\u2019app")));};function p(){k.apply(this,arguments);}p.propTypes={mobileAppInfo:m.shape({hasMessenger:m.bool.isRequired,messengerPushable:m.bool.isRequired}).isRequired,isFirstRedirect:m.bool};f.exports=p;}),null);
__d("XMessengerDotComNUXLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/logging\/promotion\/",{promotion_id:{type:"Int",required:true},instance_log_data:{type:"StringToStringMap",defaultValue:{}}});}),null);
__d("XQuickPromotionSimpleLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/qp\/action\/log\/",{qp_id:{type:"Int",required:true},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}});}),null);
__d('MessengerNotificationBanner.react',['cx','ix','AsyncRequest','Image.react','MessengerButton.react','MessengerDesktopNotifications','MessengerDotComPromotionActionURL','MessengerSettingsActions','messengerSignalsRe','React','XMessengerDotComNUXLoggingController','XQuickPromotionSimpleLoggingController','goURI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerSignalsRe').signals,m=c('React').PropTypes,n=i('/images/mercury/clients/messenger/banner/closeBanner.png'),o=i('/images/mercury/clients/messenger/banner/desktopNotifications.png');j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={bannerClosed:false},this.$MessengerNotificationBanner1=function(){return c('MessengerDesktopNotifications').isGranted()||c('MessengerDesktopNotifications').isDenied()||this.state.bannerClosed;}.bind(this),this.$MessengerNotificationBanner3=function(){return (c('React').createElement(c('MessengerButton.react'),{className:"_2cim",label:this.props.primaryActionTitle,onClick:this.$MessengerNotificationBanner4,type:'primary'}));}.bind(this),this.$MessengerNotificationBanner4=function(){this.$MessengerNotificationBanner5();if(this.props.promotionID){new (c('AsyncRequest'))().setURI(c('XQuickPromotionSimpleLoggingController').getURIBuilder().setInt('qp_id',this.props.promotionID).setEnum('qp_action','primary').setStringToStringMap('qp_instance_log_data',this.props.instanceLogData).getURI()).send();if(this.props.primaryActionURI===c('MessengerDotComPromotionActionURL').turn_on_notification){c('MessengerSettingsActions').changeDesktopNotifs(true);}else window.open(this.props.primaryActionURI);}else if(this.props.primaryActionURI)c('goURI')(this.props.primaryActionURI,true);}.bind(this),this.$MessengerNotificationBanner2=function(){this.$MessengerNotificationBanner5();if(this.props.promotionID)new (c('AsyncRequest'))().setURI(c('XQuickPromotionSimpleLoggingController').getURIBuilder().setInt('qp_id',this.props.promotionID).setEnum('qp_action','dismiss').setStringToStringMap('qp_instance_log_data',this.props.instanceLogData).getURI()).send();}.bind(this),this.$MessengerNotificationBanner5=function(){this.setState({bannerClosed:true},function(){l.resize();});}.bind(this),r;}p.prototype.componentWillReceiveProps=function(q){if(!q.promotionID)this.setState({bannerClosed:false});};p.prototype.componentDidMount=function(){if(this.$MessengerNotificationBanner1()||!this.props.promotionID)return;new (c('AsyncRequest'))().setURI(c('XMessengerDotComNUXLoggingController').getURIBuilder().setInt('promotion_id',this.props.promotionID).setStringToStringMap('instance_log_data',this.props.instanceLogData).getURI()).send();};p.prototype.componentDidUpdate=function(){window.dispatchEvent(new Event('resize'));};p.prototype.render=function(){if(this.$MessengerNotificationBanner1())return null;return c('React').createElement('div',{className:"_2cij"},c('React').createElement(c('Image.react'),{className:"_2cik",onClick:this.$MessengerNotificationBanner2,src:n}),c('React').createElement(c('Image.react'),{className:"_2cil",src:o}),this.props.promotionContent,this.$MessengerNotificationBanner3());};p.propTypes={promotionID:m.number,promotionContent:m.string,primaryActionTitle:m.string,primaryActionURI:m.string,instanceLogData:m.object};f.exports=p;}),null);
__d('MessengerRefreshPrompt',['fbt','Visibility','setIntervalAcrossTransitions'],(function a(b,c,d,e,f,g,h){var i=1000*60*60,j=1000*60*60*24*3,k=function l(m){var n=Date.now();c('setIntervalAcrossTransitions')(function(){if(Date.now()-n>j)c('Visibility').once(c('Visibility').VISIBLE,function(){m({promotionID:null,promotionContent:h._("Une nouvelle version de Messenger est disponible."),primaryActionTitle:h._("Actualiser"),instanceLogData:{},primaryActionURI:window.location.href});n=Date.now();});},i);};f.exports=k;}),null);
__d('MessengerBanner.react',['MessengerConfig','MessengerInterstitialBanner.react','MessengerNotificationBanner.react','MessengerRefreshPrompt','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={promotionData:this.props.initialPromotionData},m;}k.prototype.componentDidMount=function(){if(c('MessengerConfig').ShowReloadPrompt)c('MessengerRefreshPrompt')(function(l){return this.setState({promotionData:l});}.bind(this));};k.prototype.render=function(){var l=this.state.promotionData;if(!this.props.mobileAppInfo.hasMessenger||!this.props.mobileAppInfo.messengerPushable)return (c('React').createElement(c('MessengerInterstitialBanner.react'),{mobileAppInfo:this.props.mobileAppInfo,isFirstRedirect:this.props.isFirstRedirect}));if(l&&l.primaryActionURI)return (c('React').createElement(c('MessengerNotificationBanner.react'),{promotionID:l.promotionID,promotionContent:l.promotionContent,primaryActionTitle:l.primaryActionTitle,primaryActionURI:l.primaryActionURI,instanceLogData:l.instanceLogData}));return null;};k.propTypes={mobileAppInfo:j.shape({hasMessenger:j.bool.isRequired,messengerPushable:j.bool.isRequired}).isRequired,initialPromotionData:j.object,isFirstRedirect:j.bool};f.exports=k;}),null);
__d('MessengerDiodeWelcomeDialog.react',['fbt','MessengerActions','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogHeader.react','MessengerDialogFooter.react','MessengerDialogButton.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerDiodeWelcomeDialog1=function(r){if(!r)c('MessengerActions').hideDialog();},this.$MessengerDiodeWelcomeDialog2=function(){c('MessengerActions').hideDialog();},n;}l.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerDiodeWelcomeDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Bienvenue sur Messenger")),c('React').createElement(k,null,h._("Vous pouvez maintenant voir tous vos messages sur Messenger.com. Nous pensons que c\u2019est le meilleur moyen d\u2019envoyer des messages \u00e0 partir de votre ordinateur et nous allons continuer \u00e0 l\u2019am\u00e9liorer. Vous pouvez aussi continuer \u00e0 discuter sur Facebook.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogButton.react'),{label:h._("OK"),onClick:this.$MessengerDiodeWelcomeDialog2,type:'primary'})));};f.exports=l;}),null);
__d('MessengerConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={NEW_THREAD_KEY:'new'};f.exports=h;}),null);
__d('createCharacterList',['CharacterMetadata','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List;function i(j,k){var l=j.map(function(m,n){var o=k[n];return c('CharacterMetadata').create({style:m,entity:o});});return h(l);}f.exports=i;}),null);
__d('decodeEntityRanges',['UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('UnicodeUtils').substr;function i(j,k){var l=Array(j.length).fill(null);if(k)k.forEach(function(m){var n=h(j,0,m.offset).length,o=n+h(j,m.offset,m.length).length;for(var p=n;p<o;p++)l[p]=m.key;});return l;}f.exports=i;}),null);
__d('decodeInlineStyleRanges',['UnicodeUtils','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').OrderedSet,i=c('UnicodeUtils').substr,j=h();function k(l,m){var n=Array(l.length).fill(j);if(m)m.forEach(function(o){var p=i(l,0,o.offset).length,q=p+i(l,o.offset,o.length).length;while(p<q){n[p]=n[p].add(o.style);p++;}});return n;}f.exports=k;}),null);
__d('convertFromRawToDraftState',['ContentBlock','ContentState','DraftEntity','immutable','createCharacterList','decodeEntityRanges','decodeInlineStyleRanges','generateRandomKey'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').Map;function i(j){var k=j.blocks,l=j.entityMap,m={};Object.keys(l).forEach(function(o){var p=l[o],q=p.type,r=p.mutability,s=p.data,t=c('DraftEntity').create(q,r,s||{});m[o]=t;});var n=k.map(function(o){var p=o.key,q=o.type,r=o.text,s=o.depth,t=o.inlineStyleRanges,u=o.entityRanges,v=o.data;p=p||c('generateRandomKey')();s=s||0;t=t||[];u=u||[];v=h(v);var w=c('decodeInlineStyleRanges')(r,t),x=u.filter(function(aa){return m.hasOwnProperty(aa.key);}).map(function(aa){return babelHelpers['extends']({},aa,{key:m[aa.key]});}),y=c('decodeEntityRanges')(r,x),z=c('createCharacterList')(w,y);return new (c('ContentBlock'))({key:p,type:q,text:r,depth:s,characterList:z,data:v});});return c('ContentState').createFromBlockArray(n);}f.exports=i;}),null);
__d('decodeBlocks',['ComposedBlockType','ComposedInlineStyle','convertFromRawToDraftState','mapObject'],(function a(b,c,d,e,f,g){'use strict';function h(k,l){var m=k.map(function(o){var p=o.type,q=o.inlineStyleRanges,r=babelHelpers.objectWithoutProperties(o,['type','inlineStyleRanges']);return babelHelpers['extends']({type:i[p],inlineStyleRanges:(q||[]).map(function(s){return babelHelpers['extends']({},s,{style:j[s.style]});})},r);}),n=c('mapObject')(l,function(o){return {type:o.getType(),mutability:o.getMutability(),data:o.getData()};});return c('convertFromRawToDraftState')({blocks:m,entityMap:n});}var i={};i[c('ComposedBlockType').UNSTYLED]='unstyled';i[c('ComposedBlockType').PARAGRAPH]='paragraph';i[c('ComposedBlockType').BLOCKQUOTE]='blockquote';i[c('ComposedBlockType').ORDERED_LIST_ITEM]='ordered-list-item';i[c('ComposedBlockType').UNORDERED_LIST_ITEM]='unordered-list-item';i[c('ComposedBlockType').CODE]='code-block';i[c('ComposedBlockType').HEADER_ONE]='header-one';i[c('ComposedBlockType').HEADER_TWO]='header-two';i[c('ComposedBlockType').MEDIA]='atomic';i[c('ComposedBlockType').PULLQUOTE]='pullquote';var j={};j[c('ComposedInlineStyle').BOLD]='BOLD';j[c('ComposedInlineStyle').CODE]='CODE';j[c('ComposedInlineStyle').ITALIC]='ITALIC';j[c('ComposedInlineStyle').STRIKETHROUGH]='STRIKETHROUGH';j[c('ComposedInlineStyle').UNDERLINE]='UNDERLINE';f.exports=h;}),null);
__d('DraftStringKey',[],(function a(b,c,d,e,f,g){'use strict';var h={stringify:function i(j){return '_'+String(j);},unstringify:function i(j){return j.slice(1);}};f.exports=h;}),null);
__d('encodeEntityRanges',['DraftStringKey','UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('UnicodeUtils').strlen;function i(j,k){var l=[];j.findEntityRanges(function(m){return !!m.getEntity();},function(m,n){var o=j.getText(),p=j.getEntityAt(m);l.push({offset:h(o.slice(0,m)),length:h(o.slice(m,n)),key:Number(k[c('DraftStringKey').stringify(p)])});});return l;}f.exports=i;}),null);
__d('encodeInlineStyleRanges',['UnicodeUtils','findRangesImmutable'],(function a(b,c,d,e,f,g){'use strict';var h=function m(n,o){return n===o;},i=function m(n){return !!n;},j=[];function k(m,n,o){var p=[],q=n.map(function(r){return r.has(o);}).toList();c('findRangesImmutable')(q,h,i,function(r,s){var t=m.getText();p.push({offset:c('UnicodeUtils').strlen(t.slice(0,r)),length:c('UnicodeUtils').strlen(t.slice(r,s)),style:o});});return p;}function l(m){var n=m.getCharacterList().map(function(p){return p.getStyle();}).toList(),o=n.flatten().toSet().map(function(p){return k(m,n,p);});return Array.prototype.concat.apply(j,o.toJS());}f.exports=l;}),null);
__d('convertFromDraftStateToRaw',['DraftEntity','DraftStringKey','encodeEntityRanges','encodeInlineStyleRanges'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=0,k={},l=[];i.getBlockMap().forEach(function(o,p){o.findEntityRanges(function(q){return q.getEntity()!==null;},function(q){var r=c('DraftStringKey').stringify(o.getEntityAt(q));if(!k.hasOwnProperty(r))k[r]=''+j++;});l.push({key:p,text:o.getText(),type:o.getType(),depth:o.getDepth(),inlineStyleRanges:c('encodeInlineStyleRanges')(o),entityRanges:c('encodeEntityRanges')(o,k),data:o.getData().toObject()});});var m=Object.keys(k),n={};m.forEach(function(o,p){var q=c('DraftEntity').get(c('DraftStringKey').unstringify(o));n[p]={type:q.getType(),mutability:q.getMutability(),data:q.getData()};});return {entityMap:n,blocks:l};}f.exports=h;}),null);
__d('encodeBlocks',['ComposedBlockType','ComposedEntityType','ComposedInlineStyle','convertFromDraftStateToRaw','mapObject','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(k){var l=c('convertFromDraftStateToRaw')(k),m=l.blocks,n=l.entityMap,o=m.map(function(q){var r=q.key,s=q.type,t=q.text,u=q.depth,v=q.inlineStyleRanges,w=q.entityRanges;return {key:c('nullthrows')(r),type:i[s],text:t,depth:c('nullthrows')(u),inlineStyleRanges:c('nullthrows')(v).map(function(x){return babelHelpers['extends']({},x,{style:j[x.style]});}),entityRanges:c('nullthrows')(w)};}),p=c('mapObject')(n,function(q){var r=q.data,s=null,t=undefined;if(typeof r==='object'){s=r.id;t=babelHelpers.objectWithoutProperties(r,['id']);if(Object.keys(t).length===0){t=undefined;}else t=c('mapObject')(t,function(u){return u==null?'':String(u);});}return {id:s||null,type:c('ComposedEntityType')[q.type],data:t};});return {blocks:o,entityMap:p};}var i={unstyled:c('ComposedBlockType').UNSTYLED,paragraph:c('ComposedBlockType').PARAGRAPH,blockquote:c('ComposedBlockType').BLOCKQUOTE,'ordered-list-item':c('ComposedBlockType').ORDERED_LIST_ITEM,'unordered-list-item':c('ComposedBlockType').UNORDERED_LIST_ITEM,'code-block':c('ComposedBlockType').CODE,'header-one':c('ComposedBlockType').HEADER_ONE,'header-two':c('ComposedBlockType').HEADER_TWO,atomic:c('ComposedBlockType').MEDIA,pullquote:c('ComposedBlockType').PULLQUOTE,'header-three':c('ComposedBlockType').HEADER_TWO,'header-four':c('ComposedBlockType').HEADER_TWO,'header-five':c('ComposedBlockType').HEADER_TWO,'header-six':c('ComposedBlockType').HEADER_TWO},j={BOLD:c('ComposedInlineStyle').BOLD,CODE:c('ComposedInlineStyle').CODE,ITALIC:c('ComposedInlineStyle').ITALIC,STRIKETHROUGH:c('ComposedInlineStyle').STRIKETHROUGH,UNDERLINE:c('ComposedInlineStyle').UNDERLINE};f.exports=h;}),null);
__d('MessengerEditorStateManager',['CacheStorage','ComposedEntityMutability','ComposedEntityMutabilityToName','ComposedEntityTypeToName','DraftEntityInstance','EditorState','MessengerConstants','SelectionState','decodeBlocks','encodeBlocks','mapObject'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('CacheStorage'))('localstorage'),i=c('ComposedEntityMutability').IMMUTABLE,j=void 0,k={get:function l(m){if(!m)return this._getEmptyEditorState();if(m===c('MessengerConstants').NEW_THREAD_KEY)return j||this._getEmptyEditorState();var n=h.get(m,false);if(!n)return this._getEmptyEditorState();var o=n.encodedBlocks,p=c('mapObject')(o.entityMap,function(s,t){return new (c('DraftEntityInstance'))({type:c('ComposedEntityTypeToName')[s.type],mutability:c('ComposedEntityMutabilityToName')[i],data:s.data});}),q=c('decodeBlocks')(o.blocks,p),r=c('EditorState').createWithContent(q);return c('EditorState').acceptSelection(r,new (c('SelectionState'))(n.selection));},set:function l(m,n){if(m===c('MessengerConstants').NEW_THREAD_KEY){j=n;return;}var o=c('encodeBlocks')(n.getCurrentContent()),p=n.getSelection().toJS();h.set(m,{encodedBlocks:o,selection:p});},_getEmptyEditorState:function l(){var m=c('EditorState').createEmpty();return c('EditorState').forceSelection(m,m.getSelection());}};f.exports=k;}),null);
__d('MercuryChannelMessageTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k={author:i.mercury_author_id,author_email:i.mercury_author_email,body:i.body,subject:i.subject,has_attachment:i.has_attachment,attachments:i.attachments,ephemeral_ttl_mode:i.ephemeral_ttl_mode,html_body:i.html_body,thread_id:i.tid,thread_fbid:i.thread_fbid&&i.thread_fbid.toString(),other_user_fbid:i.other_user_fbid&&i.other_user_fbid.toString(),offline_threading_id:i.offline_threading_id,message_id:i.mid,is_spoof_warning:i.is_spoof_warning,ranges:i.ranges,source:i.mercury_source,source_tags:i.mercury_source_tags,tags:i.tags&&i.tags.split(','),threading_id:i.threading_id,timestamp:i.timestamp,timestamp_absolute:i.timestamp_absolute,timestamp_relative:i.timestamp_relative,timestamp_datetime:i.timestamp_datetime,timestamp_time_passed:i.timestamp_time_passed,action_type:c('MercuryActionType').USER_GENERATED_MESSAGE,is_unread:i.is_unread,is_forward:false,forward_count:i.forward_count||i.forward,forward_message_ids:i.forward_msg_ids,folder:j,sync_id:i.sync_id};return k;}f.exports={transform:h};}),null);
__d('MercuryDelayedDispatcher',['MercuryDispatcher','MercuryServerPayloadPreprocessor','MercuryServerRequests','MercurySingletonProvider','MercuryThreadIDMap'],(function a(b,c,d,e,f,g){'use strict';function h(j){this.$MercuryDelayedDispatcher1=j;this.$MercuryDelayedDispatcher2=[];this.$MercuryDelayedDispatcher3=c('MercuryThreadIDMap').getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher4=c('MercuryDispatcher').getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher5=c('MercuryServerRequests').getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher6=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercuryDelayedDispatcher1);this.$MercuryDelayedDispatcher4.subscribe('model-update-completed',function(k,l){return this.$MercuryDelayedDispatcher7();}.bind(this));}h.getForFBID=function(j){return i.getForFBID(j);};h.get=function(){return i.get();};h.prototype.handleUpdateWaitForThread=function(j,k){var l=this.$MercuryDelayedDispatcher3.getClientIDFromServerIDNow(k);if(l){this.$MercuryDelayedDispatcher8(j);return;}this.$MercuryDelayedDispatcher3.getClientIDFromServerID(k,function(){return this.$MercuryDelayedDispatcher2.push(j);}.bind(this));this.$MercuryDelayedDispatcher5.ensureThreadIsFetched(k);};h.prototype.$MercuryDelayedDispatcher7=function(){if(this.$MercuryDelayedDispatcher2&&this.$MercuryDelayedDispatcher2.length){var j=this.$MercuryDelayedDispatcher2[0];this.$MercuryDelayedDispatcher2=this.$MercuryDelayedDispatcher2.slice(1);this.$MercuryDelayedDispatcher8(j);}};h.prototype.$MercuryDelayedDispatcher8=function(j){if(j.from_client){this.$MercuryDelayedDispatcher4.handleUpdate(j);}else this.$MercuryDelayedDispatcher6.handleUpdate(j);};var i=new (c('MercurySingletonProvider'))(h);f.exports=h;}),null);
__d('MercuryChannelHandlerDEPRECATED',['Arbiter','ChannelConstants','LogHistory','MercuryActionType','MercuryChannelMessageTransformer','MercuryDelayedDispatcher','MercuryGlobalActionType','MercuryLogMessageType','MercuryMessages','MercuryPayloadSource','MercuryServerPayloadPreprocessor','MercurySingletonProvider','MercuryThreadInformer','MercuryViewer','MessagingEvent','MessagingTag','PresenceUtil','mixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('LogHistory').getInstance('mercury_channel_handler');i.get=function(){return j.get();};i.getForFBID=function(k){return j.getForFBID(k);};function i(k){this.$MercuryChannelHandlerDEPRECATED1=k;this.__payloadPreprocessor=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercuryChannelHandlerDEPRECATED1);this.$MercuryChannelHandlerDEPRECATED2=c('MercuryThreadInformer').getForFBID(this.$MercuryChannelHandlerDEPRECATED1);this.$MercuryChannelHandlerDEPRECATED3=c('MercuryMessages').getForFBID(this.$MercuryChannelHandlerDEPRECATED1);this.__delayedDispatcher=c('MercuryDelayedDispatcher').getForFBID(this.$MercuryChannelHandlerDEPRECATED1);this.$MercuryChannelHandlerDEPRECATED4=[];}i.prototype.getInstanceFBID=function(){return this.$MercuryChannelHandlerDEPRECATED1;};i.prototype.$MercuryChannelHandlerDEPRECATED5=function(k,l){if(!this.$MercuryChannelHandlerDEPRECATED6(k)||!l.obj.thread_fbids&&!l.obj.other_user_fbids)return;var m=c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE,n=void 0;(l.obj.thread_fbids||[]).forEach(function(o){if(l.obj.event==c('MessagingEvent').TAG){n=l.obj.tag;}else n=l.obj.marked_as_spam?c('MessagingTag').SPAM:c('MessagingTag').INBOX;var p={action_type:c('MercuryActionType').CHANGE_FOLDER,thread_fbid:o.toString(),other_user_fbid:null,new_folder:n};this.__delayedDispatcher.handleUpdateWaitForThread({actions:[babelHelpers['extends']({},p)],payload_source:m},o.toString());},this);(l.obj.other_user_fbids||[]).forEach(function(o){if(l.obj.event==c('MessagingEvent').TAG){n=l.obj.tag;}else n=l.obj.marked_as_spam?c('MessagingTag').SPAM:c('MessagingTag').INBOX;var p={action_type:c('MercuryActionType').CHANGE_FOLDER,other_user_fbid:o.toString(),thread_fbid:null,new_folder:n};this.__delayedDispatcher.handleUpdateWaitForThread({actions:[babelHelpers['extends']({},p)],payload_source:m},o.toString());},this);};i.prototype.$MercuryChannelHandlerDEPRECATED7=function(k,l){if(!this.$MercuryChannelHandlerDEPRECATED6(k)||!l.obj.tag)return;switch(l.obj.tag){case c('MessagingTag').INBOX:case c('MessagingTag').OTHER:this.$MercuryChannelHandlerDEPRECATED5(k,l);break;}};i.prototype.__markAsSeen=function(k,l){if(!this.$MercuryChannelHandlerDEPRECATED8(k)||!l.obj||!l.obj.seen_timestamp)return;this.__payloadPreprocessor.handleUpdate({message_counts:[{seen_timestamp:l.obj.seen_timestamp,folder:c('MessagingTag').INBOX}],unseen_thread_fbids:[{thread_fbids:[],other_user_fbids:[],folder:c('MessagingTag').INBOX}],payload_source:c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE});};i.prototype.__handleMessagingPayload=function(k,l){switch(l.obj.event){case c('MessagingEvent').TAG:this.$MercuryChannelHandlerDEPRECATED7(k,l);break;case c('MessagingEvent').REPORT_SPAM:this.$MercuryChannelHandlerDEPRECATED5(k,l);break;}};i.prototype.getRouting=function(){return {messaging:this.__handleMessagingPayload,inbox:this.__markAsSeen};};i.prototype.__getMessagingPayloadType=function(){return c('ChannelConstants').getArbiterType('messaging');};i.prototype.__getMercuryPayloadType=function(){return c('ChannelConstants').getArbiterType('mercury');};i.prototype.__getInboxPayloadType=function(){return c('ChannelConstants').getArbiterType('inbox');};i.prototype.$MercuryChannelHandlerDEPRECATED6=function(k){return k===this.__getMessagingPayloadType();};i.prototype.$MercuryChannelHandlerDEPRECATED9=function(k){return k===this.__getMercuryPayloadType();};i.prototype.$MercuryChannelHandlerDEPRECATED8=function(k){return k===this.__getInboxPayloadType();};i.prototype.turnOn=function(){if(!this.$MercuryChannelHandlerDEPRECATED4.length){var k=this.getRouting();for(var l in k)this.$MercuryChannelHandlerDEPRECATED4.push(c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(l),k[l].bind(this)));}return this;};i.prototype.turnOff=function(){if(this.$MercuryChannelHandlerDEPRECATED4.length){this.$MercuryChannelHandlerDEPRECATED4.forEach(c('Arbiter').unsubscribe);this.$MercuryChannelHandlerDEPRECATED4=[];}return this;};i.prototype.__shouldDropLogMessageBecauseOfSync=function(k){switch(k.log_message_type){case c('MercuryLogMessageType').UNSUBSCRIBE:case c('MercuryLogMessageType').SUBSCRIBE:case c('MercuryLogMessageType').THREAD_NAME:case c('MercuryLogMessageType').VIDEO_CALL:case c('MercuryLogMessageType').PHONE_CALL:case c('MercuryLogMessageType').THREAD_IMAGE:case c('MercuryLogMessageType').ORION:case c('MercuryLogMessageType').PAGE_REPLY:case c('MercuryLogMessageType').GENERIC_ADMIN_TEXT:return true;case c('MercuryLogMessageType').SERVER_ERROR:case c('MercuryLogMessageType').LIVE_LISTEN:case c('MercuryLogMessageType').SWITCH_TO_WORK:case c('MercuryLogMessageType').WALLPAPER:default:break;}return false;};var j=new (c('MercurySingletonProvider'))(i);f.exports=i;}),null);
__d('MercuryRoger',['Arbiter','ArbiterMixin','immutable','JSLogger','MercuryActionStatus','MercuryDispatcher','MercurySingletonProvider','MercuryThreads','mixin','mapObject'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('MercuryActionStatus').SUCCESS;h=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;k.getForFBID=function(o){return l.getForFBID(o);};k.get=function(){return l.get();};function k(o){i.constructor.call(this);this.$MercuryRoger1={};this.$MercuryRoger2=[];this.$MercuryRoger3=o;this.$MercuryRoger4=c('MercuryDispatcher').getForFBID(this.$MercuryRoger3);this.$MercuryRoger5=c('MercuryThreads').getForFBID(this.$MercuryRoger3);this.$MercuryRoger4.subscribe('update-roger',function(p,q){for(var r in q){var s=this.$MercuryRoger1[r]||c('immutable').OrderedMap();s=s.withMutations(function(t){for(var u in q[r]){var v=this.$MercuryRoger5.getThreadMetaNow(r);if(v&&v.participants)if(v.participants.indexOf(u)==-1){this.$MercuryRoger2.push(n(this.$MercuryRoger1));continue;}var w=t.get(u),x=q[r][u];if(!w||x.watermark>w.watermark)t.set(u,x);}}.bind(this));this.$MercuryRoger1[r]=s.sort(function(t,u){return t.watermark-u.watermark;});}q&&this.inform('change',q);}.bind(this));this.$MercuryRoger4.subscribe('invalidate-global-state',function(){this.$MercuryRoger6();}.bind(this));c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(p,q){var r={};for(var s in this.$MercuryRoger1)if(this.$MercuryRoger1.hasOwnProperty(s))r[s]=this.$MercuryRoger1[s].toObject();q.read_receipts={valid_receipts:r,bad_receipts:this.$MercuryRoger2};}.bind(this));}k.prototype.getSeenBy=function(o,p){if(!o)return [];var q=[],r=this.$MercuryRoger1[o.thread_id];if(!r)return q;r.forEach(function(s,t){if(m(o,s.watermark,t,p))q.push(t);});return q;};k.prototype.wasSeenByAll=function(o){if(!o)return false;var p=this.$MercuryRoger1[o.thread_id];if(!p)return false;return p.every(function(q,r){return m(o,q.watermark,r);});};k.prototype.getSeenTimestamps=function(o){var p=this.$MercuryRoger1[o];if(!p){p=c('immutable').OrderedMap();this.$MercuryRoger1[o]=p;}return p;};k.prototype.getSeenTimestamp=function(o,p){var q=this.$MercuryRoger1[o];return q?q.get(p):null;};k.prototype.$MercuryRoger6=function(){this.$MercuryRoger1={};this.$MercuryRoger2=[];};var l=new (c('MercurySingletonProvider'))(k);function m(o,p,q,r){return !!(p>=o.timestamp&&(o.status===undefined||o.status===j)&&(!r||q!=o.author));}function n(o){return c('mapObject')(o,function(p){return p.toJS();});}f.exports=k;}),null);
__d('MercuryDelayedRoger',['ArbiterMixin','LiveTimer','MercuryActionStatus','MercuryConfig','MercuryMessages','MercuryRoger','MercurySingletonProvider','MercuryThreadInformer','MercuryThreads','mixin','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){var h,i,j=c('MercuryConfig')['roger.seen_delay'];h=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;k.getForFBID=function(m){'use strict';return l.getForFBID(m);};k.get=function(){'use strict';return l.get();};function k(m){'use strict';i.constructor.call(this);this.$MercuryDelayedRoger9=function(event,n){var o={};for(var p in n)if(this.$MercuryDelayedRoger11(p))o[p]=true;Object.keys(o).forEach(function(q){return this.$MercuryDelayedRoger12(o);}.bind(this));}.bind(this);this.$MercuryDelayedRoger1=m;this.$MercuryDelayedRoger2=c('MercuryRoger').getForFBID(m);this.$MercuryDelayedRoger4={};this.$MercuryDelayedRoger5={};this.$MercuryDelayedRoger2.subscribe('change',function(n,o){for(var p in o)!this.$MercuryDelayedRoger5[p]&&this.$MercuryDelayedRoger8(p);}.bind(this));this.$MercuryDelayedRoger3=c('MercuryThreadInformer').getForFBID(m);this.$MercuryDelayedRoger6=c('MercuryMessages').getForFBID(m);this.$MercuryDelayedRoger7=c('MercuryThreads').getForFBID(m);this.$MercuryDelayedRoger3.subscribe('messages-received',this.$MercuryDelayedRoger9);this.$MercuryDelayedRoger3.subscribe('messages-reordered',this.$MercuryDelayedRoger9);this.$MercuryDelayedRoger3.subscribe('messages-updated',this.$MercuryDelayedRoger9);}k.prototype.getSeenBy=function(m,n){'use strict';if(this.$MercuryDelayedRoger5[m])return [];return this.$MercuryDelayedRoger2.getSeenBy(this.$MercuryDelayedRoger10(m),n);};k.prototype.wasSeenByAll=function(m){'use strict';if(this.$MercuryDelayedRoger5[m])return false;return this.$MercuryDelayedRoger2.wasSeenByAll(this.$MercuryDelayedRoger10(m));};k.prototype.$MercuryDelayedRoger10=function(m){'use strict';if(!this.$MercuryDelayedRoger4[m]){var n=this.$MercuryDelayedRoger7.getThreadMetaNow(m);if(n)this.$MercuryDelayedRoger4[m]={thread_id:m,author:n.participants[0],timestamp:n.timestamp};}return this.$MercuryDelayedRoger4[m];};k.prototype.$MercuryDelayedRoger11=function(m){'use strict';var n=false;this.$MercuryDelayedRoger6.getThreadMessagesRange(m,0,1,function(o){var p=o[0];if(!p)return;var q=p.timestamp;if(p.status===c('MercuryActionStatus').SUCCESS)q-=c('LiveTimer').getServerTimeOffset();var r=this.getSeenBy(m);if(this.$MercuryDelayedRoger5[m]){clearTimeout(this.$MercuryDelayedRoger5[m]);delete this.$MercuryDelayedRoger5[m];}var s=q+j,t=s-Date.now();if(t>0)this.$MercuryDelayedRoger5[m]=c('setTimeoutAcrossTransitions')(function(){delete this.$MercuryDelayedRoger5[m];this.$MercuryDelayedRoger8(m);}.bind(this),t);this.$MercuryDelayedRoger4[m]=p;var u=this.getSeenBy(m);if(r.length||u.length)n=true;}.bind(this));return n;};k.prototype.$MercuryDelayedRoger8=function(m){'use strict';var n={};n[m]=true;this.$MercuryDelayedRoger12(n);};k.prototype.$MercuryDelayedRoger12=function(m){'use strict';this.inform('state-changed',m);this.inform('change');};var l=new (c('MercurySingletonProvider'))(k);f.exports=k;}),null);
__d('MercuryDeliveryReceipts',['ArbiterMixin','Map','MercuryDispatcher','MercurySingletonProvider','mixin'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(l){'use strict';i.constructor.call(this);this.$MercuryDeliveryReceipts2=l;this.$MercuryDeliveryReceipts3=new (c('Map'))();this.$MercuryDeliveryReceipts1=c('MercuryDispatcher').getForFBID(this.$MercuryDeliveryReceipts2);this.$MercuryDeliveryReceipts1.subscribe('update-delivery',function(m,n){if(n.delivery_receipts)for(var o in n.delivery_receipts){var p=n.delivery_receipts[o],q=this.$MercuryDeliveryReceipts3.get(o)||0;if(p>q){this.$MercuryDeliveryReceipts3.set(o,p);this.informDeliveryStatusChanged(o);}}}.bind(this));}j.getForFBID=function(l){'use strict';return k.getForFBID(l);};j.get=function(){'use strict';return k.get();};j.prototype.informDeliveryStatusChanged=function(l){'use strict';var m=new (c('Map'))();m.set(l,true);this.inform('change',m);};j.prototype.getDeliveryTime=function(l){'use strict';return this.$MercuryDeliveryReceipts3.get(l)||0;};var k=new (c('MercurySingletonProvider'))(j);f.exports=j;}),null);
__d('MercuryDeliveryState',['MercuryConfig','MercuryIDs','MercuryServerRequests','MercurySingletonProvider','MercuryThreadIDMap','MercuryThreadInformer','PresencePrivacy','UserActivity','debounceAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryConfig').delivery_timeout||120000;i.getForFBID=function(k){return j.getForFBID(k);};i.get=function(){return j.get();};function i(k){this.$MercuryDeliveryState1=k;this.$MercuryDeliveryState2=c('MercuryServerRequests').getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState3=c('MercuryThreadInformer').getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState4=c('MercuryThreadIDMap').getForFBID(this.$MercuryDeliveryState1);this.$MercuryDeliveryState5=[];this.$MercuryDeliveryState6={};this.$MercuryDeliveryState3.subscribe('messages-received',this.$MercuryDeliveryState7.bind(this));c('UserActivity').subscribe(c('debounceAcrossTransitions')(this.$MercuryDeliveryState8,300,this));}i.prototype.$MercuryDeliveryState7=function(k,l){for(var m in l){var n=l[m];n.forEach(function(o){if(this.$MercuryDeliveryState9(o)){this.$MercuryDeliveryState5.push(o);this.$MercuryDeliveryState4.getServerIDFromClientID(m,function(p){if(!this.$MercuryDeliveryState6[p])this.$MercuryDeliveryState6[p]=[];this.$MercuryDeliveryState6[p].push(o.message_id);}.bind(this));}}.bind(this));}if(c('UserActivity').isActive(h))this.$MercuryDeliveryState8();};i.prototype.$MercuryDeliveryState8=function(){if(this.$MercuryDeliveryState5.length===0&&Object.keys(this.$MercuryDeliveryState6).length===0)return;var k=this.$MercuryDeliveryState5.map(function(l){return l.message_id;});if(k)this.$MercuryDeliveryState2.sendDeliveryReceipts(k,this.$MercuryDeliveryState6);this.$MercuryDeliveryState6={};this.$MercuryDeliveryState5=[];};i.prototype.$MercuryDeliveryState9=function(k){var l=k.author?c('MercuryIDs').getUserIDFromParticipantID(k.author):null;if(l===this.$MercuryDeliveryState1)return false;if(!k.is_unread)return false;if(!c('PresencePrivacy').allows(l))return false;return true;};var j=new (c('MercurySingletonProvider'))(i);f.exports=i;}),null);
__d('MercurySyncConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={ARBITER_EVENT_INVALID_STATE:'SYNC:INVALID_STATE',ARBITER_EVENT_INVALID_STATE_RETRY:'SYNC:INVALID_STATE_RETRY',ARBITER_EVENT_INVALID_STATE_RECOVER:'SYNC:INVALID_STATE_RECOVER'};f.exports=h;}),null);
__d('MercurySyncDeltaHolder',['Map'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$MercurySyncDeltaHolder1=new (c('Map'))();this.$MercurySyncDeltaHolder2=[];}h.prototype.peek=function(){this.$MercurySyncDeltaHolder2=this.$MercurySyncDeltaHolder2.sort(function(i,j){return i-j;});return this.$MercurySyncDeltaHolder2[0];};h.prototype.pop=function(){this.$MercurySyncDeltaHolder2=this.$MercurySyncDeltaHolder2.sort(function(k,l){return k-l;});if(this.$MercurySyncDeltaHolder2.length===0)return undefined;var i=this.$MercurySyncDeltaHolder2.shift(),j=this.$MercurySyncDeltaHolder1.get(i);this.$MercurySyncDeltaHolder1['delete'](i);return {seqID:i,delta:j};};h.prototype.push=function(i,j){if(this.$MercurySyncDeltaHolder1.has(i))return;this.$MercurySyncDeltaHolder1.set(i,j);this.$MercurySyncDeltaHolder2.push(i);};f.exports=h;}),null);
__d('MercuryProfileRanges',['idx'],(function a(b,c,d,e,f,g){'use strict';function h(i){if(!i.id&&i.i)return {id:i.i,offset:i.o,length:i.l};return i;}f.exports={extractFromDelta:function i(j){var k,l,m=(k=j)!=null?(l=k.data)!=null?l.prng:l:k;if(!m)return undefined;var n=[];try{n=JSON.parse(m);if(n.length>0)return n.map(h);}catch(o){}return n;}};}),null);
__d('MercurySyncNewMessageTransformer',['IrisProtocolMessageLifetime','MercuryActionType','MercuryConfig','MercuryIDs','MercuryMessageCustomizations','MercuryProfileRanges','MercuryTimestamp','MessagingTag'],(function a(b,c,d,e,f,g){'use strict';var h=function j(k){var l={};try{l=JSON.parse(k);}catch(m){}return l;};function i(j,k){var l=parseInt(k.messageMetadata.timestamp,10),m=c('MercuryTimestamp').getFormatedTimestamp(l),n=k.messageMetadata.skipBumpThread&&c('MercuryConfig').WWWMessengerSkipBumpThread,o=j!==k.messageMetadata.actorFbId,p=[];if(k.attachments)p=k.attachments.map(function(r){return r.mercury;});var q=k.messageMetadata.tags?k.messageMetadata.tags[0]:undefined;return {message_id:k.messageMetadata.messageId,threading_id:null,offline_threading_id:k.messageMetadata.offlineThreadingId,author:c('MercuryIDs').getParticipantIDFromUserID(k.messageMetadata.actorFbId),author_email:k.messageMetadata.actorFbId+'@facebook.com',ephemeral_ttl_mode:k.ttl?c('IrisProtocolMessageLifetime')[k.ttl]:0,timestamp:l,timestamp_absolute:m.absolute,timestamp_relative:m.relative,timestamp_datetime:m.relative,timestamp_time_passed:c('MercuryTimestamp').getTimeBucket(l),is_unread:o,is_forward:false,is_filtered_content:false,is_filtered_content_bh:false,is_filtered_content_account:false,is_filtered_content_quasar:false,is_filtered_content_invalid_app:false,forward_count:0,forward_message_ids:[],source:q,tags:k.messageMetadata.tags,is_spoof_warning:false,folder:c('MessagingTag').INBOX,thread_fbid:k.messageMetadata.threadKey.threadFbId,other_user_fbid:k.messageMetadata.threadKey.otherUserFbId,body:k.body!==undefined?k.body:'',html_body:null,subject:null,has_attachment:p.length>0,attachments:p,ranges:undefined,thread_id:null,action_type:c('MercuryActionType').USER_GENERATED_MESSAGE,is_from_iris:true,is_sponsored:!!(k.data&&k.data.is_sponsored&&k.data.is_sponsored==='true'),commerce_message_type:k.data?k.data.commerce_message_type:null,customizations:k.data&&k.data.customization?c('MercuryMessageCustomizations').parseCustomizations(k.data.customization):null,platform_xmd:k.data&&k.data.platform_xmd?k.data.platform_xmd:null,profile_ranges:c('MercuryProfileRanges').extractFromDelta(k),message_source:k.data&&k.data.message_source_data?h(k.data.message_source_data).message_source:null,skip_bump_thread:n,montage_reply_data:k.data&&k.data.montage_reply_data?h(k.data.montage_reply_data):null};}f.exports={transform:i};}),null);
__d('MercurySyncAdminTextMessageTransformer',['MercuryActionType','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j);k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={message_type:j.type,untypedData:j.untypedData};k.log_message_type=c('MercuryLogMessageType').GENERIC_ADMIN_TEXT;return k;}f.exports={transform:h};}),null);
__d('MercurySyncClientPayloadTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';function h(k){var l=k.payload;l=JSON.parse(String.fromCharCode.apply(null,l));var m=l&&l.deltas,n=m[0];if(n.deltaMessageReaction){return i(n.deltaMessageReaction);}else return j(n);}function i(k){var l=k.messageId,m=k.offlineThreadingId,n=k.reaction,o=k.senderId,p=k.userId,q=k.threadKey.threadFbId;return {action_type:c('MercuryActionType').REACTION_UPDATE,messageId:l,offlineThreadingId:m,reaction:decodeURIComponent(window.escape(n)),senderId:o,thread_fbid:q,userId:p};}function j(k){var l=k&&k.deltaPaymentPinProtectionStatusData,m=l&&l.threadKey&&l.threadKey.otherUserFbId,n=l&&l.isPinProtected,o=m?m.toString():'';return {action_type:c('MercuryActionType').IS_PIN_PROTECTED,thread_fbid:o,is_pin_protected:n};}f.exports={transform:h};}),null);
__d('MercurySyncDeliveryReceiptTransformer',[],(function a(b,c,d,e,f,g){'use strict';function h(i){return {delivery_receipts:[{other_user_fbid:i.threadKey.otherUserFbId?i.threadKey.otherUserFbId:'',thread_fbid:i.threadKey.threadFbId?i.threadKey.threadFbId:'',time:parseInt(i.deliveredWatermarkTimestampMs,10)}]};}f.exports={transform:h};}),null);
__d('MercurySyncMarkReadTransformer',['MercuryActionType','MercuryGlobalActionType','MessagingTag'],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i.folders&&i.folders.length>0)return i.folders.map(function(j){return {action_type:c('MercuryGlobalActionType').MARK_ALL_READ,action_id:null,folder:j,timestamp:parseInt(i.watermarkTimestamp,10)};});return i.threadKeys.map(function(j){return {action_type:c('MercuryActionType').CHANGE_READ_STATUS,other_user_fbid:j.otherUserFbId,thread_fbid:j.threadFbId,mark_as_read:true,timestamp:parseInt(i.watermarkTimestamp,10),folder:c('MessagingTag').INBOX};});}f.exports={transform:h};}),null);
__d('MercurySyncMarkUnreadTransformer',['MercuryActionType','MessagingTag'],(function a(b,c,d,e,f,g){'use strict';function h(i){return i.threadKeys.map(function(j){return {action_type:c('MercuryActionType').CHANGE_READ_STATUS,other_user_fbid:j.otherUserFbId,thread_fbid:j.threadFbId,mark_as_read:false,timestamp:parseInt(i.watermarkTimestamp,10),folder:c('MessagingTag').INBOX};});}f.exports={transform:h};}),null);
__d('MercurySyncMessageDeleteTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';function h(i){return {action_type:c('MercuryActionType').DELETE_MESSAGES,message_ids:i.messageIds,other_user_fbid:i.threadKey.otherUserFbId,thread_fbid:i.threadKey.threadFbId};}f.exports={transform:h};}),null);
__d('MercurySyncPagesManagerEventTransformer',['MercuryActionType','PagesMessagingEventType'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=JSON.parse(i.jsonBlob),k=j&&j.type;if(!k)return undefined;switch(k){case c('PagesMessagingEventType').FLAG:var l=!!(j&&j.flagData&&j.flagData.state),m={action_type:c('MercuryActionType').CHANGE_FLAG,mark_as_flag:l,mark_as_priority:null,other_user_fbid:i.threadKey.otherUserFbId,thread_fbid:i.threadKey.threadFbId};return m;case c('PagesMessagingEventType').PRIORITY_UPDATE:var n=!!(j&&j.priorityData&&j.priorityData.state),o={action_type:c('MercuryActionType').UPDATE_PRIORITY,mark_as_flag:null,mark_as_priority:n,other_user_fbid:i.threadKey.otherUserFbId,thread_fbid:i.threadKey.threadFbId};return o;default:return undefined;}}f.exports={transform:h};}),null);
__d('MercurySyncParticipantLeftGroupThreadTransformer',['MercuryActionType','MercuryIDs','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j);k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={removed_participants:[c('MercuryIDs').getParticipantIDFromUserID(j.leftParticipantFbId)]};k.log_message_type=c('MercuryLogMessageType').UNSUBSCRIBE;return k;}f.exports={transform:h};}),null);
__d('MercurySyncParticipantsAddedToGroupThreadTransformer',['MercuryActionType','MercuryIDs','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j);k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={added_participants:j.addedParticipants.map(function(l){return (c('MercuryIDs').getParticipantIDFromUserID(l.userFbId));})};k.log_message_type=c('MercuryLogMessageType').SUBSCRIBE;return k;}f.exports={transform:h};}),null);
__d('MercurySyncRTCEventLogTransformer',['MercuryActionType','MercuryIDs','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j),l=j.messageMetadata.actorFbId,m=l===i?j.messageMetadata.threadKey.otherUserFbId:i;k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={answered:j.duration>0,callee:c('MercuryIDs').getParticipantIDFromUserID(m),caller:c('MercuryIDs').getParticipantIDFromUserID(l)};k.log_message_type=c('MercuryLogMessageType').VIDEO_CALL;return k;}f.exports={transform:h};}),null);
__d('MercurySyncReadReceiptTransformer',[],(function a(b,c,d,e,f,g){'use strict';function h(i){var j={watermark:parseInt(i.watermarkTimestampMs,10),action:parseInt(i.actionTimestampMs,10)},k=i.threadKey.otherUserFbId||i.actorFbId,l=i.threadKey.otherUserFbId||i.threadKey.threadFbId,m={roger:{}};m.roger[l]={};m.roger[l][k]=j;return m;}f.exports={transform:h};}),null);
__d('MercurySyncReplaceMessageTransformer',['MercuryActionType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){j=Object.assign({},j.newMessage,j);return Object.assign(c('MercurySyncNewMessageTransformer').transform(i,j),{action_type:c('MercuryActionType').REPLACE_MESSAGE,replaced_message_id:j.replacedMessageId});}f.exports={transform:h};}),null);
__d('MercurySyncRtcCallDataTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.messageMetadata.threadKey&&i.messageMetadata.threadKey.threadFbId?i.messageMetadata.threadKey.threadFbId.toString():undefined,k=i.initiator&&i.initiator.userFbId?i.initiator.userFbId.toString():undefined;return {action_type:c('MercuryActionType').UPDATE_RTC_CALL_DATA,thread_fbid:j,call_state:i.callState,server_info_data:i.serverInfoData,initiator_fbid:k};}f.exports={transform:h};}),null);
__d('MercurySyncThreadActionTransformer',['MercuryActionType','MessagingThreadAction'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j={action_type:c('MercuryActionType').CHANGE_ARCHIVED_STATUS,thread_fbid:i.threadKey.threadFbId,other_user_fbid:i.threadKey.otherUserFbId,archived:i.action===c('MessagingThreadAction').ACTION_ARCHIVED};return j;}f.exports={transform:h};}),null);
__d('MercurySyncThreadAdminsAddToGroupTransformer',['MercuryActionType','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';function h(i){return {action_type:c('MercuryActionType').ADD_GROUP_ADMINS,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,added_admin_ids:i.addedAdmins.map(function(j){return c('MercuryIDs').getParticipantIDFromUserID(j.userFbId);})};}f.exports={transform:h};}),null);
__d('MercurySyncThreadAdminsRemovedFromGroupTransformer',['MercuryActionType','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';function h(i){return {action_type:c('MercuryActionType').REMOVE_GROUP_ADMINS,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,removed_admin_ids:i.removedAdminFbIds.map(function(j){return c('MercuryIDs').getParticipantIDFromUserID(j);})};}f.exports={transform:h};}),null);
__d('MercurySyncThreadApprovalModeTransformer',['MercuryActionType','MessengerApprovalModeTypes'],(function a(b,c,d,e,f,g){'use strict';function h(i){return {action_type:c('MercuryActionType').APPROVAL_MODE,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,approval_mode:c('MessengerApprovalModeTypes')[i.mode]};}f.exports={transform:h};}),null);
__d('MercurySyncThreadApprovalQueueTransformer',['MercuryActionType','MercuryIDs','MessengerApprovalQueueTypes'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('MercuryIDs').getParticipantIDFromUserID(i.recipientFbId);return {action_type:c('MercuryActionType').APPROVAL_QUEUE,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,removed_id:i.action===c('MessengerApprovalQueueTypes').REMOVED?j:null,added_id:i.action===c('MessengerApprovalQueueTypes').REQUESTED?j:null};}f.exports={transform:h};}),null);
__d('MercurySyncThreadDeleteTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';function h(i){return i.threadKeys.map(function(j){return {action_type:c('MercuryActionType').DELETE_THREAD,other_user_fbid:j.otherUserFbId,thread_fbid:j.threadFbId};});}f.exports={transform:h};}),null);
__d('MercurySyncThreadJoinableModeTransformer',['MercuryActionType','MessengerJoinableModeType'],(function a(b,c,d,e,f,g){'use strict';function h(i){return {action_type:c('MercuryActionType').JOINABLE_MODE,action_id:null,thread_fbid:i.messageMetadata.threadKey.threadFbId,joinable_mode:{mode:c('MessengerJoinableModeType')[i.mode],link:i.link}};}f.exports={transform:h};}),null);
__d('MercurySyncThreadMuteSettingsTransformer',['MercuryActionType'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j={action_type:c('MercuryActionType').CHANGE_MUTE_SETTINGS,thread_fbid:i.threadKey.threadFbId,other_user_fbid:i.threadKey.otherUserFbId,mute_until:parseInt(i.expireTime,10)};return j;}f.exports={transform:h};}),null);
__d('MercurySyncThreadNameTransformer',['MercuryActionType','MercuryLogMessageType','MercurySyncNewMessageTransformer'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=c('MercurySyncNewMessageTransformer').transform(i,j);k.action_type=c('MercuryActionType').LOG_MESSAGE;k.log_message_body=j.messageMetadata.adminText;k.log_message_data={name:j.name};k.log_message_type=c('MercuryLogMessageType').THREAD_NAME;return k;}f.exports={transform:h};}),null);
__d('MercurySyncDispatcher',['MercuryDelayedDispatcher','MercuryGlobalActionType','MercuryPayloadSource','MercuryServerPayloadPreprocessor','MercurySyncThreadAdminsAddToGroupTransformer','MercurySyncThreadAdminsRemovedFromGroupTransformer','MercurySyncAdminTextMessageTransformer','MercurySyncClientPayloadTransformer','MercurySyncDeliveryReceiptTransformer','MercurySyncMarkReadTransformer','MercurySyncMarkUnreadTransformer','MercurySyncMessageDeleteTransformer','MercurySyncNewMessageTransformer','MercurySyncReadReceiptTransformer','MercurySyncPagesManagerEventTransformer','MercurySyncParticipantLeftGroupThreadTransformer','MercurySyncParticipantsAddedToGroupThreadTransformer','MercurySyncRTCEventLogTransformer','MercurySyncThreadDeleteTransformer','MercurySyncThreadMuteSettingsTransformer','MercurySyncThreadNameTransformer','MercurySyncThreadActionTransformer','MercurySyncReplaceMessageTransformer','MercurySyncThreadJoinableModeTransformer','MercurySyncThreadApprovalModeTransformer','MercurySyncThreadApprovalQueueTransformer','MercurySyncRtcCallDataTransformer','MercurySyncDeltaTypes','MercurySingletonProvider','MontageActions'],(function a(b,c,d,e,f,g){'use strict';h.getForFBID=function(j){return i.getForFBID(j);};h.get=function(){return i.get();};function h(j){this.$MercurySyncDispatcher1=j;this.$MercurySyncDispatcher2=c('MercuryDelayedDispatcher').getForFBID(this.$MercurySyncDispatcher1);this.$MercurySyncDispatcher3=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercurySyncDispatcher1);}h.prototype.process=function(j){var k=void 0;switch(j['class']){case c('MercurySyncDeltaTypes').NewMessage:k=c('MercurySyncNewMessageTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ReplaceMessage:k=c('MercurySyncReplaceMessageTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').DeliveryReceipt:k=c('MercurySyncDeliveryReceiptTransformer').transform(j);this.$MercurySyncDispatcher3.handleUpdate(k);break;case c('MercurySyncDeltaTypes').MarkRead:k=c('MercurySyncMarkReadTransformer').transform(j);var l=false;for(var m=0;m<k.length;m++){var n=k[m];if(n.action_type===c('MercuryGlobalActionType').MARK_ALL_READ)l=true;}if(l)return;this.$MercurySyncDispatcher5(k);break;case c('MercurySyncDeltaTypes').MarkUnread:k=c('MercurySyncMarkUnreadTransformer').transform(j);this.$MercurySyncDispatcher5(k);break;case c('MercurySyncDeltaTypes').ParticipantLeftGroupThread:k=c('MercurySyncParticipantLeftGroupThreadTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ParticipantsAddedToGroupThread:k=c('MercurySyncParticipantsAddedToGroupThreadTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').RTCEventLog:k=c('MercurySyncRTCEventLogTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ThreadName:k=c('MercurySyncThreadNameTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ReadReceipt:k=c('MercurySyncReadReceiptTransformer').transform(j);this.$MercurySyncDispatcher3.handleUpdate(k);break;case c('MercurySyncDeltaTypes').AdminTextMessage:k=c('MercurySyncAdminTextMessageTransformer').transform(this.$MercurySyncDispatcher1,j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').MessageDelete:k=c('MercurySyncMessageDeleteTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ThreadAction:k=c('MercurySyncThreadActionTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ThreadDelete:k=c('MercurySyncThreadDeleteTransformer').transform(j);this.$MercurySyncDispatcher5(k);break;case c('MercurySyncDeltaTypes').AdminAddedToGroupThread:k=c('MercurySyncThreadAdminsAddToGroupTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').AdminRemovedFromGroupThread:k=c('MercurySyncThreadAdminsRemovedFromGroupTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ThreadMuteSettings:k=c('MercurySyncThreadMuteSettingsTransformer').transform(j);this.$MercurySyncDispatcher5([k]);break;case c('MercurySyncDeltaTypes').PagesManagerEvent:k=c('MercurySyncPagesManagerEventTransformer').transform(j);if(!k)return;this.$MercurySyncDispatcher5([k]);break;case c('MercurySyncDeltaTypes').JoinableMode:k=c('MercurySyncThreadJoinableModeTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ApprovalMode:k=c('MercurySyncThreadApprovalModeTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ApprovalQueue:k=c('MercurySyncThreadApprovalQueueTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').ClientPayload:k=c('MercurySyncClientPayloadTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').GenieMessage:k=c('MercurySyncNewMessageTransformer').transform(this.$MercurySyncDispatcher1,j.deltaNewMessage);this.$MercurySyncDispatcher4(k);break;case c('MercurySyncDeltaTypes').MontageMessage:var o=j.newMessage.messageMetadata.actorFbId;if(o)c('MontageActions').requestUpdate(o);break;case c('MercurySyncDeltaTypes').RtcCallData:k=c('MercurySyncRtcCallDataTransformer').transform(j);this.$MercurySyncDispatcher4(k);break;default:break;}};h.prototype.$MercurySyncDispatcher4=function(j){var k=j.other_user_fbid||j.thread_fbid;this.$MercurySyncDispatcher2.handleUpdateWaitForThread({actions:[j],payload_source:c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE},k);};h.prototype.$MercurySyncDispatcher5=function(j){this.$MercurySyncDispatcher3.handleUpdate({actions:j,payload_source:c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE});};var i=new (c('MercurySingletonProvider'))(h);f.exports=h;}),null);
__d('MercurySyncDataFetcherImpl',['Promise','AsyncRequest','MessagingConfig','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';var h=c('MessagingConfig').syncFetchRequestTimeoutMs;function i(k){return new (c('Promise'))(function(l,m){j(k,l,m,0);});}function j(k,l,m,n){if(n>c('MessagingConfig').syncFetchRetries){m();return;}var o=n===0?0:c('MessagingConfig').syncFetchInitialTimeoutMs*Math.pow(c('MessagingConfig').syncFetchTimeoutMultiplier,n);c('setTimeoutAcrossTransitions')(function(){var p=false,q=function r(){if(p)return;p=true;j(k,l,m,n+1);};new (c('AsyncRequest'))().setURI(k).setHandler(function(r){p=true;l(r);}).setErrorHandler(q).setTimeoutHandler(h,q).setAllowCrossPageTransition(true).send();},o);}f.exports={fetch:i};}),null);
__d('MercurySyncDataFetcher',['Promise','LogHistory','MessagingConfig','MercurySyncDataFetcherImpl','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';var h=c('LogHistory').getInstance('mercury_sync_data_fetcher');function i(){var l=0;for(var m=0;m<c('MessagingConfig').syncFetchRetries;m++){var n=m===0?0:c('MessagingConfig').syncFetchInitialTimeoutMs*Math.pow(c('MessagingConfig').syncFetchTimeoutMultiplier,m);l+=n+c('MessagingConfig').syncFetchRequestTimeoutMs;}return l;}var j=i();function k(l){return new (c('Promise'))(function(m,n){c('MercurySyncDataFetcherImpl').fetch(l).done(m,n);c('setTimeoutAcrossTransitions')(function(){h.error('fetch_timeout',JSON.stringify({timeout:j,uri:l.toString()}));n();},j);});}f.exports={fetch:k,getMaxTimeoutMs:i};}),null);
__d("XMercuryFetchMessageController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/fetch_message\/",{other_user_or_thread_fbid:{type:"Int",required:true},mid:{type:"String",required:true}});}),null);
__d("XMercuryInvalidateGlobalStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/invalidate_global_state\/",{});}),null);
__d("XMercuryInvalidateThreadStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/mercury\/invalidate_thread_state\/",{other_user_or_thread_fbid:{type:"Int",required:true},num_messages:{type:"Int",required:true}});}),null);
__d('MercurySyncDFFDataFetcher',['Promise','ActorURI','AsyncRequest','MercuryMessages','MercuryThreads','MercuryThreadIDMap','MercurySingletonProvider','MercurySyncDataFetcher','XMercuryFetchMessageController','XMercuryInvalidateGlobalStateController','XMercuryInvalidateThreadStateController'],(function a(b,c,d,e,f,g){'use strict';function h(j){this.$MercurySyncDFFDataFetcher1=j;this.__messages=c('MercuryMessages').getForFBID(this.$MercurySyncDFFDataFetcher1);this.__threads=c('MercuryThreads').getForFBID(this.$MercurySyncDFFDataFetcher1);this.__threadIDMap=c('MercuryThreadIDMap').getForFBID(this.$MercurySyncDFFDataFetcher1);}h.getForFBID=function(j){return i.getForFBID(j);};h.get=function(){return i.get();};h.prototype.fetchInvalidateGlobalState=function(){var j=c('XMercuryInvalidateGlobalStateController').getURIBuilder().getURI(),k=c('ActorURI').create(j,this.$MercurySyncDFFDataFetcher1);return c('MercurySyncDataFetcher').fetch(k);};h.prototype.fetchInvalidateThreadState=function(j,k){var l=11,m=3,n=j||k,o=this.__threadIDMap.getClientIDFromServerIDNow(n);if(!o)return c('Promise').resolve({getPayload:function s(){return {};}});var p=m+this.__messages.getCurrentlyLoadedMessages(o).length,q=c('XMercuryInvalidateThreadStateController').getURIBuilder().setInt('other_user_or_thread_fbid',n).setInt('num_messages',Math.max(p,l)).getURI(),r=c('ActorURI').create(q,this.$MercurySyncDFFDataFetcher1);return c('MercurySyncDataFetcher').fetch(r);};h.prototype.fetchInvalidateMessage=function(j,k,l){var m=c('XMercuryFetchMessageController').getURIBuilder().setInt('other_user_or_thread_fbid',j||k).setString('mid',l).getURI(),n=c('ActorURI').create(m,this.$MercurySyncDFFDataFetcher1);return c('MercurySyncDataFetcher').fetch(n);};var i=new (c('MercurySingletonProvider'))(h);f.exports=h;}),null);
__d('MercurySyncForcedFetchHandler',['Promise','MercurySingletonProvider','MercurySyncDFFDataFetcher','MercuryMessages','MercuryThreadIDMap'],(function a(b,c,d,e,f,g){'use strict';function h(k){return {getPayload:function l(){return {sequence_id:k};}};}i.getForFBID=function(k){return j.getForFBID(k);};i.get=function(){return j.get();};function i(k){this.$MercurySyncForcedFetchHandler1=k;this.$MercurySyncForcedFetchHandler2=c('MercuryMessages').getForFBID(this.$MercurySyncForcedFetchHandler1);this.$MercurySyncForcedFetchHandler3=c('MercuryThreadIDMap').getForFBID(this.$MercurySyncForcedFetchHandler1);this.$MercurySyncForcedFetchHandler4=c('MercurySyncDFFDataFetcher').getForFBID(this.$MercurySyncForcedFetchHandler1);}i.prototype.processMessageDFF=function(k,l,m,n){if(n){var o=l.otherUserFbId!==undefined?l.otherUserFbId.toString():l.threadFbId.toString(),p=this.$MercurySyncForcedFetchHandler3.getClientIDFromServerIDNow(o);if(p===undefined)return c('Promise').resolve(h(k));var q=this.$MercurySyncForcedFetchHandler2.getMessagesFromIDs([m]);if(q.length===0)return c('Promise').resolve(h(k));}return this.$MercurySyncForcedFetchHandler4.fetchInvalidateMessage(l.otherUserFbId,l.threadFbId,m);};i.prototype.processThreadDFF=function(k,l,m){if(m){var n=l.otherUserFbId!==undefined?l.otherUserFbId.toString():l.threadFbId.toString(),o=this.$MercurySyncForcedFetchHandler3.getClientIDFromServerIDNow(n);if(o===undefined)return c('Promise').resolve(h(k));}return this.$MercurySyncForcedFetchHandler4.fetchInvalidateThreadState(l.otherUserFbId,l.threadFbId);};i.prototype.processGlobalDFF=function(){return this.$MercurySyncForcedFetchHandler4.fetchInvalidateGlobalState();};var j=new (c('MercurySingletonProvider'))(i);f.exports=i;}),null);
__d('MercurySyncDeltaHandler',['invariant','Arbiter','ChannelConstants','LogHistory','MercuryConfig','MessagingConfig','MercuryDelayedDispatcher','MercuryPayloadSource','MercurySyncConstants','MercurySyncDeltaHolder','MercurySyncDeltaTypes','MercurySyncDispatcher','MercurySyncForcedFetchHandler','MercurySyncHolesTypedLogger','MercuryServerPayloadPreprocessor','MercurySyncTopicType','MercurySingletonProvider'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('LogHistory').getInstance('mercury_sync_delta_handler'),j=c('MessagingConfig').syncFetchRetries||0;k.getForFBID=function(m){return l.getForFBID(m);};k.get=function(){return l.get();};function k(m){this.$MercurySyncDeltaHandler1=m;this.$MercurySyncDeltaHandler2=c('MercurySyncDispatcher').getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler4=c('MercurySyncForcedFetchHandler').getForFBID(this.$MercurySyncDeltaHandler1);this.__payloadPreprocessor=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercurySyncDeltaHandler1);this.__delayedDispatcher=c('MercuryDelayedDispatcher').getForFBID(this.$MercurySyncDeltaHandler1);this.$MercurySyncDeltaHandler5=new (c('MercurySyncDeltaHolder'))();this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler7=[];this.$MercurySyncDeltaHandler3=0;this.$MercurySyncDeltaHandler11=0;i.debug('constructor',JSON.stringify({fbid:this.$MercurySyncDeltaHandler1}));c('Arbiter').subscribe('MercurySyncDeltaHandler/initSeqID',function(n,o){i.debug('initSeqID',JSON.stringify(o));var p=o&&o.seqID,q=o&&o.fbid;if(!q)return;if(q!==this.$MercurySyncDeltaHandler1)return;if(p){this.$MercurySyncDeltaHandler3=p;}else this.$MercurySyncDeltaHandler3=0;this.$MercurySyncDeltaHandler12();}.bind(this));}k.prototype.$MercurySyncDeltaHandler12=function(){i.debug('setUpSubscriptionsToRealTimeUpdates',JSON.stringify({fbid:this.$MercurySyncDeltaHandler1}));this.$MercurySyncDeltaHandler9=c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('delta'),function(m,n){var o=n&&n.obj&&n.obj.queue;if(o)if(o.toString()!==this.$MercurySyncDeltaHandler1)return;var p=n&&n.obj&&n.obj.delta,q=n&&n.obj&&n.obj.iseq;if(!p||!q)return;this.$MercurySyncDeltaHandler13(q,c('MercurySyncTopicType').DELTA);this.$MercurySyncDeltaHandler14(q,p);this.$MercurySyncDeltaHandler5.push(q,p);this.$MercurySyncDeltaHandler15();}.bind(this));this.$MercurySyncDeltaHandler10=c('Arbiter').subscribe(c('ChannelConstants').getArbiterType('deltaflowreject'),function(m,n){var o=n&&n.obj&&n.obj.queue;if(o)if(o.toString()!==this.$MercurySyncDeltaHandler1)return;c('Arbiter').unsubscribe(this.$MercurySyncDeltaHandler9);c('Arbiter').unsubscribe(this.$MercurySyncDeltaHandler8);c('Arbiter').unsubscribe(this.$MercurySyncDeltaHandler10);c('Arbiter').inform(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE);}.bind(this));this.$MercurySyncDeltaHandler8=c('Arbiter').subscribe(c('ChannelConstants').getArbiterType(c('ChannelConstants').FAKE_DFF),function(m,n){var o=n&&n.obj&&n.obj.queue;if(o&&o.toString()!==this.$MercurySyncDeltaHandler1)return;var p=n&&n.obj&&n.obj.delta;if(!p)return;this.$MercurySyncDeltaHandler7.push(p);this.$MercurySyncDeltaHandler15();}.bind(this));};k.prototype.$MercurySyncDeltaHandler15=function(){if(this.$MercurySyncDeltaHandler6)return;if(this.$MercurySyncDeltaHandler7.length>0){var m=this.$MercurySyncDeltaHandler7.shift();this.$MercurySyncDeltaHandler16(this.$MercurySyncDeltaHandler3,m);this.$MercurySyncDeltaHandler15();}var n=this.$MercurySyncDeltaHandler5.peek();if(!n)return;var o=n-this.$MercurySyncDeltaHandler3;if(o===1){var p=this.$MercurySyncDeltaHandler5.pop();if(!p)return;var q=p.seqID,r=p.delta;this.$MercurySyncDeltaHandler16(q,r);this.$MercurySyncDeltaHandler15();}else if(o>1){this.$MercurySyncDeltaHandler17();}else{this.$MercurySyncDeltaHandler5.pop();this.$MercurySyncDeltaHandler15();}};k.prototype.$MercurySyncDeltaHandler16=function(m,n){this.$MercurySyncDeltaHandler3=m;if(n['class']===c('MercurySyncDeltaTypes').ForcedFetch){i.debug('DFF',JSON.stringify(n));if(n.threadKey!==undefined&&n.messageId===undefined){this.$MercurySyncDeltaHandler18(m,n);}else if(n.threadKey!==undefined&&n.messageId!==undefined){this.$MercurySyncDeltaHandler19(m,n);}else this.$MercurySyncDeltaHandler20(m);}else this.$MercurySyncDeltaHandler2.process(n);};k.prototype.$MercurySyncDeltaHandler17=function(){i.warn('hole',JSON.stringify({$MercurySyncDeltaHandler3:this.$MercurySyncDeltaHandler3,nextSeqID:this.$MercurySyncDeltaHandler5.peek()}));var m=this.$MercurySyncDeltaHandler5.peek();!!m||h(0);var n=m-1;this.$MercurySyncDeltaHandler20(n);};k.prototype.$MercurySyncDeltaHandler21=function(m,n,o,p){!this.$MercurySyncDeltaHandler6||h(0);this.$MercurySyncDeltaHandler6=true;i.debug('_scheduleDataFetch:start',JSON.stringify({seqID:m}));n().done(function(q){i.debug('_scheduleDataFetch:success',JSON.stringify({seqID:m}));o(m,q);this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler15();}.bind(this),function(){i.error('_scheduleDataFetch:failure',JSON.stringify({seqID:m}));p(m);this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler15();}.bind(this));};k.prototype.$MercurySyncDeltaHandler20=function(m){this.$MercurySyncDeltaHandler21(undefined,function(){return this.$MercurySyncDeltaHandler4.processGlobalDFF();}.bind(this),function(n,o){var p=o.getPayload();this.__payloadPreprocessor.handleUpdate(p);if(p.sequence_id){i.debug('_initiateGlobalDFF:success',JSON.stringify({seqID:p.sequence_id}));this.$MercurySyncDeltaHandler3=p.sequence_id;}this.$MercurySyncDeltaHandler11=0;c('Arbiter').inform(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE_RECOVER);}.bind(this),function(){i.error('_initiateGlobalDFF:failure','');if(this.$MercurySyncDeltaHandler11>=j){c('Arbiter').unsubscribe(this.$MercurySyncDeltaHandler9);c('Arbiter').unsubscribe(this.$MercurySyncDeltaHandler10);c('Arbiter').unsubscribe(this.$MercurySyncDeltaHandler8);c('Arbiter').inform(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE);this.$MercurySyncDeltaHandler3=m;}else{this.$MercurySyncDeltaHandler11++;c('Arbiter').inform(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE_RETRY);i.debug('_initiateGlobalDFF:retry','');this.$MercurySyncDeltaHandler6=false;this.$MercurySyncDeltaHandler20(m);}}.bind(this));};k.prototype.$MercurySyncDeltaHandler18=function(m,n){this.$MercurySyncDeltaHandler21(m,function(){return this.$MercurySyncDeltaHandler4.processThreadDFF(m,n.threadKey,n.isLazy);}.bind(this),function(o,p){this.__payloadPreprocessor.handleUpdate(p.getPayload());this.$MercurySyncDeltaHandler3=o;}.bind(this),function(){i.error('_initiateThreadDFF:failure',JSON.stringify(n));var o=babelHelpers['extends']({},n);delete o.threadKey;this.$MercurySyncDeltaHandler3=m-1;this.$MercurySyncDeltaHandler5.push(m,o);}.bind(this));};k.prototype.$MercurySyncDeltaHandler19=function(m,n){this.$MercurySyncDeltaHandler21(m,function(){return this.$MercurySyncDeltaHandler4.processMessageDFF(m,n.threadKey,n.messageId,n.isLazy);}.bind(this),function(o,p){var q=p.getPayload(),r=q.other_user_fbid?q.other_user_fbid:q.thread_fbid,s=[babelHelpers['extends']({},q)],t=c('MercuryPayloadSource').CLIENT_CHANNEL_MESSAGE;this.__delayedDispatcher.handleUpdateWaitForThread({actions:s,payload_source:t},r);this.$MercurySyncDeltaHandler3=o;}.bind(this),function(){i.error('_initiateMessageDFF:failure',JSON.stringify(n));var o=babelHelpers['extends']({},n);delete o.messageId;this.$MercurySyncDeltaHandler3=m-1;this.$MercurySyncDeltaHandler5.push(m,o);}.bind(this));};k.prototype.$MercurySyncDeltaHandler13=function(m,n){var o=m-this.$MercurySyncDeltaHandler3;if(o!==1&&o!==0){if(!c('MercuryConfig').WWWSyncHolesLogging)return;new (c('MercurySyncHolesTypedLogger'))().setSeqID(m).setDifference(o).setTopicType(n).log();}};k.prototype.$MercurySyncDeltaHandler14=function(m,n){switch(n['class']){case c('MercurySyncDeltaTypes').NewMessage:i.debug('message_delta',JSON.stringify({seqID:m,threadKey:n.messageMetadata.threadKey,messageId:n.messageMetadata.messageId}));break;case c('MercurySyncDeltaTypes').ReadReceipt:i.debug('read_receipt_delta',JSON.stringify({seqID:m,threadKey:n.threadKey,actionTimestampMs:n.actionTimestampMs,watermarkTimestampMs:n.watermarkTimestampMs}));break;case c('MercurySyncDeltaTypes').DeliveryReceipt:i.debug('delivery_receipt_delta',JSON.stringify({seqID:m,deliveredWatermarkTimestampMs:n.deliveredWatermarkTimestampMs,messageIds:n.messageIds}));break;}};var l=new (c('MercurySingletonProvider'))(k);f.exports=k;}),null);
__d('MercurySyncEnvironment',['Arbiter','ChannelInitialData','CurrentUser','MercurySyncDeltaHandler'],(function a(b,c,d,e,f,g){'use strict';function h(){if(!c('ChannelInitialData').channelConfig)return;c('MercurySyncDeltaHandler').get();c('Arbiter').inform('MercurySyncDeltaHandler/initSeqID',{fbid:c('CurrentUser').getAccountID(),seqID:c('ChannelInitialData').channelConfig.sequenceId});}f.exports={setUp:h};}),null);
__d('MercuryUnreadState',['invariant','MercuryFolders','LogHistory','KeyedCallbackManager','MercuryActionType','MercuryDispatcher','MercuryGlobalActionType','MercurySingletonProvider','MercuryThreadlistConstants','MercuryThreadIDMap','MessagingTag','MercuryServerRequests','MercuryThreadInformer','MercuryThreads','arrayContains','createObjectFrom'],(function a(b,c,d,e,f,g,h){'use strict';var i=(c('MercuryFolders').getSupportedFolders()||[]).filter(function(p){return p!==c('MessagingTag').ACTION_ARCHIVED;}),j='unread_thread_hash',k='unseen_thread_list',l=c('MercuryThreadlistConstants').MAX_UNREAD_COUNT,m=c('LogHistory').getInstance('mercury_unread_state');n.getForFBID=function(p){return o.getForFBID(p);};n.get=function(){return o.get();};function n(p){this.$MercuryUnreadState1=p;this.$MercuryUnreadState2=c('MercuryServerRequests').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState3=c('MercuryThreadIDMap').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState4=c('MercuryThreadInformer').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState5=c('MercuryThreads').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState6=c('MercuryDispatcher').getForFBID(this.$MercuryUnreadState1);this.$MercuryUnreadState7={};this.$MercuryUnreadState8={};this.$MercuryUnreadState9={};this.$MercuryUnreadState10={};this.$MercuryUnreadState11={};i.forEach(function(q){this.$MercuryUnreadState9[q]=0;this.$MercuryUnreadState10[q]=false;this.$MercuryUnreadState11[q]=new (c('KeyedCallbackManager'))();}.bind(this));this.$MercuryUnreadState6.subscribe('update-unread',this.$MercuryUnreadState12.bind(this));this.$MercuryUnreadState6.subscribe('update-thread-ids',function(q,r){this.$MercuryUnreadState13(r);}.bind(this));}n.prototype.getUnreadCount=function(p){if(this.exceedsMaxCount(p)){m.error('unguarded_unread_count_fetch','{}');return 0;}return this.$MercuryUnreadState14(p);};n.prototype.exceedsMaxCount=function(p){return this.$MercuryUnreadState10[p]||this.$MercuryUnreadState14(p)>l;};n.prototype.markFolderAsRead=function(p){if(this.$MercuryUnreadState10[p]||this.$MercuryUnreadState14(p)>0)this.$MercuryUnreadState2.markFolderAsRead(p);};n.prototype.getIsThreadUnread=function(p,q){var r=q||c('MessagingTag').INBOX,s=this.$MercuryUnreadState15(r);return !!(s&&s[p]);};n.prototype.$MercuryUnreadState12=function(p,q){this.$MercuryUnreadState16(q);var r=q.global_actions||[];for(var s=0;s<r.length;s++){var t=r[s];if(t.action_type==c('MercuryGlobalActionType').MARK_ALL_READ)this.$MercuryUnreadState17(t.folder,t.timestamp);}};n.prototype.$MercuryUnreadState18=function(p,q){this.$MercuryUnreadState11[p].setResource(j,q);this.$MercuryUnreadState11[p].setResource(k,Object.keys(q));};n.prototype.$MercuryUnreadState19=function(p,q){var r=this.$MercuryUnreadState11[p].executeOrEnqueue(j,q),s=this.$MercuryUnreadState11[p].getUnavailableResources(r);if(s.length)this.$MercuryUnreadState2.fetchUnreadThreadIDs(p);};n.prototype.$MercuryUnreadState15=function(p){return this.$MercuryUnreadState11[p].getResource(j);};n.prototype.$MercuryUnreadState14=function(p){var q=this.$MercuryUnreadState11[p].getResource(k);if(q){return q.length;}else return this.$MercuryUnreadState9[p];};n.prototype.$MercuryUnreadState16=function(p){var q=void 0;(p.unread_thread_fbids||[]).forEach(function(r){q=r.folder;if(!this.$MercuryUnreadState20(q))return;var s=r.thread_fbids||[];s=s.concat(r.other_user_fbids||[]);var t=this.$MercuryUnreadState21(s);this.$MercuryUnreadState18(q,c('createObjectFrom')(t,true));if(t.length>l)this.$MercuryUnreadState10[q]=true;this.$MercuryUnreadState4.updatedUnreadState();}.bind(this));(p.message_counts||[]).forEach(function(r){if(r.unread_count===undefined)return;q=r.folder;if(r.unread_count>l){this.$MercuryUnreadState10[q]=true;this.$MercuryUnreadState18(q,{});this.$MercuryUnreadState4.updatedUnreadState();}else{this.$MercuryUnreadState9[q]=r.unread_count;if(this.$MercuryUnreadState9[q]===0)this.$MercuryUnreadState18(q,{});this.$MercuryUnreadState4.updatedUnreadState();}}.bind(this));(p.actions||[]).forEach(function(r){if(r.is_forward)return;var s=c('MercuryActionType'),t=r.other_user_fbid?r.other_user_fbid:r.thread_fbid,u=r.thread_id?r.thread_id:t;if(r.action_type==s.DELETE_THREAD){i.forEach(function(w){this.$MercuryUnreadState22(w,u);}.bind(this));}else if(r.action_type==s.CHANGE_ARCHIVED_STATUS||r.action_type==s.CHANGE_FOLDER){var v=this.$MercuryUnreadState5.getThreadMetaNow(r.thread_id);!!v||h(0);q=c('MercuryFolders').getFromMeta(v);if(this.$MercuryUnreadState20(q)&&v.unread_count>0)this.$MercuryUnreadState23(q,u);i.forEach(function(w){if(w!=q)this.$MercuryUnreadState22(w,u);}.bind(this));}else{q=this.$MercuryUnreadState24(r);if(!this.$MercuryUnreadState20(q))return;if(r.action_type==s.CHANGE_READ_STATUS){if(r.mark_as_read){this.$MercuryUnreadState22(q,u,r.timestamp);}else this.$MercuryUnreadState23(q,u,r.timestamp);}else if(r.action_type==s.USER_GENERATED_MESSAGE||r.action_type==s.LOG_MESSAGE)if(r.is_unread)this.$MercuryUnreadState23(q,u,r.timestamp);}}.bind(this));};n.prototype.$MercuryUnreadState23=function(p,q,r){if(this.$MercuryUnreadState10[p])return;this.$MercuryUnreadState19(p,function(s){var t=this.$MercuryUnreadState7[p]||0,u=this.$MercuryUnreadState8[q]||0,v=r||Number.POSITIVE_INFINITY;if(v>=t&&v>=u&&!s[q]){s[q]=r||0;this.$MercuryUnreadState18(p,s);this.$MercuryUnreadState4.updatedUnreadState();}}.bind(this));};n.prototype.$MercuryUnreadState22=function(p,q,r){if(this.$MercuryUnreadState10[p])return;this.$MercuryUnreadState19(p,function(s){if(r){var t=this.$MercuryUnreadState8[q];if(!t||t<r)this.$MercuryUnreadState8[q]=r;}var u=s[q];if(r&&typeof u=='number'&&r<u)return;if(q in s){delete s[q];this.$MercuryUnreadState18(p,s);this.$MercuryUnreadState4.updatedUnreadState();}}.bind(this));};n.prototype.$MercuryUnreadState17=function(p,q){this.$MercuryUnreadState10[p]=false;this.$MercuryUnreadState18(p,{});this.$MercuryUnreadState7[p]=Math.max(this.$MercuryUnreadState7[p]||0,q||0);this.$MercuryUnreadState4.updatedUnreadState();};n.prototype.$MercuryUnreadState21=function(p){return p.map(this.$MercuryUnreadState3.convertThreadIDIfAvailable,this.$MercuryUnreadState3);};n.prototype.$MercuryUnreadState13=function(p){i.forEach(function(q){var r=this.$MercuryUnreadState15(q);if(!r)return;for(var s in p){var t=p[s];if(r[s]){r[t]=r[s];delete r[s];}}this.$MercuryUnreadState18(q,r);}.bind(this));};n.prototype.$MercuryUnreadState24=function(p){var q=p.thread_id?this.$MercuryUnreadState5.getThreadMetaNow(p.thread_id):null;return q?c('MercuryFolders').getFromMeta(q):p.folder?p.folder:'';};n.prototype.$MercuryUnreadState20=function(p){return c('arrayContains')(i,p);};var o=new (c('MercurySingletonProvider'))(n);f.exports=n;}),null);
__d('MessengerComposerActions',['MessengerDispatcher','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({ADD_TOKEN:null,REMOVE_TOKEN:null,FOCUS_COMPOSER:null,FOCUS_TYPEAHEAD:null,EXIT_COMPOSE_STATE:null}),i={Types:h,addToken:function j(k){c('MessengerDispatcher').dispatch({type:h.ADD_TOKEN,entry:k});},moveDraftToNextThread:function j(k){c('MessengerDispatcher').dispatch({type:h.MOVE_DRAFT,threadID:k});},removeToken:function j(k){c('MessengerDispatcher').dispatch({type:h.REMOVE_TOKEN,entry:k});},focusComposer:function j(){c('MessengerDispatcher').dispatch({type:h.FOCUS_COMPOSER});},focusTypeahead:function j(){c('MessengerDispatcher').dispatch({type:h.FOCUS_TYPEAHEAD});},exitComposeState:function j(){c('MessengerDispatcher').dispatch({type:h.EXIT_COMPOSE_STATE});}};f.exports=i;}),null);
__d('MessengerComposerState',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').Record({step:null,recipients:c('immutable').List()});f.exports=h;}),null);
__d('MessengerComposerSteps',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({NULL:null,SELECT_RECIPIENTS:null,COMPOSE:null});f.exports=h;}),null);
__d('MessengerComposerStore',['EditorState','immutable','MessengerActions','MessengerComposerActions','MessengerComposerState','MessengerComposerSteps','MessengerConstants','MessengerDispatcher','MessengerEditorStateManager','MessengerStateStore','MessengerStore','MessengerView'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=new (c('MessengerComposerState'))({step:c('MessengerComposerSteps').NULL});h=babelHelpers.inherits(k,c('MessengerStore'));i=h&&h.prototype;function k(){i.constructor.call(this);this.$MessengerComposerStore1=j;}k.prototype.getState=function(){return this.$MessengerComposerStore1;};k.prototype.__onDispatch=function(l){c('MessengerDispatcher').waitFor([c('MessengerStateStore').getDispatchToken()]);var m=c('MessengerStateStore').getState().detailView,n=this.$MessengerComposerStore1.recipients,o=this.$MessengerComposerStore1.step,p=null,q=null;switch(l.type){case c('MessengerComposerActions').Types.ADD_TOKEN:if(n.some(function(v){return (v.getUniqueID()===l.entry.getUniqueID());}))break;p=n.push(l.entry);break;case c('MessengerComposerActions').Types.REMOVE_TOKEN:var r=l.entry.getUniqueID(),s=n.findIndex(function(v){return v.getUniqueID()===r;});if(s!==-1)p=n['delete'](s);break;case c('MessengerComposerActions').Types.FOCUS_COMPOSER:if(o===c('MessengerComposerSteps').SELECT_RECIPIENTS)q=c('MessengerComposerSteps').COMPOSE;break;case c('MessengerComposerActions').Types.FOCUS_TYPEAHEAD:if(o===c('MessengerComposerSteps').COMPOSE)q=c('MessengerComposerSteps').SELECT_RECIPIENTS;break;case c('MessengerActions').Types.REPLACE_STATE:var t=c('MessengerStateStore').getPrevState().detailView;if(t!==c('MessengerView').DETAIL.COMPOSE&&m===c('MessengerView').DETAIL.COMPOSE)q=c('MessengerComposerSteps').SELECT_RECIPIENTS;break;case c('MessengerComposerActions').Types.MOVE_DRAFT:c('MessengerEditorStateManager').set(l.threadID,c('MessengerEditorStateManager').get(c('MessengerConstants').NEW_THREAD_KEY));break;case c('MessengerComposerActions').Types.EXIT_COMPOSE_STATE:var u=c('EditorState').createEmpty();setTimeout(function(){c('MessengerEditorStateManager').set(c('MessengerConstants').NEW_THREAD_KEY,c('EditorState').forceSelection(u,u.getSelection()));},0);q=c('MessengerComposerSteps').NULL;p=c('immutable').List();break;}if(p||q){this.$MessengerComposerStore1=new (c('MessengerComposerState'))({step:q||o,recipients:p||n});this.emitChange();}};f.exports=new k();}),null);
__d('MessengerMDotMeReferralStore',['MessengerActions','MessengerStore'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('MessengerStore'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);this.$MessengerMDotMeReferralStore1={refCode:null,refThreadID:null};}j.prototype.getState=function(){'use strict';return this.$MessengerMDotMeReferralStore1;};j.prototype.__onDispatch=function(k){'use strict';switch(k.type){case c('MessengerActions').Types.UPDATE_MDOT_ME:this.$MessengerMDotMeReferralStore1.refCode=k.refCode;this.$MessengerMDotMeReferralStore1.refThreadID=k.refThreadID;this.emitChange();}};f.exports=new j();}),null);
__d('FBRTCCallSummaryUploader',['Banzai','FBRTCCallSummary','FBRTCCallSummaryStore'],(function a(b,c,d,e,f,g){var h={init:function i(){var j=c('FBRTCCallSummaryStore').getInstance();c('Banzai').subscribe(c('Banzai').SEND,function(){c('FBRTCCallSummary').logSavedSummaries(j);});}};f.exports=h;}),null);
__d('MessengerRTCMessageHandler',['Bootloader','FBRTCCallSummaryUploader','FBRTCMessageListener','FBRTCSupport'],(function a(b,c,d,e,f,g){'use strict';var h=null,i=null,j={init:function m(){if(c('FBRTCSupport').isReceiveWebrtcSupported()){c('FBRTCCallSummaryUploader').init();c('FBRTCMessageListener').init(false);c('FBRTCMessageListener').once('messageReceived',function(n){k();});c('FBRTCMessageListener').once('multiwayMessageReceived',function(n){l(n);});}}};function k(){if(!h)c('Bootloader').loadModules(["FBRTCIncomingCallController","MessengerRTCIncomingDialogController","MessengerRTCMissedCallDialogController","MessengerRTCUnsupportedBrowserDialogController"],function(m,n,o,p){h=new m(n,p,o);c('FBRTCMessageListener').setMessageHandler(h.onMessageReceived,h);},'MessengerRTCMessageHandler');}function l(m){if(!i)c('Bootloader').loadModules(["FBRTCGroupCallIncomingController","MessengerRTCGroupCallIncomingDialogController"],function(n,o){i=new n(o);c('FBRTCMessageListener').setMultiwayMessageHandler(i.onMessageReceived,i);i.onMessageReceived(m);},'MessengerRTCMessageHandler');}f.exports=j;}),null);
__d('MercurySearchContextResults',['KeyedCallbackManager','MercuryAPIArgsSource','MercuryIDs','MercuryThreadlistConstants','MercuryThreadIDMap','RangedCallbackManager','MercuryServerDispatcher','MercuryServerPayloadPreprocessor','WebMessengerConstants'],(function a(b,c,d,e,f,g){var h=c('MercuryThreadIDMap').get(),i=c('MercuryServerPayloadPreprocessor').get(),j=new (c('KeyedCallbackManager'))(),k=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_COUNT,l=c('WebMessengerConstants').MORE_SEARCH_CONTEXT_COUNT,m={getSearchContext:function q(r,s,t){if(r){var u=j.executeOrEnqueue(r,function(z){var aa=o(z,r);t(aa);}),v=j.getUnavailableResources(u);if(v.length){var w={message_id:r,limit:k+1},x=h.getServerIDFromClientIDNow(s),y=c('MercuryIDs').tokenize(s);if(y.type=='user'){w.other_user_fbid=x;}else w.thread_fbid=x;p(w);}return u;}},getMoreSearchContext:function q(r,s,t,u){if(r){var v=j.getResource(r);if(v){var w=t==c('WebMessengerConstants').MORE_SEARCH_CONTEXT_UP?v.up_message_ids:v.down_message_ids,x=w.getCurrentArraySize()+l,y=w.executeOrEnqueue(0,x,function(){var da=o(v,r);u(da);}),z=w.getUnavailableResources(y);if(z.length){var aa={message_id:r,limit:x,direction:t},ba=h.getServerIDFromClientIDNow(s),ca=c('MercuryIDs').tokenize(s);if(ca.type=='user'){aa.other_user_fbid=ba;}else aa.thread_fbid=ba;p(aa);}return y;}}},handleUpdate:function q(r){if(r.mercury_payload)i.handleUpdate(r.mercury_payload);var s=r.search_context||{};for(var t in s){var u=s[t],v=u.other_user_fbid||u.thread_fbid,w=h.getClientIDFromServerIDNow(v),x=!j.getResource(t),y=x?{thread_id:w,up_message_ids:new (c('RangedCallbackManager'))(),down_message_ids:new (c('RangedCallbackManager'))()}:j.getResource(t),z=x?k+1:l;if(u.up_message_ids&&(y.up_message_ids.getCurrentArraySize()===0||u.up_message_ids.length>=y.up_message_ids.getCurrentArraySize()))n(y.up_message_ids,u.up_message_ids,z);if(u.down_message_ids&&(y.down_message_ids.getCurrentArraySize()===0||u.down_message_ids.length>=y.down_message_ids.getCurrentArraySize()))n(y.down_message_ids,u.down_message_ids,z);if(x)j.setResource(t,y);}},unsubscribe:function q(r,s,t){if(s){var u=j.getResource(s);if(u){if(t==c('WebMessengerConstants').MORE_SEARCH_CONTEXT_UP){u.up_message_ids.unsubscribe(r);}else u.down_message_ids.unsubscribe(r);}else j.unsubscribe(r);}}};function n(q,r,s){var t=q.getCurrentArraySize(),u=r.length<t+s;if(r.length){q.removeAllResources();q.addResourcesWithoutSorting(r,0);}if(u)q.setReachedEndOfArray();}function o(q,r){var s=q.up_message_ids.hasReachedEndOfArray(),t=q.up_message_ids.getAllResources();if(!s)t.shift();var u=q.down_message_ids.hasReachedEndOfArray(),v=q.down_message_ids.getAllResources();if(!u)v.pop();return {thread_id:q.thread_id,message_id:r,up_message_ids:t,up_exhausted:s,down_message_ids:v,down_exhausted:u};}function p(q){q.client=c('MercuryAPIArgsSource').WEBMESSENGER;c('MercuryServerDispatcher').trySend('/ajax/mercury/search_context.php',q);}c('MercuryServerDispatcher').registerEndpoints({'/ajax/mercury/search_context.php':{mode:c('MercuryServerDispatcher').IMMEDIATE,handler:m.handleUpdate}});f.exports=m;}),null);
__d('MercurySearchSnippetResults',['MessengerEnvironment','MercuryAPIArgsSource','MercuryIDs','MercurySingletonMixin','MercuryThreadlistConstants','MercuryThreadIDMap','RangedCallbackManager','MercuryServerDispatcher','MercuryServerPayloadPreprocessor'],(function a(b,c,d,e,f,g){var h=c('MessengerEnvironment').messengerui?c('MercuryAPIArgsSource').MESSENGER:c('MercuryAPIArgsSource').WEBMESSENGER,i={},j={},k=null,l=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_COUNT,m=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_LIMIT,n=c('MercuryThreadlistConstants').WEBMESSENGER_SEARCH_SNIPPET_MORE;function o(x){'use strict';this.$MercurySearchSnippetResults1=x;this.$MercurySearchSnippetResults2=c('MercuryServerPayloadPreprocessor').getForFBID(x);c('MercuryServerDispatcher').registerEndpoints({'/ajax/mercury/search_snippets.php':{request_user_id:x,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(y){this.handleUpdate(y);}.bind(this)}});this.$MercurySearchSnippetResults3=c('MercuryThreadIDMap').getForFBID(x);}o.prototype.getFBID=function(){'use strict';return this.$MercurySearchSnippetResults1;};o.prototype.getThreadIDMap=function(){'use strict';return this.$MercurySearchSnippetResults3;};o.prototype.getAllThreadSearchResults=function(x,y){'use strict';if(x)p(this.$MercurySearchSnippetResults1,x,m,0,y);};o.prototype.getAllThreadSearchMoreResults=function(x,y){'use strict';if(x){var z=i[x];if(z){var aa=z.getCurrentArraySize();p(this.$MercurySearchSnippetResults1,x,n,aa,y);}}};o.prototype.getSingleThreadSearchResults=function(x,y,z){'use strict';if(!x||!y)return;q.call(this,x,y,l,0,z);};o.prototype.getSingleThreadSearchMoreResults=function(x,y,z){'use strict';if(!x||!y)return;if(!j[y])return;var aa=j[y][x];if(aa){var ba=aa.num_total_snippets,ca=aa.snippets_cbm.getCurrentArraySize(),da=ba-ca;if(da>0){var ea=da>n?n:da;q.call(this,x,y,ea,ca,z);}}};o.prototype.countSnippetsMatchingQueryInThread=function(x,y){'use strict';var z=j[y][x];if(z)return z.num_total_snippets;};o.prototype.findIndexOfSnippet=function(x,y,z,aa){'use strict';var ba=v(x,y),ca=ba.getAllResources();for(var da=0;da<ca.length;da++)if(z===ca[da].message_id)return da;};o.prototype.findSnippetAtIndex=function(x,y,z,aa){'use strict';s(x,y,z);t.call(this,x,y,z,aa);};o.prototype.handleUpdate=function(x){'use strict';if(x.mercury_payload)this.$MercurySearchSnippetResults2.handleUpdate(x.mercury_payload);var y=x.search_snippets||{};Object.keys(y).filter(function(oa){return !!y[oa];}).forEach(function(oa){Object.keys(y[oa]).forEach(function(pa){if(!y[oa][pa].snippets)return;y[oa][pa].snippets.forEach(function(qa){qa.matched_keywords=r(qa.matched_keywords);});});});var z=x.offset,aa=[];for(var ba in y){var ca=y[ba];for(var da in ca){var ea=ca[da],fa=x.other_user_fbid||x.thread_fbid,ga=this.$MercurySearchSnippetResults3.getClientIDFromServerIDNow(da),ha=ea.snippets,ia=v(ba,ga),ja=ia.getCurrentArraySize();if(!fa){aa.push(ga);if(ja)continue;}else if(z!=ja)continue;var ka=j[ga][ba];ka.num_total_snippets=ea.num_total_snippets;var la=ha?ha.length:0;if(la>0)ia.addResourcesWithoutSorting(ha,ja);if(!fa||x.limit>la)if(ia.getCurrentArraySize()==ka.num_total_snippets)ia.setReachedEndOfArray();}if(!fa){var ma=u(ba),na=ma.getCurrentArraySize();if(z==na){ma.addResourcesWithoutSorting(aa,na);if(x.limit>aa.length)ma.setReachedEndOfArray();}}}};function p(x,y,z,aa,ba){if(k)if(!k.thread_id){var ca=u(k.query);ca.unsubscribe(k.subscriber_id);k=null;}var ca=u(y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(ha){var ia={};for(var ja=0;ja<ha.length;ja++){var ka=ha[ja],la=j[ka][y];ia[ka]={num_total_snippets:la.num_total_snippets,snippets:la.snippets_cbm.getAllResources()};}var ma=ca.hasReachedEndOfArray();ba(ia,ma);}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:y,thread_id:null,subscriber_id:ea};var ga={query:y,offset:aa,limit:z+1,snippetLimit:l};ga.identifier='thread_fbid';w(ga,x);}}function q(x,y,z,aa,ba){if(k)if(k.thread_id){var ca=v(k.query,k.thread_id);ca.unsubscribe(k.subscriber_id);k=null;}var ca=v(x,y),da=aa+z,ea=ca.executeOrEnqueue(0,da,function(){var ka=ca.getAllResources(),la=j[y][x].num_total_snippets;ba(ka,la);}),fa=ca.getUnavailableResources(ea);if(fa.length){k={query:x,thread_id:y,subscriber_id:ea};var ga={query:x,snippetOffset:aa,snippetLimit:z},ha=this.getThreadIDMap().getServerIDFromClientIDNow(y),ia=c('MercuryIDs').tokenize(y),ja=ia.type;if(ja=='user'){ga.other_user_fbid=ha;}else ga.thread_fbid=ha;ga.identifier='thread_fbid';w(ga,this.getFBID());}}function r(x){if(x instanceof Array){var y={};for(var z=0;z<x.length;z++)y[z.toString()]=x[z];return y;}else return x;}function s(x,y,z){}function t(x,y,z,aa){var ba=j[y][x],ca=ba.snippets_cbm.getAllResources(),da=ba.num_total_snippets,ea=ca.length;if(z<ea){aa(ca[z].message_id);return;}var fa=da-ea,ga=fa>n?n:fa;q.call(this,x,y,ga,ea,function(ha,ia){t.call(this,x,y,z,aa);});}function u(x){if(!i[x])i[x]=new (c('RangedCallbackManager'))();return i[x];}function v(x,y){if(!j[y])j[y]={};var z=j[y][x];if(!z){z={num_total_snippets:-1,snippets_cbm:new (c('RangedCallbackManager'))()};j[y][x]=z;}return z.snippets_cbm;}function w(x,y){x.client=h;c('MercuryServerDispatcher').trySend('/ajax/mercury/search_snippets.php',x,null,y);}Object.assign(o,c('MercurySingletonMixin'));f.exports=o;}),null);
__d('MessengerThreadSearchStore',['cx','immutable','ImmutableObject','MercuryIDs','MercuryMessages','MercurySearchContextResults','MercurySearchSnippetResults','MercuryThreads','MessengerContentSearchDataTypedLogger','MessengerDispatcher','MessengerStateStore','MessengerStore','MessengerActions','MessengerThreadSearchActions','MessengerView'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('immutable').List,l=c('immutable').Record,m=l({downExhausted:null,loading:false,messages:null,query:null,results:k(),selectedIndex:0,threadID:null,totalCount:0,upExhausted:null,threads:null,threadsExhausted:null,mid:null});i=babelHelpers.inherits(n,c('MessengerStore'));j=i&&i.prototype;function n(){j.constructor.call(this);this.$MessengerThreadSearchStore3=new m();}n.prototype.getForFBID=function(o){this.$MessengerThreadSearchStore4=new (c('MercurySearchSnippetResults'))(o);this.$MessengerThreadSearchStore1=c('MercuryMessages').getForFBID(o);this.$MessengerThreadSearchStore2=c('MercuryThreads').getForFBID(o);};n.prototype.getState=function(){return this.$MessengerThreadSearchStore3;};n.prototype.__onDispatch=function(o){if(!this.$MessengerThreadSearchStore4)return;c('MessengerDispatcher').waitFor([c('MessengerStateStore').getDispatchToken()]);var p=c('MessengerStateStore').getState(),q=p.activeThreadID,r=p.masterView,s=p.mid,t=p.query,u=r===c('MessengerView').MASTER.SEARCH;switch(o.type){case c('MessengerActions').Types.REPLACE_STATE:if(s!=this.$MessengerThreadSearchStore3.mid&&q!=this.$MessengerThreadSearchStore3.activeThreadID){if(s&&q){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({threadID:q,mid:s});c('MercurySearchContextResults').getSearchContext(this.$MessengerThreadSearchStore5(),this.$MessengerThreadSearchStore3.threadID,function(y){return this.setMessages(y);}.bind(this));}else this.$MessengerThreadSearchStore3=new m();return;}else if(this.$MessengerThreadSearchStore3.query!==t||this.$MessengerThreadSearchStore3.threadID!==q){if(t&&!s){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);this.$MessengerThreadSearchStore4.getSingleThreadSearchResults(t,q,function(){for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return this.accumulateSearchResultsAndEmitChange.apply(this,[t,q,0].concat(z));}.bind(this));}else{if(this.$MessengerThreadSearchStore3.query&&this.$MessengerThreadSearchStore3.results.size===0)this.logCurrentResult(null,'no_results_found','single_thread_search');var v=this.$MessengerThreadSearchStore3.results.get(this.$MessengerThreadSearchStore3.selectedIndex);if(v!==undefined)this.logCurrentResult(v.toObject(),'search_ended','single_thread_search');this.$MessengerThreadSearchStore6();}if(u){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);this.$MessengerThreadSearchStore4.getAllThreadSearchResults(t,function(y,z){return this.setAllThreadResults(y,z);}.bind(this));}else this.$MessengerThreadSearchStore7();this.emitChange();}break;case c('MessengerThreadSearchActions').Types.CHANGE_RESULT_INDEX:var w=Math.max(Math.min(this.$MessengerThreadSearchStore3.totalCount-1,this.$MessengerThreadSearchStore3.selectedIndex+o.delta),0);if(w===this.$MessengerThreadSearchStore3.selectedIndex)break;if(w>=this.$MessengerThreadSearchStore3.results.size){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);this.$MessengerThreadSearchStore4.getSingleThreadSearchMoreResults(t,q,function(){for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return this.accumulateSearchResultsAndEmitChange.apply(this,[t,q,w].concat(z));}.bind(this));}else{this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({loading:true,selectedIndex:w});c('MercurySearchContextResults').getSearchContext(this.$MessengerThreadSearchStore5(),this.$MessengerThreadSearchStore3.threadID,function(y){return this.setMessages(y);}.bind(this));}this.emitChange();var x=this.$MessengerThreadSearchStore3.results.get(w).toObject();this.logCurrentResult(x,'result_loaded','single_thread_search');break;case c('MessengerThreadSearchActions').Types.GET_MORE_CONTEXT:this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);c('MercurySearchContextResults').getMoreSearchContext(this.$MessengerThreadSearchStore5(),this.$MessengerThreadSearchStore3.threadID,o.direction,function(y){return this.setMessages(y);}.bind(this));this.emitChange();break;case c('MessengerThreadSearchActions').Types.GET_MORE_THREADS:this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.set('loading',true);this.$MessengerThreadSearchStore4.getAllThreadSearchMoreResults(t,function(y,z){return this.setAllThreadResults(y,z);}.bind(this));this.emitChange();break;}};n.prototype.logCurrentResult=function(o,p,q){var r=new (c('MessengerContentSearchDataTypedLogger'))().setSearchTerm(this.$MessengerThreadSearchStore3.query).setThreadFbid(c('MercuryIDs').getThreadFBIDFromThreadID(this.$MessengerThreadSearchStore3.threadID)).setNumResults(this.$MessengerThreadSearchStore3.results.size).setSearchOutcome(p).setSearchType(q);if(o!==undefined&&o!==null)r.setMessageID(o.message_id).setMessageTimestamp(o.timestamp).setReadableTimestamp(o.timestamp_datetime).setResultIndex(this.$MessengerThreadSearchStore3.selectedIndex+1);r.log();};n.prototype.setAllThreadResults=function(o,p){var q=Object.keys(o),r=q.map(function(s){var t=this.$MessengerThreadSearchStore2.getThreadMetaNow(s);if(!t)return;var u=o[t.thread_id];if(!u)return;return new (c('ImmutableObject'))(babelHelpers['extends']({},t,{snippetCount:u.num_total_snippets}));}.bind(this)).filter(function(s){return s;});this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({threads:r,threadsExhausted:p,loading:false});this.emitChange();};n.prototype.$MessengerThreadSearchStore7=function(){this.$MessengerThreadSearchStore8(['threads','threadsExhausted','loading']);};n.prototype.accumulateSearchResultsAndEmitChange=function(o,p,q,r,s){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({query:o,threadID:p,selectedIndex:q,results:r,totalCount:s});if(this.$MessengerThreadSearchStore3.results.size){c('MercurySearchContextResults').getSearchContext(this.$MessengerThreadSearchStore5(),this.$MessengerThreadSearchStore3.threadID,function(u){return this.setMessages(u);}.bind(this));var t=this.$MessengerThreadSearchStore3.results.get(this.$MessengerThreadSearchStore3.selectedIndex);this.logCurrentResult(t.toObject(),'search_started','single_thread_search');}else this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({messages:null});this.emitChange();};n.prototype.$MessengerThreadSearchStore6=function(){this.$MessengerThreadSearchStore8(['query','threadID','selectedIndex','results','totalCount','downExhausted','loading','messages','upExhausted']);};n.prototype.$MessengerThreadSearchStore8=function(o){this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.withMutations(function(p){o.forEach(function(q){return p.remove(q);});});};n.prototype.setMessages=function(o){var p=this.$MessengerThreadSearchStore1.getMessagesFromIDs([].concat(o.up_message_ids,o.message_id,o.down_message_ids)).map(function(q){var r,s=this;if(q&&q.message_id===o.message_id)if(!this.$MessengerThreadSearchStore3.results.isEmpty()){var r=function(){var t=s.$MessengerThreadSearchStore3.results.get(s.$MessengerThreadSearchStore3.selectedIndex).toJS(),u=t.matched_keywords,v=q.body.indexOf(t.body),w=Object.keys(t.matched_keywords).map(function(x){return {offset:v+Number(x),length:u[x].length,entity:{url:''},className:"__in"};});return {v:new (c('ImmutableObject'))(babelHelpers['extends']({},q,{ranges:q.ranges?q.ranges.concat(w):w}))};}();if(typeof r==="object")return r.v;}else return new (c('ImmutableObject'))(babelHelpers['extends']({},q,{isSelected:true}));return q;}.bind(this));this.$MessengerThreadSearchStore3=this.$MessengerThreadSearchStore3.merge({downExhausted:o.down_exhausted,loading:false,messages:p,upExhausted:o.up_exhausted});this.emitChange();};n.prototype.$MessengerThreadSearchStore5=function(){return this.$MessengerThreadSearchStore3.mid||this.$MessengerThreadSearchStore3.results.getIn([this.$MessengerThreadSearchStore3.selectedIndex,'message_id']);};f.exports=new n();}),null);
__d('MessengerURIListener',['MessengerActions','MessengerURISerializer','PageTransitions'],(function a(b,c,d,e,f,g){'use strict';var h=false,i={start:function k(){if(!h)c('PageTransitions').registerHandler(j,6);h=true;},stop:function k(){c('PageTransitions').removeHandler(j,6);h=false;}};function j(k){var l=c('MessengerURISerializer').deserialize(k);if(l.notMessenger)return false;c('PageTransitions').transitionComplete();c('MessengerActions').changeState(l);return true;}f.exports=i;}),null);
__d('FBPaymentsDialogStore',['FBPaymentsDialogActions','FBPaymentsDispatcher','FluxStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('FBPaymentsDispatcher'));this.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null};}j.prototype.__onDispatch=function(k){var l=k.type,m=k.data;switch(l){case c('FBPaymentsDialogActions').types.SHOW_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:m.dialogClass,dialogProps:m.dialogProps};this.__emitChange();break;case c('FBPaymentsDialogActions').types.HIDE_DIALOG:this.$FBPaymentsDialogStore1={dialogClass:null,dialogProps:null};this.__emitChange();break;}};j.prototype.getState=function(){return this.$FBPaymentsDialogStore1;};f.exports=new j();}),null);
__d('FBPaymentsDialogContainer.react',['FBPaymentsDialogStore','FBPaymentsDispatcher','FluxContainer','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.calculateState=function(){return c('FBPaymentsDialogStore').getState();};j.getStores=function(){return [c('FBPaymentsDialogStore')];};j.prototype.componentWillMount=function(){c('FBPaymentsDispatcher').explicitlyRegisterStore(c('FBPaymentsDialogStore'));};j.prototype.render=function(){if(!this.state.dialogClass)return null;var k=this.state.dialogClass;return c('React').createElement(k,babelHelpers['extends']({},this.state.dialogProps,{key:'dialog'}));};function j(){h.apply(this,arguments);}f.exports=c('FluxContainer').create(j);}),null);
__d('MNCommerceDialogContainer.react',['MNCommerceDialogStateStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').createClass({displayName:'MNCommerceDialogContainer',mixins:[c('PureStoreBasedStateMixin')(c('MNCommerceDialogStateStore'))],statics:{calculateState:function i(){var j=c('MNCommerceDialogStateStore').getDialogContainer();return {dialogContainer:j};}},render:function i(){var j=this.state.dialogContainer;if(!j)return null;return c('React').createElement(j,null);}});f.exports=h;}),null);
__d("XSettingsEmployeeBetaController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/settings\/employee\/beta_mode\/",{enabled:{type:"Bool",defaultValue:false}});}),null);
__d('MessengerBugNub.react',['cx','fbt','ix','AsyncRequest','Image.react','Link.react','MessengerEnvironment','MessengerMenu.react','MessengerPopoverMenu.react','React','Tooltip','URI','XSettingsEmployeeBetaController','goURI'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=j('/images/mercury/clients/messenger/bug_nub/bugNub.png'),n=j('/images/mercury/clients/messenger/bug_nub/betaNub.png'),o=j('/images/mercury/clients/messenger/bug_nub/publicNub.png'),p=c('React').PropTypes,q=c('MessengerMenu.react').Item,r=c('MessengerMenu.react').Separator;k=babelHelpers.inherits(s,c('React').PureComponent);l=k&&k.prototype;s.prototype.render=function(){return (c('React').createElement('div',{className:"_4_xe"},this.$MessengerBugNub1(),c('React').createElement(c('Link.react'),babelHelpers['extends']({href:'#',ajaxify:'/ajax/bugs/employee_report',className:"_1fr8",rel:'dialog'},c('Tooltip').propsFor(i._("Signaler un bug"))),c('React').createElement('div',{className:"_1gng"},c('React').createElement(c('Image.react'),{src:m})))));};s.prototype.$MessengerBugNub1=function(){var t=this.props.isBetaEnabled?n:o,u=i._("Pr\u00e9f\u00e9rences internes");return (c('React').createElement(c('MessengerPopoverMenu.react'),babelHelpers['extends']({className:"_1fr8",menu:this.$MessengerBugNub2()},c('Tooltip').propsFor(u)),c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':u,className:"_1gng",href:'#',role:'button'},c('React').createElement(c('Image.react'),{src:t}))));};s.prototype.$MessengerBugNub2=function(){var t,u=this,v=null;if(this.props.unixName)(function(){var w=u.props.unixName+'.sb';v=c('React').createElement(q,{label:'Sandbox',onclick:function(){return this.$MessengerBugNub3(w);}.bind(u)});})();return (c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(q,{label:'Public',onclick:function(){return this.$MessengerBugNub4(false);}.bind(this)}),c('React').createElement(q,{label:'Beta',onclick:function(){return this.$MessengerBugNub4(true);}.bind(this)}),c('React').createElement(r,null),c('React').createElement(q,{label:'C1 (trunkstable)',onclick:function(){return this.$MessengerBugNub3('trunkstable');}.bind(this)}),c('React').createElement(q,{label:'Latest',onclick:function(){return this.$MessengerBugNub3('latest');}.bind(this)}),c('React').createElement(q,{label:'Intern',onclick:function(){return this.$MessengerBugNub3('intern');}.bind(this)}),c('React').createElement(q,{label:'Production',onclick:function(){return this.$MessengerBugNub3('prod');}.bind(this)}),v));};s.prototype.$MessengerBugNub4=function(t){var u=c('XSettingsEmployeeBetaController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(u).setData({enabled:t}).setMethod('POST').setAllowCrossPageTransition(true).send();};s.prototype.$MessengerBugNub3=function(t){var u=c('URI').getRequestURI(),v=c('MessengerEnvironment').facebookdotcom?'.facebook.com':'.messenger.com',w='www'+(t?'.'+t:'')+v;c('goURI')(new (c('URI'))(window.location.href).setProtocol(u.getProtocol()).setDomain(w).setSubdomain(u.getSubdomain()).setPath(u.getPath()).setQueryData(u.getQueryData()).setFragment(u.getFragment()));};function s(){k.apply(this,arguments);}s.propTypes={isBetaEnabled:p.bool,unixName:p.string};f.exports=s;}),null);
__d('MercuryCanonicalGroupThreadActionTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('keyMirror')({THREAD_SEARCH_UPDATED:null});}),null);
__d('MercuryCanonicalGroupThreadManager',['Bootloader','KeyedCallbackManager','MercuryIDs','MercuryServerPayloadPreprocessor','MercurySingletonProvider','MercuryThreads','MercuryServerDispatcher','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';function h(j){this.$MercuryCanonicalGroupThreadManager1=j;this.$MercuryCanonicalGroupThreadManager2=new (c('KeyedCallbackManager'))();this.$MercuryCanonicalGroupThreadManager3=c('MercuryServerPayloadPreprocessor').getForFBID(this.$MercuryCanonicalGroupThreadManager1);this.$MercuryCanonicalGroupThreadManager6=c('MercuryThreads').getForFBID(this.$MercuryCanonicalGroupThreadManager1);this.$MercuryCanonicalGroupThreadManager4={};this.$MercuryCanonicalGroupThreadManager7();this.$MercuryCanonicalGroupThreadManager8();}h.getForFBID=function(j){return i.getForFBID(j);};h.get=function(){return i.get();};h.prototype.getCanonicalGroupThreadIDForParticipants=function(j,k){j=this.$MercuryCanonicalGroupThreadManager9(j);var l=this.$MercuryCanonicalGroupThreadManager10(j),m=this.$MercuryCanonicalGroupThreadManager2.executeOrEnqueue(l,k);this.$MercuryCanonicalGroupThreadManager11(j);return m;};h.prototype.unsubscribe=function(j){if(j)this.$MercuryCanonicalGroupThreadManager2.unsubscribe(j);};h.prototype.$MercuryCanonicalGroupThreadManager10=function(j){return j.sort().join(',');};h.prototype.$MercuryCanonicalGroupThreadManager12=function(j,k){var l=c('MercuryIDs').getThreadIDFromThreadFBID(k);this.$MercuryCanonicalGroupThreadManager2.setResource(j,l);this.$MercuryCanonicalGroupThreadManager4[l]=j;};h.prototype.$MercuryCanonicalGroupThreadManager11=function(j){var k={canonical_group_key:this.$MercuryCanonicalGroupThreadManager10(j),participants:j};c('MercuryServerDispatcher').trySend('/ajax/mercury/search_canonical_groups.php',k,null,this.$MercuryCanonicalGroupThreadManager1);};h.prototype.$MercuryCanonicalGroupThreadManager7=function(){c('MercuryServerDispatcher').registerEndpoints({'/ajax/mercury/search_canonical_groups.php':{request_user_id:this.$MercuryCanonicalGroupThreadManager1,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(j){this.handleUpdate(j);}.bind(this)}});};h.prototype.$MercuryCanonicalGroupThreadManager9=function(j){if(j.indexOf(this.$MercuryCanonicalGroupThreadManager1)===-1)j.push(this.$MercuryCanonicalGroupThreadManager1);return j;};h.prototype.handleUpdate=function(j){if(j.mercury_payload)this.$MercuryCanonicalGroupThreadManager3.handleUpdate(j.mercury_payload);var k=j.canonical_group;if(k)for(var l in k)this.$MercuryCanonicalGroupThreadManager12(l,k[l]);};h.prototype.getNow=function(j){var k=this.$MercuryCanonicalGroupThreadManager10(this.$MercuryCanonicalGroupThreadManager9(j));return this.$MercuryCanonicalGroupThreadManager2.getResource(k);};h.prototype.$MercuryCanonicalGroupThreadManager8=function(){c('Bootloader').loadModules(["MercuryThreadInformer"],function(j){var k=j.getForFBID(this.$MercuryCanonicalGroupThreadManager1),l=new (c('SubscriptionsHandler'))();l.addSubscriptions(k.subscribe('threads-deleted',function(m,n){for(var o in n)if(this.$MercuryCanonicalGroupThreadManager4[o]){this.$MercuryCanonicalGroupThreadManager2.setResource(this.$MercuryCanonicalGroupThreadManager4[o],undefined);delete this.$MercuryCanonicalGroupThreadManager4[o];}}.bind(this)));this.$MercuryCanonicalGroupThreadManager5=l;}.bind(this),'MercuryCanonicalGroupThreadManager');};var i=new (c('MercurySingletonProvider'))(h);f.exports=h;}),null);
__d('MercuryCanonicalGroupThreadStore',['MercuryCanonicalGroupThreadActionTypes','FluxStore','MercuryCanonicalGroupThreadManager','MessengerDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('MessengerDispatcher'));this.$MercuryCanonicalGroupThreadStore1=c('MercuryCanonicalGroupThreadManager').get();}j.prototype.__onDispatch=function(k){var l=k.type;switch(l){case c('MercuryCanonicalGroupThreadActionTypes').THREAD_SEARCH_UPDATED:this.__emitChange();break;default:break;}};j.prototype.getOrFetch=function(k){var l=this.$MercuryCanonicalGroupThreadStore1.getNow(k);if(!l)this.$MercuryCanonicalGroupThreadStore1.getCanonicalGroupThreadIDForParticipants(k,function(){c('MessengerDispatcher').dispatch({type:c('MercuryCanonicalGroupThreadActionTypes').THREAD_SEARCH_UPDATED});});return l;};f.exports=new j();}),null);
__d('MessageRequestUtils',['MessagingTag'],(function a(b,c,d,e,f,g){'use strict';var h={isMessageRequest:function i(j){return (j.folder===c('MessagingTag').PENDING||j.folder===c('MessagingTag').OTHER)&&j.can_reply;},isFiltered:function i(j){return j.folder===c('MessagingTag').OTHER;}};f.exports=h;}),null);
__d('AutoFocusableLink.react',['Link.react','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Link.react'));i=h&&h.prototype;j.prototype.componentDidMount=function(){if(this.props.autoFocus)c('ReactDOM').findDOMNode(this).focus();};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('CustomColorHighlighting.react',['csx','cx','React','UserAgent'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m="._fy2",n="._43by",o="._mh6",p=c('UserAgent').isEngine('Gecko')?"._mh6 *::-moz-selection":"._mh6 *::selection",q=m+m,r=n+n,s=o+p;j=babelHelpers.inherits(t,c('React').PureComponent);k=j&&j.prototype;function t(u){k.constructor.call(this,u);this.state={};}t.prototype.componentWillMount=function(){this.$CustomColorHighlighting1();};t.prototype.componentWillUnmount=function(){this.$CustomColorHighlighting2();if(this.state.styleTag)document.head.removeChild(this.state.styleTag);};t.prototype.componentWillReceiveProps=function(u){if(this.props.customColor&&!u.customColor){this.$CustomColorHighlighting2();}else if(u.customColor!==this.props.customColor)this.$CustomColorHighlighting3(u.customColor);};t.prototype.render=function(){return (c('React').createElement('div',{className:"_mh6"},this.props.children));};t.prototype.$CustomColorHighlighting1=function(){var u=document.createElement('style');u.appendChild(document.createTextNode(''));document.head.appendChild(u);this.setState({styleSheet:u.sheet,styleTag:u},function(){return this.$CustomColorHighlighting3(this.props.customColor);}.bind(this));};t.prototype.$CustomColorHighlighting4=function(u,v,w){if(u.insertRule){u.insertRule(v+'{'+w+'}',0);}else if(u.addRule)u.addRule(v,w,0);};t.prototype.$CustomColorHighlighting5=function(u){if('removeRule' in u){u.removeRule(0);}else if('deleteRule' in u)u.deleteRule(0);};t.prototype.$CustomColorHighlighting2=function(){if(this.state.styleSheet){if(this.state.styleSheet.rules)while(this.state.styleSheet.rules.length)this.$CustomColorHighlighting5(this.state.styleSheet);if(this.state.styleSheet.cssRules)while(this.state.styleSheet.cssRules.length)this.$CustomColorHighlighting5(this.state.styleSheet);}};t.prototype.$CustomColorHighlighting6=function(u){var v=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u),w=parseInt(v[1],16),x=parseInt(v[2],16),y=parseInt(v[3],16);return 'rgba('+w+','+x+','+y+',0.2)';};t.prototype.$CustomColorHighlighting3=function(u){this.$CustomColorHighlighting2();var v=u||this.props.customColor;if(v){var w=this.$CustomColorHighlighting6(v),x='background: '+w;this.$CustomColorHighlighting4(this.state.styleSheet,s,x);this.$CustomColorHighlighting4(this.state.styleSheet,q,'color: '+v);this.$CustomColorHighlighting4(this.state.styleSheet,r,'background-color: '+v);}};t.propTypes={customColor:l.string};f.exports=t;}),null);
__d("XMNCommercePostbackRefSendController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/postback_ref\/",{page_id:{type:"String",required:true},ref:{type:"String",required:true},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}});}),null);
__d('MNCommercePostbackRefSendManager',['AsyncRequest','MessengerActions','MessengerMDotMeReferralStore','XMNCommercePostbackRefSendController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.sendMDotMeRef=function(i,j){var k=this.getMdotMeRef();if(this.shouldSendRef(j,i)){var l=c('XMNCommercePostbackRefSendController').getURIBuilder().setString('page_id',i).setString('ref',k).getURI();new (c('AsyncRequest'))().setURI(l).setMethod('post').send();c('MessengerActions').changeMDotMeReferral();}};h.prototype.shouldSendRef=function(i,j){if(!j||!i)return false;return this.hasMDotMeRef(j);};h.prototype.hasMDotMeRef=function(i){var j=c('MessengerMDotMeReferralStore').getState();return !!(j.refCode&&i&&j.refThreadID&&j.refThreadID.toString()===i);};h.prototype.getMdotMeRef=function(){var i=c('MessengerMDotMeReferralStore').getState();return i.refCode;};function h(){}f.exports=new h();}),null);
__d('MercuryBootloadOnInteraction.react',['BootloadOnRender.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$MercuryBootloadOnInteraction1=function(l){this.setState({hadUserInteraction:true,interactionType:l.type});}.bind(this);this.$MercuryBootloadOnInteraction2=function(l){this.setState({interactionType:undefined});}.bind(this);this.state={hadUserInteraction:false};}j.prototype.render=function(){if(!this.state.hadUserInteraction)return c('React').cloneElement(this.props.placeholder,{onFocus:this.$MercuryBootloadOnInteraction1,onMouseOver:this.$MercuryBootloadOnInteraction1,onClick:this.$MercuryBootloadOnInteraction1,onBlur:this.$MercuryBootloadOnInteraction2});var k=this.props,l=k.loader,m=k.component,n=k.placeholder,o={};switch(this.state.interactionType){case 'focus':o.autoFocus=true;break;case 'click':o.clicked=true;break;}m=c('React').cloneElement(m,o);n=c('React').cloneElement(n,o);return (c('React').createElement(c('BootloadOnRender.react'),{placeholder:n,loader:l,component:m}));};f.exports=j;}),null);
__d('MercuryReadOnlyReason',['fbt','Link.react','MercuryConfig','React','URI'],(function a(b,c,d,e,f,g,h){'use strict';var i={getReason:function j(){var k=arguments.length<=0||arguments[0]===undefined?false:arguments[0];if(k){var l=c('MercuryConfig').DYIDeepLink;return h._("D\u00e9sol\u00e9, cette conversation n\u2019est plus active, car les messages ne sont plus envoy\u00e9s aux adresses e-mail. Depuis le 1er mai 2016, les conversations avec des adresses e-mail ne sont disponibles que dans une copie de vos donn\u00e9es Facebook. {download your information}.",[h.param('download your information',c('React').createElement('a',{href:l},h._("En savoir plus")))]);}else if(c('MercuryConfig').ViewerIsReadOnly){return h._("Vous ne pouvez plus envoyer de messages pour le moment. {learn more about blocks}",[h.param('learn more about blocks',c('React').createElement(c('Link.react'),{href:new (c('URI'))('https://www.facebook.com/help/181183045316843'),target:'_blank'},'Learn more'))]);}else if(c('MercuryConfig').ColdOpenBlock){return h._("Vous n\u2019\u00eates pas autoris\u00e9(e) \u00e0 commencer de nouvelles conversations pour le moment. {learn more about blocks}",[h.param('learn more about blocks',c('React').createElement(c('Link.react'),{href:new (c('URI'))('https://www.facebook.com/help/181183045316843'),target:'_blank'},'Learn more'))]);}else return h._("Vous ne pouvez pas r\u00e9pondre \u00e0 cette conversation");}};f.exports=i;}),null);
__d("TypeaheadNavigation",[],(function a(b,c,d,e,f,g){var h={moveUp:function i(j,k,l){var m=j.indexOf(k),n=m==-1?j.length-1:m-1;l(n==-1?null:j[n]);},moveDown:function i(j,k,l){var m=j.indexOf(k)+1;l(m==j.length?null:j[m]);}};f.exports=h;}),null);
__d('AbstractMentionsTextEditor.react',['DraftEditor.react','DraftModifier','EditorState','React','TypeaheadNavigation','clearImmediate','getOrCreateDOMID','setImmediate','uniqueID'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=5,j=c('React').createClass({displayName:'AbstractMentionsTextEditor',propTypes:{mentionsSource:h.object,mentionCreationFn:h.func.isRequired,mentionResultsComponent:h.func.isRequired,mentionResultsProps:h.object,excludedEntries:h.object,handleContentReturn:h.func,onAddMention:h.func,onShowMentions:h.func,autoHighlight:h.bool,maxResults:h.number,webDriverTestID:h.string},getDefaultProps:function l(){return babelHelpers['extends']({},c('DraftEditor.react').defaultProps,{autoHighlight:true,maxResults:i});},componentWillMount:function l(){this._viewID=c('uniqueID')();this._searchTimeouts=[];},componentWillUnmount:function l(){this._searchTimeouts.forEach(function(m){return c('clearImmediate')(m);});this._searchTimeouts=null;},getInitialState:function l(){return {highlightedMentionable:null,ariaActiveDescendantID:null,mentionableEntries:null,characterOffset:0};},_onShowMentions:function l(m,n){if(!this.isMounted())return;var o=m&&m.length;if(!o){this.setState({highlightedMentionable:null,activeDescendantID:null,mentionableEntries:null,characterOffset:0});return;}var p=m.slice(0,this.props.maxResults),q=this.props.typeaheadViewProps;if(q&&q.mentionSortFn)p.sort(q.mentionSortFn);var r=null;if(this.props.autoHighlight||this.state.highlightedMentionable!==null)r=m[0];this.setState({highlightedMentionable:r,mentionableEntries:p,characterOffset:n});if(this.props.onShowMentions)this.props.onShowMentions(p,n);},_onBlur:function l(m){this.setState(this.getInitialState());this.props.onBlur&&this.props.onBlur(m);},_onFocus:function l(m){this.props.mentionsSource&&this.props.mentionsSource.bootstrap();this.props.onFocus&&this.props.onFocus(m);},_handleReturn:function l(m){if(this.state.highlightedMentionable){this._onMentionSelect(this.state.highlightedMentionable,m);return true;}else if(this.props.handleContentReturn&&this.props.handleContentReturn(m))return true;return false;},_onTab:function l(m){if(this.state.highlightedMentionable){m.preventDefault();this._onMentionSelect(this.state.highlightedMentionable,m);}else if(this.props.onTab)this.props.onTab(m);},_onEscape:function l(m){if(this.props.onEscape)this.props.onEscape(m);if(this.state.mentionableEntries){m.stopPropagation();m.nativeEvent.isPropagationStopped=true;this.setState(this.getInitialState());}},_onUpArrow:function l(m){if(this.state.mentionableEntries){m.preventDefault();c('TypeaheadNavigation').moveUp(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onUpArrow&&this.props.onUpArrow(m);},_onDownArrow:function l(m){if(this.state.mentionableEntries){m.preventDefault();c('TypeaheadNavigation').moveDown(this.state.mentionableEntries,this.state.highlightedMentionable,this._onMentionHighlight);}else this.props.onDownArrow&&this.props.onDownArrow(m);},_onMentionHighlight:function l(m){this.setState({highlightedMentionable:m});},_onMentionRenderHighlight:function l(m){var n=c('getOrCreateDOMID')(m);this.setState({ariaActiveDescendantID:n});},_onMentionSelect:function l(m,n){var o=this.props.editorState,p=o.getSelection(),q=o.getCurrentContent(),r=p.getAnchorKey(),s=p.getAnchorOffset(),t=q.getBlockMap().get(r),u=s-k(t.getText().substr(0,s),m.getTitle(),this.state.characterOffset),v=c('DraftModifier').replaceText(q,p.set('anchorOffset',u),m.getTitle(),o.getCurrentInlineStyle(),this.props.mentionCreationFn(m)),w=c('EditorState').push(o,v,'insert-fragment');this.props.onChange(w);this.setState(this.getInitialState());if(this.props.onAddMention){var x=this.state.mentionableEntries.indexOf(m);this.props.onAddMention(m,x,n);}},shouldComponentUpdate:function l(m,n){return (this.props.editorState!==m.editorState||this.props.placeholder!==m.placeholder||this.props.readOnly!==m.readOnly||this.state.mentionableEntries!==n.mentionableEntries||this.state.highlightedMentionable!==n.highlightedMentionable||this.state.ariaActiveDescendantID!==n.ariaActiveDescendantID);},componentDidUpdate:function l(m){var n=this.props.editorState;if(n===m.editorState)return;var o=n.getSelection();if(o.getHasFocus()&&o.isCollapsed()){var p=n.getCurrentContent();if(this.props.mentionsSource)this._searchTimeouts.push(c('setImmediate')(function(){this.props.mentionsSource.search(p,o,this._onShowMentions);}.bind(this)));}},blur:function l(){this.refs.abstractTextEditor.blur();},focus:function l(){this.refs.abstractTextEditor.focus();},_renderMentionables:function l(){var m=this.state.mentionableEntries;if(!m||!m.length)return null;var n=this.props.mentionResultsComponent;return (c('React').createElement(n,babelHelpers['extends']({},this.props.mentionResultsProps,{viewID:this._viewID,selection:this.props.editorState.getSelection(),contextComponent:this,characterOffset:this.state.characterOffset,mentionableEntries:m||[],highlightedMentionable:this.state.highlightedMentionable,onMentionSelect:this._onMentionSelect,onMentionHighlight:this._onMentionHighlight,onMentionRenderHighlight:this._onMentionRenderHighlight})));},render:function l(){var m=this.state.mentionableEntries,n=!!(m&&m.length),o=this.props.readOnly?null:'-2';return (c('React').createElement('div',{ref:'container',className:this.props.className,tabIndex:o},c('React').createElement(c('DraftEditor.react'),babelHelpers['extends']({},this.props,{ref:'abstractTextEditor',role:'combobox',ariaActiveDescendantID:this.state.ariaActiveDescendantID,ariaAutoComplete:'list',ariaOwneeID:this._viewID,ariaExpanded:n,ariaHasPopup:n,onBlur:this._onBlur,onFocus:this._onFocus,onTab:this._onTab,onEscape:this._onEscape,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,handleReturn:this._handleReturn})),this._renderMentionables()));},exitCurrentMode:function l(){this.refs.abstractTextEditor&&this.refs.abstractTextEditor.exitCurrentMode();}});function k(l,m,n){for(var o=n;o<=m.length;o++)if(l.substr(-o)==m.substr(0,o))n=o;return n;}f.exports=j;}),null);
__d('DocumentMentionsRegex',[],(function a(b,c,d,e,f,g){'use strict';var h='\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\\/!%\'"~=<>_:;',i='\\b[A-Z][^\\s'+h+']',j={PUNCTUATION:h,NAME:i};f.exports=j;}),null);
__d('AtSignAllowEmptyMentionsStrategy',['DocumentMentionsRegex'],(function a(b,c,d,e,f,g){var h=c('DocumentMentionsRegex').PUNCTUATION,i=['@','\\uff20'].join(''),j='[^'+i+h+'\\s]',k='(?:'+'\\.[ |$]|'+' |'+'['+h+']|'+')',l=new RegExp('(?:^|\\s|\\()('+'['+i+']'+'((?:'+j+k+'){0,20})'+')$'),m={name:'AtSignAllowEmptyMentionsStrategy',findMentionableString:function n(o){var p=l.exec(o);if(p!==null){var q=p[2];return {matchingString:q,leadOffset:p[1].length};}return null;}};f.exports=m;}),null);
__d('EmoticonSpan.react',['cx','DraftEntity','EmojiImageURL','EmoticonsList','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=c('DraftEntity').get(this.props.entityKey).getData(),m=c('EmojiImageURL').getFBEmojiURL(c('EmoticonsList').emoji[l.type]);return (c('React').createElement('span',{className:"_3gl1",style:{backgroundImage:'url('+m+')'}},c('React').createElement('span',{className:"_3gl2"},this.props.children)));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MNAdsLogMessageUtils',['MercuryConfig','MessagingTag','MessengerAdsWebTypedLogger','MNAdsLoggerEventEnum','AdPageMessageTypeEnum'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryConfig').LOG_INTERVAL_MS||60000;function i(){this.$MNAdsLogMessageUtils1={};}i.prototype.isLoggedWithinInterval=function(j){if(this.$MNAdsLogMessageUtils1[j]&&this.$MNAdsLogMessageUtils1[j]-Date.now()<h)return true;return false;};i.prototype.setLoggingTime=function(j){this.$MNAdsLogMessageUtils1[j]=Date.now();};i.prototype.logAdsThreadListImpression=function(j){switch(j.folder){case c('MessagingTag').INBOX:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_INBOX);break;case c('MessagingTag').PENDING:this.logWithThreadMetaData(j,c('MNAdsLoggerEventEnum').MESSAGE_SEEN_REQUEST);break;default:return;}};i.prototype.logWithThreadMetaData=function(j,event){if(j.last_message_type!==c('AdPageMessageTypeEnum').NON_AD){var k=j.last_message_timestamp+String(event);if(!c('MercuryConfig').MercuryThreadListEnableImpressionLog||this.isLoggedWithinInterval(k))return;new (c('MessengerAdsWebTypedLogger'))().setEvent(event).setMessageTimestamp(j.last_message_timestamp).setPageID(j.other_user_fbid).log();this.setLoggingTime(k);}};f.exports=new i();}),null);
__d('MercuryShareAttachmentSnippet.react',['MercuryShareAttachmentReactShape','MercuryShareStyleMap','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('MercuryShareStyleMap').getStyleFactory(this.props.attachment);if(l.factory&&!!l.factory.getSnippetComponent){var m=l.factory.getSnippetComponent();return (c('React').createElement(m,babelHelpers['extends']({},this.props,{attachment:l.attachment})));}return null;};function k(){h.apply(this,arguments);}k.propTypes={attachment:c('MercuryShareAttachmentReactShape'),isSenderViewer:j.bool,senderName:j.oneOfType([j.string,j.object])};f.exports=k;}),null);
__d('MercuryAttachmentSnippet.react',['cx','ix','fbt','EmoticonsList','Image.react','MercuryAttachment','MercuryAttachmentSnippetRenderer','MercuryAttachmentSnippetType','MercuryAttachmentType','MercuryConfig','MercuryIDs','MercuryShareAttachmentSnippet.react','MessengerTextWithEmoticons.react','MercuryParticipants','React','StickerConstants','TextWithEmoticons.react','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$MercuryAttachmentSnippet6=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').PHOTO,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5));}.bind(this),this.$MercuryAttachmentSnippet7=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIF,this.$MercuryAttachmentSnippet18,v,this.$MercuryAttachmentSnippet5));}.bind(this),this.$MercuryAttachmentSnippet8=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').VIDEO,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet9=function(v){return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').AUDIO_CLIP,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet15=function(v){return (c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER,this.$MercuryAttachmentSnippet18,v)));}.bind(this),this.$MercuryAttachmentSnippet10=function(v){var w=c('MercuryConfig').MessengerNewEmojiGK?c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,text:c('EmoticonsList').symbols.like}):c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,text:c('EmoticonsList').symbols.like});if(this.$MercuryAttachmentSnippet18){return (c('React').createElement('span',null,j._("Vous\u00a0: {conversation_snippet}",[j.param('conversation_snippet',w)])));}else return this.props.thread.is_canonical?c('React').createElement('span',null,j._("{conversation_snippet}",[j.param('conversation_snippet',w)])):c('React').createElement('span',null,j._("{sender name}\u00a0: {conversation_snippet}",[j.param('sender name',v),j.param('conversation_snippet',w)]));}.bind(this),this.$MercuryAttachmentSnippet11=function(v){return (c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').STICKER,this.$MercuryAttachmentSnippet18,v)));}.bind(this),this.$MercuryAttachmentSnippet12=function(v){if(!!this.$MercuryAttachmentSnippet5[0].share)return (c('React').createElement(c('MercuryShareAttachmentSnippet.react'),{attachment:this.$MercuryAttachmentSnippet5[0].share,senderName:v,isViewerSender:this.$MercuryAttachmentSnippet18}));return this.$MercuryAttachmentSnippet17(c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').SHARE,this.$MercuryAttachmentSnippet18,v));}.bind(this),this.$MercuryAttachmentSnippet13=function(v){return (c('React').createElement('span',null,c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').GIFT,this.$MercuryAttachmentSnippet18,v)));}.bind(this),this.$MercuryAttachmentSnippet16=function(v){return (c('React').createElement('span',null,this.$MercuryAttachmentSnippet5.filter(function(w){return (w.attach_type===c('MercuryAttachmentType').FILE||w.attach_type===c('MercuryAttachmentType').PHOTO||w.attach_type===c('MercuryAttachmentType').VIDEO);}).map(function(w,x){return this.$MercuryAttachmentSnippet17(w.name,w.icon_type,x);}.bind(this))));}.bind(this),this.$MercuryAttachmentSnippet17=function(v,w,x){var y=c('MercuryAttachment').getAttachIconClass(w||this.$MercuryAttachmentSnippet5[0].icon_type),z=c('joinClasses')(y,"uiIconText _3l6h");return (c('React').createElement('span',{key:x},c('React').createElement('span',{className:z},c('React').createElement(c('Image.react'),{src:i('/images/messaging/docs/generic.png')})),v));}.bind(this),this.$MercuryAttachmentSnippet14=function(v){var w=c('MercuryAttachmentSnippetRenderer').renderAttachmentSnippetText(c('MercuryAttachmentSnippetType').ERROR,this.$MercuryAttachmentSnippet18,v);return this.$MercuryAttachmentSnippet17(w);}.bind(this),this.$MercuryAttachmentSnippet2=function(v){this.$MercuryAttachmentSnippet19=v.viewer;this.$MercuryAttachmentSnippet20=v.thread.snippet_sender;this.$MercuryAttachmentSnippet5=v.thread.snippet_attachments;this.$MercuryAttachmentSnippet18=p(this.$MercuryAttachmentSnippet20,this.$MercuryAttachmentSnippet19);}.bind(this),this.$MercuryAttachmentSnippet4=function(){if(!this.$MercuryAttachmentSnippet20||this.$MercuryAttachmentSnippet18)return null;var v=c('MercuryParticipants').getNow(this.$MercuryAttachmentSnippet20);if(!v)return null;var w=c('MercuryIDs').getUserIDFromParticipantID(this.$MercuryAttachmentSnippet20),x=this.props.thread.custom_nickname&&this.props.thread.custom_nickname[w];if(x&&c('MercuryConfig').MessengerNewEmojiGK)x=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x});return x?x:v.short_name;}.bind(this),this.$MercuryAttachmentSnippet1=function(v){if(!v)return;this.$MercuryAttachmentSnippet3();if(!c('MercuryParticipants').getNow(v))this.$MercuryAttachmentSnippet21=c('MercuryParticipants').get(v,function(w){return this.forceUpdate();}.bind(this));}.bind(this),this.$MercuryAttachmentSnippet3=function(){this.$MercuryAttachmentSnippet21&&this.$MercuryAttachmentSnippet21.remove();}.bind(this),r;}n.prototype.componentWillMount=function(){this.$MercuryAttachmentSnippet1(this.props.thread.snippet_sender);this.$MercuryAttachmentSnippet2(this.props);};n.prototype.componentWillReceiveProps=function(q){this.$MercuryAttachmentSnippet1(q.thread.snippet_sender);this.$MercuryAttachmentSnippet2(q);};n.prototype.componentWillUnmount=function(){this.$MercuryAttachmentSnippet3();};n.prototype.render=function(){var q=this.$MercuryAttachmentSnippet4(),r=c('MercuryAttachmentSnippetRenderer').getAttachmentSnippetType(this.$MercuryAttachmentSnippet5);switch(r){case c('MercuryAttachmentSnippetType').PHOTO:return this.$MercuryAttachmentSnippet6(q);case c('MercuryAttachmentSnippetType').GIF:return this.$MercuryAttachmentSnippet7(q);case c('MercuryAttachmentSnippetType').VIDEO:return this.$MercuryAttachmentSnippet8(q);case c('MercuryAttachmentSnippetType').AUDIO_CLIP:return this.$MercuryAttachmentSnippet9(q);case c('MercuryAttachmentSnippetType').LIKE_STICKER:return this.$MercuryAttachmentSnippet10(q);case c('MercuryAttachmentSnippetType').STICKER:return this.$MercuryAttachmentSnippet11(q);case c('MercuryAttachmentSnippetType').SHARE:return this.$MercuryAttachmentSnippet12(q);case c('MercuryAttachmentSnippetType').GIFT:return this.$MercuryAttachmentSnippet13(q);case c('MercuryAttachmentSnippetType').ERROR:return this.$MercuryAttachmentSnippet14(q);case c('MercuryAttachmentSnippetType').THIRDPARTYSTICKER:return this.$MercuryAttachmentSnippet15(q);default:return this.$MercuryAttachmentSnippet16(q);}};n.propTypes={thread:m.object.isRequired,viewer:m.string.isRequired};function o(q){return (q==c('StickerConstants').LIKE_STICKER_ID||q==c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID||q==c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID||q==c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID);}function p(q,r){return !!(q&&c('MercuryIDs').getParticipantIDFromUserID(r)==q);}f.exports=n;}),null);
__d('MercuryThreadSnippet.react',['cx','fbt','immutable','ImmutableObject','MercuryAttachmentSnippet.react','MercuryConfig','MercuryIDs','MessengerTextWithEmoticons.react','MNAdsLogMessageUtils','React','TextWithEmoticons.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.shouldComponentUpdate=function(p){return (this.props.shouldRenderYou!==p.shouldRenderYou||this.props.thread!==p.thread||this.props.viewer!==p.viewer||this.props.className!==p.className||!c('immutable').is(p.participants,this.props.participants));};m.prototype.render=function(){return (c('React').createElement('span',{className:this.props.className},this.$MercuryThreadSnippet1(),this.$MercuryThreadSnippet2()));};m.prototype.$MercuryThreadSnippet1=function(){if(!this.props.thread.snippet||!n(this.props.thread))return null;return (c('React').createElement('span',{className:"_j0r"}));};m.prototype.$MercuryThreadSnippet2=function(){var p=this.props.thread,q=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),r=p.snippet,s=this.props.shouldRenderYou;if(p.snippetCount!=null)return i._({"*":"{number} r\u00e9sultats","268435456":"1 r\u00e9sultat"},[i.plural(p.snippetCount,'number')]);if(!r&&(p.snippet_attachments&&p.snippet_attachments.length>0||!p.snippet_sender))return this.$MercuryThreadSnippet3(r);var t=this.$MercuryThreadSnippet3(r),u=p.participants?p.participants.length:0;if(p.is_subscribed)u--;c('MNAdsLogMessageUtils').logAdsThreadListImpression(p);var v=o(p);if(v)return i._("{name}\u00a0: {conversation_snippet}",[i.param('name',v),i.param('conversation_snippet',t)]);if(p.snippet_sender===q){if(!s)return t;return i._("Vous\u00a0: {conversation_snippet}",[i.param('conversation_snippet',t)]);}if(u<=1&&!this.props.shouldAlwaysRenderSender)return t;var w=this.props.participants.get(p.snippet_sender);if(!w)return t;var x=w.short_name||w.name;if(p){var y=p.custom_nickname?p.custom_nickname:null,z=c('MercuryIDs').getUserIDFromParticipantID(w.id);if(y&&z&&y[z]){x=y[z];if(c('MercuryConfig').MessengerNewEmojiGK)x=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x});}}if(!x)return t;return i._("{name}\u00a0: {conversation_snippet}",[i.param('name',x),i.param('conversation_snippet',t)]);};m.prototype.$MercuryThreadSnippet3=function(p){if(p&&p.startsWith('?OTR'))return i._("[message chiffr\u00e9]");if(p){var q=c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});if(c('MercuryConfig').MessengerNewEmojiGK)q=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});return q;}var r=this.props.thread;if(n(r))return (c('React').createElement(c('MercuryAttachmentSnippet.react'),{thread:r,viewer:this.props.viewer}));return null;};function m(){j.apply(this,arguments);}m.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,shouldAlwaysRenderSender:l.bool,shouldRenderYou:l.bool,thread:l.object.isRequired,viewer:l.string.isRequired};function n(p){return !!(p.snippet_attachments&&p.snippet_attachments.length>0);}function o(p){if(p&&p.snippet_attachments&&p.snippet_attachments[0]&&p.snippet_attachments[0].share&&p.snippet_attachments[0].share.target&&p.snippet_attachments[0].share.target.genie_name)return p.snippet_attachments[0].share.target.genie_name;return null;}f.exports=m;}),null);
__d('MessengerBotsMenuButton.react',['BootloadOnRender.react','ChatFlyoutPlaceholder.react','MessengerEnvironment','JSResource','LazyComponent.react','Link.react','MessengerBotsMenuActions','MessengerBotsMenuStore','MessengerBotsWebTypedLogger','MessengerContextualDialog.react','MNBotsLoggerEvents','React','StoreAndPropBasedStateMixin','XUIContextualDialog.react'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=302,j=280,k=c('React').createClass({displayName:'MessengerBotsMenuButton',_clickGuard:false,mixins:[c('StoreAndPropBasedStateMixin')(c('MessengerBotsMenuStore'))],propTypes:{className:h.string,threadID:h.string.isRequired,pageID:h.string.isRequired},statics:{calculateState:function l(m){var n=c('MessengerBotsMenuStore').getState();return {shown:n.showTray&&m.pageID===n.pageID};}},componentWillUnmount:function l(){if(this.state.shown)this._hideFlyout();},shouldComponentUpdate:function l(m,n){return this.state.shown!==n.shown;},render:function l(){new (c('MessengerBotsWebTypedLogger'))().setEvent(c('MNBotsLoggerEvents').BOT_COMPOSER_MENU_ICON_DISPLAYED).setPageID(this.props.pageID).log();return (c('React').createElement('span',null,c('React').createElement(c('Link.react'),{className:this.props.className,href:'#',onClick:this.showFlyout,onMouseDown:this._prepareForClick,role:'button',ref:'link'}),this.renderLayers()));},_hideFlyout:function l(){c('MessengerBotsMenuActions').hideMenu(this.props.pageID);},_handleBeforeHide:function l(){if(this.state.shown)this._hideFlyout();},_prepareForClick:function l(){this._clickGuard=this.state.shown;},showFlyout:function l(event){event&&event.stopPropagation();if(this._clickGuard){this._clickGuard=false;return;}c('MessengerBotsMenuActions').showMenu(this.props.pageID);},renderLayers:function l(){if(!this.state.shown)return null;var m=c('MessengerEnvironment').messengerui,n=m?i:j,o=m?c('MessengerContextualDialog.react'):c('XUIContextualDialog.react');return (c('React').createElement(o,babelHelpers['extends']({alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:m?'right':'left',width:n,position:'above',contextRef:function(){return this.refs.link;}.bind(this),onBeforeHide:this._handleBeforeHide,onBlur:this._hideFlyout,shown:this.state.shown},this.props,{key:'contextualDialog'}),c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{onEscKeyDown:this._hideFlyout,shown:this.state.shown,pageID:this.props.pageID,threadID:this.props.threadID,onClick:this._hideFlyout}),loader:c('JSResource')('MessengerPlatformPersistMenuDialog.react').__setRef('MessengerBotsMenuButton.react'),placeholder:c('React').createElement(c('ChatFlyoutPlaceholder.react'),null)})));}});f.exports=k;}),null);
__d('MessengerEmoticonSpan.react',['cx','DraftEntity','EmojiLikeConstants','MessengerSupportedEmojiUtils','EmoticonEmojiList','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=c('DraftEntity').get(this.props.entityKey),n=m.getData(),o=n.type,p=c('EmoticonEmojiList').emote2emojis[o],q=c('MessengerSupportedEmojiUtils').getUrl(p,c('EmojiLikeConstants').size.XSMALL);q=q?q:'';return (c('React').createElement('span',{className:"_21wj",style:{backgroundImage:'url('+q+')'},'data-offset-key':this.props.offsetKey},c('React').createElement('span',{className:"_21wk"},this.props.children)));};function l(){i.apply(this,arguments);}l.propTypes={children:k.arrayOf(k.object),entityKey:k.string.isRequired,offsetKey:k.string};f.exports=l;}),null);
__d('MessengerMentionsEntityDecorator.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement('span',{className:"_fy2"},this.props.children));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MessengerSingleSectionContactList.react',['cx','CurrentUser','MessengerContactAdapters','MessengerContactList.react','MessengerTypeaheadUtils','React','TypeaheadViewPropTypes','joinClasses','wrapNullableForReact'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=(!this.props.entries.length?"_599s":'')+(' '+"_29hl")+(' '+"_8i1")+(' '+"_11_d")+(' '+"_4p-s");return (c('React').createElement(c('MessengerContactList.react'),{ariaOwneeID:this.props.ariaOwneeID,className:c('joinClasses')(this.props.className,l),contactAdapter:c('MessengerContactAdapters').fromSearchableEntry,hasHoverState:true,highlightedEntry:c('wrapNullableForReact')(this.props.highlightedEntry),isLoading:false,listSections:c('MessengerTypeaheadUtils').buildSingleSection(this.props.entries),onRenderHighlight:this.props.onRenderHighlight,onHighlight:this.props.onHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,viewer:c('CurrentUser').getID()}));};function k(){i.apply(this,arguments);}k.propTypes=c('TypeaheadViewPropTypes');k.defaultProps={role:'listbox'};f.exports=k;}),null);
__d("XShareScrapeAttachmentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/message_share_attachment\/fromURI\/",{});}),null);
__d('MessengerURLUploader',['AsyncRequest','Event','SubscriptionsHandler','URLMatcher','XShareScrapeAttachmentAsyncController'],(function a(b,c,d,e,f,g){'use strict';var h=c('XShareScrapeAttachmentAsyncController').getURIBuilder().getURI(),i=920,j=920;function k(l,m){this.$MessengerURLUploader3=l;this.$MessengerURLUploader5=new (c('SubscriptionsHandler'))();this.initInput(m);}k.prototype.getData=function(){return this.$MessengerURLUploader2;};k.prototype.getMatchedURL=function(){return this.$MessengerURLUploader4;};k.prototype.initInput=function(l){this.$MessengerURLUploader5.addSubscriptions(c('Event').listen(l,'keyup',this.handleInputValueChange.bind(this)),c('Event').listen(l,'paste',this.handleInputValueChange.bind(this)));};k.prototype.handleInputValueChange=function(l){var m=this.$MessengerURLUploader3(),n=c('URLMatcher').match(m);if(!!n){if(this.$MessengerURLUploader4!==n){this.$MessengerURLUploader4=n;this.$MessengerURLUploader2=null;this.loadShare();}}else{this.$MessengerURLUploader4=null;this.$MessengerURLUploader2=null;}};k.prototype.loadShare=function(){if(this.$MessengerURLUploader1&&this.$MessengerURLUploader1.abort)this.$MessengerURLUploader1.abort();var l=this.$MessengerURLUploader4;if(l)this.$MessengerURLUploader1=new (c('AsyncRequest'))().setMethod('POST').setURI(h).setData({uri:l,image_width:j,image_height:i,disallow_delayed:true}).setHandler(this.handleShareLoad.bind(this,l)).send();};k.prototype.handleShareLoad=function(l,m){if(l===this.$MessengerURLUploader4)this.$MessengerURLUploader2=(m.payload||0).share_data;};f.exports=k;}),null);
__d('DocumentCompositeMentionsSource',['invariant','emptyFunction','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';function i(k,l){var m=k.getCharacterList().toSeq().slice(0,l).reverse().takeWhile(function(n){return n.getEntity()===null;}).count();return k.getText().slice(l-m,l);}function j(k){k.length>0||h(0);this.$DocumentCompositeMentionsSource1=k;this.$DocumentCompositeMentionsSource2=false;this.$DocumentCompositeMentionsSource3=null;}j.prototype.bootstrap=function(k){if(this.$DocumentCompositeMentionsSource2)return;this.$DocumentCompositeMentionsSource2=true;k=k||c('emptyFunction');var l=this.$DocumentCompositeMentionsSource1.length;function m(){l--;if(!l)k&&k();}this.$DocumentCompositeMentionsSource1.forEach(function(n){n.bootstrap(m);});};j.prototype.search=function(k,l,m){var n=l.getAnchorKey(),o=k.getBlockForKey(n);this.$DocumentCompositeMentionsSource4(i(o,l.getAnchorOffset()),m);};j.prototype.$DocumentCompositeMentionsSource4=function(k,l){var m=this.$DocumentCompositeMentionsSource1.length,n,o;for(var p=0;p<m;p++){n=this.$DocumentCompositeMentionsSource1[p];o=n.findMatch(k);if(o===null){continue;}else{var q=c('nullthrows')(o).matchingString;this.$DocumentCompositeMentionsSource3=q;n.search(q,function(r,s){if(this.$DocumentCompositeMentionsSource3===s)l(r,o.leadOffset);}.bind(this));return;}}this.$DocumentCompositeMentionsSource3=null;l(null,null);};f.exports=j;}),null);
__d('DocumentMentionsSource',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){typeof j.findMentionableString==='function'||h(0);this.$DocumentMentionsSource1=j;this.$DocumentMentionsSource2=k;this.$DocumentMentionsSource3=false;}i.prototype.findMatch=function(j){return this.$DocumentMentionsSource1.findMentionableString(j);};i.prototype.bootstrap=function(j){if(!this.$DocumentMentionsSource3){this.$DocumentMentionsSource3=true;this.$DocumentMentionsSource2.bootstrap(j);}};i.prototype.search=function(j,k){this.$DocumentMentionsSource2.search(j,k,{strategyName:this.$DocumentMentionsSource1.name});};f.exports=i;}),null);
__d('StaticSearchSource',['AbstractSearchSource','SearchSourceCallbackManager','TokenizeUtil'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$StaticSearchSource1=k;this.$StaticSearchSource2=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:c('TokenizeUtil').isQueryMatch,indexFn:l});this.$StaticSearchSource2.addLocalEntries(this.$StaticSearchSource1);}j.prototype.searchImpl=function(k,l,m){'use strict';if(!k){l(this.$StaticSearchSource1,k);}else this.$StaticSearchSource2.search(k,l,m);};f.exports=j;}),null);
__d('createMentionsSearchSourceFromParticipants',['AtSignAllowEmptyMentionsStrategy','DocumentCompositeMentionsSource','DocumentMentionsSource','SearchableEntry','StaticSearchSource'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){if(!i||!j||j.length<=2)return null;var l=j.reduce(function(o,p){if(!p||p.fbid===i)return o;var q=k&&k.custom_nickname&&k.custom_nickname[p.fbid]?k.custom_nickname[p.fbid]:'';o.push(new (c('SearchableEntry'))({uniqueID:p.fbid,title:'@'+p.name,subtitle:q,photo:p.image_src,keywordString:p.vanity+' '+q}));return o;},[]),m=new (c('StaticSearchSource'))(l),n=new (c('DocumentMentionsSource'))(c('AtSignAllowEmptyMentionsStrategy'),m);return new (c('DocumentCompositeMentionsSource'))([n]);}f.exports=h;}),null);
__d('createMessengerMentionDraftEntity',['DraftEntity'],(function a(b,c,d,e,f,g){'use strict';function h(i){return c('DraftEntity').create('MENTION','IMMUTABLE',{id:i.getUniqueID()});}f.exports=h;}),null);
__d('getProfileRangesForContentState',['DraftEntity','EmojiFormat','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=c('emptyFunction').thatReturnsTrue;function i(j){var k=[],l=0;j.getBlockMap().forEach(function(m){var n=0,o=m.getText();m.findEntityRanges(h,function(p,q){var r=m.getEntityAt(p);if(r){var s=c('DraftEntity').get(r);if(s.getType()==='EMOTICON'){n+=s.getData().originalEmoticon.length-1;}else if(s.getType()==='EMOJI'){var t=s.getData().type,u=c('EmojiFormat').codeStringToCodeArray(t),v=String.fromCodePoint.apply(String,u);n+=v.length-1;}else if(s.getType()==='MENTION'){var w=s.getData().id,x=p+n+l;if(/^\d+$/.test(w))k.push({offset:x,length:q-p,id:w});}}});l+=o.length+n+1;});return k;}f.exports=i;}),null);
__d('applyEmoticonToContentBlock',['CharacterMetadata','DraftEntity','EmoticonsList','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i='\u3000';function j(k,l,m){if(!c('EmoticonsList').emotes[l])return k;var n=c('DraftEntity').create('EMOTICON','IMMUTABLE',{type:c('EmoticonsList').emotes[l],originalEmoticon:l}),o=k.getText(),p=k.getCharacterList(),q=l.length,r=p.get(m);return k.merge({text:o.slice(0,m)+i+o.slice(m+q),characterList:p.slice(0,m).concat(h.of(c('CharacterMetadata').applyEntity(r,n)),p.slice(m+q))});}f.exports=j;}),null);
__d('getTextAfterNearestEntity',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=j;while(k>0&&i.getEntityAt(k-1)===null)k--;return i.getText().slice(k,j);}f.exports=h;}),null);
__d('applyEmoticonToContentState',['EmoticonsList','applyEmoticonToContentBlock','getTextAfterNearestEntity'],(function a(b,c,d,e,f,g){'use strict';var h=new RegExp(c('EmoticonsList').regexp.source,'g');function i(j,k){var l=k.getAnchorKey(),m=k.getAnchorOffset(),n=j.getBlockForKey(l),o=c('getTextAfterNearestEntity')(n,m),p,q;while(q!==null){q=h.exec(o);if(q!==null)p=q;}if(!p)return j;var r=p[1];if(!r&&m!==o.length)return j;var s=p[2],t=m-o.length,u=t+p.index+p[1].length,v=j.getBlockMap().set(l,c('applyEmoticonToContentBlock')(n,s,u));m-=s.length-1;return j.merge({blockMap:v,selectionBefore:k,selectionAfter:k.merge({anchorOffset:m,focusOffset:m})});}f.exports=i;}),null);
__d('handleBeforeInputForEmoticon',['DraftModifier','EditorState','applyEmoticonToContentState'],(function a(b,c,d,e,f,g){var h=new RegExp(/[\s'".,!?]/);function i(j,k){var l=j.getSelection();if(!l.isCollapsed()||!k||!h.test(k))return j;var m=j.getCurrentContent(),n=c('applyEmoticonToContentState')(m,l);if(n===m)return j;var o=c('DraftModifier').insertText(n,n.getSelectionAfter(),k);return c('EditorState').push(j,o,'insert-characters');}f.exports=i;}),null);
__d('applyMessengerEmoticonToContentBlock',['CharacterMetadata','DraftEntity','EmoticonEmojiList','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i='\u3000';function j(k,l,m){if(!c('EmoticonEmojiList').names[l])return k;var n=c('DraftEntity').create('EMOTICON','IMMUTABLE',{type:c('EmoticonEmojiList').names[l],originalEmoticon:l}),o=k.getText(),p=k.getCharacterList(),q=l.length,r=p.get(m);return k.merge({text:o.slice(0,m)+i+o.slice(m+q),characterList:p.slice(0,m).concat(h.of(c('CharacterMetadata').applyEntity(r,n)),p.slice(m+q))});}f.exports=j;}),null);
__d('applyMessengerEmoticonToContentState',['EmoticonEmojiList','applyMessengerEmoticonToContentBlock','getTextAfterNearestEntity'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=j.getAnchorKey(),l=j.getAnchorOffset(),m=i.getBlockForKey(k),n=c('getTextAfterNearestEntity')(m,l),o=c('EmoticonEmojiList').regexp.exec(n);if(!o)return i;var p=o[1];if(!p&&l!==n.length)return i;var q=o[2],r=l-n.length,s=r+o.index+o[1].length,t=i.getBlockMap().set(k,c('applyMessengerEmoticonToContentBlock')(m,q,s));l-=q.length-1;return i.merge({blockMap:t,selectionBefore:j,selectionAfter:j.merge({anchorOffset:l,focusOffset:l})});}f.exports=h;}),null);
__d('handleBeforeInputForMessengerEmoticon',['DraftModifier','EditorState','applyMessengerEmoticonToContentState'],(function a(b,c,d,e,f,g){'use strict';var h=new RegExp(/[\s'".,!?]/);function i(j,k){var l=j.getSelection();if(!l.isCollapsed()||!k||!h.test(k))return j;var m=j.getCurrentContent(),n=c('applyMessengerEmoticonToContentState')(m,l);if(n===m)return j;var o=c('DraftModifier').insertText(n,n.getSelectionAfter(),k);return c('EditorState').push(j,o,'insert-characters');}f.exports=i;}),null);
__d('handleSoftNewlineForEmoticon',['DraftModifier','EditorState','applyEmoticonToContentState'],(function a(b,c,d,e,f,g){function h(i){var j=i.getCurrentContent(),k=i.getSelection(),l=c('applyEmoticonToContentState')(j,k),m=c('DraftModifier').splitBlock(l,j===l?k:l.getSelectionAfter());return c('EditorState').push(i,m,'split-block');}f.exports=h;}),null);
__d('handleSoftNewlineForMessengerEmoticon',['DraftModifier','EditorState','applyMessengerEmoticonToContentState'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.getCurrentContent(),k=i.getSelection(),l=c('applyMessengerEmoticonToContentState')(j,k),m=c('DraftModifier').splitBlock(l,j===l?k:l.getSelectionAfter());return c('EditorState').push(i,m,'split-block');}f.exports=h;}),null);
__d('insertEmoticonIntoContentState',['DraftModifier','applyEmoticonToContentBlock'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=c('DraftModifier').replaceText(j,k,i),m=k.getAnchorKey(),n=k.getAnchorOffset(),o=l.getBlockForKey(m),p=l.getBlockMap().set(m,c('applyEmoticonToContentBlock')(o,i,n));n++;return j.merge({blockMap:p,selectionBefore:k,selectionAfter:k.merge({anchorOffset:n,focusOffset:n})});}f.exports=h;}),null);
__d('insertEmoticonIntoEditorState',['DraftModifier','EditorState','insertEmoticonIntoContentState'],(function a(b,c,d,e,f,g){'use strict';var h=' ';function i(j,k){var l=k.getSelection(),m=k.getCurrentContent(),n=l.getStartOffset(),o=l.getEndOffset(),p=m.getBlockForKey(l.getStartKey()).getText(),q=m.getBlockForKey(l.getEndKey()).getText(),r='';if(o<=q.length&&q[o]!==h)r=h;if(n>0&&p[n-1]!==h){m=c('DraftModifier').insertText(m,l,h);l=m.getSelectionAfter();}var s=c('insertEmoticonIntoContentState')(j,m,l);m=c('DraftModifier').insertText(s,s.getSelectionAfter(),r);return c('EditorState').push(k,m,'insert-characters');}f.exports=i;}),null);
__d('isSoftNewlineEvent',['Keys'],(function a(b,c,d,e,f,g){'use strict';function h(i){return i.which===c('Keys').RETURN&&(i.getModifierState('Shift')||i.getModifierState('Alt')||i.getModifierState('Control'));}f.exports=h;}),null);
__d("messengerDomIDsRe",["uniqueID"],(function a(b,c,d,e,f,g){'use strict';var h={COMPOSER_INPUT_DESCRIPTION:c("uniqueID")(),CONVERSATION:c("uniqueID")(),MAIN_LABEL:c("uniqueID")(),MUTE_DIALOG_TITLE:c("uniqueID")(),THREAD_INFO_PANEL:c("uniqueID")(),THREAD_TITLE:c("uniqueID")()};g.ids=h;}),null);
__d('MessengerComposerInput.react',['cx','fbt','AtSignAllowEmptyMentionsStrategy','AbstractMentionsTextEditor.react','Bootloader','CompositeDraftDecorator','DraftModifier','DOMDimensions','EditorState','EmojiFormat','EmoticonSpan.react','MessengerEmojiSpan.react','MessengerEmoticonSpan.react','MessengerMentionsEntityDecorator.react','MessengerSingleSectionContactList.react','Event','immutable','MentionsLayer.react','MercuryConfig','MercuryIDs','MercuryThreadIDMap','MercuryThreadSnippet.react','MercuryThreadTitle.react','MercuryTimestamp','MercuryTriodeSourceUtil','MessengerBotsMenuButton.react','MessengerConstants','messengerDomIDsRe','MessengerEditorStateManager','MessengerTabIndices','MessengerURLUploader','React','ReactDOM','Run','TypingDetectorController','URLMatcher','clearImmediate','createMessengerMentionDraftEntity','createMentionsSearchSourceFromParticipants','debounce','getEntityMatcher','getProfileRangesForContentState','getThreadTypeNameFromThreadType','getVisibleValueForContentState','getVisibleValueForContentStateWithMessengerEmoji','handleBeforeInputForEmoticon','handleBeforeInputForMessengerEmoji','handleBeforeInputForMessengerEmoticon','handleSoftNewlineForEmoticon','handleSoftNewlineForMessengerEmoticon','insertEmoticonIntoEditorState','insertMessengerEmojiIntoContentState','isSoftNewlineEvent','setImmediate','shouldNotRenderSegoe'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerDomIDsRe').ids,m=c('React').PropTypes,n=/^image\//,o='handled',p=8,q='not-handled';j=babelHelpers.inherits(r,c('React').PureComponent);k=j&&j.prototype;function r(s){k.constructor.call(this,s);this.$MessengerInput8=false;this.$MessengerInput16=function(t){if(t!==this.state.editorState)this.setState({editorState:t},function(){this.$MessengerInput5();}.bind(this));}.bind(this);this.$MessengerInput17=function(event){if(c('isSoftNewlineEvent')(event)){this.setState(function(t){var u=t.editorState,v=c('MercuryConfig').MessengerNewEmojiGK?c('handleSoftNewlineForMessengerEmoticon'):c('handleSoftNewlineForEmoticon');return {editorState:v(u)};});return o;}this.setState({},function(){if(this.getValue().trim().length>0)this.$MessengerInput18();}.bind(this));return o;}.bind(this);this.getValue=function(){if(c('MercuryConfig').MessengerNewEmojiGK)return c('getVisibleValueForContentStateWithMessengerEmoji')(this.state.editorState.getCurrentContent());return c('getVisibleValueForContentState')(this.state.editorState.getCurrentContent());}.bind(this);this.focus=function(){this.refs.input.focus();}.bind(this);this.$MessengerInput23=function(t){this.props.onBeforeInput&&this.props.onBeforeInput(t);var u=this.$MessengerInput27(t),v=this.$MessengerInput28(t);return u||v?o:q;}.bind(this);this.$MessengerInput9=function(t){var u=this.props.handleOnlyImageUploads?t.filter(function(v){return v&&n.test(v.type);}):t;if(u.length){this.props.onFileUpload(u);return o;}return q;}.bind(this);this.$MessengerInput13=function(){this.$MessengerInput15();}.bind(this);this.$MessengerInput14=function(){this.setState(this.$MessengerInput10(true));}.bind(this);this.$MessengerInput24=function(){var t=(this.state.addedMentionsCount||0)+1;this.setState({addedMentionsCount:t});}.bind(this);this.$MessengerInput25=function(){var t=(this.state.mentionsTriggeredCount||0)+1;this.setState({mentionsTriggeredCount:t});}.bind(this);this.$MessengerInput9=this.$MessengerInput9.bind(this);this.state=this.$MessengerInput10();}r.prototype.$MessengerInput10=function(s){return {editorState:this.$MessengerInput11(c('MessengerEditorStateManager').get(this.props.threadID),s)};};r.prototype.componentDidMount=function(){this.$MessengerInput8=true;this.$MessengerInput1=c('DOMDimensions').getElementDimensions(c('ReactDOM').findDOMNode(this)).height;this.$MessengerInput12();this.$MessengerInput2=new (c('MessengerURLUploader'))(this.getValue,c('ReactDOM').findDOMNode(this.refs.input));c('Run').onUnload(this.$MessengerInput13);this.$MessengerInput3=c('Event').listen(window,'blur',this.$MessengerInput13);this.$MessengerInput4=c('Event').listen(window,'focus',this.$MessengerInput14);this.$MessengerInput5=c('debounce')(function(){this.$MessengerInput15();}.bind(this),1000);};r.prototype.componentWillUpdate=function(s){if(this.props.threadID!==s.threadID)this.$MessengerInput15();};r.prototype.componentDidUpdate=function(s,t){this.$MessengerInput7=c('setImmediate')(function(){if(this.$MessengerInput8){var u=c('DOMDimensions').getElementDimensions(c('ReactDOM').findDOMNode(this)).height;if(this.$MessengerInput1!==u)this.props.onResize&&this.props.onResize();this.$MessengerInput1=u;}}.bind(this));if(this.props.threadID!==s.threadID)this.$MessengerInput12();if(t.editorState!==this.state.editorState)this.props.onChange&&this.props.onChange(this.getValue());};r.prototype.componentWillUnmount=function(){this.$MessengerInput8=false;this.$MessengerInput6&&this.$MessengerInput6.destroy();this.props.threadID&&this.$MessengerInput15();this.$MessengerInput7&&c('clearImmediate')(this.$MessengerInput7);this.$MessengerInput3&&this.$MessengerInput3.remove();this.$MessengerInput4&&this.$MessengerInput4.remove();};r.prototype.insertEmoticon=function(s){var t=c('insertEmoticonIntoEditorState')(s,this.state.editorState);if(t!==this.state.editorState)this.$MessengerInput16(t);};r.prototype.insertEmoji=function(s){var t=this.state.editorState,u=c('insertMessengerEmojiIntoContentState')(c('EmojiFormat').codeArrayToCodeString(s),t.getCurrentContent(),t.getSelection(),t.getCurrentInlineStyle()),v=c('EditorState').push(t,u,'insert-characters');if(v!==this.state.editorState)this.$MessengerInput16(c('EditorState').forceSelection(v,u.getSelectionAfter()));};r.prototype.$MessengerInput12=function(){this.$MessengerInput19();var s=this.$MessengerInput10();if(this.props.mentionsEnabled){var t=this.props,u=t.participants,v=t.viewer,w=t.thread;s.mentionsSource=c('createMentionsSearchSourceFromParticipants')(v,u&&u.toArray(),w);}this.setState(s,function(){if(this.props.threadID!==c('MessengerConstants').NEW_THREAD_KEY)c('setImmediate')(function(){if(!this.props.disableAutofocus)this.focus();}.bind(this));}.bind(this));};r.prototype.$MessengerInput15=function(){if(!this.props.threadID)return;c('MessengerEditorStateManager').set(this.props.threadID,this.state.editorState);};r.prototype.$MessengerInput20=function(s){this.setState({editorState:this.$MessengerInput11(c('EditorState').createEmpty()),addedMentionsCount:0,mentionsTriggeredCount:0},s);};r.prototype.$MessengerInput19=function(){this.$MessengerInput6&&this.$MessengerInput6.destroy();this.$MessengerInput6=null;var s=this.props.viewer;if(!s)return;if(this.props.threadID!==c('MessengerConstants').NEW_THREAD_KEY)this.$MessengerInput6=new (c('TypingDetectorController'))(c('MercuryIDs').getUserIDFromThreadID(this.props.threadID),c('ReactDOM').findDOMNode(this.refs.input),c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),null,c('MercuryThreadIDMap').getForFBID(s).getServerIDFromClientIDNow(this.props.threadID),this.getValue);};r.prototype.$MessengerInput18=function(){var s=this.getMentions();if(this.props.onMessageSend&&this.props.onMessageSend(this.getValue(),{shareable_attachment:this.getShareData(),profile_ranges:s},function(t){var u,v=this;if(t&&c('MercuryConfig').Mentions&&s&&s.length)(function(){var w=t;c('Bootloader').loadModules(["CurrentUser","MessengerMentionsTypedLogger","MessengerMentionsLoggerEvents"],function(x,y,z){new y().setEvent(z.MENTION).setGroupSize(this.props.participants&&this.props.participants.size).setNumDelivered(s.length).setNumSelects(this.state.addedMentionsCount).setNumTriggers(this.state.mentionsTriggeredCount).setThreadid(this.props.thread&&this.props.thread.thread_id).setThreadType(c('getThreadTypeNameFromThreadType')(this.props.thread&&this.props.thread.thread_type)).setOfflineThreadid(w.offline_threading_id).setVC(this.props.viewer).log();}.bind(v),'MessengerComposerInput.react');})();}.bind(this)))this.$MessengerInput20(function(){this.$MessengerInput15();this.$MessengerInput6&&this.$MessengerInput6.resetState();}.bind(this));};r.prototype.getMentions=function(){return c('getProfileRangesForContentState')(this.state.editorState.getCurrentContent());};r.prototype.getInput=function(){return this.refs.input;};r.prototype.render=function(){var s=this.props,t=s.participants,u=s.thread,v=s.viewer,w=null;if(t&&u&&v){w=i._("Conversation avec {participantListAsShownInThreadList}. Mise \u00e0 jour {lastUpdatedTime} par {recentUpdateStringAsShownInThreadList}",[i.param('participantListAsShownInThreadList',this.$MessengerInput21(u,v)),i.param('lastUpdatedTime',c('MercuryTimestamp').getAbsoluteTimestamp(u.timestamp)),i.param('recentUpdateStringAsShownInThreadList',this.$MessengerInput22(t,u,v))]);}else w=i._("Saisie d\u2019un nouveau message");var x=null;if(this.props.threadID&&this.props.pageID)x=c('React').createElement('div',{ref:'botsMenuContainer',className:"_3km1"},c('React').createElement(c('MessengerBotsMenuButton.react'),{flyoutAlignment:'left',threadID:this.props.threadID,pageID:this.props.pageID,className:"_3km2"}));var y=c('MercuryConfig').Mentions&&this.props.thread&&!this.props.thread.is_canonical?i._("\u00c9crivez un message, \u0040nom..."):i._("\u00c9crivez un message...");return c('React').createElement('div',{className:"_kmc"+(this.props.smallerEqual640?' '+"_2swd":'')+(c('shouldNotRenderSegoe')(this.state.editorState.getCurrentContent().getPlainText())?' '+"_2por":''),onClick:this.focus},this.props.showMenu?x:null,c('React').createElement('div',{className:"_3-8x"+(this.props.showMenu?' '+"_3km3":'')+(' '+"_3oh-")},c('React').createElement(c('AbstractMentionsTextEditor.react'),{'aria-controls':l.CONVERSATION,ariaDescribedBy:l.COMPOSER_INPUT_DESCRIPTION,ariaLabel:y,editorState:this.state.editorState,handleBeforeInput:this.$MessengerInput23,handleContentReturn:this.$MessengerInput17,handlePastedFiles:this.$MessengerInput9,handleReturn:this.$MessengerInput17,maxResults:p,mentionCreationFn:c('createMessengerMentionDraftEntity'),mentionResultsComponent:c('MentionsLayer.react'),mentionResultsProps:{typeaheadView:c('MessengerSingleSectionContactList.react'),typeaheadViewProps:{},position:'above',autoflip:true},mentionsSource:this.state.mentionsSource,onChange:this.$MessengerInput16,placeholder:y,ref:'input',spellCheck:true,stripPastedStyles:true,tabIndex:this.props.threadID===c('MessengerConstants').NEW_THREAD_KEY?c('MessengerTabIndices').COMPOSER_INPUT:0,textAlignment:'left',onAddMention:this.$MessengerInput24,onShowMentions:this.$MessengerInput25}),c('React').createElement('div',{className:"_5ca7",id:l.COMPOSER_INPUT_DESCRIPTION},w)));};r.prototype.$MessengerInput21=function(s,t){return c('React').createElement(c('MercuryThreadTitle.react'),{thread:s,viewer:t});};r.prototype.$MessengerInput22=function(s,t,u){return c('React').createElement(c('MercuryThreadSnippet.react'),{participants:s,shouldAlwaysRenderSender:true,shouldRenderYou:true,thread:t,viewer:u});};r.prototype.$MessengerInput11=function(s,t){var u=this.$MessengerInput26(),v=c('EditorState').set(s,{decorator:u});return t||this.props.disableAutofocus?v:c('EditorState').moveFocusToEnd(v);};r.prototype.$MessengerInput26=function(){var s=c('MercuryConfig').MessengerNewEmojiGK,t=s?c('MessengerEmoticonSpan.react'):c('EmoticonSpan.react'),u=[{strategy:c('getEntityMatcher')(function(v){return v.getType()==='EMOTICON';}),component:t}];if(s)u.push({strategy:c('getEntityMatcher')(function(v){return v.getType()==='EMOJI';}),component:c('MessengerEmojiSpan.react')});if(c('MercuryConfig').Mentions)u.push({strategy:c('getEntityMatcher')(function(v){return v.getType()==='MENTION';}),component:c('MessengerMentionsEntityDecorator.react')});return new (c('CompositeDraftDecorator'))(u);};r.prototype.$MessengerInput27=function(s){var t=c('MercuryConfig').MessengerNewEmojiGK?c('handleBeforeInputForMessengerEmoticon')(this.state.editorState,s):c('handleBeforeInputForEmoticon')(this.state.editorState,s);if(t===this.state.editorState)return false;this.setState({editorState:t});return true;};r.prototype.$MessengerInput28=function(s){if(!c('MercuryConfig').MessengerNewEmojiGK)return false;var t=c('handleBeforeInputForMessengerEmoji')(this.state.editorState,s);if(t===this.state.editorState)return false;this.setState({editorState:t});return true;};r.prototype.handleTextDropped=function(s){var t=this.state.editorState,u=t.getSelection();if(u.get('hasFocus'))return;var v=c('DraftModifier').replaceText(t.getCurrentContent(),u,s,t.getCurrentInlineStyle()),w=c('EditorState').push(t,v,'insert-fragment');this.$MessengerInput16(w);};r.prototype.getShareData=function(){var s=c('URLMatcher').match(this.getValue());if(s===this.$MessengerInput2.getMatchedURL())return this.$MessengerInput2.getData();return null;};r.prototype.exitCurrentMode=function(){this.refs.input.exitCurrentMode();};r.prototype.triggerSend=function(){if(this.getValue().trim().length>0)this.$MessengerInput18();};r.propTypes={disableAutofocus:m.bool,handleOnlyImageUploads:m.bool.isRequired,isComposing:m.bool,mentionsEnabled:m.bool,onBeforeInput:m.func,onChange:m.func,onResize:m.func,onMessageSend:m.func,participants:m.instanceOf(c('immutable').Map),thread:m.object,threadID:m.string,viewer:m.string,onFileUpload:m.func,showMenu:m.bool,pageID:m.string,smallerEqual640:m.bool};f.exports=r;}),null);
__d('MessengerFileSizeErrorDialog.react',['fbt','MessengerActions','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerFileSizeErrorDialog2=function(){if(this.props.error==='wrong-type'){return (c('React').createElement('div',null,h._("Le type de fichier que vous tentez de joindre n\u2019est pas autoris\u00e9. Veuillez r\u00e9essayer avec un format diff\u00e9rent.")));}else if(this.props.error==='size-exceeded')return (c('React').createElement('div',null,h._("Le fichier s\u00e9lectionn\u00e9 est trop volumineux. La taille maximale est 25 Mo.")));return c('React').createElement('div',null);}.bind(this),this.$MessengerFileSizeErrorDialog1=function(s){if(!s)c('MessengerActions').hideDialog();},o;}m.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerFileSizeErrorDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Impossible de t\u00e9l\u00e9charger les fichiers")),c('React').createElement(k,null,this.$MessengerFileSizeErrorDialog2()),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',label:h._("OK"),type:'primary'})));};m.propTypes={error:l.string.isRequired};f.exports=m;}),null);
__d('MessengerGamesButton.react',['cx','fbt','JSResource','MessengerEnvironment','Link.react','React','MessengerContextualDialog.react','MessengerSpinner.react','BootloadOnRender.react','LazyComponent.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('React').createElement('div',{style:{padding:'30px',textAlign:'center'}},c('React').createElement(c('MessengerSpinner.react'),{color:'grey'}));j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={flyoutOpen:false},this.$MessengerGamesButton1=false,this.$MessengerGamesButton2=function(t){this.setState({flyoutOpen:t});}.bind(this),this.$MessengerGamesButton3=function(){this.setState({flyoutOpen:false});}.bind(this),this.$MessengerGamesButton5=function(t){this.$MessengerGamesButton1=this.state.flyoutOpen;}.bind(this),this.$MessengerGamesButton4=function(t){t.stopPropagation();if(this.state.flyoutOpen||this.$MessengerGamesButton1)return;this.setState({flyoutOpen:!this.state.flyoutOpen});}.bind(this),p;}n.prototype.render=function(){var o=c('MessengerEnvironment').messengerui,p=(o?"_4ce_":'')+(o&&this.state.flyoutOpen?' '+"_5jhb":'')+(o?' '+"_39bk":'')+(o?' '+"_30yy":'')+(!o?' '+"_6gb":'')+(!o?' '+"_4cf0":''),q=null;if(this.state.flyoutOpen)q=c('React').createElement(c('MessengerContextualDialog.react'),{alignment:o?'right':'left',contextRef:function(){return this.refs.gamesButton;}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$MessengerGamesButton2,onBlur:this.$MessengerGamesButton3},c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{placeholder:m,threadFBID:this.props.threadFBID}),loader:c('JSResource')('MessengerGamesFlyout.react').__setRef('MessengerGamesButton.react'),placeholder:m}));return c('React').createElement(c('Link.react'),{className:c('joinClasses')(this.props.className,p),onClick:this.$MessengerGamesButton4,onMouseDown:this.$MessengerGamesButton5,ref:'gamesButton',role:'button',title:i._("Jouer \u00e0 un jeu")},q);};n.propTypes={className:l.string,threadFBID:l.string.isRequired};f.exports=n;}),null);
__d('MessengerGroupPollingButton.react',['cx','fbt','BootloadOnRender.react','JSResource','LazyComponent.react','Link.react','MessengerContextualDialog.react','MessengerEnvironment','MessengerSpinner.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={flyoutOpen:false},this.$MessengerGroupPollingButton1=false,this.$MessengerGroupPollingButton2=function(s){this.setState({flyoutOpen:s});}.bind(this),this.$MessengerGroupPollingButton3=function(){this.setState({flyoutOpen:false});}.bind(this),this.$MessengerGroupPollingButton5=function(s){this.$MessengerGroupPollingButton1=this.state.flyoutOpen;}.bind(this),this.$MessengerGroupPollingButton4=function(s){s.stopPropagation();if(this.state.flyoutOpen||this.$MessengerGroupPollingButton1)return;this.setState({flyoutOpen:!this.state.flyoutOpen});}.bind(this),o;}m.prototype.render=function(){var n=c('MessengerEnvironment').messengerui,o=null;if(this.state.flyoutOpen)o=c('React').createElement(c('MessengerContextualDialog.react'),{contextRef:function(){return this.refs.groupPollingButton;}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$MessengerGroupPollingButton2,onBlur:this.$MessengerGroupPollingButton3},c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{threadFBID:this.props.threadFBID,onSubmitHandler:this.$MessengerGroupPollingButton3}),loader:c('JSResource')('MessengerGroupPollingCreatePollFlyout.react').__setRef('MessengerGroupPollingButton.react'),placeholder:c('React').createElement('div',{style:{padding:'20px',textAlign:'center',width:'250px'}},c('React').createElement(c('MessengerSpinner.react'),{color:'grey'}))}));return c('React').createElement(c('Link.react'),{className:(n?"_39bk":'')+(n?' '+"_2o-b":'')+(n&&this.state.flyoutOpen?' '+"_5jhb":'')+(n?' '+"_30yy":'')+(!n?' '+"_6gb":'')+(!n?' '+"_4tjk":''),onClick:this.$MessengerGroupPollingButton4,onMouseDown:this.$MessengerGroupPollingButton5,ref:'groupPollingButton',role:'button',title:i._("Cr\u00e9er un sondage")},o);};m.propTypes={threadFBID:l.string.isRequired};f.exports=m;}),null);
__d('MessengerHotLikeOutlineSVG.react',['cssVar','fbt','React','MercuryShareAttachmentRenderLocations','WorkGKs','uniqueID','UserAgent'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='transparent',n=i._("Pouce vers le haut");j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={titleId:c('uniqueID')()},q;}o.prototype.render=function(){var p=this.props.color||(c('WorkGKs').workplace_www_chat_branding?"#1479fb":"#0084ff"),q=c('UserAgent').isBrowser('Safari')?'0 0 40.16 42.24':'-1 -1 40.16 42.24',r={height:this.props.height||'85%'};if(this.props.location!==c('MercuryShareAttachmentRenderLocations').CHAT&&this.props.location!==c('MercuryShareAttachmentRenderLocations').PAGES_INBOX)r.width='66%';return (c('React').createElement('svg',{'aria-labelledby':this.state.titleId,version:'1.1',viewBox:q,preserveAspectRatio:'xMinYMax meet',style:r},c('React').createElement('title',{id:this.state.titleId},n),c('React').createElement('path',{d:'M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z',transform:'translate(-898.5 -1563.26)',fill:m,fillRule:'evenodd',stroke:p,strokeLinecap:'round',strokeWidth:'5%'})));};o.propTypes={color:l.string,height:l.string,location:l.string};f.exports=o;}),null);
__d('MessengerHotLikeButton.react',['cx','fbt','EmojiLikeConstants','EmojiLikeCxData','Image.react','ImmutableObject','Keys','KeyStatus','Link.react','MercuryConfig','MercuryMessageObject','MercuryTriodeSourceUtil','MessengerEnvironment','MessengerHotLikePreviewEvents','MessengerHotLikeOutlineSVG.react','MessengerHotLikeUtils','React','StickerConstants','clearTimeout','ifRequired','joinClasses','setIntervalAcrossTransitions','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('MercuryMessageObject').get(),m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerHotLikeButton1=null,this.$MessengerHotLikeButton2=null,this.$MessengerHotLikeButton3=null,this.$MessengerHotLikeButton4=null,this.$MessengerHotLikeButton6=function(t){if(this.props.disabled||this.$MessengerHotLikeButton3){t.preventDefault();t.stopPropagation();}if(this.props.disabled||t.button!==0)return;this.props.onMouseDown&&this.props.onMouseDown();this.$MessengerHotLikeButton3=Date.now();this.$MessengerHotLikeButton9();this.$MessengerHotLikeButton10();}.bind(this),this.$MessengerHotLikeButton8=function(){if(!(this.props.threadID&&this.$MessengerHotLikeButton3))return;this.$MessengerHotLikeButton3=0;this.$MessengerHotLikeButton11();this.$MessengerHotLikeButton12();}.bind(this),this.$MessengerHotLikeButton14=function(){if(!this.props.threadID)return;c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').POP,this.props.threadID);}.bind(this),this.$MessengerHotLikeButton7=function(){if(this.$MessengerHotLikeButton3){this.$MessengerHotLikeButton3=0;this.$MessengerHotLikeButton11();this.$MessengerHotLikeButton14();}}.bind(this),this.$MessengerHotLikeButton5=function(t){t.stopPropagation();if(this.props.disabled)return;if(c('KeyStatus').getKeyDownCode()===c('Keys').RETURN||!this.props.threadID){var u=this.props.sendCustomLike;if(this.props.customLike&&u){u(this.props.customLike,c('MessengerHotLikeUtils').getEmojiSizeForTime(1));}else this.props.sendSticker(c('MessengerHotLikeUtils').getStickerIDForTime(1));}}.bind(this),p;}n.prototype.componentDidMount=function(){this.$MessengerHotLikeButton4=c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').FINISH_ANIMATION,function(o,p,q){if(o===this.props.threadID)if(q&&this.props.customLike&&this.props.sendCustomLike){this.props.sendCustomLike(this.props.customLike,q,c('EmojiLikeConstants').source.HOT_LIKE);}else this.props.sendSticker(p);}.bind(this));};n.prototype.componentWillUnmount=function(){this.$MessengerHotLikeButton4&&this.$MessengerHotLikeButton4.remove();};n.prototype.render=function(){var o=null,p={};if(this.props.customLike&&this.props.customLike.emoji){if(c('MercuryConfig').MessengerNewEmojiGK){var q=this.props.customLike.emoji,r=c('EmojiLikeCxData').getNewEmojiData(q,c('EmojiLikeConstants').size.SMALL),s=this.props.renderSize?this.props.renderSize:16;p.background='none';o=c('React').createElement(c('Image.react'),{src:r.url,style:{padding:s==16?0:3,display:'block',height:s,width:s}});}else{q=this.props.customLike.medium;if(q){p.background='none';o=c('React').createElement(c('Image.react'),{src:q,style:{display:'block',height:16,width:16}});}}}else if(this.props.CustomRenderer){var t=this.props.CustomRenderer;o=c('React').createElement(t,{color:this.props.customColor,location:this.props.location});}else if(this.props.customColor)o=c('React').createElement(c('MessengerHotLikeOutlineSVG.react'),{color:this.props.customColor,location:this.props.location});var u=i._("Envoyer une mention J\u2019aime");return c('React').createElement(c('Link.react'),{'aria-label':u,className:c('joinClasses')(this.props.customColor||this.props.CustomRenderer?"_5j_u":'',this.props.className),disabled:this.props.disabled,href:'#',onClick:this.$MessengerHotLikeButton5,onDragStart:function v(w){return w.preventDefault();},onMouseDown:this.$MessengerHotLikeButton6,onMouseLeave:this.$MessengerHotLikeButton7,onMouseUp:this.$MessengerHotLikeButton8,role:'button',style:p,title:u},o);};n.prototype.$MessengerHotLikeButton9=function(){if(!this.props.threadID)return;c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').START,this.$MessengerHotLikeButton13(),this.props.threadID);};n.prototype.$MessengerHotLikeButton12=function(){if(!this.props.threadID)return;if(c('MessengerEnvironment').messengerui){c('ifRequired')('MessengerHotLikePreview.react',function(){c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').STOP,this.props.threadID);}.bind(this),function(){if(this.$MessengerHotLikeButton1!==null)return;this.$MessengerHotLikeButton1=c('setIntervalAcrossTransitions')(function(){c('ifRequired')('MessengerHotLikePreview.react',function(){if(this.$MessengerHotLikeButton1!==null){clearInterval(this.$MessengerHotLikeButton1);this.$MessengerHotLikeButton1=null;}c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').STOP,this.props.threadID);}.bind(this));}.bind(this),100);}.bind(this));}else c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').STOP,this.props.threadID);};n.prototype.$MessengerHotLikeButton13=function(){var o=this.props.threadID;if(!o)return null;var p=l.constructStickerMessageObject(c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID,c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),o);l.normalizeNewMessage(p);p.is_like_preview=true;p.like_preview_since=this.$MessengerHotLikeButton3;p.customLike=this.props.customLike&&this.props.customLike.emoji?this.props.customLike:null;p.body='';return new (c('ImmutableObject'))(p);};n.prototype.$MessengerHotLikeButton10=function(){this.$MessengerHotLikeButton11();this.$MessengerHotLikeButton2=c('setTimeoutAcrossTransitions')(this.$MessengerHotLikeButton14,c('MessengerHotLikeUtils').SizeTimes.large);};n.prototype.$MessengerHotLikeButton11=function(){c('clearTimeout')(this.$MessengerHotLikeButton2);};n.propTypes={CustomRenderer:m.func,onMouseDown:m.func,customLike:m.object,customColor:m.string,location:m.string,sendSticker:m.func.isRequired,sendCustomLike:m.func,threadID:m.string,disabled:m.bool,renderSize:m.number};f.exports=n;}),null);
__d('MessengerResponsiveBlock.react',['React','shallowEqual'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k={bottom:0,left:0,overflow:'hidden',position:'absolute',right:0,top:0,visibility:'hidden',zIndex:-1},l={left:0,position:'absolute',top:0,transition:'0s'},m={height:'200%',left:0,position:'absolute',top:0,transition:'0s',width:'200%'};h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.dirty=false,this.lastWidth=null,this.lastHeight=null,this.lastBreakpointsToggles=null,this.setupWeirdScrollTracking=function(){this.refs.expandChild.style.width='10000px';this.refs.expandChild.style.height='10000px';this.refs.expand.scrollLeft=100000;this.refs.expand.scrollTop=100000;this.refs.shrink.scrollLeft=100000;this.refs.shrink.scrollTop=100000;}.bind(this),this.onScroll=function(){var t=this.refs.outer.offsetWidth,u=this.refs.outer.offsetHeight;if(t!=this.lastWidth||u!=this.lastHeight)if(!this.dirty){this.dirty=true;this.lastWidth=t;this.lastHeight=u;var v=this.props.breakpointsToggles(t,u);if(c('shallowEqual')(this.lastBreakpointsToggles,v)){this.dirty=false;}else this.forceUpdate(function(){this.dirty=false;}.bind(this));this.lastBreakpointsToggles=v;}this.setupWeirdScrollTracking();}.bind(this),p;}n.prototype.componentDidMount=function(){this.setupWeirdScrollTracking();};n.prototype.render=function(){return (c('React').createElement('div',{ref:'outer'},this.props.children(this.props.breakpointsToggles(this.lastWidth,this.lastHeight)),c('React').createElement('div',{style:k,onScroll:this.onScroll,ref:'expand'},c('React').createElement('div',{style:l,ref:'expandChild'})),c('React').createElement('div',{style:k,onScroll:this.onScroll,ref:'shrink'},c('React').createElement('div',{style:m}))));};n.propTypes={children:j.func.isRequired,breakpointsToggles:j.func.isRequired};f.exports=n;}),null);
__d('MessengerSendButton.react',['fbt','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=h._("Appuyer sur Entr\u00e9e pour envoyer"),m=k.customColor?{color:k.customColor}:{};return (c('React').createElement(c('Link.react'),{'aria-label':l,className:k.className,style:m,title:l,onClick:k.onClick},h._("Envoyer")));};f.exports=i;}),null);
__d("XMNCommercePageNullStateCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/page\/nullstate\/",{});}),null);
__d('MessengerComposer.react',['cx','fbt','AsyncRequest','AutoFocusableLink.react','BootloadedComponent.react','MercuryBootloadOnInteraction.react','BootloadOnRender.react','Bootloader','ChatPhotoUploader.react','ChatConfig','CustomColorHighlighting.react','EmoticonsList','immutable','JSResource','LazyComponent.react','MercuryConfig','MercuryReadOnlyReason','MercuryThreadActions','MessageRequestUtils','MessagingTag','MessengerActions','MessengerComposerInput.react','ChatPageComposerNullState.react','MessengerConfig','MessengerConstants','MessengerContextualDialog.react','MessengerFileSizeErrorDialog.react','MessengerGroupPollingButton.react','MessengerHotLikeButton.react','MessengerHotLikeUtils','MessengerQuickCamOrigins','MessengerResponsiveBlock.react','MessengerSendButton.react','MessengerView','MessengerGamesButton.react','MNCommercePostbackCTADataManager','MNCommercePostbackRefSendManager','P2PGKValues','React','MercuryShareAttachmentRenderLocations','XMNCommercePageNullStateCTAController','XMNCommerceShowStructuredMenuController','getPageIDFromThreadID','isWebGLEnabled'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=640,n=360,o=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.handleFileUpload=function(r){this.refsUploader&&this.refsUploader.uploadFiles(r);this.exitCurrentMode();}.bind(this);this.$MessengerComposer25=function(r){var s=c('EmoticonsList').symbols[r];if(!s)return;this.refsInput&&this.refsInput.insertEmoticon(s);}.bind(this);this.$MessengerComposer32=function(){this.$MessengerComposer30()['delete'](this.props.threadID);c('MessengerActions').selectThread(null);}.bind(this);this.$MessengerComposer31=function(){this.$MessengerComposer30().archive(this.props.threadID);c('MessengerActions').selectThread(null);}.bind(this);this.$MessengerComposer28=function(r,s){if(r.platformFBID.toString()===c('MercuryConfig').MessengerAppID){this.props.onStickerSelect(r.resultID.toString());}else this.refsUploader&&this.refsUploader.uploadURL({attribution_app_id:r.platformFBID,external_image_url:r.source.url,preview_url:r.media.preview?r.media.preview.url:r.media.thumbnail.url,source:r.source});}.bind(this);this.$MessengerComposer29=function(r){this.focusInput();this.refsInput&&this.refsInput.insertEmoji(r);}.bind(this);this.$MessengerComposer12=function(r){this.setState({currentValue:r});}.bind(this);this.$MessengerComposer11=function(r,s,t){this.refsEmojiButton&&this.refsEmojiButton.hideFlyout();return this.props.onMessageSend&&this.props.onMessageSend(r,s,t);}.bind(this);this.$MessengerComposer27=function(r){this.refsInput&&this.refsInput.triggerSend();}.bind(this);this.$MessengerComposer9=function(){if(this.state.nullStateCTA!==null){this.setState({disableNullState:true});if(c('MNCommercePostbackRefSendManager').hasMDotMeRef(this.$MessengerComposer4())){c('MNCommercePostbackCTADataManager').send(this.state.nullStateCTA.id,this.$MessengerComposer1,c('MNCommercePostbackRefSendManager').getMdotMeRef());c('MessengerActions').changeMDotMeReferral();}else c('MNCommercePostbackCTADataManager').send(this.state.nullStateCTA.id,this.$MessengerComposer1);}}.bind(this);this.$MessengerComposer1=function(){this.setState({showNullState:true,disableNullState:false});}.bind(this);this.$MessengerComposer1=this.$MessengerComposer1.bind(this);this.state=this.$MessengerComposer2();}p.prototype.componentWillReceiveProps=function(q){if(q.threadID!==this.props.threadID){this.setState(this.$MessengerComposer2());if(q.thread)this.$MessengerComposer3(q.thread.message_count,c('getPageIDFromThreadID')(q.threadID));}if(q.thread&&q.thread.message_count>0)this.setState({showNullState:false});};p.prototype.componentWillMount=function(){if(this.props.thread)this.$MessengerComposer3(this.props.thread.message_count,this.$MessengerComposer4());};p.prototype.componentDidUpdate=function(q){if(q.canReply!==this.props.canReply)this.props.onResize&&this.props.onResize();if(this.props.thread)if(this.$MessengerComposer5()&&c('MessengerConfig').EnableStructuredMenu){this.$MessengerComposer6();}else this.setState({showMenu:false});};p.prototype.render=function(){if(!this.props.canReply){return this.$MessengerComposer7();}else if(this.props.thread&&c('MessageRequestUtils').isMessageRequest(this.props.thread)&&!this.state.pendingActionsBypassed)return this.$MessengerComposer8();var q=this.props.thread&&this.props.thread.message_count;c('MNCommercePostbackRefSendManager').sendMDotMeRef(this.$MessengerComposer4(),q);if(this.state.showNullState&&this.state.nullStateCTA!==null)return c('React').createElement(c('ChatPageComposerNullState.react'),{title:this.state.nullStateCTA.title,onClick:this.$MessengerComposer9,disabled:this.state.disableNullState});var r=this.$MessengerComposer10();return c('React').createElement(c('CustomColorHighlighting.react'),{customColor:this.props.thread&&this.props.thread.custom_color},c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function s(t){return [t!=null&&t<=m,t];}},function(s){var t=s[0],u=s[1];return c('React').createElement('div',{'aria-label':i._("Nouveau message"),className:"_4rv3",role:'region'},c('React').createElement('div',{className:"_5irm"+(t?' '+"_1_73":'')},c('React').createElement(c('MessengerComposerInput.react'),{disableAutofocus:!!this.props.disableAutofocus,handleOnlyImageUploads:false,isComposing:r,mentionsEnabled:this.props.mentionsEnabled,ref:function(v){return this.refsInput=v;}.bind(this),onBeforeInput:function(){return this.refsEmojiButton&&this.refsEmojiButton.hideFlyout();}.bind(this),onResize:this.props.onResize,onMessageSend:this.$MessengerComposer11,participants:this.props.participants,smallerEqual640:t,thread:this.props.thread,threadID:r?c('MessengerConstants').NEW_THREAD_KEY:this.props.threadID,pageID:this.$MessengerComposer4(),viewer:this.props.viewer,onFileUpload:this.handleFileUpload,onChange:this.$MessengerComposer12,showMenu:this.state.showMenu}),c('React').createElement('ul',{ref:function(v){this.refsButtonsContainer=v;}.bind(this),className:"_4rv4"},this.$MessengerComposer13(u),this.$MessengerComposer14())));}.bind(this)));};p.prototype.$MessengerComposer13=function(q){if(this.props.hideActions)return null;if(q&&q<n)return c('React').createElement('div',null,c('React').createElement('div',{className:"_39bj"},this.$MessengerComposer15(),this.$MessengerComposer16(),this.$MessengerComposer17(),this.$MessengerComposer18()),c('React').createElement('div',{className:"_39bj"},this.$MessengerComposer19(),this.$MessengerComposer20(),this.$MessengerComposer21(),this.$MessengerComposer22(),this.$MessengerComposer23()));return c('React').createElement('div',{className:"_39bj"},this.$MessengerComposer15(),this.$MessengerComposer16(),this.$MessengerComposer17(),this.$MessengerComposer18(),this.$MessengerComposer19(),this.$MessengerComposer20(),this.$MessengerComposer21(),this.$MessengerComposer22(),this.$MessengerComposer23());};p.prototype.$MessengerComposer24=function(q){c('MessengerActions').showDialog(c('MessengerFileSizeErrorDialog.react'),{error:q.error});};p.prototype.handleTextDropped=function(q){this.refsInput&&this.refsInput.handleTextDropped(q);};p.prototype.focusInput=function(){this.refsInput&&this.refsInput.focus();};p.prototype.$MessengerComposer20=function(){if(!c('P2PGKValues').P2PVisible||!this.props.threadID||this.$MessengerComposer5())return null;var q="_30yy _25pc _39bk";return c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:q,ContextualDialog:c('MessengerContextualDialog.react'),threadID:this.props.threadID}),loader:c('JSResource')('P2PSendMoneyContainerBootloader.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:q,role:'button'})});};p.prototype.$MessengerComposer23=function(){if(c('ChatConfig').get('messenger_www_quickcam')&&c('ChatConfig').get('messenger_www_html5_quickcam')&&this.props.threadID)return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:"_4rv5"+(' '+"_39bk")+(this.state.flyoutOpen?' '+"_5jhb":''),location:c('MessengerQuickCamOrigins').MESSENGER,threadID:this.props.threadID,viewer:this.props.viewer}),loader:c('JSResource')('MessengerQuickCamButtonHTML5.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:"_4rv5 _39bk",role:'button'})});return null;};p.prototype.$MessengerComposer19=function(){if(!o)return null;return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{onVoiceClipCreate:this.props.onVoiceClipCreate}),loader:c('JSResource')('MessengerVoiceClipButton.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:"_4rv7 _39bk _30yy",role:'button'})});};p.prototype.$MessengerComposer21=function(){if(c('MessengerConfig').ShowGroupPollingInterface&&this.props.thread&&!this.props.thread.is_canonical&&this.props.threadFBID)return c('React').createElement(c('MessengerGroupPollingButton.react'),{threadFBID:this.props.threadFBID});return null;};p.prototype.$MessengerComposer22=function(){var q=c('MercuryConfig').MessengerGamesGK&&c('isWebGLEnabled')();return q&&this.props.threadFBID&&!this.$MessengerComposer5()?c('React').createElement(c('MessengerGamesButton.react'),{threadFBID:this.props.threadFBID}):null;};p.prototype.$MessengerComposer15=function(){return c('React').createElement('div',{className:"_39bk"},c('React').createElement(c('ChatPhotoUploader.react'),{allowCrossPage:true,disabled:!(this.props.threadID||this.$MessengerComposer26()),ref:function(q){return this.refsUploader=q;}.bind(this),imageClassName:"_5vn8",imagesOnly:false,inputClassname:"_260t",linkClassName:"_30yy _260u",onAllUploadsComplete:this.props.onPhotoUploadComplete,onLastUploadFail:this.props.onPhotoUploadFail,onLastUploadCancel:this.props.onPhotoUploadCancel,onSubmit:this.props.onPhotoUploadSubmit,onUploadError:this.$MessengerComposer24}));};p.prototype.$MessengerComposer14=function(){var q=!(this.props.threadID||this.$MessengerComposer26());if(c('MessengerConfig').SendButtonEnabled&&!q&&this.state.currentValue.length)return c('React').createElement(c('MessengerSendButton.react'),{className:(this.props.threadID?"_30yy":'')+(' '+"_38lh")+(' '+"_39bl"),customColor:this.props.thread&&this.props.thread.custom_color,onClick:this.$MessengerComposer27});return c('React').createElement(c('MessengerHotLikeButton.react'),{className:"_4rv9"+(this.props.threadID?' '+"_30yy":'')+(' '+"_39bl"),disabled:q,customColor:this.props.thread&&this.props.thread.custom_color,customLike:c('MessengerHotLikeUtils').getCustomEmojiFromThread(this.props.thread)||undefined,sendSticker:this.props.onStickerSelect,sendCustomLike:this.props.onCustomLikeSelect,threadID:this.props.threadID,renderSize:24});};p.prototype.$MessengerComposer16=function(){var q=(this.props.threadID?"_30yy":'')+(' '+"_4rv6")+(' '+"_39bk");return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:q,ContextualDialogClass:c('MessengerContextualDialog.react'),disabled:!(this.props.threadID||this.$MessengerComposer26()),getInput:function(){return this.refsInput;}.bind(this),flyoutAlignment:'right',flyoutClassName:"_293j",flyoutWidth:285,onStickerSelect:this.props.onStickerSelect,onEmoticonSelect:this.$MessengerComposer25,threadID:this.props.threadID}),loader:c('JSResource')('ChatStickerButton.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:q,role:'button'})});};p.prototype.$MessengerComposer17=function(){if(!c('MessengerConfig').ContentSearchEnabled)return null;var q=(this.props.threadID?"_30yy":'')+(' '+"_yht")+(' '+"_39bk");return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:q,ContextualDialogClass:c('MessengerContextualDialog.react'),getInput:function(){return this.refsInput;}.bind(this),getQuery:function(){return this.refsInput?this.refsInput.getValue():'';}.bind(this),location:c('MercuryShareAttachmentRenderLocations').MESSENGER,onSelect:this.$MessengerComposer28}),loader:c('JSResource')('ChatContentSearchButton.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:q,role:'button'})});};p.prototype.$MessengerComposer18=function(){if(!c('MercuryConfig').WWWMessengerEmojiPickerEnabled)return null;var q=(this.props.threadID?"_30yy":'')+(' '+"_5s2p")+(' '+"_39bk");return c('React').createElement(c('MercuryBootloadOnInteraction.react'),{component:c('React').createElement(c('LazyComponent.react'),{className:q,ContextualDialogClass:c('MessengerContextualDialog.react'),flyoutAlignment:'right',getInput:function(){return this.refsInput;}.bind(this),onSelect:this.$MessengerComposer29,onMount:function(r){return this.refsEmojiButton=r;}.bind(this),sendCustomEmoji:this.props.onCustomLikeSelect,threadID:this.props.threadID}),loader:c('JSResource')('ChatEmojiButton.react').__setRef('MessengerComposer.react'),placeholder:c('React').createElement(c('AutoFocusableLink.react'),{className:q,role:'button'})});};p.prototype.$MessengerComposer8=function(){return c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',{style:{height:51}}),bootloadLoader:c('JSResource')('MessengerPendingActions.react').__setRef('MessengerComposer.react'),folder:this.props.thread&&this.props.thread.folder,onAcceptClick:function(){this.$MessengerComposer30().changeFolder(this.props.threadID,c('MessagingTag').INBOX);this.setState({pendingActionsBypassed:true});}.bind(this),onDeleteClick:function(){c('Bootloader').loadModules(["MessengerDeleteDialog.react"],function(q){c('MessengerActions').showDialog(q,{onArchive:this.$MessengerComposer31,onDelete:this.$MessengerComposer32,onToggle:this.$MessengerComposer33.bind(this,q)});}.bind(this),'MessengerComposer.react');}.bind(this),onIgnoreClick:function(){this.$MessengerComposer30().changeFolder(this.props.threadID,c('MessagingTag').OTHER);c('MessengerActions').selectThread(null);}.bind(this)});};p.prototype.$MessengerComposer7=function(){return !this.props.thread||this.props.view===c('MessengerView').DETAIL.COMPOSE?null:c('React').createElement('div',{className:"_4rv3"},c('React').createElement('div',{className:"_2wy4"},c('MercuryReadOnlyReason').getReason(this.props.thread.has_email_participant)));};p.prototype.$MessengerComposer33=function(q,r){if(!r)c('MessengerActions').hideDialog(q);};p.prototype.exitCurrentMode=function(){this.refsInput&&this.refsInput.exitCurrentMode();};p.prototype.$MessengerComposer10=function(){return this.props.view===c('MessengerView').DETAIL.COMPOSE;};p.prototype.$MessengerComposer26=function(){return !!(this.$MessengerComposer10()&&this.props.recipients&&this.props.recipients.size);};p.prototype.$MessengerComposer5=function(){return !!this.$MessengerComposer4();};p.prototype.$MessengerComposer4=function(){return c('getPageIDFromThreadID')(this.props.threadID);};p.prototype.$MessengerComposer6=function(){var q=this.$MessengerComposer4(),r=c('XMNCommerceShowStructuredMenuController').getURIBuilder();new (c('AsyncRequest'))().setURI(r.getURI()).setMethod('POST').setData({page_id:q}).setHandler(function(s){return this.setState({showMenu:s&&s.payload});}.bind(this)).send();};p.prototype.$MessengerComposer3=function(q,r){var s=c('MessengerConfig').EnabledNullStateCTA&&q===0,t=c('MessengerConfig').ShouldAlwaysEnableCTAInsteadOfComposer,u=!!r;if(u&&(t||s)){var v=c('XMNCommercePageNullStateCTAController').getURIBuilder();new (c('AsyncRequest'))().setURI(v.getURI()).setMethod('POST').setData({page_id:r}).setHandler(function(w){if(w&&w.payload){this.setState({showNullState:true,nullStateCTA:w.payload});}else this.setState({showNullState:false,disableNullState:false});}.bind(this)).send();}else this.setState({showNullState:false,disableNullState:false});};p.prototype.$MessengerComposer2=function(){return {pendingActionsBypassed:false,currentValue:'',nullStateCTA:null,showMenu:false,showNullState:false,disableNullState:false};};p.prototype.$MessengerComposer30=function(){return c('MercuryThreadActions').getForFBID(this.props.viewer);};p.prototype.testUtils_renderP2PSendMoneyButton=function(){return this.$MessengerComposer20();};p.propTypes={canReply:l.bool,disableAutofocus:l.bool,hideActions:l.bool,mentionsEnabled:l.bool,onCustomLikeSelect:l.func,onMessageSend:l.func,onPhotoUploadComplete:l.func,onPhotoUploadCancel:l.func,onPhotoUploadFail:l.func,onPhotoUploadSubmit:l.func,onResize:l.func,onStickerSelect:l.func.isRequired,onVoiceClipCreate:l.func,participants:l.instanceOf(c('immutable').Map),recipients:l.instanceOf(c('immutable').List),threadID:l.string,threadFBID:l.string,thread:l.object,view:l.string,viewer:l.string};f.exports=p;}),null);
__d('MessengerEmojiUsageUtils',['MessengerSupportedEmojiUtils','Utf16'],(function a(b,c,d,e,f,g){'use strict';var h=65039,i={findAllEmojis:function j(k){var l=[],m=c('MessengerSupportedEmojiUtils').parse(k);m.forEach(function(n){var o=n.emoji.map(function(p){return c('Utf16').decode(p);});o[o.length-1]===h&&o.pop();l.push(o);});return l;}};f.exports=i;}),null);
__d('MessengerSimpleDialog.react',['fbt','MessengerActions','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogTitle.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerSimpleDialog1=function(s){if(!s)c('MessengerActions').hideDialog();},o;}m.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerSimpleDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,this.props.title)),c('React').createElement(k,null,this.props.body),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',label:h._("OK"),type:'primary'})));};m.propTypes={title:l.string.isRequired,body:l.string.isRequired};f.exports=m;}),null);
__d('MessengerComposerContainer.react',['fbt','AsyncUploadRequest','EmojiLikeUtils','EmojiState','EmojiDispatcher','immutable','MercuryAttachment','MercuryAttachmentType','MercuryConfig','MercuryThreadIDMap','MercuryThreadInformer','MercuryIDs','MercuryLocalIDs','MercuryMessageActions','MercuryMessageObject','MercurySendMessageHandler','MercuryThreads','MercuryThreadActions','MercuryTriodeSourceUtil','MessageRequestUtils','MessengerActions','MessengerComposer.react','MessengerComposerActions','MessengerEmojiUsageUtils','MessengerSimpleDialog.react','MessengerView','PhotosUploadID','React','ReactDOM','SubscriptionsHandler','EmojiStateStore'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerComposerContainer7=function(s,t,u){c('EmojiState').updateRecentlyUsed(c('MessengerEmojiUsageUtils').findAllEmojis(s));if(!this.props.canReply){u&&u(null);return false;}var v=null,w=this.$MessengerComposerContainer15(function(x){var y=this.$MessengerComposerContainer4.constructUserGeneratedMessageObject(s,c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),x);if(t){if(t.shareable_attachment)y.shareable_attachment=t.shareable_attachment;if(t.profile_ranges)y.profile_ranges=y.profile_xmd=t.profile_ranges;}v=y;return y;}.bind(this));u&&u(w?v:null);v=null;return w;}.bind(this),this.$MessengerComposerContainer9=function(s,t){this.$MessengerComposerContainer2.cancelAttachmentPlaceholder(t.upload_id,t);}.bind(this),this.$MessengerComposerContainer8=function(s,t){this.$MessengerComposerContainer2.confirmAttachmentPlaceholder(t.upload_id,t);}.bind(this),this.$MessengerComposerContainer10=function(s,t){this.$MessengerComposerContainer2.cancelAttachmentPlaceholder(t.upload_id,t);var u=h._("Impossible de t\u00e9l\u00e9charger la photo"),v=h._("Veuillez r\u00e9essayer. Assurez-vous de t\u00e9l\u00e9charger une photo valide.");if(t.errorDialogParams){u=t.errorDialogParams.title||u;v=t.errorDialogParams.body||v;}this.$MessengerComposerContainer16(u,v);}.bind(this),this.$MessengerComposerContainer11=function(s,t){return this.$MessengerComposerContainer15(function(u){return this.$MessengerComposerContainer4.constructAttachmentMessageObject(c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),u);}.bind(this),function(u){this.$MessengerComposerContainer2.addAttachmentPlaceholder(u,t.upload_id,t);this.handleMessageSentToPendingThread();}.bind(this));}.bind(this),this.$MessengerComposerContainer14=function(s){var t='upload_'+c('PhotosUploadID').getNewID();this.$MessengerComposerContainer1.sendAttachment(this.props.threadID,m(t),c('MercuryTriodeSourceUtil').getMercuryTriodeSource());var u={};u[t]=s;var v=new (c('AsyncUploadRequest'))(c('MercuryConfig').upload_url).setAllowCrossOrigin(true).setRelativeTo(c('ReactDOM').findDOMNode(this)).setData({voice_clip:true}).setFiles(u);this.$MessengerComposerContainer6.addSubscriptions(v.subscribe('success',function(w,x){return this.$MessengerComposerContainer17(x);}.bind(this)));v.send();}.bind(this),this.$MessengerComposerContainer17=function(s){var t=s.getName(),u=s.getResponse().payload.metadata[0].audio_id;this.$MessengerComposerContainer2.confirmAttachmentPlaceholder(t,{upload_id:t,audio_ids:[u]});}.bind(this),this.$MessengerComposerContainer12=function(s){return this.$MessengerComposerContainer15(function(t){return (this.$MessengerComposerContainer4.constructStickerMessageObject(s,c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),t));}.bind(this));}.bind(this),this.$MessengerComposerContainer13=function(s,t,u){var v=this.props.threadID,w=this.$MessengerComposerContainer4.constructUserGeneratedMessageObject(s.emoji,c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),v);w.has_attachment=false;return this.$MessengerComposerContainer15(function(x){c('EmojiLikeUtils').setEmojiSize(w,t);return c('EmojiLikeUtils').setEmojiSource(w,u);});}.bind(this),this.$MessengerComposerContainer15=function(s,t){var u=this.props.threadID,v=this.props.recipients,w=false;if(!u&&v&&v.size>1){u=c('MercuryLocalIDs').generateThreadID();w=true;}if(!u)return false;var x=s(u);if(w){var y=v.map(function(z){return c('MercuryIDs').getParticipantIDFromUserID(z.getUniqueID());}).toArray();this.$MessengerComposerContainer3.createNewLocalThread(u,y);x.offline_threading_id=c('MercuryIDs').tokenize(u).value;x.specific_to_list=y;}if(t){t(x);}else this.$MessengerComposerContainer2.send(x,this.handleMessageSentToPendingThread);if(this.props.view===c('MessengerView').DETAIL.COMPOSE){if(c('MercuryAttachment').get(x).length>0)c('MessengerComposerActions').moveDraftToNextThread(u);c('MessengerComposerActions').exitComposeState();if(c('MercuryIDs').isLocalThread(u)){this.$MessengerComposerContainer5.subscribeOnce('messages-updated',function(z,aa){var ba=c('MercuryThreadIDMap').get();if(ba.canLinkExternally(u))c('MessengerActions').selectThread(u);});}else c('MessengerActions').selectThread(u);}this.focusInput();return true;}.bind(this),this.handleMessageSentToPendingThread=function(){if(this.props.thread&&c('MessageRequestUtils').isMessageRequest(this.props.thread))c('MercuryThreadActions').getForFBID(this.props.viewer).movePendingToInbox(this.props.threadID);}.bind(this),this.$MessengerComposerContainer16=function(s,t){c('MessengerActions').showDialog(c('MessengerSimpleDialog.react'),{title:s,body:t});},o;}l.prototype.componentWillMount=function(){this.$MessengerComposerContainer1=c('MercurySendMessageHandler').getForFBID(this.props.viewer);this.$MessengerComposerContainer2=c('MercuryMessageActions').getForFBID(this.props.viewer);this.$MessengerComposerContainer3=c('MercuryThreads').getForFBID(this.props.viewer);this.$MessengerComposerContainer4=c('MercuryMessageObject').getForFBID(this.props.viewer);this.$MessengerComposerContainer5=c('MercuryThreadInformer').getForFBID(this.props.viewer);this.$MessengerComposerContainer6=new (c('SubscriptionsHandler'))();c('EmojiDispatcher').explicitlyRegisterStores([c('EmojiStateStore')]);this.props.onMount&&this.props.onMount(this);};l.prototype.componentWillUnmount=function(){this.$MessengerComposerContainer6.release();};l.prototype.focusInput=function(){this.refsComposer&&this.refsComposer.focusInput&&this.refsComposer.focusInput();};l.prototype.render=function(){return c('React').createElement(c('MessengerComposer.react'),{canReply:this.props.canReply,mentionsEnabled:!!c('MercuryConfig').Mentions,onMessageSend:this.$MessengerComposerContainer7,onPhotoUploadComplete:this.$MessengerComposerContainer8,onPhotoUploadCancel:this.$MessengerComposerContainer9,onPhotoUploadFail:this.$MessengerComposerContainer10,onPhotoUploadSubmit:this.$MessengerComposerContainer11,onResize:this.props.onResize,onStickerSelect:this.$MessengerComposerContainer12,onCustomLikeSelect:this.$MessengerComposerContainer13,onVoiceClipCreate:this.$MessengerComposerContainer14,participants:this.props.participants,recipients:this.props.recipients,ref:function(n){return this.refsComposer=n;}.bind(this),threadID:this.props.threadID,threadFBID:this.props.threadFBID,thread:this.props.thread,view:this.props.view,viewer:this.props.viewer});};l.prototype.handleFileUpload=function(n){var o=n.reduce(function(p,q){var r=q.type.split('/')[0];if(p[r]){p[r].push(q);}else p.other.push(q);return p;},{audio:[],image:[],other:[]});o.audio.forEach(function(p){return this.$MessengerComposerContainer14(p);}.bind(this));this.refsComposer.handleFileUpload(o.image.concat(o.other));};l.prototype.handleTextDropped=function(n){this.refsComposer.handleTextDropped(n);};l.prototype.resetDrag=function(){this.refsComposer.exitCurrentMode();};l.propTypes={canReply:k.bool,onMount:k.func,onResize:k.func,participants:k.instanceOf(c('immutable').Map),recipients:k.instanceOf(c('immutable').List),threadID:k.string,threadFBID:k.string,thread:k.object,view:k.string,viewer:k.string};function m(n){return {upload_id:n,preview_attachments:[{upload_id:n,attach_type:c('MercuryAttachmentType').PHOTO,preview_uploading:true}]};}f.exports=l;}),null);
__d('MercuryMessageGroup',['MercuryActionType','MercuryAttachmentType','MercuryShareAttachmentRenderLocations','MercuryThreadlistConstants','enumerate'],(function a(b,c,d,e,f,g){'use strict';var h={calculateMessageGroups:function k(l,m){var n=[],o=null,p={value:null},q=c('enumerate')(l),r=void 0;while(!(r=q.next()).done){var s=h.canAppendMessageToLastGroup(p.value,r.value,m);if(!s){o=[];n.push(o);}o.push(r.value);p=r;}return n;},canAppendMessageToLastGroup:function k(l,m,n){var o=c('MercuryThreadlistConstants').GROUPING_THRESHOLD;if(!l||i(l,n)||i(m,n)||l.author!=m.author||l.timestamp<m.timestamp-o||l.is_spoof_warning!==m.is_spoof_warning||l.page_admin_notes)return false;return true;}};function i(k,l){var m=k.has_attachment;if(m&&(l===c('MercuryShareAttachmentRenderLocations').MESSENGER||l===c('MercuryShareAttachmentRenderLocations').CHAT))m=j(k);return !!(k.action_type==c('MercuryActionType').LOG_MESSAGE||m||k.forward_count||k.html_body||k.body&&k.body.length>c('MercuryThreadlistConstants').MAX_CHARS_BEFORE_BREAK);}function j(k){var l=k.attachments[0];return (!l||l.attach_type===c('MercuryAttachmentType').STICKER||l.attach_type===c('MercuryAttachmentType').ANIMATED_IMAGE);}f.exports=h;}),null);
__d("XMercuryChatTabPagesGreetingConfigController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/messaging\/mercury\/greeting\/",{});}),null);
__d('MessengerPageGreetingStore',['AsyncRequest','EventEmitter','Map','XMercuryChatTabPagesGreetingConfigController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=new (c('Map'))(),k=new (c('Map'))();h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;l.prototype.getOrFetch=function(m){var n=j.get(m);n||this.$MessengerPageGreetingStore1(m);return n;};l.prototype.$MessengerPageGreetingStore1=function(m){if(k.get(m))return;var n=c('XMercuryChatTabPagesGreetingConfigController').getURIBuilder().getURI(),o=new (c('AsyncRequest'))().setAllowCrossPageTransition(true).setURI(n).setData({page_id:m}).setHandler(this.$MessengerPageGreetingStore2.bind(this,m));k.set(m,o);o.send();};l.prototype.$MessengerPageGreetingStore2=function(m,n){j.set(m,{shouldShow:n.payload.shouldShow||false,content:n.payload.content||'',sayHelloMessage:n.payload.sayHelloMessage||''});k['delete'](m);this.emit('change');};function l(){h.apply(this,arguments);}f.exports=new l();}),null);
__d('MessageListGreeting.react',['cx','React','MercuryIDs','MessengerPageGreetingStore'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={shouldShowGreeting:false,greeting:''},this.$MessageListGreeting1=false,this.$MessageListGreeting2=function(q){if(!this.$MessageListGreeting1)return;var r=(q||this.props).threadID;if(!r)return;var s=c('MercuryIDs').getUserIDFromThreadID(r);if(!s)return;var t=c('MessengerPageGreetingStore').getOrFetch(s);if(t){this.setState({shouldShowGreeting:t.shouldShow,greeting:t.content});}else c('MessengerPageGreetingStore').once('change',this.$MessageListGreeting2);}.bind(this),m;}k.prototype.componentDidMount=function(){'use strict';this.$MessageListGreeting1=true;this.$MessageListGreeting2();};k.prototype.componentWillUnmount=function(){'use strict';this.$MessageListGreeting1=false;};k.prototype.componentWillReceiveProps=function(l){'use strict';this.$MessageListGreeting2(l);};k.prototype.render=function(){'use strict';if(this.props.messageCount>0)return null;if(!this.state.shouldShowGreeting||this.state.greeting.trim().length===0)return null;return (c('React').createElement('div',{className:"_4fsh _3-8z"},this.state.greeting));};f.exports=k;}),null);
__d('MessageList.react',['cx','immutable','ImmutableObject','MercuryActionType','MercuryIDs','MercuryLogMessageType','MercuryMessageGroup','MessagingGenericAdminTextType','MessengerAdminGroupUtils','messengerDomIDsRe','MessageListGreeting.react','React','ReactDOM','MercuryShareAttachmentRenderLocations','idx'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDomIDsRe').ids,l=c('React').PropTypes,m=1000*60*60,n=function u(v){var w,x,y,z,aa,ba,ca,da,ea=(w=v)!=null?(x=w.log_message_data)!=null?x.message_type:x:w;switch(ea){case c('MessagingGenericAdminTextType').GROUP_POLL:return (y=v)!=null?(z=y.log_message_data)!=null?(aa=z.untypedData)!=null?aa.question_id:aa:z:y;case c('MessagingGenericAdminTextType').INSTANT_GAME_UPDATE:return (ba=v)!=null?(ca=ba.log_message_data)!=null?(da=ca.untypedData)!=null?da.game_id:da:ca:ba;default:return null;}};i=babelHelpers.inherits(o,c('React').PureComponent);j=i&&i.prototype;function o(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=j.constructor).call.apply(u,[this].concat(x)),this.state={activeMessageID:null,messageGroups:c('MercuryMessageGroup').calculateMessageGroups(this.props.messages,this.props.location),shouldShowGreeting:false,greeting:''},this.$MessageList3=function(z){this.setState(function(aa){return {activeMessageID:aa.activeMessageID===z?null:aa.activeMessageID};});}.bind(this),this.$MessageList4=function(z){this.setState({activeMessageID:z});}.bind(this),v;}o.prototype.componentWillReceiveProps=function(u){if(u.messages!==this.props.messages)this.setState({messageGroups:c('MercuryMessageGroup').calculateMessageGroups(u.messages,u.location)});};o.prototype.render=function(){var u=this.props,v=u.DateBreak,w=u.location,x=u.MessageGroup,y=u.CollapsedLogMessageGroup,z=[],aa=[],ba=void 0,ca=this.props.thread&&this.props.thread.custom_color,da=ca?{backgroundColor:ca}:null,ea=this.state.activeMessageID,fa=this.state.messageGroups,ga=fa.length,ha=this.props.readReceipts,ia=ha.last(),ja=ia?ia.watermark:0,ka=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),la={};for(var ma=this.props.messages.size-1;ma>=0;ma--){var na=this.props.messages.get(ma),oa=n(na);if(oa&&!la[oa])la[oa]=na.message_id;}for(var pa=0;pa<ga;pa++){var qa=pa>0?fa[pa-1]:null,ra=qa&&qa.length>0?qa[qa.length-1]:null,sa=fa[pa],ta=sa[0],ua=sa[sa.length-1],va=false;if(!ra||ta.timestamp-ra.timestamp>m){va=true;var wa=c('React').createElement(v,{date:new Date(ta.timestamp),key:'db:'+ta.message_id,ref:'db:'+ta.message_id});if(aa.length===0)z.push(wa);}if(ta.action_type==c('MercuryActionType').LOG_MESSAGE){var xa=ta.log_message_data.message_type===c('MessagingGenericAdminTextType').INSTANT_GAME_UPDATE,ya=ta.log_message_data.message_type===c('MessagingGenericAdminTextType').GROUP_POLL;if((w===c('MercuryShareAttachmentRenderLocations').CHAT||w===c('MercuryShareAttachmentRenderLocations').MESSENGER)&&(ta.log_message_type===c('MercuryLogMessageType').VIDEO_CALL||ta.log_message_type===c('MercuryLogMessageType').PHONE_CALL)){var za=this.$MessageList1(ta,ka,fa,ga,pa,ha,ja,ua);z.push(za);}else{var ab=this.$MessageList2(ta,la);ba=ta.message_id;if(c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread)&&!xa&&!ya){aa.push(ab);}else{if(aa.length!==0){if(aa.length>1){z.push(c('React').createElement(y,{key:'mg:'+ba,style:da},aa));}else z.push(c('React').createElement('div',{key:'mg:'+ba},aa));aa=[];}z.push(ab);}}continue;}if(aa.length!==0){if(aa.length>1){z.push(c('React').createElement(y,{key:'mg:'+ba,style:da},aa));}else z.push(c('React').createElement('div',{key:'mg:'+ba},aa));aa=[];}sa=c('immutable').List(sa);var bb=q(fa,ga,pa),cb=!s(ha,sa,bb),db=r(ja,ua),eb=t(this.props.deliveryTimestamp,ua);z.push(c('React').createElement(x,{activeMessageID:p(ea,sa),author:sa.first().author,deliveryTimestamp:eb,hasDateBreak:va,isCanonical:this.props.isCanonical,isFromViewer:ka===ta.author,isPageMessage:this.props.isPageMessage,key:'mg:'+ta.message_id,lastReadTimestamp:db,maxBubbleWidth:this.props.maxBubbleWidth,messages:sa,nextTimestamp:bb,onAttachmentLoad:this.props.onAttachmentLoad,onMessageDeselect:this.$MessageList3,onMessageSelect:this.$MessageList4,onStickerClick:this.props.onStickerClick,readReceipts:cb?ha:c('immutable').OrderedMap(),ref:'mg:'+ta.message_id,thread:this.props.thread,threadID:this.props.threadID}));}if(aa.length!==0){if(aa.length>1){z.push(c('React').createElement(y,{key:'mg:'+ba,style:da},aa));}else z.push(c('React').createElement('div',{key:'mg:'+ba},aa));aa=[];}var fb=this.props.threadID||this.props.thread&&this.props.thread.thread_id||this.props.thread&&this.props.thread.thread_fbid,gb=null;if(w===c('MercuryShareAttachmentRenderLocations').MESSENGER)gb=c('React').createElement(c('MessageListGreeting.react'),{messageCount:aa.length+ga,threadID:fb});return c('React').createElement('div',{id:w===c('MercuryShareAttachmentRenderLocations').MESSENGER?k.CONVERSATION:null},gb,z);};o.prototype.getMessageElement=function(u,v){if(v){var w=this.refs['db:'+u];if(w)return c('ReactDOM').findDOMNode(w);}var x=this.state.messageGroups.find(function(aa){return aa.some(function(ba){return ba.message_id===u;});});if(!x)return null;var y=x[0].message_id,z=this.refs['mg:'+y];if(!z)return null;if(v&&y===u)return c('ReactDOM').findDOMNode(z);return z.getMessageElement(u);};o.prototype.$MessageList1=function(u,v,w,x,y,z,aa,ba){var ca=this.props.MessageGroup,da={attach_type:'share',share:{style_list:['rtc_call_log','fallback'],log_message_body:u.log_message_body,log_message_data:u.log_message_data,log_message_type:u.log_message_type,timestamp:u.timestamp}},ea=c('ImmutableObject').setProperty(u,'attachments',[da]);ea=c('ImmutableObject').setProperty(ea,'body','');var fa=c('immutable').List([ea]),ga=q(w,x,y),ha=!s(z,fa,ga),ia=r(aa,ba),ja=t(this.props.deliveryTimestamp,ba);return (c('React').createElement(ca,{author:fa.first().author,deliveryTimestamp:ja,isFromViewer:v===u.author,key:u.message_id,lastReadTimestamp:ia,maxBubbleWidth:this.props.maxBubbleWidth,messages:fa,nextTimestamp:ga,onAttachmentLoad:this.props.onAttachmentLoad,onMessageDeselect:this.$MessageList3,onMessageSelect:this.$MessageList4,onStickerClick:this.props.onStickerClick,readReceipts:ha?z:c('immutable').OrderedMap(),thread:this.props.thread,threadID:this.props.threadID}));};o.prototype.$MessageList2=function(u,v){var w=this.props.LogMessage,x=v[n(u)];return (c('React').createElement(w,{className:this.props.location===c('MercuryShareAttachmentRenderLocations').CHAT?"_5w0o":null,key:u.message_id,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:u,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,thread:this.props.thread,isLastOfType:x===u.message_id}));};o.propTypes={CollapsedLogMessageGroup:l.func.isRequired,DateBreak:l.func.isRequired,deliveryTimestamp:l.number.isRequired,isCanonical:l.bool,isPageMessage:l.bool,location:l.string.isRequired,LogMessage:l.func.isRequired,loadMoreMessages:l.func,MessageGroup:l.func.isRequired,messages:l.instanceOf(c('immutable').List).isRequired,onAttachmentLoad:l.func,onStickerClick:l.func,readReceipts:l.instanceOf(c('immutable').OrderedMap).isRequired,viewer:l.string.isRequired,thread:l.object,threadID:l.string};function p(u,v){return v.find(function(w){return w.message_id===u;})?u:null;}function q(u,v,w){return w<v-1?u[w+1][0].timestamp:Infinity;}function r(u,v){return v.timestamp>u?u:Infinity;}function s(u,v,w){return (v.isEmpty()||u.last()<v.first().timestamp||u.first()>=w);}function t(u,v){return v.timestamp>u?u:Infinity;}f.exports=o;}),null);
__d('MessengerCollapsedLogMessageGroup.react',['cx','fbt','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.state={collapsed:true},n;}l.prototype.render=function(){var m=i._("Afficher plus"),n=i._("Voir moins");return (c('React').createElement('div',{className:"_497p"},i._("New Activities in the Room."),' ',c('React').createElement(c('Link.react'),{className:"_4ea1",onClick:function(){return this.setState({collapsed:!this.state.collapsed});}.bind(this)},this.state.collapsed?m:n),!this.state.collapsed?c('React').createElement('div',null,c('React').createElement('div',{className:"_4ea2"}),this.props.children,c('React').createElement('div',{className:"_4ea2"})):null));};f.exports=l;}),null);
__d('MessengerContextBanner.react',['cx','Badge.react','ImageBlock.react','immutable','MercuryParticipantsConstants','MercuryParticipantsImage.react','MercuryThreadImage.react','React','MercuryShareAttachmentRenderLocations','requireWeak'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=void 0;c('requireWeak')('MessengerThreadImage.react',function(n){l=n;});i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerContextBanner1=function(){var s=this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER,t=null;if(this.props.thread){var u=l&&s?l:c('MercuryThreadImage.react');t=c('React').createElement(u,{showBadge:false,participants:this.props.participants,size:s?60:null,thread:this.props.thread,viewer:this.props.viewer});}else if(this.props.participantIDs)t=c('React').createElement(c('MercuryParticipantsImage.react'),{participants:this.props.participantIDs,size:c('MercuryParticipantsConstants').BIG_IMAGE_SIZE});return (c('React').createElement('div',{className:"_llk"},t));}.bind(this),this.$MessengerContextBanner2=function(){if(this.props.location!==c('MercuryShareAttachmentRenderLocations').MESSENGER)return null;var s=this.props.isVerified?c('React').createElement(c('Badge.react'),{size:'medium',type:'verified'}):null;return (c('React').createElement('div',{className:"_llq"},c('React').createElement('span',{className:"_3oh-"},this.props.contactName,s)));}.bind(this),this.$MessengerContextBanner3=function(){return (c('React').createElement('div',{className:"_1n-e _36zg"},this.props.connectionContext));}.bind(this),this.$MessengerContextBanner4=function(){if(!this.props.contextItems.length)return null;return (c('React').createElement('div',null,this.props.contextItems.map(function(s,t){return (c('React').createElement('div',{className:"_1n-e",key:'item:'+t},s));})));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('ImageBlock.react'),{className:"_llj"+(this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER?' '+"_2eu-":'')+(this.props.location===c('MercuryShareAttachmentRenderLocations').CHAT?' '+"_2eu_":'')+(this.props.location===c('MercuryShareAttachmentRenderLocations').WEB_INBOX?' '+"_2ev0":''),spacing:'large',style:this.props.style},this.$MessengerContextBanner1(),c('React').createElement('div',{className:"_lll"},this.$MessengerContextBanner2(),this.$MessengerContextBanner3(),this.$MessengerContextBanner4()));};m.propTypes={contactName:k.string,connectionContext:k.string,contextItems:k.arrayOf(k.string).isRequired,isVerified:k.bool,location:k.string.isRequired,participantIDs:k.arrayOf(k.string),participants:k.instanceOf(c('immutable').Map),thread:k.object,viewer:k.string.isRequired};f.exports=m;}),null);
__d("XMessengerContextBannerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/messenger\/context_banner\/",{profile_id:{type:"Int",required:true},max_context_items:{type:"Int",defaultValue:3}});}),null);
__d('MessengerContextInformationStore',['AsyncRequest','EventEmitter','Map','XMessengerContextBannerController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=new (c('Map'))(),k=new (c('Map'))();h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;l.prototype.getOrFetch=function(m){var n=j.get(m);n||this.$MessengerContextInformationStore1(m);return n;};l.prototype.$MessengerContextInformationStore1=function(m){if(k.get(m))return;var n=c('XMessengerContextBannerController').getURIBuilder().setInt('profile_id',m).getURI(),o=new (c('AsyncRequest'))().setAllowCrossPageTransition(true).setURI(n).setHandler(this.$MessengerContextInformationStore2.bind(this,m));k.set(m,o);o.send();};l.prototype.$MessengerContextInformationStore2=function(m,n){j.set(m,{connectionContext:n.payload.connection_context||'',contextItems:n.payload.context_items||[]});k['delete'](m);this.emit('change');};function l(){h.apply(this,arguments);}f.exports=new l();}),null);
__d('MessengerContextBannerContainer.react',['DOMDimensions','immutable','MercuryIDs','MercuryParticipants','MercuryThreads','MessengerContextBanner.react','MessengerContextInformationStore','ReactComponentWithPureRenderMixin','React','ReactDOM','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerContextBannerContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'),c('MercuryThreads'),c('MessengerContextInformationStore'))],propTypes:{location:h.string.isRequired,onResize:h.func,otherUserFBIDs:h.arrayOf(h.string),threadID:h.string,viewer:h.string.isRequired},statics:{calculateState:function j(k){var l=null,m=null;if(k.threadID){l=c('MercuryThreads').getForFBID(k.viewer).getOrFetch(k.threadID);m=l&&l.participants;}else if(k.otherUserFBIDs&&k.otherUserFBIDs.length===1)m=k.otherUserFBIDs.map(function(p){return c('MercuryParticipants').getIDFromVanityOrFBID(p);});var n=c('immutable').Map();if(m)n=n.withMutations(function(p){m&&m.forEach(function(q){p.set(q,c('MercuryParticipants').getOrFetch(q));});});var o=null;if(l){o=n.get(c('MercuryIDs').getParticipantIDFromFromThreadID(l.thread_id));}else o=m&&n.get(m[0]);return babelHelpers['extends']({contact:o,participantIDs:m,participants:n,thread:l},i.getContextInformation(o&&o.fbid&&o.fbid.toString()));},getContextInformation:function j(k){var l=void 0;if(k)l=c('MessengerContextInformationStore').getOrFetch(k.toString());return l||{connectionContext:'',contextItems:[]};}},componentDidUpdate:function j(){var k=c('ReactDOM').findDOMNode(this);if(!k)return;var l=c('DOMDimensions').getElementDimensions(k).height;if(this.props.onResize)this.props.onResize(l);},render:function j(){if(!this.state.contact)return null;if(this.state.contact.type==='page'&&!this.state.connectionContext&&!this.state.contextItems.length)return null;return (c('React').createElement(c('MessengerContextBanner.react'),{contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,isVerified:this.state.contact.is_verified,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,style:this.props.style,thread:this.state.thread,viewer:this.props.viewer}));}});f.exports=i;}),null);
__d('MessengerDateBreak.react',['cx','React','formatDate','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.shouldComponentUpdate=function(m){'use strict';return this.props.date.getTime()!==m.date.getTime();};l.prototype.render=function(){'use strict';var m=c('formatDate')(this.props.date,{today:'g:ia',withinWeek:'D g:ia',thisYear:'M jS, g:ia',older:'m/d/Y g:ia'});return (c('React').createElement('h4',{className:c('joinClasses')(this.props.className,"_497p _2lpt")},c('React').createElement('time',{className:"_3oh-"},m)));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={date:k.instanceOf(Date).isRequired};f.exports=l;}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/promotion\/block\/",{page_id:{type:"String",required:true},type:{type:"String",required:true}});}),null);
__d('MNCommercePromotionBlockDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionBlockController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.block=function(i,j){var k=c('XMNCommercePromotionBlockController').getURIBuilder().setString('page_id',i).setString('type',j).getURI();new (c('AsyncRequest'))().setURI(k).setHandler(this.$MNCommercePromotionBlockDataManager1).setErrorHandler(this.$MNCommercePromotionBlockDataManager2).send();};h.prototype.$MNCommercePromotionBlockDataManager1=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateReload(k);};h.prototype.$MNCommercePromotionBlockDataManager2=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateLoadError(k);};function h(){}f.exports=new h();}),null);
__d('MNCommerceUnlinkDialog.react',['fbt','MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("Annuler"),n=h._("D\u00e9sactiver");return (c('React').createElement(c('MNCommerceDialog.react'),{onToggle:this.props.onToggle,shown:this.props.shown},c('React').createElement(c('MNCommerceDialogTitle.react'),{showCloseButton:false},h._("D\u00e9lier le compte\u00a0?")),c('React').createElement(c('MNCommerceDialogBody.react'),null,c('React').createElement('div',null,h._("Vous pouvez d\u00e9sactiver les mises \u00e0 jour si vous ne vous \u00eates pas inscrit(e) ou ne voulez plus les recevoir."))),c('React').createElement(c('MNCommerceDialogFooter.react'),null,c('React').createElement(c('MNCommerceButton.react'),{label:m,onClick:this.props.onCancelButtonClick,use:'default'}),c('React').createElement(c('MNCommerceButton.react'),{label:n,onClick:this.props.onTurnOffButtonClick,use:'confirm'}))));};function l(){i.apply(this,arguments);}l.propTypes={onCancelButtonClick:k.func,onTurnOffButtonClick:k.func};f.exports=l;}),null);
__d('MNCommerceUnlinkErrorDialog.react',['fbt','MNCommerceAttachmentConstants','MNCommerceErrors','React','MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("OK"),n=null,o=null;switch(this.props.errorType){case c('MNCommerceErrors').ALREADY_UNLINKED:o=c('React').createElement('div',null,h._("Les mises \u00e0 jour sont d\u00e9j\u00e0 d\u00e9sactiv\u00e9es"));n=c('React').createElement('div',null,h._("Vous ne recevez aucune mise \u00e0 jour dans Messenger."));break;default:o=c('React').createElement('div',null,h._("Impossible de d\u00e9sactiver les mises \u00e0 jour"));n=c('React').createElement('div',null,h._("Une erreur s\u2019est produite. Veuillez r\u00e9essayer."));break;}return (c('React').createElement(c('MNCommerceDialog.react'),{onToggle:this.props.onToggle,shown:this.props.shown,width:c('MNCommerceAttachmentConstants').UNLINK_ERROR_DIALOG.WIDTH},c('React').createElement(c('MNCommerceDialogTitle.react'),null,o),c('React').createElement(c('MNCommerceDialogBody.react'),null,n),c('React').createElement(c('MNCommerceDialogFooter.react'),null,c('React').createElement(c('MNCommerceButton.react'),{label:m,onClick:this.props.onOkayButtonClick,use:'confirm'}))));};function l(){i.apply(this,arguments);}l.propTypes={errorType:k.number,onOkayButtonClick:k.func};f.exports=l;}),null);
__d('MNCommerceUnlinkDialogContainer.react',['BanzaiLogger','MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceUnlinkDialog.react','MNCommerceUnlinkErrorDialog.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$MNCommerceUnlinkDialogContainer1=function(p){if(!p)this.$MNCommerceUnlinkDialogContainer2();}.bind(this),this.$MNCommerceUnlinkDialogContainer2=function(){c('MNCommerceDialogStateActions').hideDialog();},l;}j.prototype.render=function(){var k=c('MNCommerceDialogStateStore').getState();if(k&&k.errorType){c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK_ERROR})});return c('React').createElement(c('MNCommerceUnlinkErrorDialog.react'),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,errorType:k.errorType,onOkayButtonClick:this.$MNCommerceUnlinkDialogContainer2});}else{c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK})});return c('React').createElement(c('MNCommerceUnlinkDialog.react'),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,onCancelButtonClick:this.$MNCommerceUnlinkDialogContainer2,onTurnOffButtonClick:k&&k.onTurnOffButtonClick});}};f.exports=j;}),null);
__d("XMNCommerceUnlinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/unlink\/",{page_id:{type:"String",required:true},user_id:{type:"String",required:true}});}),null);
__d('MNCommerceUnlinkDataManager',['AsyncRequest','MNCommerceDialogStateActions','MNCommerceUnlinkDialogContainer.react','XMNCommerceUnlinkController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.unlink=function(i,j){var k=c('XMNCommerceUnlinkController').getURIBuilder().setString('page_id',i).setString('user_id',j).getURI();new (c('AsyncRequest'))().setURI(k).setErrorHandler(this.$MNCommerceUnlinkDataManager1).send();};h.prototype.$MNCommerceUnlinkDataManager1=function(i){c('MNCommerceDialogStateActions').showDialog(c('MNCommerceUnlinkDialogContainer.react'),{errorType:i.error});};function h(){}f.exports=new h();}),null);
__d('MNCommerceLogMessageUtils',['cx','fbt','invariant','BanzaiLogger','Link.react','MercuryConfig','MercuryIDs','MercuryThreads','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceDialogStateActions','MNCommerceReplyTypes','MNCommercePromotionBlockDataManager','MNCommercePromotionManageBlockDialogContainer.react','MNCommerceUnlinkDataManager','MNCommerceUnlinkDialogContainer.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('MercuryThreads').get();l.prototype.isCommercePageAdminMessage=function(m){return !!(m&&m.log_message_data&&(m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_LINK||m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_UNLINK));};l.prototype.getCommercePageManage=function(m,n){var o=null;if(c('MercuryConfig').WWWMessengerManageAdminGK){var p=function r(){var s=c('MercuryIDs').getUserIDFromParticipantID(m.author),t=function u(v,w){return c('MNCommercePromotionBlockDataManager').block(v,w);};c('MNCommerceDialogStateActions').showDialog(c('MNCommercePromotionManageBlockDialogContainer.react'),{pageID:s,onConfirmButtonClick:t});c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.MANAGE})});};o=c('React').createElement(c('Link.react'),{className:(!n?"_2w2m":'')+(n?' '+"_1jvn":''),onClick:p},i._("G\u00e9rer"));}else if(m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_LINK){var q=function r(){var s=c('MercuryIDs').getUserIDFromParticipantID(m.author),t=k.getThreadMetaNow(m.thread_id);t||j(0);var u=null;t.participants.every(function(w){if(w!==m.author){u=c('MercuryIDs').getUserIDFromParticipantID(w);return false;}return true;});var v=function w(){c('MNCommerceDialogStateActions').hideDialog();c('MNCommerceUnlinkDataManager').unlink(s,u);};c('MNCommerceDialogStateActions').showDialog(c('MNCommerceUnlinkDialogContainer.react'),{onTurnOffButtonClick:v});c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK})});};o=c('React').createElement(c('Link.react'),{className:(!n?"_2w2m":'')+(n?' '+"_1jvn":''),onClick:q},i._("D\u00e9sactiver"));}return (c('React').createElement('span',null,m.log_message_body,' ',o));};function l(){}f.exports=new l();}),null);
__d('MNAdsMessageUtils',['cx','fbt','AdPageMessageTypeEnum','Bootloader','FBJSON','Link.react','MercuryConfig','MercuryIDs','MessagingGenericAdminTextType','MessagingTag','MNCommerceDialogStateActions','MNCommercePromotionBlockDataManager','React','getPageIDFromThreadID'],(function a(b,c,d,e,f,g,h,i){'use strict';var j='offsite_ad';k.prototype.isAdsMessageRequest=function(l){return l.folder==c('MessagingTag').PENDING&&l.last_message_type!==c('AdPageMessageTypeEnum').NON_AD;};k.prototype.renderAdsMessageRequestStatus=function(){var l=i._("Sponsoris\u00e9");return (c('React').createElement('span',null,l));};k.prototype.isAdsAdminMessage=function(l){return l&&l.log_message_data&&l.log_message_data.message_type&&l.log_message_data.message_type===c('MessagingGenericAdminTextType').AD_MANAGE_MESSAGE;};k.prototype.isOffsiteAd=function(l){if(l.log_message_data&&l.log_message_data.untypedData&&l.log_message_data.untypedData.ad_properties){var m=c('FBJSON').parse(l.log_message_data.untypedData.ad_properties);for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;if(r===j)return true;}}return false;};k.prototype.getadPreferencesUrl=function(l){if(l.log_message_data&&l.log_message_data.untypedData&&l.log_message_data.untypedData.ad_preferences_url)return l.log_message_data.untypedData.ad_preferences_url;return '';};k.prototype.getAdsPageManage=function(l,m){var n=null;if(c('MercuryConfig').WWWMessengerManageAdminGK){var o=function(){var p=this.isOffsiteAd(l),q=c('getPageIDFromThreadID')(l.thread_id);if(!q)q=c('MercuryIDs').getUserIDFromParticipantID(l.author);var r=this.getadPreferencesUrl(l),s=function t(u,v){return c('MNCommercePromotionBlockDataManager').block(u,v);};c('Bootloader').loadModules(["MNAdsMessagesManageBlockDialogContainer.react"],function(t){c('MNCommerceDialogStateActions').showDialog(t,{adPreferencesUrl:r,isOffsiteAd:p,onConfirmButtonClick:s,pageID:q});},'MNAdsMessageUtils');}.bind(this);n=c('React').createElement(c('Link.react'),{className:(!m?"_3kyk":'')+(m?' '+"_3kyl":''),onClick:o},i._("G\u00e9rer"));return (c('React').createElement('span',{className:!m?"_3kym":''},l.log_message_body,' ','\u00B7',' ',n));}return (c('React').createElement('span',{className:!m?"_3kym":''},l.log_message_body));};function k(){}f.exports=new k();}),null);
__d('MessengerGameAdminMessageRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MessengerGameAdminMessageRoute';j.queries={adminMessageText:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'MessageData!'},name:'thread_and_message_id',value:{kind:'CallVariable',callVariableName:'messageData'}}],children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(m)]),fieldName:'message',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'thread_and_message_id',identifyingArgType:'MessageData!'},name:'MessengerGameAdminMessageRoute',type:'Message'};}(l.getFragment('adminMessageText'));}};j.paramDefinitions={messageData:{type:'MessageData!',required:true}};f.exports=j;}),null);
__d('MessengerHorizontalScroll.react',['ix','cx','fbt','Animation','Image.react','Link.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('React').PropTypes,l=250,m='left',n='right',o=c('React').createClass({displayName:'MessengerHorizontalScroll',_rightArrowBoundOnClick:Function,_leftArrowBoundOnClick:Function,propTypes:{batchScroll:k.bool.isRequired,childPadding:k.number.isRequired,childWidth:k.number.isRequired,freeScroll:k.bool.isRequired,leftOffset:k.number.isRequired,numChildrenVisible:k.number.isRequired,width:k.number.isRequired},getInitialState:function p(){var q=this._calculateState();return babelHelpers['extends']({index:0,scrollLeft:0},q);},getDefaultProps:function p(){return {batchScroll:false,childPadding:0,freeScroll:false,leftOffset:0,numChildrenVisible:1};},componentWillMount:function p(){this._rightArrowBoundOnClick=this._updatePosition.bind(this,n);this._leftArrowBoundOnClick=this._updatePosition.bind(this,m);},componentWillReceiveProps:function p(q){this.setState(this._calculateState(q));},render:function p(){var q=this.props;if(this.refs&&this.refs.childContainer&&!q.freeScroll)new (c('Animation'))(this.refs.childContainer).to('scrollLeft',this.state.scrollLeft).duration(l).go();var r=this._calculateVisibleWidth(),s=this.state.scrollLeft===0||q.freeScroll||r<q.width,t=this.state.scrollLeft===this.state.maxScrollLeft||q.freeScroll||r<q.width,u=q.freeScroll?'scroll':'hidden',v={overflow:u,width:q.width};return (c('React').createElement('div',{className:"_5agf",style:{width:q.width}},c('React').createElement(c('Link.react'),{'aria-label':j._("Afficher d\u2019autres r\u00e9sultats de la gauche"),className:(s?"hidden_elem":'')+(' '+"_5agg"),onClick:this._leftArrowBoundOnClick,role:'button'},c('React').createElement(c('Image.react'),{className:"_5agh",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/chevron-left_20_bluegray-40.png")})),c('React').createElement(c('Link.react'),{'aria-label':j._("Afficher d\u2019autres r\u00e9sultats de la droite"),className:(t?"hidden_elem":'')+(' '+"_5agi"),onClick:this._rightArrowBoundOnClick,role:'button'},c('React').createElement(c('Image.react'),{className:"_5agh",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/chevron-right_20_bluegray-40.png")})),c('React').createElement('div',{className:"_5agj",ref:'childContainer',style:v},c('React').createElement('div',{className:"_5agk"},this._renderChildren()))));},_calculateState:function p(q){if(!q||q.children!==this.props.children)var r=c('React').Children.map(this.props.children,function(s,t){return this._onChildClick.bind(null,t);}.bind(this));return {maxScrollLeft:this._getMaxScrollLeft(),boundChildOnClicks:r||this.state.boundChildOnClicks};},_updatePosition:function p(q){var r=c('React').Children.count(this.props.children)-this.props.numChildrenVisible,s=this.state.scrollLeft,t=s,u=this.state.index;switch(q){case n:if(this.props.batchScroll){u+=this.props.numChildrenVisible;if(u>r)u=r;}else u+=1;t=Math.min(this._getNextScrollLeft(u),this.state.maxScrollLeft);break;case m:if(this.props.batchScroll){u-=this.props.numChildrenVisible;if(u<0)u=0;}else u-=1;t=Math.max(0,this._getNextScrollLeft(u));break;}this.setState({scrollLeft:t,index:u});},_onChildClick:function p(q){if(this._isVisibleChild(q))return;var r=q<this.state.index?m:n;this._updatePosition(r);},_getNextScrollLeft:function p(q){if(q===0)return 0;var r=this.props,s=r.width,t=r.childWidth,u=r.childPadding,v=r.leftOffset,w=r.numChildrenVisible,x=t*w,y=u*(w-1),z=(s-(x+y))/2,aa=q*(u+t)-z;return aa+v;},_calculateVisibleWidth:function p(){var q=this.props,r=c('React').Children.count(q.children);return (q.childWidth*r+q.childPadding*(r-1)+q.leftOffset);},_getMaxScrollLeft:function p(){var q=this._calculateVisibleWidth();return q-this.props.width;},_renderChildren:function p(){var q=this.props,r=c('React').Children.count(q.children);return c('React').Children.map(q.children,function(s,t){var u={};u.width=q.childWidth;if(t<r-1)u.paddingRight=q.childPadding;if(t===0&&q.leftOffset)u.paddingLeft=q.leftOffset;var v=this._isVisibleChild(t),w=q.freeScroll?null:this.state.boundChildOnClicks[t];return (c('React').createElement('div',{className:"_5agl"+(v||q.freeScroll?' '+"_5agm":''),key:t,onClick:w,style:u},s));}.bind(this));},_isVisibleChild:function p(q){var r=this.props,s=r.children,t=r.numChildrenVisible,u=c('React').Children.count(s),v=this.state.index,w=v===u-1,x=w?v:v+t-1,y=w?v-(t-1):v;return q<=x&&q>=y;}});f.exports=o;}),null);
__d('MessengerGamesHorizontalLeaderboard.react',['cx','MessengerContactImage.react','MessengerHorizontalScroll.react','MessengerResponsiveBlock.react','Middot.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i=10,j=150,k=function o(p){var q=p.score,r=p.position;return (c('React').createElement('div',null,c('React').createElement('span',{className:"_4u4-"},'#',r),c('React').createElement(c('Middot.react'),null),q));},l=function o(p){var q=p.name,r=p.score,s=p.position;return (c('React').createElement('div',{className:"_4u4_"},c('React').createElement('h3',null,q),c('React').createElement(k,{position:s,score:r})));},m=function o(p,q){if(!p||!p.user)return null;return (c('React').createElement('div',{className:"_4u50",key:q},c('React').createElement(c('MessengerContactImage.react'),{size:40,src:p.user.profile_picture.uri}),c('React').createElement(l,{name:p.user.short_name,position:q+1,score:p.score})));},n=function o(p){var q=p.leaderboard.leaderboard_entries;return (c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function r(s){return [s];}},function(r){var s=r[0];return (c('React').createElement(c('MessengerHorizontalScroll.react'),{batchScroll:true,childPadding:i,childWidth:j,numChildrenVisible:Math.floor(s/(j+i)),width:s||0},q.map(m).filter(Boolean)));}));};f.exports=c('Relay').createContainer(n,{fragments:{leaderboard:function o(){return function(){return {children:[{calls:[{kind:'Call',metadata:{},name:'scores_only',value:{kind:'CallValue',callValue:true}}],children:[{fieldName:'score',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'short_name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'}],fieldName:'leaderboard_entries',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'InstantGameLeaderboardEntry'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGamesHorizontalLeaderboard_react_LeaderboardRelayQL',type:'InstantGameLeaderboard'};}();}}});}),null);
__d('MessengerGamesExpandedAdmin.react',['cx','fbt','MessengerButton.react','MessengerContactImage.react','MessengerGamesHorizontalLeaderboard.react','Link.react','React','Relay','RelayQL','idx'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=function n(o){var p=o.name,q=o.uri;return (c('React').createElement('div',{className:"_261_"},c('React').createElement(c('MessengerContactImage.react'),{size:25,src:q}),c('React').createElement('h2',{className:"_2620"},p)));};j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad();};m.prototype.render=function(){var n,o,p,q,r,s=this.$MessengerGamesExpandedAdmin1(),t=this.$MessengerGamesExpandedAdmin2();if(!t||!s)return null;var u=(n=t)!=null?(o=n.game)!=null?o.name:o:n,v=(p=t)!=null?(q=p.game)!=null?(r=q.instant_game_info)!=null?r.icon_uri:r:q:p;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_4ea2 _2kar"}),c('React').createElement(c('Link.react'),{className:"_fy2 _2621",'aria-haspopup':'true','aria-label':i._("Voir moins"),href:'#',onClick:this.props.hideAdmin,role:'button'}),c('React').createElement(l,{name:u,uri:v}),c('React').createElement('div',{className:"_2622"},t.expanded_text),c('React').createElement(c('MessengerGamesHorizontalLeaderboard.react'),{leaderboard:s}),c('React').createElement(c('MessengerButton.react'),{className:"_fy2 _2623",label:i._("Jouer"),onClick:this.props.playGame,type:'primary',use:'default'}),c('React').createElement('div',{className:"_4ea2 _2kar"})));};m.prototype.$MessengerGamesExpandedAdmin1=function(){var n;return (n=this.$MessengerGamesExpandedAdmin2())!=null?n.leaderboard:n;};m.prototype.$MessengerGamesExpandedAdmin2=function(){var n,o;return (n=this.props)!=null?(o=n.adminMessageText)!=null?o.extensible_message_admin_text:o:n;};function m(){j.apply(this,arguments);}f.exports=c('Relay').createContainer(m,{fragments:{adminMessageText:function n(){return function(o){return {children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{children:[{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'icon_uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'instant_game_info',kind:'Field',metadata:{canHaveSubselections:true},type:'GamesInstantPlayStyleInfo'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'game',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Application'},{fieldName:'expanded_text',kind:'Field',metadata:{},type:'String'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(o)]),fieldName:'leaderboard',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'InstantGameLeaderboard'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'InstantGameUpdateExtensibleMessageAdminText',type:'InstantGameUpdateExtensibleMessageAdminText'}],fieldName:'extensible_message_admin_text',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'ExtensibleMessageAdminText'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'GenericAdminTextMessage',type:'GenericAdminTextMessage'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'MessengerGamesExpandedAdmin_react_AdminMessageTextRelayQL',type:'Message'};}(c('MessengerGamesHorizontalLeaderboard.react').getFragment('leaderboard'));}}});}),null);
__d('MessengerGamesExpandedAdminContainer.react',['fbt','MessengerGameAdminMessageRoute','MessengerGamesExpandedAdmin.react','React','Relay'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Relay').RootContainer;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderLoaded=function(r){var s=this.props,t=s.gameID,u=s.hideAdmin,v=s.playGame,w=s.threadFBID;return (c('React').createElement(c('MessengerGamesExpandedAdmin.react'),babelHelpers['extends']({},r,{gameID:t,hideAdmin:u,onLoad:this.props.onLoad,playGame:v,threadFBID:w})));}.bind(this),n;}l.prototype.render=function(){var m=this.props,n=m.messageID,o=m.threadFBID,p=m.renderLoading;return c('React').createElement(k,{Component:c('MessengerGamesExpandedAdmin.react'),route:new (c('MessengerGameAdminMessageRoute'))({messageData:{message_id:n,thread_id:o}}),renderLoading:p,renderFetched:this.renderLoaded,renderFailure:this.renderFailure});};l.prototype.renderFailure=function(){return h._("\u00c9chec de chargement");};f.exports=l;}),null);
__d('MessengerGameAdminMessage.react',['cx','fbt','BootloadOnRender.react','ImmutableObject','JSResource','LazyComponent.react','Link.react','MercuryIDs','MessengerGamesExpandedAdminContainer.react','MessengerSpinner.react','QuicksilverConstants','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state=this.$MessengerGameAdminMessage1(),this.renderText=function(){return (c('React').createElement('span',null,c('React').createElement('span',null,this.props.text,' '),c('React').createElement(c('Link.react'),{className:"_fy2",onClick:this.state.isExpanded?this.$MessengerGameAdminMessage2:this.$MessengerGameAdminMessage4},i._("Afficher"))));}.bind(this),this.$MessengerGameAdminMessage5=function(){this.setState({playerOpen:false});}.bind(this),this.$MessengerGameAdminMessage3=function(){this.setState({playerOpen:true});}.bind(this),this.$MessengerGameAdminMessage4=function(){this.setState({isExpanded:true});}.bind(this),this.$MessengerGameAdminMessage2=function(){this.setState({isExpanded:false});}.bind(this),o;}m.prototype.$MessengerGameAdminMessage1=function(){return {isExpanded:this.props.isLastOfType,playerOpen:false};};m.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad();};m.prototype.componentWillReceiveProps=function(n){if(this.props.isLastOfType!==n.isLastOfType)this.setState({isExpanded:n.isLastOfType});};m.prototype.getXMATData=function(){return this.props.message.log_message_data&&this.props.message.log_message_data.untypedData?new (c('ImmutableObject'))(this.props.message.log_message_data.untypedData):new (c('ImmutableObject'))();};m.prototype.render=function(){var n=this.getXMATData(),o=this.renderGame(n.game_id);switch(n.update_type){case 'game_score':return this.state.isExpanded?c('React').createElement('span',null,c('React').createElement(c('MessengerGamesExpandedAdminContainer.react'),{hideAdmin:this.$MessengerGameAdminMessage2,gameID:n.game_id,messageID:this.props.message.message_id,playGame:this.$MessengerGameAdminMessage3,threadFBID:c('MercuryIDs').getThreadFBIDFromThreadID(this.props.message.thread_id),onLoad:this.props.onLoad,renderLoading:this.renderText}),o):c('React').createElement('span',null,this.renderText(),o);default:return c('React').createElement('span',null,this.props.text);}};m.prototype.renderGame=function(n){return this.state.playerOpen?c('React').createElement('div',{key:n},c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('MessengerGamesQuicksilverPlayerContainer.react').__setRef('MessengerGameAdminMessage.react'),placeholder:c('React').createElement(c('MessengerSpinner.react'),null),component:c('React').createElement(c('LazyComponent.react'),{gameID:n,onHide:this.$MessengerGameAdminMessage5,source:c('QuicksilverConstants').FUNNEL_SOURCE_MESSENGER_ADMIN_MESSAGE,threadFBID:c('MercuryIDs').getThreadFBIDFromThreadID(this.props.message.thread_id)})})):null;};m.propTypes={message:l.instanceOf(c('ImmutableObject')).isRequired,text:l.string.isRequired,isLastOfType:l.bool.isRequired};f.exports=m;}),null);
__d("MessengerGroupPollingAllOptionsWebGraphQLQuery",["WebGraphQLQueryHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLQueryHelper").getExports({docID:"894878613980595",queryID:"894878673980589"});}),null);
__d('MessengerGroupPollingAdminMessage.react',['cx','fbt','ix','AsyncRequest','BootloadOnRender.react','Image.react','ImmutableObject','JSResource','Keys','LazyComponent.react','MessengerConfig','MessengerContextualDialog.react','MessengerEnvironment','MessengerGroupPollingAllOptionsWebGraphQLQuery','MessengerGroupPollingUtils','MessengerSpinner.react','React','idx'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=16,o=24,p=j('/images/mercury/clients/messenger/group_polling/group-polling-icon.png'),q=j('/images/mercury/clients/messenger/group_polling/group-polling-fb-icon.png'),r=3;k=babelHelpers.inherits(s,c('React').Component);l=k&&k.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=l.constructor).call.apply(t,[this].concat(w)),this.state={flyoutOpen:false,options:null},this.$MessengerGroupPollingAdminMessage1=false,this.$MessengerGroupPollingAdminMessage3=function(y){this.setState({flyoutOpen:y});}.bind(this),this.$MessengerGroupPollingAdminMessage4=function(){this.setState({flyoutOpen:false});}.bind(this),this.$MessengerGroupPollingAdminMessage8=function(y){this.$MessengerGroupPollingAdminMessage1=this.state.flyoutOpen;}.bind(this),this.$MessengerGroupPollingAdminMessage7=function(y){y.stopPropagation();if(this.state.flyoutOpen||this.$MessengerGroupPollingAdminMessage1)return;if(!this.state.options&&!this.state.flyoutOpen)this.$MessengerGroupPollingAdminMessage9();this.setState({flyoutOpen:!this.state.flyoutOpen});}.bind(this),u;}s.prototype.render=function(){var t,u,v,w,x,y;if(!c('MessengerConfig').ShowGroupPollingInterface)return this.$MessengerGroupPollingAdminMessage2();var z=c('MessengerGroupPollingUtils').renderEmojiText(this.props.message.log_message_body),aa=c('MessengerEnvironment').messengerui;if(!this.props.isLastOfType&&(!this.state.flyoutOpen||!aa))return z;var ba=(t=this.props.message)!=null?(u=t.log_message_data)!=null?(v=u.untypedData)!=null?v.question_json:v:u:t,ca=ba&&JSON.parse(ba);if(!ca)return this.$MessengerGroupPollingAdminMessage2();var da=aa?o:n,ea=c('React').createElement('div',{className:"_8bt"+(!aa?' '+"_5il4":'')},c('React').createElement(c('MessengerSpinner.react'),{color:'grey'})),fa=null;if(this.state.flyoutOpen)fa=c('React').createElement(c('MessengerContextualDialog.react'),{contextRef:function(){return this.refs.voteButton;}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$MessengerGroupPollingAdminMessage3,onBlur:this.$MessengerGroupPollingAdminMessage4},c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{questionID:ca.id,questionText:ca.text,options:this.state.options,onSubmitHandler:this.$MessengerGroupPollingAdminMessage4}),loader:c('JSResource')('MessengerGroupPollingFlyout.react').__setRef('MessengerGroupPollingAdminMessage.react'),placeholder:ea}));var ga=((w=ca)!=null?(x=w.options)!=null?(y=x[0])!=null?y.total_count:y:x:w)||0,ha=ca.options.map(function(ja){return c('React').createElement('div',{className:"_3b4a"+(!aa?' '+"_4ic5":''),key:ja.id},c('React').createElement('div',{className:"_3b4c"},c('React').createElement('div',{className:(aa?"_3b4f":'')+(!aa?' '+"_4ic6":'')},c('MessengerGroupPollingUtils').renderEmojiText(ja.text)),c('MessengerGroupPollingUtils').renderVoterFacepiles("_4ic7"+(!aa?' '+"_8kg":''),da,ja.total_count,ja.voters,ja.viewer_has_voted==='true')),c('React').createElement('div',{className:"_3b4h"+(!aa?' '+"_4ic8":'')},c('React').createElement('span',{style:{width:this.$MessengerGroupPollingAdminMessage5(ja.total_count,ga)}})));}.bind(this)),ia=ca.viewer_has_voted==='true'?i._("Changer mon vote"):i._("Voter");return c('React').createElement('div',null,z,c('React').createElement('div',{className:"_3b4t"+(!aa?' '+"_4ic9":'')},c('React').createElement('div',{className:"_3b4u"+(!aa?' '+"_2wew":'')},c('React').createElement(c('Image.react'),{className:"_4ica"+(!aa?' '+"_2ozk":''),src:aa?p:q}),i._("Sondage")),c('React').createElement('div',{className:(aa?"_3b4v":'')+(!aa?' '+"_2wex":'')},c('MessengerGroupPollingUtils').renderEmojiText(ca.text)),c('React').createElement('div',{className:"_3b4w"},ha),c('React').createElement('div',{className:"_8bu"},this.$MessengerGroupPollingAdminMessage6(ca.total_count)),c('React').createElement('div',{className:"_4icb"+(!aa?' '+"_4icc":'')+(aa?' '+"uiContextualLayerParent":'')+(aa?' '+"_5f0v":''),onClick:this.$MessengerGroupPollingAdminMessage7,onMouseDown:this.$MessengerGroupPollingAdminMessage8,ref:'voteButton',role:'button',tabIndex:'0'},ia,fa)));};s.prototype.$MessengerGroupPollingAdminMessage2=function(){return c('React').createElement('span',null,i._("{original-admin-message} Utilisez l\u2019app mobile pour voter.",[i.param('original-admin-message',this.props.message.log_message_body)]));};s.prototype.$MessengerGroupPollingAdminMessage6=function(t){var u=t-r;if(u<=0){return null;}else return i._({"*":"{number of remaining answer options} autres options...","268435456":"{number of remaining answer options} autre option..."},[i.param('number of remaining answer options',u),i.plural(u)]);};s.prototype.$MessengerGroupPollingAdminMessage9=function(){var t,u,v,w=(t=this.props.message)!=null?(u=t.log_message_data)!=null?(v=u.untypedData)!=null?v.question_id:v:u:t;if(!w){this.setState({options:[]});return;}var x=c('MessengerGroupPollingAllOptionsWebGraphQLQuery').getURI({node_id:w});new (c('AsyncRequest'))().setURI(x).setHandler(function(y){var z=y.payload.data.node,aa=z.options.edges||[],ba=aa.map(function(ca){return ca.node;});this.setState({options:ba});}.bind(this)).send();};s.prototype.$MessengerGroupPollingAdminMessage5=function(t,u){return (u===0?'0%':t/u*100+'%');};s.propTypes={message:m.instanceOf(c('ImmutableObject')).isRequired,isLastOfType:m.bool.isRequired};f.exports=s;}),null);
__d('MercuryXMATRenderer',['cx','fbt','invariant','MercuryConfig','MercuryIDs','MercuryParticipants','MessagingGenericAdminTextType','MessengerGameAdminMessage.react','MessengerGroupPollingAdminMessage.react','MessengerTextWithEntities.react','MNAdsMessageUtils','React','TextWithEntities.react','FacepileRounded.react','isWebGLEnabled'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k={renderText:function l(m,n,o){var p=null;if(c('MercuryConfig').MessengerNewEmojiGK){p=c('React').createElement(c('MessengerTextWithEntities.react'),{renderEmoji:true,renderEmoticons:true,text:m.log_message_body});}else p=c('React').createElement(c('TextWithEntities.react'),{renderEmoji:true,renderEmoticons:true,text:m.log_message_body});switch(m.log_message_data.message_type){case c('MessagingGenericAdminTextType').TURN_ON_PUSH:var q=m.log_message_data.untypedData&&m.log_message_data.untypedData.recipient_id,r=q&&c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(q)),s=c('MercuryIDs').getUserIDFromParticipantID(m.author);!!s||j(0);var t=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(s));if(s!==m.other_user_fbid){if(r){p=i._("Vous avez demand\u00e9 \u00e0 {admin-text-message} d\u2019activer les notifications pour Messenger sur mobile.",[i.param('admin-text-message',r.name)]);}else p=i._("Vous avez demand\u00e9 \u00e0 un contact d\u2019activer les notifications pour Messenger sur mobile.");}else if(t){p=i._("{admin-text-message} vous a demand\u00e9 d\u2019activer les notifications pour Messenger sur mobile.",[i.param('admin-text-message',t.name)]);}else p=i._("Un contact vous a demand\u00e9 d\u2019activer les notifications pour Messenger sur mobile.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_COLOR:p=i._("Vous devez avoir install\u00e9 la derni\u00e8re version de Messenger sur un appareil mobile pour choisir une couleur pour cette conversation.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_NICKNAME:var u=null,v=c('MercuryIDs').getUserIDFromParticipantID(m.author);if(m.other_user_fbid&&v!==m.other_user_fbid){var w=c('MercuryIDs').getParticipantIDFromUserID(m.other_user_fbid);u=c('MercuryParticipants').getOrFetch(w);}if(u&&u.short_name){p=i._("Vous devez avoir install\u00e9 la derni\u00e8re version de Messenger sur un appareil mobile pour donner un surnom \u00e0 {admin-text-message}.",[i.param('admin-text-message',u.short_name)]);}else p=i._("Vous devez avoir install\u00e9 la derni\u00e8re version de Messenger sur un appareil mobile pour vous donner un surnom.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_LIKE:p=i._("Vous devez avoir install\u00e9 la derni\u00e8re version de Messenger sur un appareil mobile pour choisir un emoji pour cette conversation.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_BOT:p=i._("Vous devez avoir install\u00e9 la derni\u00e8re version de Messenger sur un appareil mobile pour ajouter un abonnement \u00e0 cette conversation.");break;case c('MessagingGenericAdminTextType').INSTANT_GAME_UPDATE:if(c('MercuryConfig').MessengerGamesGK&&c('isWebGLEnabled')())p=c('React').createElement(c('MessengerGameAdminMessage.react'),{message:m,text:m.log_message_body,isLastOfType:n,onLoad:o});break;case c('MessagingGenericAdminTextType').ADS_WELCOME_MSG:break;case c('MessagingGenericAdminTextType').AD_MANAGE_MESSAGE:if(c('MNAdsMessageUtils').isAdsAdminMessage(m))p=c('MNAdsMessageUtils').getAdsPageManage(m,false);break;case c('MessagingGenericAdminTextType').CONFIRM_FRIEND_REQUEST:var x=m.log_message_data.untypedData.friend_request_recipient,y=m.log_message_data.untypedData.friend_request_sender,z=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(x)),aa=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(y));if(aa!=null&&z!=null)p=c('React').createElement(c('FacepileRounded.react'),{profiles:[z,aa],message:m.log_message_body,numProfilesToDisplay:2,className:"_8lx"});break;case c('MessagingGenericAdminTextType').THREAD_JOINABLE_PROMOTION_TEXT:p=i._("Want more people to join? Share your room.");break;case c('MessagingGenericAdminTextType').GROUP_POLL:p=c('React').createElement(c('MessengerGroupPollingAdminMessage.react'),{message:m,isLastOfType:n});break;default:break;}return c('React').createElement('span',null,p);}};f.exports=k;}),null);
__d('P2PMercuryLogMessage.react',['cx','fbt','MessengerEnvironment','CurrentUser','Link.react','MercuryIDs','P2PGroupPaymentRequestReceiptDialog.react','P2PGroupSendReceiptDialog.react','P2PPaymentLogMessageSubtype','React','ReactLayeredComponentMixin_DEPRECATED','XP2PPaymentRequestReceiptController','XP2PTransactionDetailController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'P2PMercuryLogMessage',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{amount:j.string,receiver:j.object.isRequired,sender:j.object.isRequired,subtype:j.oneOf(Object.keys(c('P2PPaymentLogMessageSubtype')).map(function(l){return c('P2PPaymentLogMessageSubtype')[l];})),transferID:j.string.isRequired,threadFBID:j.string,threadID:j.string},getDefaultProps:function l(){return {amount:'',sender:null,receiver:null,subtype:null};},getInitialState:function l(){return {groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false};},handleGroupDetailsLinkClicked:function l(){this.setState({groupSendReceiptDetailsShown:true});},handleGroupPaymentRequestDetailsLinkClicked:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:true});},handleThirdPartyReceiptDialogClosed:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false});},isViewerSender:function l(){return (c('MercuryIDs').getUserIDFromParticipantID(this.props.sender.id)===c('CurrentUser').getID());},isViewerReceiver:function l(){return (c('MercuryIDs').getUserIDFromParticipantID(this.props.receiver.id)===c('CurrentUser').getID());},renderPaymentRequestDetailsLink:function l(){var m=c('XP2PPaymentRequestReceiptController').getURIBuilder().setString('id',this.props.transferID).getURI();return (c('React').createElement(c('Link.react'),{className:"_kiq",href:m,target:'_blank'},i._("Voir les d\u00e9tails")));},renderTransferDetailsLink:function l(){var m=c('XP2PTransactionDetailController').getURIBuilder().setString('id',this.props.transferID).getURI();return (c('React').createElement(c('Link.react'),{className:"_kiq",href:m,target:'_blank'},i._("Voir les d\u00e9tails")));},renderGroupDetailsLink:function l(){return (c('React').createElement(c('Link.react'),{className:"_kiq",href:'#',onClick:this.handleGroupDetailsLinkClicked},i._("Voir les d\u00e9tails")));},renderGroupPaymentRequestDetailsLink:function l(){return (c('React').createElement(c('Link.react'),{className:"_kiq",href:'#',onClick:this.handleGroupPaymentRequestDetailsLinkClicked},i._("Voir les d\u00e9tails")));},renderLayers:function l(){var m={},n={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},o={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};if(this.state.groupSendReceiptDetailsShown){m.groupSendReceiptDetailsDialog=c('React').createElement(c('P2PGroupSendReceiptDialog.react'),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:n,sender:o});}else if(this.state.groupPaymentRequestReceiptDetailsShown)m.groupPaymentRequestReceiptDetailsDialog=c('React').createElement(c('P2PGroupPaymentRequestReceiptDialog.react'),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,requestee:n,requester:o});return m;},render:function l(){var m=null,n=this.props.amount,o=this.props.subtype,p=this.isViewerSender(),q=this.isViewerReceiver(),r=void 0;if(!p&&!q){r=this.renderGroupDetailsLink();}else r=this.renderTransferDetailsLink();switch(o){case c('P2PPaymentLogMessageSubtype').SENT_IN_GROUP:m=i._("{sendername} a envoy\u00e9 {amount} \u00e0 {receivername}. {details}",[i.param('sendername',this.props.sender.name),i.param('amount',n),i.param('receivername',this.props.receiver.name),i.param('details',r)]);break;case c('P2PPaymentLogMessageSubtype').CANCELED_EXPIRED:case c('P2PPaymentLogMessageSubtype').CANCELED_SAME_CARD:case c('P2PPaymentLogMessageSubtype').CANCELED_SENDER_RISK:case c('P2PPaymentLogMessageSubtype').CANCELED_RECIPIENT_RISK:case c('P2PPaymentLogMessageSubtype').CANCELED_CUSTOMER_SERVICE:if(p){m=i._("Votre paiement de {amount} a \u00e9t\u00e9 annul\u00e9. {details}",[i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else if(q){m=i._("Le paiement de {amount} de {name} a \u00e9t\u00e9 annul\u00e9. {details}",[i.param('name',this.props.sender.name),i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else m=i._("Le paiement de {amount} de {sender_name} \u00e0 {receiver_name} a \u00e9t\u00e9 annul\u00e9. {details}",[i.param('sender_name',this.props.sender.name),i.param('amount',n),i.param('receiver_name',this.props.receiver.name),i.param('details',r)]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').CANCELED_DECLINED:if(p){m=i._("{name} n\u2019a pas accept\u00e9 votre paiement de {amount}. {details}",[i.param('name',this.props.receiver.name),i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else if(q){m=i._("Vous n\u2019avez pas accept\u00e9 le paiement de {amount} de {name}. {details}",[i.param('name',this.props.sender.name),i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else m=i._("{receiver_name} n\u2019a pas accept\u00e9 le paiement de {amount} de {sender_name}. {details}",[i.param('receiver_name',this.props.receiver.name),i.param('sender_name',this.props.sender.name),i.param('amount',n),i.param('details',r)]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').REQUEST_CANCELED_BY_REQUESTER:if(p){m=i._("Vous avez annul\u00e9 votre demande de {payment request amount}. {details}",[i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(q){m=i._("{sender's name} a annul\u00e9 sa demande de {payment request amount}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else m=i._("{sender's name} a annul\u00e9 sa demande de {payment request amount} de {receiver's name}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('receiver\'s name',this.props.receiver.name),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').REQUEST_DECLINED_BY_REQUESTEE:if(p){m=i._("{receiver's name} a refus\u00e9 votre demande de {payment request amount}. {details}",[i.param('receiver\'s name',this.props.receiver.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(q){m=i._("Vous avez refus\u00e9 la demande de {sender's name} de {payment request amount}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else m=i._("{receiver's name} a refus\u00e9 la demande de {sender's name} de {payment request amount}. {details}",[i.param('receiver\'s name',this.props.receiver.name),i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').REQUEST_EXPIRED:if(p){m=i._("Votre demande de {payment request amount} a expir\u00e9. Elle a donc \u00e9t\u00e9 annul\u00e9e. {details}",[i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(q){m=i._("La demande de {sender's name} de {payment request amount} a expir\u00e9. Elle a donc \u00e9t\u00e9 annul\u00e9e. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else m=i._("La demande de {sender's name} de {payment request amount} \u00e0 {receiver's name} a expir\u00e9. Elle a donc \u00e9t\u00e9 annul\u00e9e. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('receiver\'s name',this.props.receiver.name),i.param('payment request amount',n),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);m=c('React').createElement('span',{className:"_5rdx"},m);break;}return (c('React').createElement('div',{className:c('MessengerEnvironment').messengerui?"_5rdy":''},m));}});f.exports=k;}),null);
__d('MessengerLogMessageBody.react',['fbt','immutable','ImmutableObject','MercuryIDs','MercuryParticipants','MercuryLogMessageType','MessengerAdminGroupUtils','P2PMercuryLogMessage.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerLogMessageBody',_viewer:'',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{thread:i.instanceOf(c('ImmutableObject')),message:i.instanceOf(c('ImmutableObject')).isRequired,viewer:i.string.isRequired},statics:{calculateState:function k(l){var m=[],n=l.message,o=n.log_message_data,p=n.log_message_type;switch(p){case c('MercuryLogMessageType').SUBSCRIBE:m=o.added_participants;break;case c('MercuryLogMessageType').UNSUBSCRIBE:m=o.removed_participants;break;case c('MercuryLogMessageType').ORION:m.push(o.senderId,o.receiverId);break;}if(!m||!m.length)return {};var q=c('immutable').Map().withMutations(function(r){m.forEach(function(s){r.set(s,c('MercuryParticipants').getOrFetch(s)||{});});});return {extraParticipants:q};}},render:function k(){var l=this.props.message.log_message_type;this._viewer=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer);if(this._viewer!==this.props.message.author&&l!==c('MercuryLogMessageType').ORION)return null;var m=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread);switch(l){case c('MercuryLogMessageType').SUBSCRIBE:return (c('React').createElement('span',null,this._renderSubscribeMessage(this.props.message)));case c('MercuryLogMessageType').UNSUBSCRIBE:if(m)return (c('React').createElement('span',null,this._renderUnsubscribeMessageForRoom(this.props.message)));return (c('React').createElement('span',null,this._renderUnsubscribeMessage(this.props.message)));case c('MercuryLogMessageType').THREAD_NAME:var n=this.props.message.log_message_data;if(m){if(!n.name)return (c('React').createElement('span',null,h._("Vous avez supprim\u00e9 le nom du salon.")));return (c('React').createElement('span',null,h._("Vous avez nomm\u00e9 le salon {the new name of the group}.",[h.param('the new name of the group',n.name)])));}if(!n.name)return (c('React').createElement('span',null,h._("Vous avez retir\u00e9 le nom du groupe.")));return (c('React').createElement('span',null,h._("Vous avez nomm\u00e9 le groupe {the new name of the group}.",[h.param('the new name of the group',n.name)])));case c('MercuryLogMessageType').THREAD_IMAGE:if(m)return (c('React').createElement('span',null,h._("Vous avez chang\u00e9 la photo du salon.")));return (c('React').createElement('span',null,h._("Vous avez chang\u00e9 la photo du groupe.")));case c('MercuryLogMessageType').ORION:return this._renderP2PLogMessage(this.props.message);default:return null;}},_renderP2PLogMessage:function k(l){var m=l.log_message_data,n=m.senderId,o=m.receiverId,p=this.state.extraParticipants,q=p.get(n),r=p.get(o);return (c('React').createElement(c('P2PMercuryLogMessage.react'),{amount:m.formattedAmount,receiver:r,sender:q,subtype:m.subtype,threadFBID:l.thread_fbid,threadID:l.thread_id,transferID:m.transfer_id}));},_renderSubscribeMessage:function k(l){var m=this._moveCurrentUserToFront(l.log_message_data.added_participants),n=this.state.extraParticipants;switch(m.length){case 1:return h._("Vous avez ajout\u00e9 {subscriber1}.",[h.param('subscriber1',n.get(m[0]).name)]);case 2:return h._("Vous avez ajout\u00e9 {subscriber1} et {subscriber2}.",[h.param('subscriber1',n.get(m[0]).name),h.param('subscriber2',n.get(m[1]).name)]);case 3:return h._("Vous avez ajout\u00e9 {subscriber1}, {subscriber2} et {subscriber3}.",[h.param('subscriber1',n.get(m[0]).name),h.param('subscriber2',n.get(m[1]).name),h.param('subscriber3',n.get(m[2]).name)]);default:var o=m.map(function(p){return n.get(p);});return h._("Vous avez ajout\u00e9 {subscriber1}, {subscriber2} et {num} autres personnes.",[h.param('subscriber1',o[0].name),h.param('subscriber2',o[1].name),h.param('num',o.slice(2).length)]);}},_renderUnsubscribeMessage:function k(l){var m=this.state.extraParticipants,n=l.log_message_data.removed_participants[0],o=m.get(n);if(!n||n===l.author){return h._("Vous avez quitt\u00e9 la conversation.");}else return h._("Vous avez retir\u00e9 {name} de la conversation.",[h.param('name',o.name)]);},_renderUnsubscribeMessageForRoom:function k(l){var m=this.state.extraParticipants,n=l.log_message_data.removed_participants[0],o=m.get(n);if(!n||n===l.author){return h._("Vous avez quitt\u00e9 la salle.");}else return h._("Vous avez supprim\u00e9 {name} du salon.",[h.param('name',o.name)]);},_moveCurrentUserToFront:function k(l){var m=this._viewer,n=l.indexOf(m);if(n>0){var o=l.filter(function(p){return p!==m;});return [m].concat(o);}return l;}});f.exports=j;}),null);
__d('MessengerLogMessage.react',['cx','ix','Image.react','ImmutableObject','MercuryLogMessageType','MercuryMessageInfo','MercuryXMATRenderer','MessengerLogMessageBody.react','MNCommerceLogMessageUtils','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=i('/images/mercury/clients/messenger/message/messageStateFailed.png');j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerLogMessage4=function(){var t=this.props.message;if(c('MNCommerceLogMessageUtils').isCommercePageAdminMessage(t))return c('MNCommerceLogMessageUtils').getCommercePageManage(t,true);return null;}.bind(this),this.$MessengerLogMessage2=function(){if(!c('MercuryMessageInfo').hasError(this.props.message))return null;return (c('React').createElement(c('Image.react'),{className:"_41-9",src:m}));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement('div',{className:this.$MessengerLogMessage1()},this.$MessengerLogMessage2(),c('React').createElement('i',{className:"_uwa"}),c('React').createElement('span',{className:"_3oh-"},this.$MessengerLogMessage3()));};n.prototype.$MessengerLogMessage3=function(){var o=void 0;if(this.props.message.log_message_type!==c('MercuryLogMessageType').ORION)o=c('MercuryXMATRenderer').renderText(this.props.message,this.props.isLastOfType,this.props.onImageLoad);return this.$MessengerLogMessage4()||o||c('React').createElement(c('MessengerLogMessageBody.react'),{message:this.props.message,viewer:this.props.viewer,thread:this.props.thread});};n.prototype.$MessengerLogMessage1=function(){var o=void 0,p=this.props.message,q=p.log_message_type===c('MercuryLogMessageType').UNSUBSCRIBE&&p.log_message_data.removed_participants.indexOf(p.author)!==-1,r=this.props.viewer;switch(p.log_message_type){case c('MercuryLogMessageType').SUBSCRIBE:o="_uwb";break;case c('MercuryLogMessageType').UNSUBSCRIBE:o=q?"_uwc":"_uwe";break;case c('MercuryLogMessageType').PHONE_CALL:o=p.log_message_data.caller.indexOf(r)!==-1?"_uwf":"_uwg";break;case c('MercuryLogMessageType').VIDEO_CALL:o=p.log_message_data.caller.indexOf(r)!==-1?"_uwh":"_uwi";break;case c('MercuryLogMessageType').THREAD_NAME:o="_uwj";break;case c('MercuryLogMessageType').THREAD_IMAGE:o="_uwk";break;case c('MercuryLogMessageType').SERVER_ERROR:o="_uwl";break;case c('MercuryLogMessageType').LIVE_LISTEN:o="_uwm";break;case c('MercuryLogMessageType').WALLPAPER:o="_uwn";break;case c('MercuryLogMessageType').ORION:o="_uwo";break;case c('MercuryLogMessageType').SWITCH_TO_WORK:o="_uwp";break;case c('MercuryLogMessageType').PAGE_REPLY:o="_uwq";break;}return c('joinClasses')("_497p"+((p.log_message_type===c('MercuryLogMessageType').PHONE_CALL||p.log_message_type===c('MercuryLogMessageType').VIDEO_CALL)&&!p.log_message_data.answered?' '+"_3no3":'')+(p.log_message_data&&p.log_message_data.message_type?' '+"_11es":''),o);};n.propTypes={message:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired,isLastOfType:l.bool.isRequired,onImageLoad:l.func};f.exports=n;}),null);
__d('MessengerPageAdminNoteList.react',['cx','fbt','LeftRight.react','MessengerBubble.react','PagesMessengerCreatorInfo.react','ReactComponentWithPureRenderMixin','React','enumerate','classWithMixins','immutable','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactComponentWithPureRenderMixin'))));k=j&&j.prototype;m.prototype.render=function(){var n=[],o=this.calculateGroups(this.props.notes);o.forEach(function(p,q){n.push(c('React').createElement('li',{className:"_4kd2",key:'group:'+q},this.$MessengerPageAdminNoteList1(p)));}.bind(this));return (c('React').createElement('ul',{className:"_4kd3"},n));};m.prototype.$MessengerPageAdminNoteList1=function(n){var o=[];n.forEach(function(p,q){o.push(c('React').createElement('div',{className:"_4kd4",key:'note:'+q},this.$MessengerPageAdminNoteList2(p,n)));}.bind(this));return o;};m.prototype.$MessengerPageAdminNoteList2=function(n,o){var p=c('immutable').List([c('React').createElement(c('LeftRight.react'),{className:"_561k"},c('React').createElement('div',{className:"_561l"},i._("Note priv\u00e9e")),c('React').createElement(c('PagesMessengerCreatorInfo.react'),{key:'creator_info',creator_info:o[0].creator_info,isNote:true}))]);return (c('React').createElement('div',{className:"_o46 _3i_m _nd_"},c('React').createElement('div',{className:'clearfix'},c('React').createElement(c('MessengerBubble.react'),{body:n.body.text,attachments:p,className:"_3058 _4kd5"}))));};m.prototype.calculateGroups=function(n){var o=[],p=null,q=null,r=c('enumerate')(n),s=void 0;while(!(s=r.next()).done){var t=q&&q.value.creator_info.creatorID===s.value.creator_info.creatorID;if(!t){p=[];o.push(p);}if(p)p.push(s.value);q=s;}return o;};function m(){j.apply(this,arguments);}m.propTypes={notes:l.arrayOf(l.shape({id:l.string,body:l.object.isRequired,creator_info:l.shape({creatorID:l.string.isRequired,creatorName:l.string.isRequired,creatorType:l.string.isRequired,labelType:l.string.isRequired,pageID:l.string.isRequired,profileURI:l.string}),timestamp:l.number.isRequired})).isRequired};f.exports=m;}),null);
__d('MessengerMessageGroup.react',['cx','fbt','immutable','ImmutableObject','Image.react','Link.react','MercuryConfig','MercuryIDs','MercuryParticipants','MercuryParticipantSilhouettes','MercuryTimestamp','MessengerActions','MessengerConfig','MessengerDateBreak.react','MessengerMessage.react','MessengerPageAdminNoteList.react','MessengerProfileImageWrapper.react','MessengerStickerUtils','MessengerTextWithEmoticons.react','messengerURIUtilsRe','PagesMessengerCreatorInfo.react','React','ReactDOM','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('immutable').List,k=c('immutable').OrderedMap,l=c('React').PropTypes,m=32,n=new (c('ImmutableObject'))({image_src:c('MercuryParticipantSilhouettes').neutralSilhouette,is_messenger_user:true,name:''}),o=c('React').createClass({displayName:'MessengerMessageGroup',mixins:[c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{activeMessageID:l.string,deliveryTimestamp:l.number.isRequired,hasDateBreak:l.bool,isCanonical:l.bool,isFromViewer:l.bool,isPageMessage:l.bool,lastReadTimestamp:l.number.isRequired,messages:l.instanceOf(c('immutable').List).isRequired,nextTimestamp:l.number.isRequired,onAttachmentLoad:l.func,onMessageDeselect:l.func.isRequired,onMessageSelect:l.func.isRequired,readReceipts:l.instanceOf(k).isRequired,thread:l.object,pageCustomAction:l.func},statics:{calculateState:function r(s){return {participants:p(s)};}},shouldComponentUpdate:function r(s,t){return (this.props.activeMessageID!==s.activeMessageID||this.props.isFromViewer!==s.isFromViewer||this.props.deliveryTimestamp!==s.deliveryTimestamp||this.props.lastReadTimestamp!==s.lastReadTimestamp||!c('immutable').is(this.props.messages,s.messages)||!c('immutable').is(this.props.readReceipts,s.readReceipts)||!c('immutable').is(this.state.participants,t.participants)||!!(s.thread&&this.props.thread&&this.props.thread!==s.thread));},render:function r(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1t_p"+(' '+"clearfix")+(c('MessengerStickerUtils').isStickerMessageGroup(this.props.messages)?' '+"_5tx1":'')+(this._hasSeenHeadsAtBottom()?' '+"_35fy":'')},this._renderProfileColumn(),c('React').createElement('div',{className:"_41ud"},this._renderName(),this._renderMessages())),this.props.isPageMessage?this._renderNotes():null));},_renderProfileColumn:function r(){if(this.props.isFromViewer)return null;var s=this.props.messages.last(),t=this.state.participants.get(s.author)||n,u=i._("{name} {time}",[i.param('name',t.name),i.param('time',c('MercuryTimestamp').getPreciseTimestamp(s.timestamp))]),v=c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:"_1t_r",isMessengerUser:t.is_messenger_user,size:m,showBadge:true,tooltipContent:u},c('React').createElement(c('Image.react'),{alt:t.name,src:t.image_src,height:m,width:m}));if(!this.props.isCanonical&&t.fbid){var w=c('messengerURIUtilsRe').getURIForUserID(t.fbid);v=c('React').createElement(c('Link.react'),{className:"_5f0v",href:w.toString(),onClick:this._handleContactSelect.bind(this,t),tabIndex:-1},v);}return (c('React').createElement('div',{className:"_1t_q"},v));},_renderMessages:function r(){var s=this.props.messages.size,t=[];this.props.messages.forEach(function(u,v,w){var x=u.message_id===this.props.activeMessageID;if(x&&!(v===0&&this.props.hasDateBreak)&&!c('MessengerConfig').SentTimestampEnabled)t.push(c('React').createElement(c('MessengerDateBreak.react'),{className:"_5r8z",date:new Date(u.timestamp),key:'db:'+u.message_id}));var y=this.props.isPageMessage&&this.props.pageCustomAction?this.props.pageCustomAction:null;if(y)t.push(c('React').createElement('h4',{key:'page_action'+u.message_id},c('React').createElement(y,{message:u})));var z=c('MercuryIDs').getUserIDFromParticipantID(this.props.author),aa=this.props.thread?this.props.thread.custom_color:'';t.push(c('React').createElement(c('MessengerMessage.react'),{customColor:aa,deliveryTimestamp:this.props.deliveryTimestamp,isActive:x,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,key:u.message_id,message:u,messageActionsWrapper:this.props.messageActionWrapper,onAttachmentLoad:this.props.onAttachmentLoad,participants:this.state.participants,nextTimestamp:this._getNextTimestamp(w,s,v),onDeselect:this.props.onMessageDeselect,onSelect:this.props.onMessageSelect,readReceipts:this.props.readReceipts,showDeliveryState:u.timestamp>this.props.lastReadTimestamp,ref:u.message_id,authorFBID:z==null?undefined:z,threadCustomColor:aa}));if(q(this.props.isPageMessage,w,v,u))t.push(c('React').createElement(c('PagesMessengerCreatorInfo.react'),{key:'creator_info:'+v,creator_info:u.creator_info}));}.bind(this));return t;},_renderNotes:function r(){var s=[];this.props.messages.forEach(function(t,u,v){if(this.props.isPageMessage&&t.page_admin_notes)s.push(c('React').createElement(c('MessengerPageAdminNoteList.react'),{key:'notes:'+t.message_id,notes:t.page_admin_notes}));}.bind(this));return s;},_renderName:function r(){var s=this.state.participants.get(this.props.messages.first().author);if(!s)return null;var t=s.short_name;if(this.props.thread){var u=this.props.thread.custom_nickname?this.props.thread.custom_nickname:null,v=c('MercuryIDs').getUserIDFromParticipantID(s.id);if(u&&v&&u[v]){t=u[v];if(c('MercuryConfig').MessengerNewEmojiGK)t=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:t});}}return (c('React').createElement('h5',{className:"_ih3"+(this.props.isCanonical||this.props.isFromViewer?' '+"_-ne":'')},c('React').createElement('span',{className:"_3oh-"},t)));},getMessageElement:function r(s){return c('ReactDOM').findDOMNode(this.refs[s]);},_hasSeenHeadsAtBottom:function r(){var s=this.props,t=s.messages,u=s.nextTimestamp,v=s.readReceipts,w=t.last().timestamp,x=0;v.forEach(function(y){if(y>=w&&y<u)if(++x===2)return false;});return x===2;},_getNextTimestamp:function r(s,t,u){return u<t-1?s.get(u+1).timestamp:this.props.nextTimestamp;},_handleContactSelect:function r(s,t){t&&t.preventDefault();var u=c('MercuryIDs').getThreadIDFromParticipantID(s.id);u&&c('MessengerActions').selectThread(u);}});function p(r){var s=r.messages.first().author;return c('immutable').Map().withMutations(function(t){r.readReceipts.forEach(function(u,v){t.set(v,c('MercuryParticipants').getOrFetch(v));});t.set(s,c('MercuryParticipants').getOrFetch(s));});}function q(r,s,t,u){if(!r||!u.creator_info)return false;if(t===s.size-1)return true;var v=s.get(t+1).creator_info;if(!v)return true;return u.creator_info.creatorID!==v.creatorID;}f.exports=o;}),null);
__d('MessengerNewMessagesNotice.react',['cx','fbt','ix','Image.react','Link.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=j('/images/mercury/clients/messenger/threadlist/newMessageIndicator.png');k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;o.prototype.render=function(){return (c('React').createElement('div',{'aria-hidden':!this.props.isOpen,className:"_4wzq"+(this.props.isOpen?' '+"_4wzr":'')+(!this.props.isOpen?' '+"_4-je":'')},c('React').createElement(c('Link.react'),{className:"_5f0v _4wzs",onClick:this.props.onClick,tabIndex:this.props.isOpen?0:-1},c('React').createElement(c('Image.react'),{className:"_4wzt",src:n}),c('React').createElement('div',{className:"_1bqr"},this.props.label))));};function o(){k.apply(this,arguments);}o.propTypes={isOpen:m.bool.isRequired,label:m.node,onClick:m.func};o.defaultProps={label:i._("Nouveaux messages")};f.exports=o;}),null);
__d('MessengerTypingIndicator.react',['cx','Image.react','immutable','MercuryParticipants','MercuryTypingAnimation.react','MessengerProfileImageWrapper.react','MessengerBubble.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=32,k=c('React').createClass({displayName:'MessengerTypingIndicator',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{userID:i.string,showName:i.bool},statics:{calculateState:function l(m){return {author:c('MercuryParticipants').getOrFetch(m.userID)};}},render:function l(){if(!this.state.author)return null;var m=this.state.author;return (c('React').createElement('div',{className:"_1t_p _1hbw"},c('React').createElement('div',{className:"_1t_q"},c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:"_1t_r",isMessengerUser:m.is_messenger_user,size:j,showBadge:true},c('React').createElement(c('Image.react'),{alt:'',src:m.image_src,height:j,width:j}))),c('React').createElement('div',{className:"_41ud"},c('React').createElement('div',{className:"_o46 _3erg _29_7"},c('React').createElement(c('MessengerBubble.react'),{attachments:c('immutable').List([c('React').createElement(c('MercuryTypingAnimation.react'),{key:'animation'})]),body:'',className:"_3058",ref:'bubble'})))));},getBubble:function l(){return this.refs.bubble;}});f.exports=k;}),null);
__d('MessengerConversation.react',['cx','csx','fbt','BootloadOnRender.react','ChatTypingIndicators.react','CSS','DOM','DOMDimensions','Event','FluxContainer','Focus','immutable','ImmutableObject','JSResource','KeyEventController','LazyComponent.react','MercuryConfig','MercuryIDs','MercuryDeliveryReceipts','MercuryRoger','MercuryShareAttachmentRenderLocations','MessageList.react','MessengerAttachmentRenderer','MessengerButton.react','MessengerCollapsedLogMessageGroup.react','MessengerConfig','MessengerContextBannerContainer.react','MessengerDateBreak.react','MessengerFlexScrollableArea.react','MessengerLogMessage.react','MessengerMessageGroup.react','MessengerNewMessagesNotice.react','MessengerQuickCamButtonHTML5.react','MessengerQuickCamOrigins','MessengerSpinner.react','MessengerTypingIndicator.react','MessengerVideoAutoplayActions','MessengerVideoAutoplayStore','MNOmniMConstants','OmniMStore','Parent','React','ReactDOM','Set','SubscriptionsHandler','UserActivity','WebMessengerConstants','convertMIGColorToFIGColor','joinClasses','setImmediate','throttle'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('MercuryDeliveryReceipts').get(),n=c('MercuryRoger').get(),o=c('immutable').OrderedMap,p=c('React').PropTypes,q=20,r=100;function s(event,x){return !!(c('KeyEventController').filterEventTypes(event,x)&&c('KeyEventController').filterEventModifiers(event,x)&&c('Parent').bySelector(event.target,"._4_j4"));}k=babelHelpers.inherits(t,c('React').PureComponent);l=k&&k.prototype;function t(){var x,y;for(var z=arguments.length,aa=Array(z),ba=0;ba<z;ba++)aa[ba]=arguments[ba];return y=(x=l.constructor).call.apply(x,[this].concat(aa)),this.state={readReceipts:u(this.props),deliveryTimestamp:0,scrollingToUnreadMessage:false,showUnreadNotice:false,unreadCount:this.props.thread?this.props.thread.unread_count:0,width:0,suggestions:null,omniMPrefs:null},this.$MessengerConversation1=null,this.$MessengerConversation2=0,this.$MessengerConversation3=0,this.$MessengerConversation4=null,this.isScrolledToBottom=function(){return !!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottom());}.bind(this),this.isScrolledToBottomWithHeight=function(ca){return !!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottomWithHeight(ca));}.bind(this),this.$MessengerConversation20=function(){return (c('React').createElement(c('MessengerNewMessagesNotice.react'),{isOpen:this.state.showUnreadNotice,label:j._({"*":"{number} messages non lus","268435456":"1 message non lu"},[j.plural(this.state.unreadCount,'number')]),onClick:this.$MessengerConversation24}));}.bind(this),this.$MessengerConversation21=function(){if(!this.props.isLoaded||!c('MessengerConfig').ShowContextBanner)return null;return (c('React').createElement(c('MessengerContextBannerContainer.react'),{location:c('MercuryShareAttachmentRenderLocations').MESSENGER,threadID:this.props.threadID,viewer:this.props.viewer}));}.bind(this),this.$MessengerConversation22=function(){if(this.props.isLoaded)return null;return (c('React').createElement('div',{className:"_2k8v"},this.props.isLoading?c('React').createElement(c('MessengerSpinner.react'),null):null));}.bind(this),this.$MessengerConversation19=function(){return (c('React').createElement('div',{className:"_4xu0"},c('React').createElement(c('MessengerSpinner.react'),{className:"_4xu1",size:c('MessengerSpinner.react').Sizes.LARGE})));},this.trackBottomIfRequired=function(){this.refs.scrollable&&this.refs.scrollable.trackBottomIfRequired();}.bind(this),this.scrollToBottom=function(){this.refs.scrollable&&this.refs.scrollable.scrollToBottom();}.bind(this),this.scrollToTop=function(ca){this.refs.scrollable&&this.refs.scrollable.scrollToTop(ca);}.bind(this),this.$MessengerConversation6=function(){var ca=this.$MessengerConversation14();ca&&ca.pageUp();return false;}.bind(this),this.$MessengerConversation7=function(){var ca=this.$MessengerConversation14();ca&&ca.pageDown();return false;}.bind(this),this.$MessengerConversation8=function(ca){if(ca.target===document.body){this.scrollToTop();return false;}return null;}.bind(this),this.$MessengerConversation9=function(ca){if(ca.target===document.body){this.scrollToBottom();return false;}return null;}.bind(this),this.$MessengerConversation12=function(){if(!this.refs.scrollable)return;var ca=this.$MessengerConversation14(),da=this.refs.quickReply;da&&c('CSS').conditionClass(da,"_1mzg",!this.isScrolledToBottom());this.$MessengerConversation10();this.$MessengerConversation11();if(ca&&this.state.unreadCount&&this.$MessengerConversation18(ca))this.setState({showUnreadNotice:false,unreadCount:0});this.$MessengerConversation25(ca);}.bind(this),this.$MessengerConversation24=function(ca){ca.preventDefault();this.setState({showUnreadNotice:false});this.$MessengerConversation16();}.bind(this),this.$MessengerConversation23=function(ca){return function(){if(this.props.threadID!==ca)return;this.trackBottomIfRequired();}.bind(this);}.bind(this),this.$MessengerConversation15=function(){c('DOM').scry(c('ReactDOM').findDOMNode(this),'img').forEach(function(ca){if(ca.complete)return;var da=this.props.threadID,ea=c('Event').listen(ca,'load',function(){if(this.props.threadID===da)this.trackBottomIfRequired();ea.remove();}.bind(this));}.bind(this));}.bind(this),this.$MessengerConversation26=function(){var ca=this.props.messages,da=this.state.unreadCount;if(!da||da>ca.size)return null;return ca.get(ca.size-da);}.bind(this),this.$MessengerConversation18=function(ca){var da=this.$MessengerConversation26();if(!da)return false;var ea=this.refs.messageList.getMessageElement(da.message_id);if(!ea)return false;var fa=ea.getBoundingClientRect().top,ga=ca.getElement().getBoundingClientRect().top;if(fa-ga<0)return false;return true;}.bind(this),this.$MessengerConversation27=function(ca){return !!this.props.messages.find(function(da){return da.message_id===ca;});}.bind(this),this.$MessengerConversation16=function(){if(!this.state.unreadCount)return;this.setState({scrollingToUnreadMessage:true});var ca=this.$MessengerConversation26();if(!ca){this.scrollToTop(false);return;}this.$MessengerConversation28(ca.message_id,function(){this.setState({scrollingToUnreadMessage:false,unreadCount:0});}.bind(this));}.bind(this),this.$MessengerConversation28=function(ca,da){var ea=this.refs.messageList.getMessageElement(ca,true),fa=this.$MessengerConversation14();if(!ea||!fa)return;var ga=ea.getBoundingClientRect().top,ha=c('ReactDOM').findDOMNode(this.refs.messageList).getBoundingClientRect().top,ia=fa.getElement().getBoundingClientRect().top,ja=ga+Math.abs(ha)+ia;fa.setScrollTop(ja,true,{callback:da});}.bind(this),this.$MessengerConversation11=function(){if(!this.isScrolledToBottom()||this.props.messages.size===0)return;if(c('UserActivity').isOnTab()&&c('UserActivity').isActive()){this.props.onRead(this.props.threadID);}else if(!this.$MessengerConversation4)this.$MessengerConversation4=c('UserActivity').subscribe(function(){if(c('UserActivity').isOnTab()){this.$MessengerConversation13();this.props.onRead(this.props.threadID);}}.bind(this));}.bind(this),this.handleResize=function(){if(this.refs.scrollable){this.refs.scrollable.handleResize();var ca=c('DOMDimensions').getElementDimensions(c('ReactDOM').findDOMNode(this.refs.scrollable)).width;if(ca!==this.state.width)this.setState({width:ca});}var da=this.refs.quickReply;da&&c('CSS').conditionClass(da,"_1mzg",!this.isScrolledToBottom());this.trackBottomIfRequired();}.bind(this),this.$MessengerConversation14=function(){return this.refs.scrollable&&this.refs.scrollable.getArea();}.bind(this),this.$MessengerConversation13=function(){this.$MessengerConversation4&&this.$MessengerConversation4.unsubscribe();this.$MessengerConversation4=null;}.bind(this),y;}t.getStores=function(){return [c('OmniMStore')];};t.calculateState=function(x,y){if(!c('MercuryIDs').isValid(y.threadID))return null;return {suggestions:c('OmniMStore').suggestionsForThread(y.threadID),omniMPrefs:c('OmniMStore').prefs()};};t.prototype.componentDidMount=function(){var x=new (c('SubscriptionsHandler'))();x.addSubscriptions(c('Event').listen(window,'resize',c('throttle')(this.handleResize,50)),c('KeyEventController').registerKey('PAGE_UP',this.$MessengerConversation6,s),c('KeyEventController').registerKey('PAGE_DOWN',this.$MessengerConversation7,s),c('KeyEventController').registerKey('HOME',this.$MessengerConversation8,s),c('KeyEventController').registerKey('END',this.$MessengerConversation9,s),n.subscribe('change',function(y,z){z[this.props.threadID]&&this.setState({readReceipts:u(this.props)});}.bind(this)),m.subscribe('change',function(y,z){this.setState({deliveryTimestamp:this.props.threadID?m.getDeliveryTime(this.props.threadID):0});}.bind(this)));this.$MessengerConversation1=x;this.$MessengerConversation10();this.handleResize();this.$MessengerConversation11();this.$MessengerConversation5=c('throttle')(this.$MessengerConversation12,r);};t.prototype.componentWillReceiveProps=function(x){var y=x.threadID!==this.props.threadID;if(y){this.$MessengerConversation13();this.setState({scrollingToUnreadMessage:false,showUnreadNotice:false,unreadCount:x.thread?x.thread.unread_count:0});}if(y||x.messages!==this.props.messages)this.setState({readReceipts:u(x),deliveryTimestamp:x.threadID?m.getDeliveryTime(x.threadID):0});};t.prototype.componentWillUnmount=function(){this.$MessengerConversation13();this.$MessengerConversation1&&this.$MessengerConversation1.release();};t.prototype.componentWillUpdate=function(){var x=this.$MessengerConversation14();if(x){this.$MessengerConversation2=x.getScrollHeight();this.$MessengerConversation3=x.getScrollTop();}};t.prototype.componentDidUpdate=function(x){if(!this.refs.scrollable)return;if(this.props.threadID!==x.threadID||v(x,this.props)){this.scrollToBottom();this.$MessengerConversation15();}else{var y=this.$MessengerConversation14();if(y){var z=y.getScrollHeight();if(z!==this.$MessengerConversation2){var aa=y.getScrollHeight()-this.$MessengerConversation2+this.$MessengerConversation3;this.refs.scrollable.scrollToPosition(aa);}else this.$MessengerConversation15();}}if(this.props.messages!==x.messages){this.$MessengerConversation11();if(this.state.scrollingToUnreadMessage)this.$MessengerConversation16();c('MessengerVideoAutoplayActions').updateStore(this.props.threadID,this.$MessengerConversation17());}setTimeout(function(){var ba=this.$MessengerConversation14();this.trackBottomIfRequired();if(ba&&this.state.unreadCount&&!this.state.scrollingToUnreadMessage&&!this.props.isLoading)if(this.$MessengerConversation18(ba)){this.setState({showUnreadNotice:false,unreadCount:0});}else this.setState({showUnreadNotice:true});this.$MessengerConversation10();}.bind(this),0);};t.prototype.render=function(){if(this.props.isLoading&&this.props.messages.isEmpty())return this.$MessengerConversation19();var x=c('MercuryConfig').MessengerPlatformPinProtectionGK&&this.props.thread&&this.props.thread.is_pin_protected,y=this.props.messages.last(),z=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),aa=null,ba=null,ca=this.state.suggestions||{},da=ca.quickReplies,ea=ca.agentSuggestions;if(da&&da.length&&y.author!==z){aa=da;ba=c('MNOmniMConstants').QUICKREPLIES;}else if(ea&&ea.length&&c('MercuryConfig').EnableOmniM){aa=ea;ba=c('MNOmniMConstants').OMNIM;}var fa=c('MercuryConfig').EnableQuickReply&&aa&&aa.length&&aa.filter(function(oa){return !oa.dismissed;}).length?c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{options:aa,threadID:y.thread_id,source:ba,omniMPrefs:this.state.omniMPrefs}),loader:c('JSResource')('MessengerBotsQuickReplyButtonList.react').__setRef('MessengerConversation.react'),placeholder:c('React').createElement('div',null)}):null,ga=null;if(y&&y.message_source&&y.author!==z&&c('MercuryConfig').WebCamQuickReply){var ha=y.message_source;if(ha==='camera'){var ia=this.props.thread?c('convertMIGColorToFIGColor')(this.props.thread.custom_color):null,ja=c('React').createElement('div',{className:"_1gc5",style:ia&&{color:ia}},j._("Envoyer une r\u00e9ponse photo"));ga=c('React').createElement('div',{className:"_1gc6"},c('React').createElement(c('MessengerQuickCamButtonHTML5.react'),{className:"_4rv5"+(' '+"_1gcb"),location:c('MessengerQuickCamOrigins').MESSENGER,threadID:this.props.threadID,viewer:this.props.viewer,textChild:ja}));}}var ka=null,la=null;if(ga||fa){ka=c('React').createElement('div',{className:"_51op"},c('React').createElement('div',{className:"_51oq",onResize:this.handleResize}));la=c('React').createElement('div',{ref:'quickReply'},c('React').createElement('div',{className:"_1mzb",onResize:this.handleResize},ga,fa));}var ma=j._("Messages"),na=j._("Charger plus...");return c('React').createElement(c('MessengerFlexScrollableArea.react'),{className:this.props.className,flexChildren:this.$MessengerConversation20(),footerChildren:la,onMount:function(){return c('setImmediate')(this.$MessengerConversation11);}.bind(this),onScroll:this.props.useManualFetch?undefined:this.$MessengerConversation5,ref:'scrollable',shouldStickToBottom:true,tabIndex:0,useScrollProtection:c('MessengerConfig').ChatScrollInterval},c('React').createElement('div',{'aria-label':ma,className:c('joinClasses')("__i_",this.props.innerClassName),role:'region'},c('React').createElement('h3',{className:"accessible_elem"},ma),this.$MessengerConversation21(),this.props.useManualFetch&&!this.props.upExhausted?c('React').createElement(c('MessengerButton.react'),{className:"_41jf",label:na,onClick:function(){return this.props.fetchMessages(c('WebMessengerConstants').MORE_SEARCH_CONTEXT_UP);}.bind(this),type:'primary',use:'default'}):null,this.$MessengerConversation22(),x?w():c('React').createElement(c('MessageList.react'),{DateBreak:c('MessengerDateBreak.react'),deliveryTimestamp:this.state.deliveryTimestamp,isCanonical:this.props.isCanonical,LogMessage:c('MessengerLogMessage.react'),CollapsedLogMessageGroup:c('MessengerCollapsedLogMessageGroup.react'),MessageGroup:c('MessengerMessageGroup.react'),messages:this.props.messages,onAttachmentLoad:this.$MessengerConversation23(this.props.threadID),readReceipts:this.state.readReceipts,ref:'messageList',location:c('MercuryShareAttachmentRenderLocations').MESSENGER,viewer:this.props.viewer,thread:this.props.thread}),this.props.useManualFetch&&!this.props.downExhausted?c('React').createElement(c('MessengerButton.react'),{className:"_41jf",label:na,onClick:function(){return this.props.fetchMessages(c('WebMessengerConstants').MORE_SEARCH_CONTEXT_DOWN);}.bind(this),type:'primary',use:'default'}):null,c('React').createElement(c('ChatTypingIndicators.react'),{indicatorClass:c('MessengerTypingIndicator.react'),indicatorsDidShow:function(){this.trackBottomIfRequired();}.bind(this),rootClassName:"clearfix _17pz",threadID:this.props.threadID,viewer:this.props.viewer}),ka));};t.prototype.$MessengerConversation10=function(){if(this.props.useManualFetch)return;var x=this.$MessengerConversation14();if(x&&x.getScrollTop()<q){this.props.fetchMessages(c('WebMessengerConstants').MORE_SEARCH_CONTEXT_UP);c('MessengerVideoAutoplayActions').updateStore(this.props.threadID,this.$MessengerConversation17());}};t.prototype.$MessengerConversation17=function(){return this.props.messages.filter(function(x){return (c('MessengerAttachmentRenderer').isSingleVideoAttachment(x)||c('MessengerAttachmentRenderer').isSharedVideoAttachmentMessage(x));}).reverse().map(function(x){return x.message_id;});};t.prototype.$MessengerConversation25=function(x){var y=this.refs.messageList;if(!y||!x)return;var z=[],aa=x.getElement().getBoundingClientRect(),ba=c('MessengerVideoAutoplayStore').getMessageIDs(this.props.threadID),ca=ba||this.$MessengerConversation17()||c('immutable').List();ca.map(function(da){var ea=c('MessengerAttachmentRenderer').getVideoElem(da,y);if(ea)z.push([da,ea.getBoundingClientRect()]);});if(z.length)c('MessengerVideoAutoplayActions').onScroll(this.props.threadID,ba?null:ca,c('immutable').Map(z),aa);};t.propTypes={contact:p.instanceOf(c('ImmutableObject')),downExhausted:p.bool,fetchMessages:p.func.isRequired,innerClassName:p.string,isCanonical:p.bool,isLoaded:p.bool,isLoading:p.bool,messages:p.instanceOf(c('immutable').List).isRequired,participants:p.instanceOf(c('immutable').Map),thread:p.object,threadID:p.string.isRequired,upExhausted:p.bool,useManualFetch:p.bool,viewer:p.string.isRequired};function u(x){var y=c('MercuryIDs').getParticipantIDFromUserID(x.viewer),z=n.getSeenTimestamps(x.threadID),aa=new (c('Set'))(x.thread?x.thread.participants:z.keys());aa['delete'](y);return z.withMutations(function(ba){c('immutable').Seq(x.messages).reverse().forEach(function(ca){if(aa.size===0)return false;if(!aa.has(ca.author))return;ba.update(ca.author,function(da){if(!da||da.watermark<=ca.timestamp)return {watermark:ca.timestamp,action:ca.timestamp};return da;});aa['delete'](ca.author);});});}function v(x,y){var z=c('MercuryIDs').getParticipantIDFromUserID(y.viewer);return (y.threadID===x.threadID&&y.messages!==x.messages&&!y.messages.isEmpty()&&y.messages.last()!==x.messages.last()&&y.messages.last().author===z);}function w(){return (c('React').createElement('div',null,'This conversation is protected by PIN. Use your pin on device to unlock the conversation.'));}f.exports=c('FluxContainer').create(t,{withProps:true});}),null);
__d('MercuryMessageList',['immutable','LogHistory','Map','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';var h=c('LogHistory').getInstance('mercury_message_list');function i(k){this.$MercuryMessageList1=c('immutable').List(k||[]);this.$MercuryMessageList2();}i.prototype.append=function(k){var l;this.$MercuryMessageList1=(l=this.$MercuryMessageList1).push.apply(l,k);this.$MercuryMessageList2();j('append',k);};i.prototype.prepend=function(k){var l;this.$MercuryMessageList1=(l=this.$MercuryMessageList1).unshift.apply(l,k);this.$MercuryMessageList2();j('prepend',k);};i.prototype.update=function(k){var l=k.filter(function(m){return this.contains(m);}.bind(this));if(l.length===0)return;this.$MercuryMessageList1=this.$MercuryMessageList1.withMutations(function(m){l.forEach(function(n){var o=this.$MercuryMessageList3.get(n.message_id);if(o!==undefined)m.set(o,n);}.bind(this));}.bind(this));j('update',l);};i.prototype.reorder=function(k){this.$MercuryMessageList1=c('immutable').List(k);this.$MercuryMessageList2();j('reorder',k);};i.prototype.at=function(k){return this.$MercuryMessageList1.get(k);};i.prototype.contains=function(k){return this.$MercuryMessageList3.has(k.message_id);};i.prototype.toArray=function(){return this.$MercuryMessageList1.toArray();};i.prototype.toMap=function(){return new (c('Map'))(c('immutable').Seq(this.$MercuryMessageList1).map(function(k){return [k.message_id,k];}));};i.prototype.$MercuryMessageList2=function(){this.$MercuryMessageList3=new (c('Map'))(c('immutable').Seq(this.$MercuryMessageList1).map(function(k,l){return [k.message_id,l];}));};function j(event,k){c('setTimeoutAcrossTransitions')(function(){h.debug(event,JSON.stringify({messageIDs:k.map(function(l){return l.message_id;})}));},0);}f.exports=i;}),null);
__d('MercuryMessageStore',['MercuryAPIArgsSource','LogHistory','MercuryMessages','MercuryViewer','MercuryMessageList','SubscriptionsHandler','MercuryThreadInformer','MercuryThreadlistConstants','MercuryThreads','mixInEventEmitter','setImmediate','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryThreads').get(),i=c('LogHistory').getInstance('mercury_message_store');function j(l,m,n){this.$MercuryMessageStore1=l;this.$MercuryMessageStore2=new (c('MercuryMessageList'))();this.$MercuryMessageStore3=n?c('MercuryMessages').getForFBID(n):c('MercuryMessages').get();this.$MercuryMessageStore4=1;this.$MercuryMessageStore5=null;this.$MercuryMessageStore6=0;this.$MercuryMessageStore7=m||c('MercuryThreadlistConstants').RECENT_MESSAGES_LIMIT;this.$MercuryMessageStore8=n?c('MercuryThreadInformer').getForFBID(n):c('MercuryThreadInformer').get();this.$MercuryMessageStore9=new (c('SubscriptionsHandler'))();this.$MercuryMessageStore9.addSubscriptions(this.$MercuryMessageStore8.subscribe('messages-received',function(o,p){return this.$MercuryMessageStore10(p);}.bind(this)),this.$MercuryMessageStore8.subscribe('messages-updated',function(o,p){return p[this.$MercuryMessageStore1]&&this.$MercuryMessageStore11(p[this.$MercuryMessageStore1]);}.bind(this)),this.$MercuryMessageStore8.subscribe('messages-reordered',function(o,p){return p[this.$MercuryMessageStore1]&&this.$MercuryMessageStore12();}.bind(this)),this.$MercuryMessageStore8.subscribe('thread-invalidated',function(o,p){return p[this.$MercuryMessageStore1]&&this.$MercuryMessageStore13();}.bind(this)));i.debug('constructed',JSON.stringify({threadID:this.$MercuryMessageStore1}));this.$MercuryMessageStore14();}j.prototype.setNewThreadID=function(l){this.$MercuryMessageStore15=l;};j.prototype.destroy=function(){this.$MercuryMessageStore9&&this.$MercuryMessageStore9.release();i.debug('destroyed',JSON.stringify({threadID:this.$MercuryMessageStore1}));};j.prototype.subscribe=function(l){return this.addRetroactiveListener('updated',l);};j.prototype.fetchMoreMessages=function(){if(this.hasFetchedAll())return false;this.$MercuryMessageStore14();return true;};j.prototype.hasFetchedAll=function(){if(this.$MercuryMessageStore3.hasLoadedExactlyNMessages(this.$MercuryMessageStore1,this.$MercuryMessageStore6)&&this.$MercuryMessageStore3.hasLoadedAllMessages(this.$MercuryMessageStore1))return true;return h.isNewEmptyLocalThread(this.$MercuryMessageStore1);};j.prototype.$MercuryMessageStore14=function(){var l=this.$MercuryMessageStore6+this.$MercuryMessageStore7*this.$MercuryMessageStore4;i.debug('fetching',JSON.stringify({threadID:this.$MercuryMessageStore1,limit:l}));this.$MercuryMessageStore3.getThreadMessagesRange(this.$MercuryMessageStore1,0,l,this.$MercuryMessageStore16.bind(this),null,c('MercuryAPIArgsSource').MERCURY);if(this.$MercuryMessageStore4<10)this.$MercuryMessageStore4+=1;if(this.$MercuryMessageStore3.hasLoadedNMessages(this.$MercuryMessageStore1,l))c('setImmediate')(function(){this.$MercuryMessageStore12();}.bind(this));};j.prototype.$MercuryMessageStore16=function(l){if(l&&l.length){this.$MercuryMessageStore5=l[0].timestamp;this.$MercuryMessageStore6=l.length;i.debug('fetched',JSON.stringify({threadID:this.$MercuryMessageStore1,earliestMessageTimestamp:this.$MercuryMessageStore5,count:this.$MercuryMessageStore6}));}else if(l&&!l.length&&!this.$MercuryMessageStore6)this.$MercuryMessageStore17(j.THREAD_IS_EMPTY);};j.prototype.$MercuryMessageStore10=function(l){var m=[],n=l[this.$MercuryMessageStore1];if(n&&n.length)m=m.concat(n);if(this.$MercuryMessageStore15){var o=l[this.$MercuryMessageStore15];if(o&&o.length){m=m.concat(o);this.$MercuryMessageStore15=null;}}if(m.length){this.$MercuryMessageStore2.append(m);this.$MercuryMessageStore6+=m.length;var p=m.every(function(q){return q.author!=c('MercuryViewer').getID();});this.$MercuryMessageStore17(j.MESSAGES_RECEIVED,{allFromOthers:p});}};j.prototype.$MercuryMessageStore11=function(l){this.$MercuryMessageStore2.update(this.$MercuryMessageStore3.getMessagesFromIDs(Object.keys(l)));this.$MercuryMessageStore18();this.$MercuryMessageStore17(j.MESSAGES_CHANGED);};j.prototype.$MercuryMessageStore12=function(){if(!this.$MercuryMessageStore5)return;this.$MercuryMessageStore2.reorder(this.$MercuryMessageStore3.getThreadMessagesSinceTimestamp(this.$MercuryMessageStore1,this.$MercuryMessageStore5));this.$MercuryMessageStore18();this.$MercuryMessageStore17(j.MESSAGES_REORDERED);};j.prototype.$MercuryMessageStore13=function(){this.$MercuryMessageStore2=new (c('MercuryMessageList'))();this.$MercuryMessageStore4=1;this.$MercuryMessageStore5=null;this.$MercuryMessageStore6=0;this.$MercuryMessageStore14();};j.prototype.$MercuryMessageStore17=function(l,m){var n=this.$MercuryMessageStore2.toArray();this.releaseHeldEventType('updated');this.emitAndHold('updated',babelHelpers['extends']({messages:n,eventType:l},m));k(this.$MercuryMessageStore1,l,n);};j.prototype.$MercuryMessageStore18=function(){var l=this.$MercuryMessageStore2.at(0);if(l)this.$MercuryMessageStore5=l.timestamp;};function k(l,m,n){c('setTimeoutAcrossTransitions')(function(){i.debug('update:'+m,JSON.stringify({threadID:l,messageIDs:n.map(function(o){return o.message_id;})}));},0);}Object.assign(j,{MESSAGES_FETCHED:'fetched',MESSAGES_CHANGED:'changed',MESSAGES_RECEIVED:'received',MESSAGES_REORDERED:'reordered',THREAD_IS_EMPTY:'thread-is-empty'});c('mixInEventEmitter')(j,{updated:true});f.exports=j;}),null);
__d('MessengerConversationContainer.react',['immutable','ImmutableObject','MercuryIDs','MercuryMessageStore','MessengerConfig','MessengerConversation.react','MessengerHotLikePreviewEvents','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={isLoaded:false,isLoading:true,messages:c('immutable').List()},this.$MessengerConversationContainer1=undefined,this.$MessengerConversationContainer2=undefined,this.$MessengerConversationContainer3=false,this.$MessengerConversationContainer4=undefined,this.$MessengerConversationContainer5=undefined,this.$MessengerConversationContainer6=undefined,this.handleResize=function(){this.refs.conversation.handleResize();}.bind(this),this.isScrolledToBottom=function(){return !!(this.refs.conversation&&this.refs.conversation.isScrolledToBottom());}.bind(this),this.$MessengerConversationContainer8=function(){if(this.state.isLoading||this.state.isLoaded)return;this.setState({isLoading:true});if(!this.$MessengerConversationContainer1.fetchMoreMessages())this.setState({isLoading:false,isLoaded:true});}.bind(this),this.$MessengerConversationContainer7=function(q){if(!q)return;this.setState({isLoaded:false});this.$MessengerConversationContainer1&&this.$MessengerConversationContainer1.destroy();this.$MessengerConversationContainer1=new (c('MercuryMessageStore'))(q,c('MessengerConfig').MessageLoadCount);clearTimeout(this.$MessengerConversationContainer6);this.$MessengerConversationContainer6=setTimeout(function(){if(this.props.thread&&this.props.thread.message_count<1)this.setState({isLoaded:true,isLoading:false});}.bind(this),6000);this.$MessengerConversationContainer2&&this.$MessengerConversationContainer2.release();this.$MessengerConversationContainer2=new (c('SubscriptionsHandler'))();this.$MessengerConversationContainer2.addSubscriptions(this.$MessengerConversationContainer1.subscribe(function(r){this.setState({messages:this.$MessengerConversationContainer9(c('immutable').List(r.messages)),isLoading:false});}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').START,function(r){this.$MessengerConversationContainer3=true;this.$MessengerConversationContainer4=r;this.setState({messages:this.$MessengerConversationContainer9(this.state.messages)});clearInterval(this.$MessengerConversationContainer5);this.$MessengerConversationContainer5=setInterval(this.refs.conversation.scrollToBottom,50);}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').FINISH_ANIMATION,function(r){clearInterval(this.$MessengerConversationContainer5);}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').FINISH_EMOJI_ANIMATION,function(r){clearInterval(this.$MessengerConversationContainer5);}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP,function(){this.$MessengerConversationContainer3=false;this.$MessengerConversationContainer4=null;}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP_EMOJI,function(){this.$MessengerConversationContainer3=false;this.$MessengerConversationContainer4=null;}.bind(this)),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').REMOVE,function(){clearInterval(this.$MessengerConversationContainer5);this.$MessengerConversationContainer3=false;this.setState({messages:this.$MessengerConversationContainer9(this.state.messages)});}.bind(this)));}.bind(this),this.$MessengerConversationContainer9=function(q){if(this.$MessengerConversationContainer3){q=q.set(q.size,this.$MessengerConversationContainer4);}else{q=q.filterNot(function(r){return r.is_like_preview;});this.$MessengerConversationContainer4=null;}return q;}.bind(this),m;}k.prototype.componentWillUnmount=function(){this.$MessengerConversationContainer2&&this.$MessengerConversationContainer2.release();clearTimeout(this.$MessengerConversationContainer6);};k.prototype.componentDidMount=function(){this.$MessengerConversationContainer7(this.props.threadID);};k.prototype.componentWillReceiveProps=function(l){if(this.props.threadID!==l.threadID){this.setState({isLoading:true,messages:c('immutable').List()});this.$MessengerConversationContainer7(l.threadID);}};k.prototype.render=function(){return c('React').createElement(c('MessengerConversation.react'),{className:this.props.className,contact:this.props.contact,fetchMessages:this.$MessengerConversationContainer8,isCanonical:c('MercuryIDs').isCanonical(this.props.threadID),isLoading:this.state.isLoading,isLoaded:this.state.isLoaded,messages:this.state.messages,onRead:this.props.onMarkRead,participants:this.props.participants,ref:'conversation',thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer});};k.propTypes={contact:j.instanceOf(c('ImmutableObject')),onMarkRead:j.func.isRequired,participants:j.instanceOf(c('immutable').Map),thread:j.object,threadID:j.string.isRequired,viewer:j.string.isRequired};f.exports=k;}),null);
__d('ArchiveWarning.react',['cx','ix','Image.react','React','TooltipData'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=c('TooltipData').propsFor('All employee-to-employee conversations will be archived','above'),o=this.props,p=o.isFBAtWork,q=o.shown,r=o.useCSS,s=babelHelpers.objectWithoutProperties(o,['isFBAtWork','shown','useCSS']);if(!p&&r){if(!q)return null;return (c('React').createElement('div',babelHelpers['extends']({className:"_3a61"},n,s),c('React').createElement('i',{className:"_3olv _14lt"})));}var t=p?i('images/chat/tab/archive-grey.png'):i('images/chat/tab/archive.png');return (c('React').createElement(c('Image.react'),babelHelpers['extends']({src:t,className:"titanArchiveWarning"+(' '+"button")+(!q?' '+"hidden_elem":'')},n)));};function m(){j.apply(this,arguments);}m.propTypes={isFBAtWork:l.bool,shown:l.bool,useCSS:l.bool};f.exports=m;}),null);
__d('MessengerPresenceStatus.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=void 0;if(this.props.isUserActive){m=h._("Actif sur {platform}",[h.param('platform',this.props.platform)]);}else if(this.props.lastActive){m=h._("Actif il y a {time}",[h.param('time',this.props.lastActive)]);}else m=this.props.platform;return (c('React').createElement('span',{className:this.props.className},m));};function l(){i.apply(this,arguments);}l.propTypes={isUserActive:k.bool.isRequired,lastActive:k.string,platform:k.string};f.exports=l;}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialog.react',['cx','fbt','FBRTCCore','immutable','ImmutableObject','MessengerDialog.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerRTCGroupCallContactList.react','MessengerRTCGroupCallRingParticipantsRow.react','MessengerRTCGroupCallThreadRow.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=460,n=5;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={isParticipantSelected:this.props.participants.mapEntries(function(u){var v=u[0],w=u[1];return ([v,this.props.participants.size<=n]);}.bind(this))},this.$MessengerRTCGroupCallParticipantsPickerDialog1=function(){var u=this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(v){return v.fbid;});if(this.props.handleCall){this.props.handleCall(u);}else c('FBRTCCore').startGroupCall({clickSource:this.props.clickSource,conferenceName:this.props.conferenceName,hasVideo:this.props.hasVideo,usersToRing:u});this.props.onUnmount();}.bind(this),q;}o.prototype.render=function(){var p=this.props,q=p.participants,r=p.thread,s=p.viewerID;return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onUnmount,type:'default',width:m},c('React').createElement('div',{className:"_2m1r"},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Appeler des membres du groupe")),c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Appeler"),onClick:this.$MessengerRTCGroupCallParticipantsPickerDialog1,disabled:this.$MessengerRTCGroupCallParticipantsPickerDialog2().length===0,type:'primary'})),c('React').createElement(c('MessengerRTCGroupCallThreadRow.react'),{participants:q,thread:r,viewerID:s}),c('React').createElement(c('MessengerRTCGroupCallRingParticipantsRow.react'),{names:this.$MessengerRTCGroupCallParticipantsPickerDialog2().map(function(t){var u=t.name;return u;}).sort(function(t,u){return t.localeCompare(u);})}),c('React').createElement(c('MessengerRTCGroupCallContactList.react'),{participants:q.toArray().sort(function(t,u){return t.name.localeCompare(u.name);}),isParticipantSelected:this.state.isParticipantSelected,onClick:function(t){return this.setState({isParticipantSelected:this.state.isParticipantSelected.set(t,!this.state.isParticipantSelected.get(t))});}.bind(this)})));};o.prototype.$MessengerRTCGroupCallParticipantsPickerDialog2=function(){return this.props.participants.filter(function(p,q){return this.state.isParticipantSelected.get(q);}.bind(this)).toArray();};o.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,thread:l.instanceOf(c('ImmutableObject')).isRequired,viewerID:l.string.isRequired,clickSource:l.string.isRequired,conferenceName:l.string.isRequired,hasVideo:l.bool.isRequired,handleCall:l.func,onUnmount:l.func.isRequired};f.exports=o;}),null);
__d('MessengerRTCGroupCallParticipantsPickerDialogController',['DOM','immutable','MessengerRTCGroupCallParticipantsPickerDialog.react','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h={_container:c('DOM').create('div'),render:function i(j){var k=j.participants,l=j.thread,m=j.viewerID,n=j.clickSource,o=j.conferenceName,p=j.hasVideo,q=j.handleCall;c('ReactDOM').render(c('React').createElement(c('MessengerRTCGroupCallParticipantsPickerDialog.react'),{participants:k,thread:l,viewerID:m,clickSource:n,conferenceName:o,hasVideo:p,handleCall:q,onUnmount:function(){return this._onUnmount();}.bind(this)}),this._container);},_onUnmount:function i(){c('ReactDOM').unmountComponentAtNode(this._container);}};f.exports=h;}),null);
__d('MessengerRTCUnavailableDialog.react',['fbt','MessengerActions','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerRTCUnavailableDialog2=function(){return (c('React').createElement('div',null,h._("{name} n\u2019est pas disponible pour le moment.",[h.param('name',this.props.name)])));}.bind(this),this.$MessengerRTCUnavailableDialog1=function(s){if(!s)c('MessengerActions').hideDialog();},o;}m.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerRTCUnavailableDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Appel impossible")),c('React').createElement(k,null,this.$MessengerRTCUnavailableDialog2()),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',label:h._("OK"),type:'primary'})));};m.propTypes={name:l.string.isRequired};f.exports=m;}),null);
__d('MessengerRTCVideoCallButton.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={width:'32px',height:'32px'},l={fillRule:'evenodd',clipRule:'evenodd',fill:'none',strokeWidth:'2',strokeMiterlimit:'10'},m=babelHelpers['extends']({},l,{stroke:'#888888'}),n=h._("Lancer un appel vid\u00e9o");i=babelHelpers.inherits(o,c('React').PureComponent);j=i&&i.prototype;o.prototype.render=function(){var p=this.props.isAvailable?babelHelpers['extends']({},l,{stroke:this.props.customColor}):m;return (c('React').createElement('div',{style:k,title:n},c('React').createElement('svg',{viewBox:'0 0 64 64',style:p},c('React').createElement('title',null,n),c('React').createElement('g',null,c('React').createElement('g',null,c('React').createElement('path',{d:'M47,27.8v7.5l9,4.5V23.2L47,27.8z M37.2,17H13.8C10.6,17,8,19.6,8,22.8v17.4c0,3.2,2.6,5.8,5.8,5.8h23.3 c3.2,0,5.8-2.6,5.8-5.8V22.8C43,19.6,40.4,17,37.2,17z'}))))));};function o(){i.apply(this,arguments);}f.exports=o;}),null);
__d('MessengerRTCVoiceCallButton.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={width:'32px',height:'32px'},l={fillRule:'evenodd',clipRule:'evenodd',fill:'none',strokeWidth:'2',strokeMiterlimit:'10'},m=babelHelpers['extends']({},l,{stroke:'#888888'}),n=h._("Commencer un appel vocal");i=babelHelpers.inherits(o,c('React').PureComponent);j=i&&i.prototype;o.prototype.render=function(){var p=this.props.isAvailable?babelHelpers['extends']({},l,{stroke:this.props.customColor}):m;return (c('React').createElement('div',{style:k,title:n},c('React').createElement('svg',{viewBox:'0 0 64 64',style:p},c('React').createElement('title',null,n),c('React').createElement('path',{d:'M48.3,50.5c-7.7,6.5-24.2-10-24.5-10.3C23.5,39.9,7,23.4,13.5,15.7c4.8-5.7,6.3-3.4,7-2.7 c0.6,0.5,5.7,7.8,6,9.2c0.3,1.4-2.4,4.6-2.2,5.9c0.2,1.2,3.6,5,5.1,6.5c1.5,1.5,5.3,4.9,6.5,5.1c1.2,0.2,4.4-2.5,5.9-2.2 c1.4,0.3,8.7,5.4,9.2,6C51.6,44.2,54,45.7,48.3,50.5z'}))));};function o(){i.apply(this,arguments);}f.exports=o;}),null);
__d('MessengerRTCCallButton.react',['invariant','immutable','ImmutableObject','FBRTCCallSummary','FBRTCCallUIWrapper','MercuryIDs','MessengerActions','MessengerRTCUnavailableDialog.react','MessengerRTCVideoCallButton.react','MessengerRTCVoiceCallButton.react','MNRTCCallabilityStore','React','RTCUtils','StoreAndPropBasedStateMixin','Link.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerRTCCallButton',mixins:[c('StoreAndPropBasedStateMixin')(c('MNRTCCallabilityStore'))],statics:{calculateState:function k(l){if(c('MercuryIDs').isGroupChat(l.threadID))return {isCallable:true};var m=c('MercuryIDs').getUserIDFromThreadID(l.threadID);m||h(0);return {isCallable:c('MNRTCCallabilityStore').isCallable(m)};}},propTypes:{className:i.string.isRequired,customColor:i.string.isRequired,isVideo:i.bool.isRequired,participants:i.instanceOf(c('immutable').Map).isRequired,thread:i.instanceOf(c('ImmutableObject')).isRequired,threadID:i.string.isRequired,viewer:i.string.isRequired,calleeName:i.string.isRequired},render:function k(){var l={customColor:this.props.customColor,isAvailable:this.state.isCallable};return (c('React').createElement(c('Link.react'),{className:this.props.className,onClick:this._handleStartCall},this.props.isVideo?c('React').createElement(c('MessengerRTCVideoCallButton.react'),l):c('React').createElement(c('MessengerRTCVoiceCallButton.react'),l)));},_handleStartCall:function k(l){l.preventDefault();if(this.state.isCallable){if(c('MercuryIDs').isGroupChat(this.props.threadID)){e(['FBRTCSupport','MessengerRTCGroupCallUnsupportedBrowserDialogController','MessengerRTCGroupCallParticipantsPickerDialogController'],function(m,n,o){if(!m.isGroupCallWebtrcSupported()){n.render();return;}var p=this.props.thread.rtc_call_data;if(p&&p.call_state!=='NO_ONGOING_CALL'&&p.server_info_data){var q=c('RTCUtils').generateRandomInt(),r=new (c('FBRTCCallSummary'))({peerID:-1,callID:q,isCaller:false}),s='Join ongoing call button';if(p.call_state==='AUDIO_GROUP_CALL'){s=this.props.isVideo?'Join ongoing audio call with video button':'Join ongoing audio call without video button';}else if(p.call_state==='VIDEO_GROUP_CALL')s=this.props.isVideo?'Join ongoing video call with video button':'Join ongoing video call without video button';c('FBRTCCallUIWrapper').openGroupCallURI('GROUP:'+this.props.thread.thread_fbid,q,this.props.isVideo,p.server_info_data,s,r);return;}o.render({participants:this.props.participants.filter(function(t){var u=t.fbid;return u!==this.props.viewer;}.bind(this)),thread:this.props.thread,viewerID:this.props.viewer,clickSource:'multiway_messenger_dot_com',conferenceName:'GROUP:'+this.props.thread.thread_fbid,hasVideo:this.props.isVideo});}.bind(this));}else e(['FBRTCCore'],function(m){m.startOutgoingCall(c('MercuryIDs').getUserIDFromThreadID(this.props.threadID),'messenger_dot_com',!this.props.isVideo);}.bind(this));}else c('MessengerActions').showDialog(c('MessengerRTCUnavailableDialog.react'),{name:this.props.calleeName});}});f.exports=j;}),null);
__d('messengerCalculateTruncationState',['Style'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l,m){if(!l||!j)return;var n=m?m.offsetWidth:0,o=Math.ceil(.5*(i.offsetWidth+l.offsetWidth)),p=i.offsetWidth-k.offsetWidth-12;if(o<=p){c('Style').set(i,'text-align','center');c('Style').set(j,'width','auto');c('Style').set(j,'margin-left','auto');}else{if(document.body.dir==='rtl'){c('Style').set(i,'text-align','right');}else{c('Style').set(i,'text-align','left');c('Style').set(j,'margin-left',n+'px');}var q=Math.max(i.offsetWidth-n-k.offsetWidth-11,0);c('Style').set(j,'width',q+'px');}}f.exports=h;}),null);
__d('messengerCustomColorUtilsRe',['cssVar','bs_js_primitive','WorkGKs'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){var k=j.custom_color,l=0;if(c('bs_js_primitive').js_is_nil_undef(k)){l=1;}else if(k===""){l=1;}else return k;if(l===1){var m=+c('WorkGKs').workplace_www_chat_branding;if(m!==0){return "#1479fb";}else return "#0084ff";}}g.customColorOrBlue=i;}),null);
__d('messengerDetailViewHeaderReact',['cx','fbt','invariant','ArchiveWarning.react','bs_curry','Event','FBRTCSupport','bs_js_boolean','bs_js_primitive','Link.react','MercuryConfig','MercuryParticipantTypes','MercuryThreadInfo','MercuryThreadTitle.react','messengerCustomColorUtilsRe','messengerDomIDsRe','messengerInfoPanelButtonReact','MessengerJoinableModeType','messengerLocalTimeReact','MessengerPresenceStatus.react','MessengerRTCCallButton.react','MessengerWebDriverTestIDs','MontageThreadViewContainer.react','RTCConfig','React','ReactDOM','reactRe','utilsRe','WorkFocusModeController','WorkModeConfig','debounce','messengerCalculateTruncationState'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('reactRe').StatelessComponent[3],l=c('reactRe').StatelessComponent[5],m=c('WorkFocusModeController').MessengerWorkAvailabilityStatus;function n(){return [0,0,0,0,0,0];}function o(ja){var ka=ja[0],la=ja[1],ma=ja[2],na=ja[3],oa=ja[4],pa=c('utilsRe').optionToJsNullUndefined(ka),qa=c('utilsRe').optionToJsNullUndefined(la),ra=c('utilsRe').optionToJsNullUndefined(ma),sa=c('utilsRe').optionToJsNullUndefined(na),ta=c('utilsRe').optionToJsNullUndefined(oa);return c('messengerCalculateTruncationState')(pa,qa,ra,sa,ta);}function p(ja){var ka=ja[3];ka[5]=[c('Event').listen(window,"resize",c('debounce')(function(){return o(ka);},20))];return 0;}function q(ja){var ka=ja[3][5];if(ka){return ka[0].remove();}else return 0;}function r(ja,ka){return o(ka[3]);}function s(ja,ka){ka[3][3]=[c('ReactDOM').findDOMNode(ja)];return 0;}function t(ja,ka){ka[3][1]=[ja];return 0;}function u(ja,ka){ka[3][0]=[ja];return 0;}function v(ja,ka){ka[3][2]=[ja];return 0;}function w(ja,ka){ka[3][4]=[ja];return 0;}function x(ja){var ka;if(m!==null){var la=+m.displayFocusBanner(ja[5],ja[3]);ka=la!==0?[m]:0;}else ka=0;if(ka){return [0,c('React').createElement(ka[0],{className:"_2v6o",viewer:ja[5],thread:c('utilsRe').optionToJsNullUndefined(ja[4]),participants:ja[3]})];}else{var ma=ja[0];if(ma){var na=ma[0];return [0,c('React').createElement(c('MessengerPresenceStatus.react'),{className:"_2v6o",isUserActive:na.isUserActive,lastActive:na.lastActive,platform:na.platform})];}else return [1,null];}}function y(ja){var ka=ja[0][4];if(ka){var la=ka[0];if(la.has_montage&&c('MercuryConfig').MontageThreadViewer){return c('React').createElement("div",{className:"_1cwz",ref:c('bs_curry')._1(ja[2],w)},c('React').createElement(c('MontageThreadViewContainer.react'),{threadID:la.thread_id}));}else return null;}else return null;}function z(ja){var ka=ja[3].filter(function(la){if(c('bs_js_primitive').js_is_nil_undef(la)){return 0;}else return +(la.fbid!==ja[5]);});if(ka.count()!==1){return null;}else return c('bs_curry')._4(c('messengerLocalTimeReact').createElement("_5eu7",c('bs_js_primitive').js_from_nullable_def(ka.first().timezone)),0,0,0,0);}function aa(ja,ka){var la=+(c('FBRTCSupport').isWebrtcSupported()&&c('FBRTCSupport').isOSSupported()),ma=ja[0],na=ma?+(ma[0].contact.type===c('MercuryParticipantTypes').PAGE):0,oa=ja[4],pa;if(oa){var qa=oa[0].joinable_mode;pa=c('bs_js_primitive').js_is_nil_undef(qa)?0:+(qa.mode===c('MessengerJoinableModeType').JOINABLE);}else pa=0;var ra=ja[4],sa;if(ra){var ta=ra[0],ua=ta.participants;sa=c('bs_js_primitive').js_is_nil_undef(ua)?0:+(ua.length>1)&&+c('MercuryThreadInfo').canReply(ta)&&(+ta.is_canonical||ka&&+c('RTCConfig').RtcConferencingVideoGK||1-ka&&c('RTCConfig').RtcConferencingGK);}else sa=0;if(la&&!na&&!pa){return sa;}else return 0;}function ba(ja){if(aa(ja,0)){var ka=ja[4];if(ka){var la=ka[0],ma=la.thread_id,na=ja[0];return c('React').createElement("li",null,c('React').createElement(c('MessengerRTCCallButton.react'),{className:"_30yy",customColor:c('messengerCustomColorUtilsRe').customColorOrBlue(la),isVideo:false,participants:ja[3],thread:c('utilsRe').optionToJsNullUndefined(ja[4]),threadID:ma,viewer:ja[5],calleeName:na?na[0].contact.name:""}));}else return j(true,"MessengerDetailViewHeader: thread must not be null");}else return null;}function ca(ja){if(aa(ja,1)){var ka=ja[4];if(ka){var la=ka[0],ma=la.thread_id,na=ja[0];return c('React').createElement("li",null,c('React').createElement(c('MessengerRTCCallButton.react'),{className:"_30yy",customColor:c('messengerCustomColorUtilsRe').customColorOrBlue(la),isVideo:true,participants:ja[3],thread:c('utilsRe').optionToJsNullUndefined(ja[4]),threadID:ma,viewer:ja[5],calleeName:na?na[0].contact.name:""}));}else return j(true,"MessengerDetailViewHeader: thread must not be null");}else return null;}function da(ja){var ka=ja[2],la=ja[0],ma=la[4];if(ma){var na=ma[0],oa=1- +la[3].isEmpty()&&+la[3].every(function(sa){if(c('bs_js_primitive').js_is_nil_undef(sa)){return 0;}else return c('utilsRe').isTruthy(sa.employee);}),pa=i._("Informations sur la conversation"),qa=x(la),ra=la[1];return c('React').createElement("div",{className:"_5742"+(c('bs_js_boolean').to_js_boolean(qa[0])?' '+"_1_fz":''),ref:c('bs_curry')._1(ka,u)},y(ja),c('React').createElement("div",{className:"_5743",key:"threadTitle",ref:c('bs_curry')._1(ka,t)},c('React').createElement("h2",{className:"_17w2",id:c('messengerDomIDsRe').ids.THREAD_TITLE},c('React').createElement(c('MercuryThreadTitle.react'),{className:"_3oh-",ref:c('bs_curry')._1(ka,s),thread:na,viewer:la[5]})),qa[1],z(la)),c('React').createElement("ul",{className:"_fl2",key:"buttonsContainer",ref:c('bs_curry')._1(ka,v)},c('React').createElement("li",null,c('React').createElement(c('ArchiveWarning.react'),{isFBAtWork:c('WorkModeConfig').is_work_user,shown:c('bs_js_boolean').to_js_boolean(oa),style:{display:"block"},useCSS:true})),ba(la),ca(la),c('React').createElement("li",null,c('React').createElement(c('Link.react'),{"aria-expanded":ra!==0?false:true,"aria-label":pa,className:"_30yy","data-testid":c('MessengerWebDriverTestIDs').INFO_PANEL_BUTTON,onClick:la[2],role:"button",title:pa},c('bs_curry')._4(c('messengerInfoPanelButtonReact').createElement(c('messengerCustomColorUtilsRe').customColorOrBlue(na),la[1]),0,0,0,0)),c('React').createElement("div",{"aria-owns":c('messengerDomIDsRe').ids.THREAD_INFO_PANEL}))));}else return null;}function ea(ja){return [c('bs_js_primitive').js_from_nullable_def(ja.contactData),+ja.infoPanelCollapsed,ja.onInfoPanelToggle,ja.participants,c('bs_js_primitive').js_from_nullable_def(ja.thread),ja.viewer];}var fa=c('bs_curry')._8(l,"MessengerDetailViewHeaderReact",n,p,k,r,q,[ea],da),ga=fa[1];function ha(ja,ka,la,ma,na,oa){return c('bs_curry')._1(ga,[ja,ka,la,ma,na,oa]);}var ia=fa[0];g.componentWillReceiveProps=k;g.createClass=l;g.messengerWorkAvailabilityStatus_=m;g.getInstanceVariables=n;g.calculateTruncationState=o;g.componentDidMount=p;g.componentWillUnmount=q;g.componentDidUpdate=r;g.findMercuryTitle=s;g.findTitle=t;g.findRoot=u;g.findButtons=v;g.findMontage=w;g.renderPresenceStatus=x;g.renderMontageThread=y;g.renderLocalTime=z;g.shouldShowCallButton=aa;g.renderAudioCallButton=ba;g.renderVideoCallButton=ca;g.render=da;g.jsPropsToReasonProps=ea;g.comp=ia;g.wrapProps=ga;g.createElement=ha;}),null);
__d('MessengerDetailViewHeaderContainer.react',['immutable','ImmutableObject','MercuryIDs','MercuryThreadIDMap','MercuryTypeaheadConstants','MessengerActions','MessengerComposerActions','MessengerComposeViewHeader.react','messengerDetailViewHeaderReact','MessengerView','React','shallowEqual'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('messengerDetailViewHeaderReact').comp,k=c('React').PropTypes;h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$MessengerDetailViewHeaderContainer1=function(r){var s=r.getUniqueID(),t=r.getType();if(t===c('MercuryTypeaheadConstants').THREAD_TYPE){var u=c('MercuryThreadIDMap').getForFBID(this.props.viewer);u.getClientIDFromServerID(s,function(v){c('MessengerComposerActions').moveDraftToNextThread(v);c('MessengerActions').selectThread(v);});c('MessengerComposerActions').exitComposeState();}else if(s===this.props.viewer||t===c('MercuryTypeaheadConstants').PAGE_TYPE){c('MessengerComposerActions').moveDraftToNextThread(c('MercuryIDs').getThreadIDFromUserID(s));c('MessengerComposerActions').exitComposeState();c('MessengerActions').selectThread(c('MercuryIDs').getThreadIDFromUserID(s));}else c('MessengerComposerActions').addToken(r);}.bind(this),this.$MessengerDetailViewHeaderContainer2=function(r){c('MessengerComposerActions').removeToken(r);},n;}l.prototype.shouldComponentUpdate=function(m){var n=m.contactData,o=babelHelpers.objectWithoutProperties(m,['contactData']),p=this.props,q=p.contactData,r=babelHelpers.objectWithoutProperties(p,['contactData']);return !c('shallowEqual')(o,r)||!c('shallowEqual')(n,q);};l.prototype.render=function(){return this.props.view===c('MessengerView').DETAIL.COMPOSE?c('React').createElement(c('MessengerComposeViewHeader.react'),{forceHideClearButton:true,onAddRecipient:this.$MessengerDetailViewHeaderContainer1,onRemoveRecipient:this.$MessengerDetailViewHeaderContainer2,onResize:this.props.onResize,recipients:this.props.recipients,viewer:this.props.viewer}):c('React').createElement(j,{contactData:this.props.contactData,infoPanelCollapsed:this.props.infoPanelCollapsed,onInfoPanelToggle:this.props.onInfoPanelToggle,participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer});};l.propTypes={contactData:k.object,infoPanelCollapsed:k.bool.isRequired,onInfoPanelToggle:k.func.isRequired,onResize:k.func.isRequired,participants:k.instanceOf(c('immutable').Map).isRequired,recipients:k.instanceOf(c('immutable').List).isRequired,thread:k.instanceOf(c('ImmutableObject')),view:k.string,viewer:k.string.isRequired};f.exports=l;}),null);
__d('MessengerErrorBoundary.react',['cx','fbt','ErrorBoundary.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=function o(p){return i._({"conversation list":"Impossible d\u2019afficher la liste des conversations.","conversation":"Impossible d\u2019afficher la conversation.","composer":"Impossible d\u2019afficher l\u2019\u00e9diteur.","conversation information":"Impossible d\u2019afficher les informations de la conversation."},[i['enum'](p,{'conversation list':'conversation list',conversation:'conversation',composer:'composer','conversation information':'conversation information'})]);},m=function o(p,q){return function(){return (c('React').createElement('div',{className:c('joinClasses')("_5jpt",q)},p));};};j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerErrorBoundary1=function(t,u){this.props.onHandleError&&this.props.onHandleError(t,u);}.bind(this),p;}n.prototype.render=function(){var o=this.props,p=o.className,q=o.component,r=babelHelpers.objectWithoutProperties(o,['className','component']);return c('React').createElement(c('ErrorBoundary.react'),babelHelpers['extends']({},r,{fallbackComponent:m(l(q),p),onHandleError:this.$MessengerErrorBoundary1,bigRedBox:true}));};f.exports=n;}),null);
__d('MessengerPresenceStatusUtils',['fbt','AvailableListConstants','LastActiveTimes','MercuryIDs','PresenceStatus','WorkGKs'],(function a(b,c,d,e,f,g,h){'use strict';var i={getStatusFromCanonicalThread:function j(k,l){var m=null;if(l&&l.is_canonical){var n=k.get(c('MercuryIDs').getParticipantIDFromFromThreadID(l.thread_id));if(n){var o=c('PresenceStatus').get(n.fbid),p=void 0,q=void 0,r=c('WorkGKs').workplace_www_chat_branding?h._("Work Chat"):h._("Messenger"),s=n.is_messenger_user?r:h._("Facebook");if(o!==c('AvailableListConstants').ACTIVE){p=c('LastActiveTimes').get(n.fbid);q=c('LastActiveTimes').getShortDisplay(n.fbid);}m={contact:n,platform:s,isUserActive:o===c('AvailableListConstants').ACTIVE,lastActiveTS:p,lastActive:q};}}return m;}};f.exports=i;}),null);
__d('MessengerConfirmLeaveGroupDialog.react',['ImmutableObject','MessengerActions','MessengerAdminGroupUtils','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('messengerDialogBodyReact').comp,k=c('React').PropTypes;h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$MessengerConfirmLeaveGroupDialog2=function(r){r.stopPropagation();this.props.onLeave();c('MessengerActions').hideDialog();}.bind(this),this.$MessengerConfirmLeaveGroupDialog1=function(r){if(!r)c('MessengerActions').hideDialog();},n;}l.prototype.render=function(){var m=this.props.isViewerAdmin,n=c('MessengerAdminGroupUtils').getLeaveGroupBodyText(m,this.props.thread),o=c('MessengerAdminGroupUtils').getLeaveGroupButtonText(m,this.props.thread),p=c('MessengerAdminGroupUtils').getLeaveGroupTitleText(m,this.props.thread);return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerConfirmLeaveGroupDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,p),c('React').createElement(j,null,n),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:o,onClick:this.$MessengerConfirmLeaveGroupDialog2,type:'primary',use:'danger'})));};l.propTypes={isViewerAdmin:k.bool.isRequired,onCancel:k.func,onLeave:k.func.isRequired,thread:k.instanceOf(c('ImmutableObject')).isRequired};f.exports=l;}),null);
__d('FBToggleSwitch.react',['cx','AbstractCheckboxInput.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$FBToggleSwitch1=function(r){if(this.props.onToggle&&!this.props.disabled)this.props.onToggle(r.target.checked);}.bind(this),n;}l.prototype.render=function(){var m="_ypo"+(this.props.animate?' '+"_ypp":'')+(this.props.disabled?' '+"_ypq":''),n=void 0,o=void 0;if(this.props.indeterminate){o=this.props.checked;}else n=this.props.checked;return c('React').createElement(c('AbstractCheckboxInput.react'),babelHelpers['extends']({},this.props,{checked:n,className:c('joinClasses')(this.props.className,m),defaultChecked:o,onChange:this.$FBToggleSwitch1}),undefined);};l.propTypes={animate:k.bool,indeterminate:k.bool,onToggle:k.func,disabled:k.bool,tooltip:k.string};f.exports=l;}),null);
__d('MessengerApprovalRequester.react',['cx','fbt','Link.react','MercuryConfig','MercuryThreadActions','MessengerContactImage.react','MessengerTextWithEmoticons.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('MercuryThreadActions').get(),m=32;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props,p=o.isMessengerUser,q=o.imageSRC,r=o.name,s=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:r});if(c('MercuryConfig').MessengerNewEmojiGK)s=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:r});return (c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szq _4fq"},c('React').createElement(c('MessengerContactImage.react'),{className:"_5l39 _5rmm",isMessengerUser:p,size:m,src:q}),c('React').createElement('span',{className:"_3tkx"},s)),c('React').createElement('div',{className:"_3ihq _4fs"},c('React').createElement(c('Link.react'),{className:"_5a73",href:'#',onClick:this.$MessengerApprovalRequester1.bind(this)},i._("Accepter")),c('React').createElement(c('Link.react'),{className:"_5a73",href:'#',onClick:this.$MessengerApprovalRequester2.bind(this)},i._("Ignorer")))));};n.prototype.$MessengerApprovalRequester1=function(event){var o=this.props,p=o.threadFBID,q=o.userID;l.acceptToJoinableGroup(p,q);};n.prototype.$MessengerApprovalRequester2=function(event){var o=this.props,p=o.threadFBID,q=o.userID;l.rejectToJoinableGroup(p,q);};function n(){j.apply(this,arguments);}f.exports=n;}),null);
__d('MessengerInfoPanelSection.react',['cx','fbt','CustomColorHighlighting.react','Link.react','MessengerMenu.react','MessengerPopoverMenu.react','MessengerWebDriverTestIDs','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('MessengerMenu.react').Item;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){var o=this.props,p=o.isCollapsible,q=o.isCollapsed;return (c('React').createElement('div',{className:"_1lix"+(p?' '+"_1liy":'')+(p&&q?' '+"_1liz":'')},c('React').createElement('div',{className:"_1li-"}),this.$MessengerInfoPanelSection1(),c('React').createElement('div',{className:"_1li_"},c('React').createElement(c('CustomColorHighlighting.react'),{customColor:this.props.customColor},this.props.children))));};n.prototype.$MessengerInfoPanelSection1=function(){var o=this.props.title;if(!o)return null;return (c('React').createElement('h4',{className:"_1lj0"},o,this.$MessengerInfoPanelSection2()));};n.prototype.$MessengerInfoPanelSection2=function(){if(!this.props.isCollapsible)return null;return (c('React').createElement(c('MessengerPopoverMenu.react'),{menu:this.$MessengerInfoPanelSection3()},c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':i._("Options du volet d\u2019informations"),className:"_1lj1",role:'button'})));};n.prototype.$MessengerInfoPanelSection3=function(){var o=this.props,p=o.isCollapsed,q=o.onToggle,r=p?i._("Afficher la section"):i._("Masquer la section");return (c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(m,{'data-testid':c('MessengerWebDriverTestIDs').INFO_PANEL_TOGGLER_OPTION,label:r,onclick:q})));};function n(){j.apply(this,arguments);}n.propTypes={customColor:l.string,isCollapsible:l.bool,isCollapsed:l.bool,onToggle:l.func,title:l.node};f.exports=n;}),null);
__d('MessengerTurnOnJoinableConfirmationDialog.react',['fbt','MercuryThreadActions','MessengerActions','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerJoinableModeType','React','ImmutableObject'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('MercuryThreadActions').get(),l=c('messengerDialogBodyReact').comp,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$MessengerTurnOnJoinableConfirmationDialog2=function(t){k.setJoinableMode(c('MessengerJoinableModeType').JOINABLE,this.props.thread);c('MessengerActions').hideDialog();}.bind(this),this.$MessengerTurnOnJoinableConfirmationDialog1=function(t){t.preventDefault();c('MessengerActions').hideDialog();},p;}n.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.$MessengerTurnOnJoinableConfirmationDialog1},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Rendre le groupe public\u00a0?")),c('React').createElement(l,null,h._("En rendant le groupe public, vous deviendrez propri\u00e9taire du groupe. Vous pourrez nommer d\u2019autres propri\u00e9taires dans le groupe. Seuls les propri\u00e9taires peuvent supprimer des participants de la conversation.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Continuer"),onClick:this.$MessengerTurnOnJoinableConfirmationDialog2,type:'primary',use:'danger'})));};n.propTypes={thread:m.instanceOf(c('ImmutableObject')).isRequired};f.exports=n;}),null);
__d('MessengerInfoPanelGroupSection.react',['cx','fbt','FBToggleSwitch.react','immutable','MercuryIDs','MercuryParticipants','MercuryThreadActions','MessengerAdminGroupUtils','MessengerApprovalModeTypes','MessengerApprovalRequester.react','MessengerInfoPanelSection.react','MessengerJoinableModeType','MessengerTurnOnJoinableConfirmationDialog.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('MercuryThreadActions').get();j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.state={approvalQueue:c('immutable').Map()};}m.prototype.componentDidMount=function(){this.$MessengerInfoPanelGroupSection1(this.props.thread);};m.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:this.props.isOptionsCollapsed,onToggle:this.props.onOptionsToggle,title:i._("Options du groupe")},c('React').createElement('div',{className:"_3iho"},this.$MessengerInfoPanelGroupSection2(),this.$MessengerInfoPanelGroupSection3())),this.$MessengerInfoPanelGroupSection4()));};m.prototype.componentWillReceiveProps=function(n){this.$MessengerInfoPanelGroupSection1(n.thread);};m.prototype.$MessengerInfoPanelGroupSection1=function(n){var o=n&&n.approval_queue_ids&&n.approval_queue_ids;if(o)c('MercuryParticipants').getMulti(o,function(p){this.setState({approvalQueue:c('immutable').Map(p)});}.bind(this));};m.prototype.$MessengerInfoPanelGroupSection5=function(n,o){var p=c('MessengerAdminGroupUtils').isAdmin(o.admin_ids,c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer));if(n===c('MessengerJoinableModeType').JOINABLE&&!p){e(['MessengerActions'],function(q){q.showDialog(c('MessengerTurnOnJoinableConfirmationDialog.react'),{thread:o});});}else l.setJoinableMode(n,o);};m.prototype.$MessengerInfoPanelGroupSection2=function(){var n=this.props.thread,o=n.joinable_mode.link;if(!c('MessengerAdminGroupUtils').showJoinableLink(n))return null;return (c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szq"},i._("Partager le lien"),c('React').createElement('div',{className:"_3ihp _3oh-"},o))));};m.prototype.$MessengerInfoPanelGroupSection3=function(){var n=this.props,o=n.viewer,p=n.thread,q=c('MessengerAdminGroupUtils').isApprovalOpenThread(p);if(!c('MessengerAdminGroupUtils').showJoinableApprovalToggle(p,o))return null;return (c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szq"},i._("Approbation des nouveaux membres"),c('React').createElement('div',{className:"_3ihp"},i._("Approuvez qui peut rejoindre le groupe"))),c('React').createElement('div',{className:"_3ihq"},c('React').createElement(c('FBToggleSwitch.react'),{animate:true,checked:!q,onToggle:function r(s){return (l.setApprovalMode(s?c('MessengerApprovalModeTypes').APPROVALS:c('MessengerApprovalModeTypes').OPEN,p));}}))));};m.prototype.$MessengerInfoPanelGroupSection4=function(){var n=this.props,o=n.viewer,p=n.thread,q=0;if(p&&p.approval_queue_ids&&p.approval_queue_ids.length)q=p.approval_queue_ids.length;if(!c('MessengerAdminGroupUtils').showApprovalQueue(p,o))return null;return (c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:this.props.isApprovalsCollapsed,onToggle:this.props.onApprovalToggle,title:i._("Demandes en attente ({pendingRequestCount})",[i.param('pendingRequestCount',q)])},c('React').createElement('div',{className:"_3iho _3oh-"},this.state.approvalQueue.map(function(r){return (c('React').createElement(c('MessengerApprovalRequester.react'),{key:r.id,imageSRC:r.image_src,isMessengerUser:r.is_messenger_user,name:r.name,threadFBID:this.props.thread.thread_fbid,userID:c('MercuryIDs').getUserIDFromParticipantID(r.id)}));}.bind(this)).toArray())));};f.exports=m;}),null);
__d('MessengerAddIconSVG.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=function j(k){return (c('React').createElement('div',{className:k.className},c('React').createElement('svg',{viewBox:'-8 -8 48 48'},c('React').createElement('title',null,'add to group'),c('React').createElement('path',{d:'M16,0 V32 M0,16 H32',fillRule:'evenodd',clipRule:'evenodd',fill:'none',stroke:k.customColor,strokeWidth:2,strokeMiterlimit:10,strokeLinecap:'round'}))));};i.propTypes={className:h.string,customColor:h.string.isRequired};f.exports=i;}),null);
__d('MessengerMakeAsOwnerDialog.react',['MessengerAdminGroupUtils','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('messengerDialogBodyReact').comp,k=c('React').PropTypes;h=babelHelpers.inherits(l,c('React').PureComponent);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$MessengerMakeAsOwnerDialog1=function(r){this.props.onToggle&&this.props.onToggle(false);this.props.onMakeOwner&&this.props.onMakeOwner(r);}.bind(this),n;}l.prototype.render=function(){var m=c('MessengerAdminGroupUtils').getMakeOwnerTitleText(this.props.isUserViewer,this.props.name),n=c('MessengerAdminGroupUtils').getMakeOwnerBodyText(this.props.isUserViewer,this.props.name),o=c('MessengerAdminGroupUtils').getMakeOwnerButtonText(this.props.isUserViewer,this.props.name);return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,m),c('React').createElement(j,null,n),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:o,onClick:this.$MessengerMakeAsOwnerDialog1,type:'primary',use:'danger'})));};l.propTypes={onMakeOwner:k.func,onToggle:k.func.isRequired,name:k.string.isRequired,isUserViewer:k.bool.isRequired};f.exports=l;}),null);
__d('MessengerRemoveAsOwnerDialog.react',['fbt','MessengerAdminGroupUtils','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerRemoveAsOwnerDialog1=function(s){this.props.onToggle&&this.props.onToggle(false);this.props.onRemove&&this.props.onRemove(s);}.bind(this),o;}m.prototype.render=function(){var n=c('MessengerAdminGroupUtils').getRemoveOwnerBodyText(this.props.isUserViewer,this.props.isLastAdminInThread,this.props.name);return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Supprimer des propri\u00e9taires du groupe\u00a0?")),c('React').createElement(k,null,n),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Supprimer le propri\u00e9taire"),onClick:this.$MessengerRemoveAsOwnerDialog1,type:'primary',use:'danger'})));};m.propTypes={onRemove:l.func,onToggle:l.func.isRequired,name:l.string.isRequired,isLastAdminInThread:l.bool.isRequired,isUserViewer:l.bool.isRequired};f.exports=m;}),null);
__d('MessengerRemoveFromGroupDialog.react',['fbt','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerRemoveFromGroupDialog1=function(s){this.props.onToggle&&this.props.onToggle(false);this.props.onRemove&&this.props.onRemove(s);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Supprimer du groupe")),c('React').createElement(k,null,h._("\u00cates vous s\u00fbr(e) de vouloir retirer cette personne du groupe\u00a0? Celle-ci ne pourra plus envoyer ou recevoir de nouveaux messages.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Retirer"),onClick:this.$MessengerRemoveFromGroupDialog1,type:'primary',use:'danger'})));};m.propTypes={onRemove:l.func,onToggle:l.func};f.exports=m;}),null);
__d('MessengerInfoPanelContactActions.react',['cx','fbt','ImmutableObject','MercuryIDs','MercuryParticipants','MercuryThreads','MessengerActions','MessengerAdminGroupUtils','messengerContactActionsRe','MessengerMakeAsOwnerDialog.react','MessengerMenu.react','MessengerPopoverMenu.react','MessengerRemoveAsOwnerDialog.react','MessengerRemoveFromGroupDialog.react','MessengerStateStore','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('messengerContactActionsRe').actions,k=c('MessengerMenu.react').Item,l=c('MessengerMenu.react').Separator,m=c('React').PropTypes,n=c('React').createClass({displayName:'MessengerInfoPanelContactActions',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MessengerStateStore'))],propTypes:{adminIds:m.arrayOf(m.string),extrasEnabled:m.bool.isRequired,contact:m.instanceOf(c('ImmutableObject')).isRequired,isOpen:m.bool,onAction:m.func.isRequired,onToggle:m.func.isRequired,viewer:m.string.isRequired},statics:{calculateState:function o(p){var q=c('MercuryThreads').getForFBID(p.viewer),r=c('MessengerStateStore').getState().activeThreadID,s=r?q.getOrFetch(r):null;return {thread:s};}},render:function o(){var p=this._isViewerAdmin(),q=c('MessengerAdminGroupUtils').isAdmin(this.props.adminIds,this.props.contact.uid),r=this._isUserViewer(),s=c('MessengerAdminGroupUtils').canRemoveAdmin(p,q,this.state.thread)?c('React').createElement(k,{label:i._("Supprimer des administrateurs"),onclick:this._handleRemoveAsOwnerClick}):null,t=null,u=c('MessengerAdminGroupUtils').canMakeOthersAdmins(p,q,this.state.thread),v=c('MessengerAdminGroupUtils').canMakeSelfAdmin(r,this.state.thread);if(u||v)t=c('React').createElement(k,{label:i._("Nommer administrateur"),onclick:this._hanleMakeOwnerClick});var w=void 0;if(r){if(t||s){w=c('React').createElement(c('MessengerMenu.react'),null,t,s);}else return null;}else w=c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(k,{label:i._("Contacter"),onclick:this._makeActionHandler(j.MESSAGE)}),this.props.contact.href?c('React').createElement(k,{label:i._("Voir le profil"),onclick:this._makeActionHandler(j.PROFILE)}):null,t,s,this._renderExtras());return (c('React').createElement(c('MessengerPopoverMenu.react'),{menu:w,onHide:function(){return this.props.onToggle(false);}.bind(this),onShow:function(){return this.props.onToggle(true);}.bind(this)},c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_57gs"+(this.props.isOpen?' '+"_57gt":'')),onClick:this._handleClick,role:'button',tabIndex:0})));},_renderExtras:function o(){if(!this.props.extrasEnabled)return null;var p=[c('React').createElement(l,{key:'separator'})],q=this._isViewerAdmin();if(c('MessengerAdminGroupUtils').canRemoveFromGroup(q,this.state.thread))p.push(c('React').createElement(k,{key:'remove-from-group',label:i._("Supprimer du groupe"),onclick:this._handleRemoveClick}));return p.length>=2?p:null;},_handleClick:function o(p){p.stopPropagation();p.preventDefault();},_makeActionHandler:function o(p){return function(q){this._handleClick(q);this.props.onAction(p,q);}.bind(this);},_handleRemoveClick:function o(p){this._handleClick(p);c('MessengerActions').showDialog(c('MessengerRemoveFromGroupDialog.react'),{onToggle:this._handleDialogToggle,onRemove:this._handleDialogRemoveClick});},_handleRemoveAsOwnerClick:function o(p){this._handleClick(p);var q=c('MercuryParticipants').getNow(this.props.contact.uid);c('MessengerActions').showDialog(c('MessengerRemoveAsOwnerDialog.react'),{onToggle:this._handleDialogToggle,onRemove:this._handleOwnerRemoveClick,name:q&&q.name,isUserViewer:this._isUserViewer(),isLastAdminInThread:this.props.adminIds&&this.props.adminIds.length===1});},_handleDialogRemoveClick:function o(p){this.props.onAction(j.REMOVE,p);},_handleOwnerRemoveClick:function o(p){this.props.onAction(j.REMOVE_OWNER,p);},_hanleMakeOwnerClick:function o(p){this._handleClick(p);var q=c('MercuryParticipants').getNow(this.props.contact.uid);c('MessengerActions').showDialog(c('MessengerMakeAsOwnerDialog.react'),{onToggle:this._handleDialogToggle,onMakeOwner:this._handleOwnerAddClick,name:q&&q.name,isUserViewer:this._isUserViewer()});},_handleOwnerAddClick:function o(p){this.props.onAction(j.ADD_OWNER,p);},_handleDialogToggle:function o(p){if(!p)c('MessengerActions').hideDialog();},_isUserViewer:function o(){return c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer)===this.props.contact.uid;},_isViewerAdmin:function o(){return c('MessengerAdminGroupUtils').isViewerAdmin(this.props.adminIds,this.props.viewer);}});f.exports=n;}),null);
__d("MessengerSortParticipants",[],(function a(b,c,d,e,f,g){var h={sortAlphabeticalWithAdmins:function i(j,k){var l=k.filter(function(n){return !!n&&j&&j.indexOf(n.id)!==-1;}).toArray().sort(function(n,o){return n.name.localeCompare(o.name);}),m=k.filter(function(n){return !!n&&(!j||j.indexOf(n.id)===-1);}).toArray().sort(function(n,o){return n.name.localeCompare(o.name);});return l.concat(m);}};f.exports=h;}),null);
__d('MessengerInfoPanelPeopleSection.react',['cssVar','cx','fbt','immutable','ImmutableObject','Link.react','MessengerAddIconSVG.react','MessengerAdminGroupUtils','MessengerContactList.react','MessengerInfoPanelContactActions.react','MessengerInfoPanelSection.react','MessengerSortParticipants','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;n.prototype.render=function(){var o=this.props,p=o.adminIds,q=o.contactAdapter,r=o.isCollapsed,s=o.isViewerSubscribed,t=o.onContactAction,u=o.onContactSelect,v=o.onToggle,w=o.participants,x=o.thread,y=o.viewer;return (c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:r,onToggle:v,title:j._("Personnes")},this.$MessengerInfoPanelPeopleSection1(),c('React').createElement(c('MessengerContactList.react'),{actionsClass:c('MessengerInfoPanelContactActions.react'),className:"_4wc-",contactAdapter:q,disableRole:true,extraActionsEnabled:s,listSections:c('immutable').OrderedMap([[null,c('MessengerSortParticipants').sortAlphabeticalWithAdmins(p,w)]]),onSelect:u,onAction:t,viewer:y,adminIds:p,thread:x})));};n.prototype.$MessengerInfoPanelPeopleSection1=function(){if(!this.props.canViewerReply)return null;var o=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread)?j._("Inviter"):j._("Ajouter des personnes"),p=this.props.thread.custom_color||"#0084ff";return (c('React').createElement(c('Link.react'),{className:"_4rph",onClick:this.props.onAddPeopleClick},c('React').createElement(c('MessengerAddIconSVG.react'),{className:"_4rpi",customColor:p}),c('React').createElement('div',{className:"_4rpj"},o)));};function n(){k.apply(this,arguments);}n.propTypes={adminIds:m.arrayOf(m.string),canViewerReply:m.bool.isRequired,contactAdapter:m.func.isRequired,isCollapsed:m.bool.isRequired,isViewerSubscribed:m.bool.isRequired,onAddPeopleClick:m.func.isRequired,onContactAction:m.func.isRequired,onContactSelect:m.func.isRequired,onToggle:m.func.isRequired,participants:m.instanceOf(c('immutable').Map).isRequired,thread:m.instanceOf(c('ImmutableObject')).isRequired,viewer:m.string.isRequired};f.exports=n;}),null);
__d('MessengerInfoPanelEmoji.react',['cx','fbt','Bootloader','EmojiLikeConstants','EmojiLikeCxData','Image.react','ImmutableObject','Keys','MercuryConfig','MessengerActions','MessengerHotLikeOutlineSVG.react','React','MercuryShareAttachmentRenderLocations'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerInfoPanelEmoji2=function(event){event.preventDefault();this.$MessengerInfoPanelEmoji5();}.bind(this),this.$MessengerInfoPanelEmoji3=function(event){if(event.keyCode===c('Keys').RETURN){event.preventDefault();this.$MessengerInfoPanelEmoji5();}}.bind(this),this.$MessengerInfoPanelEmoji6=function(){if(this.$MessengerInfoPanelEmoji1)this.$MessengerInfoPanelEmoji1.focus();}.bind(this),this.$MessengerInfoPanelEmoji4=function(s){this.$MessengerInfoPanelEmoji1=s;}.bind(this),o;}m.prototype.render=function(){if(!this.props.thread.customization_enabled)return null;var n=c('MercuryConfig').MessengerNewEmojiGK&&this.props.thread.custom_like_icon&&this.props.thread.custom_like_icon.emoji?c('EmojiLikeCxData').getNewEmojiData(this.props.thread.custom_like_icon.emoji,c('EmojiLikeConstants').size.SMALL):null,o=n&&n.url?c('React').createElement(c('Image.react'),{src:n.url,className:"_12cp"}):c('React').createElement(c('MessengerHotLikeOutlineSVG.react'),{className:"_12cq",color:this.props.thread.custom_color?this.props.thread.custom_color:'',height:'60%',location:c('MercuryShareAttachmentRenderLocations').MESSENGER});return c('React').createElement('div',{className:"_3szn _3szo",onClick:this.$MessengerInfoPanelEmoji2,onKeyDown:this.$MessengerInfoPanelEmoji3,ref:this.$MessengerInfoPanelEmoji4,role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_3szp"},o),c('React').createElement('div',{className:"_3szq"},i._("Changer d\u2019\u00e9motic\u00f4ne")));};m.prototype.$MessengerInfoPanelEmoji5=function(){c('Bootloader').loadModules(["MessengerChangeEmojiDialog.react"],function(n){c('MessengerActions').showDialog(n,{currentEmoji:this.props.thread.custom_like_icon?this.props.thread.custom_like_icon.emoji:String.fromCodePoint.apply(String,c('EmojiLikeConstants').FB_THUMBS_UP_EMOJI),onSave:this.props.onChange,onClose:this.$MessengerInfoPanelEmoji6});}.bind(this),'MessengerInfoPanelEmoji.react');};m.propTypes={thread:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired,onChange:l.func.isRequired};f.exports=m;}),null);
__d('MessengerInfoPanelManageMessages.react',['cx','fbt','Bootloader','ImmutableObject','MercuryConfig','MercuryIDs','MercuryParticipants','MNCommerceDialogStateActions','MNCommercePromotionBlockDataManager','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerInfoPanelManageMessages3=function(s,t){return c('MNCommercePromotionBlockDataManager').block(s,t);},this.$MessengerInfoPanelManageMessages2=function(event){event.preventDefault();c('Bootloader').loadModules(["MNCommercePromotionManageBlockDialogContainer.react"],function(s){c('MNCommerceDialogStateActions').showDialog(s,{pageID:this.props.thread.other_user_fbid,onConfirmButtonClick:this.$MessengerInfoPanelManageMessages3});}.bind(this),'MessengerInfoPanelManageMessages.react');}.bind(this),o;}m.prototype.render=function(){if(!this.$MessengerInfoPanelManageMessages1()||!c('MercuryConfig').WWWMessengerManageButtonGK)return null;return c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szp"}),c('React').createElement('span',{className:"_3szq",onClick:this.$MessengerInfoPanelManageMessages2},i._("G\u00e9rer les messages")));};m.prototype.$MessengerInfoPanelManageMessages1=function(){var n=c('MercuryIDs').getParticipantIDFromFromThreadID(this.props.thread.thread_id);if(!n)return false;var o=c('MercuryParticipants').getNow(n);return !!(o&&o.is_business_enabled);};m.propTypes={thread:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired};f.exports=m;}),null);
__d('MessengerInfoPanelManageReview.react',['cx','fbt','Bootloader','ImmutableObject','MercuryConfig','MercuryIDs','MercuryParticipants','MNCommerceDialogStateActions','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerInfoPanelManageReview2=function(event){event.preventDefault();c('Bootloader').loadModules(["MNCommerceReviewDialogContainer.react"],function(s){c('MNCommerceDialogStateActions').showDialog(s,{pageID:this.props.thread.other_user_fbid,onConfirmButtonClick:this.$MessengerInfoPanelManageReview3});}.bind(this),'MessengerInfoPanelManageReview.react');}.bind(this),o;}m.prototype.render=function(){if(!this.$MessengerInfoPanelManageReview1()||!c('MercuryConfig').MessengerPlatformBotReviewUsers)return null;return c('React').createElement('div',{className:"_3szn _3szo"},c('React').createElement('div',{className:"_3szp"}),c('React').createElement('span',{className:"_3szq",onClick:this.$MessengerInfoPanelManageReview2},i._("Ajouter un commentaire")));};m.prototype.$MessengerInfoPanelManageReview1=function(){var n=c('MercuryIDs').getParticipantIDFromFromThreadID(this.props.thread.thread_id);if(!n)return false;var o=c('MercuryParticipants').getNow(n);return !!(o&&o.accepts_messenger_user_feedback);};m.prototype.$MessengerInfoPanelManageReview3=function(n,o,p){if(o===0)return;c('Bootloader').loadModules(["MessengerPlatformBotReviewWriteDataManager"],function(q){q.review(n,o,p.trim());},'MessengerInfoPanelManageReview.react');};m.propTypes={thread:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired};f.exports=m;}),null);
__d('MercuryThreadMuter',['AsyncDialog','AsyncRequest','DOM','MercuryThreadInfo'],(function a(b,c,d,e,f,g){var h={showMuteChangeDialog:function i(j,k){c('AsyncDialog').send(new (c('AsyncRequest'))('/ajax/mercury/mute_thread_dialog.php').setRelativeTo(k),function(l){l.subscribe('confirm',function(){this.hide();var m=void 0;c('DOM').scry(this.getRoot(),'input[type="radio"]').forEach(function(n){if(n.checked)m=n.value;});m=h.convertRawMuteSetting(m);e(['MercuryThreadActions'],function(n){n.get().updateMuteSetting(j,m);});}.bind(l));});},convertRawMuteSetting:function i(j){switch(j){case 'always':return -1;case '30minutes':return 1800;case '1hour':return 3600;case '8hours':return 8*3600;case '24hours':return 24*3600;case '8am':var k,l=new Date(),m=new Date();m.setHours(8);m.setMinutes(0);m.setSeconds(0);if(m>l){k=m-l;}else k=m-l+24*3600*1000;return k/1000;default:return 0;}}};f.exports=h;}),null);
__d('MessengerMuteDialog.react',['fbt','MercuryThreadMuter','MessengerDialog.react','MessengerDialogBody.react','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','messengerDomIDsRe','MessengerRadioList.react','React','ReactDOM'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDomIDsRe').ids,l=c('MessengerRadioList.react').Item,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={muteSetting:'30minutes'},this.$MessengerMuteDialog2=function(){var t=c('MercuryThreadMuter').convertRawMuteSetting(this.state.muteSetting);this.props.onMute(t);this.props.onToggle&&this.props.onToggle(false,t);}.bind(this),this.$MessengerMuteDialog1=function(t){this.setState({muteSetting:t});}.bind(this),p;}n.prototype.componentDidMount=function(){var o=c('ReactDOM').findDOMNode(this.refs.confirmButton);if(o&&o.focus)o.focus();};n.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle,titleID:k.MUTE_DIALOG_TITLE},c('React').createElement(c('MessengerDialogHeader.react'),{id:k.MUTE_DIALOG_TITLE},h._("Mettre la conversation en sourdine")),c('React').createElement(c('MessengerDialogBody.react'),null,c('React').createElement(c('MessengerRadioList.react'),{name:'messengerMuteOptions',selectedValue:this.state.muteSetting,onValueChange:this.$MessengerMuteDialog1},c('React').createElement(l,{value:'30minutes'},h._("Pendant 30 minutes")),c('React').createElement(l,{value:'1hour'},h._("Pendant une heure")),c('React').createElement(l,{value:'8hours'},h._("Pendant 8 heures")),c('React').createElement(l,{value:'24hours'},h._("Pendant 24 heures")),c('React').createElement(l,{value:'always'},h._("Ind\u00e9finiment")))),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Sourdine"),onClick:this.$MessengerMuteDialog2,ref:'confirmButton',type:'primary'})));};n.propTypes={onMute:m.func.isRequired,onToggle:m.func.isRequired};f.exports=n;}),null);
__d('MessengerCompositeMuteSettingsDialog.react',['cx','fbt','ImmutableObject','MessengerActions','MessengerCheckboxInput.react','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','messengerDomIDsRe','MessengerMuteDialog.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerDialogBodyReact').comp,m=c('messengerDomIDsRe').ids,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.$MessengerCompositeMuteSettingsDialog2=function(){if(this.state.isMuted){this.props.onMute(0);this.setState({isMuted:false});}else{c('MessengerActions').hideDialog();c('MessengerActions').showDialog(c('MessengerMuteDialog.react'),{isMuted:this.state.isMuted,mutedUntil:undefined,onMute:this.props.onMute,onToggle:this.$MessengerCompositeMuteSettingsDialog4});}}.bind(this);this.$MessengerCompositeMuteSettingsDialog3=function(){this.setState({mentionsMuted:!this.state.mentionsMuted},function(){this.props.onMentionsMute&&this.props.onMentionsMute(!!this.state.mentionsMuted);}.bind(this));}.bind(this);this.$MessengerCompositeMuteSettingsDialog1=function(){c('MessengerActions').hideDialog();this.props.onToggle&&this.props.onToggle(false);}.bind(this);this.$MessengerCompositeMuteSettingsDialog4=function(q,r){if(!q){c('MessengerActions').hideDialog();if(r)c('MessengerActions').showDialog(o,{isMuted:!!r,mentionsMuted:this.state.mentionsMuted,mutedUntil:this.props.mutedUntil,thread:this.props.thread,onMentionsMute:this.props.onMentionsMute,onMute:this.props.onMute,onToggle:this.$MessengerCompositeMuteSettingsDialog4});}}.bind(this);this.state={isMuted:p.isMuted,mentionsMuted:p.mentionsMuted};}o.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{type:'default',width:544,onToggle:this.props.onToggle,titleID:m.MUTE_DIALOG_TITLE},c('React').createElement(c('MessengerDialogHeader.react'),{id:m.MUTE_DIALOG_TITLE},c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Notifications de conversation")),c('React').createElement(c('MessengerDialogButton.react'),{label:i._("Termin\u00e9"),onClick:this.$MessengerCompositeMuteSettingsDialog1,type:'primary'})),c('React').createElement(l,null,c('React').createElement('div',{className:"_374b"},c('React').createElement('div',{className:"_374c"},i._("Notifications des messages")),c('React').createElement('div',{className:"_374d"},c('React').createElement(c('MessengerCheckboxInput.react'),{checked:!this.state.isMuted,onChange:this.$MessengerCompositeMuteSettingsDialog2}),c('React').createElement('span',{className:"_1pr_"},this.state.isMuted?i._("D\u00e9sactiv\u00e9e"):i._("Activ\u00e9e")))),c('React').createElement('div',{className:"_374b"},c('React').createElement('div',{className:"_374c"},i._("Mentions")),c('React').createElement('div',{className:"_374d"},c('React').createElement(c('MessengerCheckboxInput.react'),{checked:!this.state.mentionsMuted,onChange:this.$MessengerCompositeMuteSettingsDialog3}),c('React').createElement('span',{className:"_1pr_"},this.state.mentionsMuted?i._("D\u00e9sactiv\u00e9e"):i._("Activ\u00e9e"))))));};o.propTypes={isMuted:n.bool.isRequired,mentionsMuted:n.bool.isRequired,mutedUntil:n.number,thread:n.instanceOf(c('ImmutableObject')).isRequired,onMentionsMute:n.func,onMute:n.func.isRequired,onToggle:n.func.isRequired};f.exports=o;}),null);
__d('MessengerNotificationsIconSVG.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){return (c('React').createElement('div',{className:this.props.className},c('React').createElement('svg',{viewBox:'0 0 18 18',width:'18',height:'18'},c('React').createElement('defs',null,c('React').createElement('circle',{id:'path-1',cx:'1',cy:'1',r:'1'})),c('React').createElement('g',{fill:'none',fillRule:'evenodd'},c('React').createElement('rect',{id:'Bounds',x:'0',y:'0',width:'18',height:'18'}),c('React').createElement('path',{d:'M9,16.5 C9.828,16.5 10.5,15.828 10.5,15 L7.5,15 C7.5,15.828 8.172,16.5 9,16.5',fill:this.props.customColor}),c('React').createElement('path',{d:'M13,10 L13,7.5 C13,5.562 11.622,3.948 9.793,3.58 C9.914,3.414 10,3.221 10,3 C10,2.448 9.552,2 9,2 C8.448,2 8,2.448 8,3 C8,3.221 8.086,3.414 8.207,3.58 C6.378,3.948 5,5.562 5,7.5 L5,10 C5,11.105 4,12 4,12 L3.70537567,12.2946243 C3.31580745,12.6841926 3.31640625,13.3164062 3.70537567,13.7053757 L4,14 L14,14 L14.2946243,13.7053757 C14.6841926,13.3158074 14.6835937,12.6835938 14.2946243,12.2946243 L14,12 C14,12 13,11.105 13,10 Z',stroke:this.props.customColor})))));};function k(){h.apply(this,arguments);}k.propTypes={className:j.string,customColor:j.string.isRequired};f.exports=k;}),null);
__d('MessengerInfoPanelCompositeMuteSettings.react',['cssVar','cx','fbt','ImmutableObject','Keys','LeftRight.react','MercuryConfig','MessengerActions','MessengerCompositeMuteSettingsDialog.react','MessengerMuteDialog.react','MessengerNotificationsIconSVG.react','React','ReactDOM','formatDate'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$MessengerInfoPanelCompositeMuteSettings1=function(t){t.preventDefault();t.stopPropagation();this.$MessengerInfoPanelCompositeMuteSettings4();}.bind(this),this.$MessengerInfoPanelCompositeMuteSettings2=function(t){if(t.keyCode===c('Keys').RETURN){t.preventDefault();t.stopPropagation();this.$MessengerInfoPanelCompositeMuteSettings4();}}.bind(this),this.$MessengerInfoPanelCompositeMuteSettings5=function(t){if(!t){c('MessengerActions').hideDialog();c('ReactDOM').findDOMNode(this.refs.dialogContext).focus();}}.bind(this),p;}n.prototype.render=function(){var o=j._("Notifications"),p=this.props.thread.custom_color||"#0084ff";return c('React').createElement('div',{className:"_3szn _3szo",onClick:this.$MessengerInfoPanelCompositeMuteSettings1,onKeyDown:this.$MessengerInfoPanelCompositeMuteSettings2,ref:'dialogContext',role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_3szp"},c('React').createElement(c('MessengerNotificationsIconSVG.react'),{className:"_3wh2",customColor:p})),c('React').createElement(c('LeftRight.react'),{className:"_3szq"},o,this.$MessengerInfoPanelCompositeMuteSettings3()));};n.prototype.$MessengerInfoPanelCompositeMuteSettings4=function(){var o=this.props.thread,p=o&&o.is_canonical,q=!p&&c('MercuryConfig').Mentions,r=q?c('MessengerCompositeMuteSettingsDialog.react'):c('MessengerMuteDialog.react');if(this.props.isMuted&&!q){this.props.onMuteChange(0);return;}var s={isMuted:this.props.isMuted,mentionsMuted:this.props.mentionsMuted,mutedUntil:this.props.mutedUntil,thread:o,onMentionsMute:this.props.onMentionsMuteChange,onMute:this.props.onMuteChange,onToggle:this.$MessengerInfoPanelCompositeMuteSettings5};c('MessengerActions').showDialog(r,s);};n.prototype.$MessengerInfoPanelCompositeMuteSettings3=function(){var o=this.props.mutedUntil,p=void 0;if(!o)return null;if(o>0){if(o<86401)return null;var q=new Date(o*1000).getDay()===new Date().getDay();if(!q){p=j._("D\u00e9sactiver jusqu\u2019\u00e0 {time} demain",[j.param('time',c('formatDate')(o,'g:ia'))]);}else p=j._("D\u00e9sactiv\u00e9es jusqu\u2019\u00e0 {time}",[j.param('time',c('formatDate')(o,'g:ia'))]);}else if(o===-1)p=j._("D\u00e9sactiv\u00e9es ind\u00e9finiment");return p?c('React').createElement('span',{className:"_3x6v"},p):null;};n.propTypes={isMuted:m.bool.isRequired,mentionsMuted:m.bool.isRequired,mutedUntil:m.number,onMentionsMuteChange:m.func,onMuteChange:m.func.isRequired,thread:m.instanceOf(c('ImmutableObject')).isRequired};f.exports=n;}),null);
__d('MessengerInfoPanelMuteSettings.react',['cx','fbt','BootloadedComponent.react','ImmutableObject','JSResource','LeftRight.react','MessengerActions','MessengerCheckboxInput.react','MessengerConfig','MessengerMuteDialog.react','React','ReactDOM','formatDate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MessengerInfoPanelMuteSettings1=function(s){s.preventDefault();s.stopPropagation();if(this.props.isMuted){this.props.onMuteChange(0);}else c('MessengerActions').showDialog(c('MessengerMuteDialog.react'),{onMute:this.props.onMuteChange,onToggle:this.$MessengerInfoPanelMuteSettings3});}.bind(this),this.$MessengerInfoPanelMuteSettings2=function(){var s=this.props.mutedUntil,t=void 0;if(!s)return null;if(s>0){if(s<86401)return null;var u=new Date(s*1000).getDay()===new Date().getDay();if(!u){t=i._("D\u00e9sactiver jusqu\u2019\u00e0 {time} demain",[i.param('time',c('formatDate')(s,'g:ia'))]);}else t=i._("D\u00e9sactiv\u00e9es jusqu\u2019\u00e0 {time}",[i.param('time',c('formatDate')(s,'g:ia'))]);}else if(s===-1)t=i._("D\u00e9sactiv\u00e9es ind\u00e9finiment");return t?c('React').createElement('span',{className:"_3x6v"},t):null;}.bind(this),this.$MessengerInfoPanelMuteSettings3=function(s){if(!s){c('MessengerActions').hideDialog();c('ReactDOM').findDOMNode(this.refs.muteCheckbox).focus();}}.bind(this),o;}m.prototype.render=function(){var n=i._("D\u00e9sactiver les notifications"),o=i._("R\u00e9activer les notifications"),p=this.props.isMuted?o:n;return c('React').createElement('div',{className:"_3szn",ref:'dialogContext'},c('React').createElement('div',{className:"_3szo"},c('React').createElement('div',{className:"_3szp"},c('React').createElement(c('MessengerCheckboxInput.react'),{checked:this.props.isMuted,onChange:this.$MessengerInfoPanelMuteSettings1,ref:'muteCheckbox',tooltip:p})),c('React').createElement(c('LeftRight.react'),{className:"_3szq"},c('React').createElement('span',{onClick:this.$MessengerInfoPanelMuteSettings1},n),this.$MessengerInfoPanelMuteSettings2())));};m.propTypes={isMuted:l.bool.isRequired,mutedUntil:l.number,onMuteChange:l.func.isRequired,thread:l.instanceOf(c('ImmutableObject')).isRequired};f.exports=m;}),null);
__d('MessengerInfoPanelMuteSettingsContainer.react',['MercuryThreadInfo','ImmutableObject','MercuryConfig','MessengerInfoPanelCompositeMuteSettings.react','MessengerInfoPanelMuteSettings.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.thread,m=c('MercuryThreadInfo').isMuted(l);if(c('MercuryConfig').Mentions){var n=c('MercuryThreadInfo').areMentionsMuted(l);return (c('React').createElement(c('MessengerInfoPanelCompositeMuteSettings.react'),{isMuted:m,mentionsMuted:n,mutedUntil:c('MercuryThreadInfo').getMuteSetting(l)||undefined,onMuteChange:this.props.onChange,onMentionsMuteChange:this.props.onMentionsMuteChange,thread:l}));}return (c('React').createElement(c('MessengerInfoPanelMuteSettings.react'),{isMuted:m,mutedUntil:c('MercuryThreadInfo').getMuteSetting(l)||undefined,onMuteChange:this.props.onChange,thread:l}));};function k(){h.apply(this,arguments);}k.propTypes={thread:j.instanceOf(c('ImmutableObject')).isRequired,viewer:j.string.isRequired,onChange:j.func.isRequired,onMentionsMuteChange:j.func};f.exports=k;}),null);
__d('MessengerEditNicknamesDialog.react',['cx','fbt','BootloadedComponent.react','immutable','ImmutableObject','JSResource','MercuryIDs','MessengerAdminGroupUtils','MessengerActions','MessengerContactList.react','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogCancelButton.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerScrollableArea.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerDialogBodyReact').comp,m=c('BootloadedComponent.react').create(c('JSResource')('MessengerEditNicknameDialog.react').__setRef('MessengerEditNicknamesDialog.react')),n=c('React').PropTypes,o=350;j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$MessengerEditNicknamesDialog2=function(v){var w=c('MercuryIDs').getUserIDFromParticipantID(v.id),x=v.name,y='';if(this.props.thread.custom_nickname&&this.props.thread.custom_nickname[w]){x=this.props.thread.custom_nickname[w];y=v.name;}return new (c('ImmutableObject'))({alias:v.alias,uid:v.id,photo:v.image_src,title:x,subtitle:y,type:v.type,isMessengerUser:v.is_messenger_user,href:v.href});}.bind(this),this.$MessengerEditNicknamesDialog3=function(v){var w=c('MercuryIDs').getUserIDFromParticipantID(v.id);c('MessengerActions').showDialog(m,{bootloadPlaceholder:c('React').createElement('div',null),contact:v,currentNickname:this.props.thread.custom_nickname&&this.props.thread.custom_nickname[w],onToggle:this.$MessengerEditNicknamesDialog1,onSave:this.$MessengerEditNicknamesDialog4,viewer:this.props.viewer});}.bind(this),this.$MessengerEditNicknamesDialog4=function(v,w){this.props.onSave(v,w);}.bind(this),this.$MessengerEditNicknamesDialog1=function(v){if(!v){this.props.onClose&&this.props.onClose();c('MessengerActions').hideDialog();}}.bind(this),r;}p.prototype.render=function(){var q=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread),r=this.props.participants.filter(function(s){var t=c('MercuryIDs').getUserIDFromParticipantID(s.id);return !!s&&(q&&t===this.props.viewer||!q);}.bind(this)).toArray();return c('React').createElement(c('MessengerDialog.react'),{className:"_4h9n",shown:true,onToggle:this.$MessengerEditNicknamesDialog1,ref:'dialog',type:'default',width:o},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogTitle.react'),null,i._("Modifier les surnoms"))),c('React').createElement(l,{className:"_4h9o"},c('React').createElement(c('MessengerScrollableArea.react'),{height:'100%',ref:'scrollable'},c('React').createElement(c('MessengerContactList.react'),{contactAdapter:this.$MessengerEditNicknamesDialog2,disableRole:true,listSections:c('immutable').OrderedMap([[null,r]]),onSelect:this.$MessengerEditNicknamesDialog3,rowClassName:"_44kr",viewer:this.props.viewer,thread:this.props.thread}))));};p.propTypes={participants:n.instanceOf(c('immutable').Map).isRequired,thread:n.instanceOf(c('ImmutableObject')).isRequired,viewer:n.string.isRequired,onSave:n.func.isRequired,onClose:n.func};f.exports=p;}),null);
__d('MessengerEditNicknamesIconSVG.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){return (c('React').createElement('div',{className:this.props.className},c('React').createElement('svg',{viewBox:'0 0 38 37.01'},c('React').createElement('title',null,'nicknames'),c('React').createElement('path',{d:'M899,1204h38v2H899v-2Z',fillRule:'evenodd',fill:this.props.customColor,transform:'translate(-898.99 -1168.99)'}),c('React').createElement('path',{d:'M927.57,1172.17l-22.32,22.36-0.72,5,5-.72,22.32-22.36ZM908.8, 1196.6l-1.41-1.41L929,1173.61l1.41,1.41Z',fillRule:'evenodd',fill:this.props.customColor,transform:'translate(-898.99 -1168.99)'}),c('React').createElement('path',{d:'M932.93,1175.36l2.07-2.13a6,6,0,0,0-1.33-3,5.72,5.72,0,0,0-2.91-1.28l-2.07,2.13Z',fillRule:'evenodd',fill:this.props.customColor,transform:'translate(-898.99 -1168.99)'}))));};function k(){h.apply(this,arguments);}k.propTypes={className:j.string,customColor:j.string.isRequired};f.exports=k;}),null);
__d('MessengerInfoPanelNicknames.react',['cssVar','cx','fbt','immutable','ImmutableObject','Keys','MessengerActions','MessengerEditNicknamesDialog.react','MessengerEditNicknamesIconSVG.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$MessengerInfoPanelNicknames2=function(event){event.preventDefault();this.$MessengerInfoPanelNicknames5();}.bind(this),this.$MessengerInfoPanelNicknames3=function(event){if(event.keyCode===c('Keys').RETURN){event.preventDefault();this.$MessengerInfoPanelNicknames5();}}.bind(this),this.$MessengerInfoPanelNicknames6=function(){if(this.$MessengerInfoPanelNicknames1)this.$MessengerInfoPanelNicknames1.focus();}.bind(this),this.$MessengerInfoPanelNicknames4=function(t){this.$MessengerInfoPanelNicknames1=t;}.bind(this),p;}n.prototype.render=function(){if(!this.props.thread.customization_enabled)return null;var o=this.props.thread.custom_color||"#0084ff";return c('React').createElement('div',{className:"_3szn _3szo",onClick:this.$MessengerInfoPanelNicknames2,onKeyDown:this.$MessengerInfoPanelNicknames3,ref:this.$MessengerInfoPanelNicknames4,role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_3szp"},c('React').createElement(c('MessengerEditNicknamesIconSVG.react'),{className:"_5odt",customColor:o})),c('React').createElement('div',{className:"_3szq"},j._("Modifier les surnoms")));};n.prototype.$MessengerInfoPanelNicknames5=function(){c('MessengerActions').showDialog(c('MessengerEditNicknamesDialog.react'),{thread:this.props.thread,participants:this.props.participants,viewer:this.props.viewer,onSave:this.props.onChange,onClose:this.$MessengerInfoPanelNicknames6});};n.propTypes={participants:m.instanceOf(c('immutable').Map).isRequired,thread:m.instanceOf(c('ImmutableObject')).isRequired,viewer:m.string.isRequired,onChange:m.func.isRequired};f.exports=n;}),null);
__d('keysRe',[],(function a(b,c,d,e,f,g){'use strict';var h=8,i=9,j=13,k=18,l=27,m=32,n=33,o=34,p=35,q=36,r=37,s=38,t=39,u=40,v=46,w=188,x=190,y=65,z=90,aa=48,ba=96,ca=105;g.backspace=h;g.tab=i;g.$$return=j;g.alt=k;g.esc=l;g.space=m;g.page_up=n;g.page_down=o;g.end_=p;g.home=q;g.left=r;g.up=s;g.right=t;g.down=u;g.$$delete=v;g.comma=w;g.period=x;g.a=y;g.z=z;g.zero=aa;g.numpad_0=ba;g.numpad_9=ca;}),null);
__d('MessengerCustomThreadColorButton.react',['cx','Keys','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerCustomThreadColorButton1=function(event){event.preventDefault();this.props.onChoose(this.props.colorChoice);}.bind(this),this.$MessengerCustomThreadColorButton2=function(event){if(event.keyCode===c('Keys').RETURN){event.preventDefault();this.props.onChoose(this.props.colorChoice);}}.bind(this),n;}l.prototype.render=function(){return c('React').createElement('div',{'aria-label':this.props.colorName,'aria-pressed':this.props.isSelected,className:"_5dr3",onClick:this.$MessengerCustomThreadColorButton1,onKeyDown:this.$MessengerCustomThreadColorButton2,role:'button',tabIndex:'0'},c('React').createElement('div',{className:"_5dr4",style:{backgroundColor:this.props.colorChoice}}));};l.propTypes={colorChoice:k.string.isRequired,colorName:k.string.isRequired,isSelected:k.bool.isRequired,onChoose:k.func.isRequired};f.exports=l;}),null);
__d('bs_block',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){j.tag=i;return j;}g.__=h;}),null);
__d('bs_caml_obj',['bs_caml_builtin_exceptions','bs_block'],(function a(b,c,d,e,f,g){'use strict';function h(v){var w=v.length,x=new Array(w);for(var y=0,z=w-1|0;y<=z;++y)x[y]=v[y];x.tag=v.tag|0;return x;}function i(v,w){var x=v.length;if(w<=0||w>x){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Obj.truncate"];}else if(x!==w){for(var y=w,z=x-1|0;y<=z;++y)v[y]=0;v.length=w;return 0;}else return 0;}function j(v){return c('bs_block').__(250,[v]);}function k(v,w){var x=w.length;for(var y=0,z=x-1|0;y<=z;++y)v[y]=w[y];v.tag=w.tag|0;v.length=w.length;return 0;}function l(v,w){if(v<w){return -1;}else if(v===w){return 0;}else return 1;}function m(v,w){while(true){var x=w,y=v;if(typeof y==="string"){var z=y,aa=x;if(z<aa){return -1;}else if(z===aa){return 0;}else return 1;}else if(typeof y==="number"){return l(y,x);}else if(typeof y==="boolean"||typeof y==="null"||typeof y==="undefined"){var ba=y,ca=x;if(ba===ca){return 0;}else if(ba<ca){return -1;}else return 1;}else{var da=y.tag|0,ea=x.tag|0;if(da===250){v=y[0];continue;}else if(ea===250){w=x[0];continue;}else if(da===248){return l(y[1],x[1]);}else if(da===251){throw [c('bs_caml_builtin_exceptions').invalid_argument,"equal: abstract value"];}else if(da!==ea){if(da<ea){return -1;}else return 1;}else{var fa=y.length,ga=x.length;if(fa===ga){var ha=y,ia=x,ja=0,ka=fa;while(true){var la=ja;if(la===ka){return 0;}else{var ma=m(ha[la],ia[la]);if(ma!==0){return ma;}else{ja=la+1|0;continue;}}}}else if(fa<ga){var na=y,oa=x,pa=0,qa=fa;while(true){var ra=pa;if(ra===qa){return -1;}else{var sa=m(na[ra],oa[ra]);if(sa!==0){return sa;}else{pa=ra+1|0;continue;}}}}else{var ta=y,ua=x,va=0,wa=ga;while(true){var xa=va;if(xa===wa){return 1;}else{var ya=m(ta[xa],ua[xa]);if(ya!==0){return ya;}else{va=xa+1|0;continue;}}}}}}}}function n(v,w){while(true){var x=w,y=v;if(typeof y==="string"||typeof y==="number"||typeof y==="boolean"||typeof y==="undefined"||typeof y==="null"){return +(y===x);}else{var z=y.tag|0,aa=x.tag|0;if(z===250){v=y[0];continue;}else if(aa===250){w=x[0];continue;}else if(z===248){return +(y[1]===x[1]);}else if(z===251){throw [c('bs_caml_builtin_exceptions').invalid_argument,"equal: abstract value"];}else if(z!==aa){return 0;}else{var ba=y.length,ca=x.length;if(ba===ca){var da=y,ea=x,fa=0,ga=ba;while(true){var ha=fa;if(ha===ga){return 1;}else if(n(da[ha],ea[ha])){fa=ha+1|0;continue;}else return 0;}}else return 0;}}}}function o(v,w){return 1-n(v,w);}function p(v,w){return +(m(v,w)>=0);}function q(v,w){return +(m(v,w)>0);}function r(v,w){return +(m(v,w)<=0);}function s(v,w){return +(m(v,w)<0);}var t=l,u=l;g.caml_obj_dup=h;g.caml_obj_truncate=i;g.caml_lazy_make_forward=j;g.caml_update_dummy=k;g.caml_int_compare=l;g.caml_int32_compare=t;g.caml_nativeint_compare=u;g.caml_compare=m;g.caml_equal=n;g.caml_notequal=o;g.caml_greaterequal=p;g.caml_greaterthan=q;g.caml_lessthan=s;g.caml_lessequal=r;}),null);
__d('bs_caml_string',['bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(v){return String.fromCharCode(v);}function i(v,w){if(w>=v.length||w<0){throw [c('bs_caml_builtin_exceptions').invalid_argument,"index out of bounds"];}else return v.charCodeAt(w);}function j(v){if(v<0){throw [c('bs_caml_builtin_exceptions').invalid_argument,"String.create"];}else return new Array(v);}function k(v,w){if(v===w){return 0;}else if(v<w){return -1;}else return 1;}function l(v,w,x,y){if(x>0){for(var z=w,aa=(x+w|0)-1|0;z<=aa;++z)v[z]=y;return 0;}else return 0;}function m(v,w,x,y,z){if(z>0){var aa=v.length-w|0;if(z<=aa){for(var ba=0,ca=z-1|0;ba<=ca;++ba)x[y+ba|0]=v.charCodeAt(w+ba|0);return 0;}else{for(var da=0,ea=aa-1|0;da<=ea;++da)x[y+da|0]=v.charCodeAt(w+da|0);for(var fa=aa,ga=z-1|0;fa<=ga;++fa)x[y+fa|0]=0;return 0;}}else return 0;}function n(v,w,x,y,z){if(z>0){if(v===x){var aa=v,ba=w,ca=y,da=z;if(ba<ca){var ea=(aa.length-ca|0)-1|0,fa=da-1|0,ga=ea>fa?fa:ea;for(var ha=ga;ha>=0;--ha)aa[ca+ha|0]=aa[ba+ha|0];return 0;}else if(ba>ca){var ia=(aa.length-ba|0)-1|0,ja=da-1|0,ka=ia>ja?ja:ia;for(var la=0;la<=ka;++la)aa[ca+la|0]=aa[ba+la|0];return 0;}else return 0;}else{var ma=v.length-w|0;if(z<=ma){for(var na=0,oa=z-1|0;na<=oa;++na)x[y+na|0]=v[w+na|0];return 0;}else{for(var pa=0,qa=ma-1|0;pa<=qa;++pa)x[y+pa|0]=v[w+pa|0];for(var ra=ma,sa=z-1|0;ra<=sa;++ra)x[y+ra|0]=0;return 0;}}}else return 0;}function o(v){var w=v.length,x=new Array(w);for(var y=0,z=w-1|0;y<=z;++y)x[y]=v.charCodeAt(y);return x;}function p(v){var w=v,x=0,y=v.length,z="",aa=y;if(x===0&&y<=4096&&y===w.length){return String.fromCharCode.apply(null,w);}else{var ba=0;while(aa>0){var ca=aa<1024?aa:1024,da=new Array(ca);n(w,ba,da,0,ca);z=z+String.fromCharCode.apply(null,da);aa=aa-ca|0;ba=ba+ca|0;}return z;}}function q(v){var w=v.length,x=new Array(w);for(var y=0,z=w-1|0;y<=z;++y)x[y]=v[y];return p(x);}function r(v){if(v>31){return +(v<127);}else return 0;}function s(v,w){return v.charCodeAt(w)+(v.charCodeAt(w+1|0)<<8)|0;}function t(v,w){return ((v.charCodeAt(w)+(v.charCodeAt(w+1|0)<<8)|0)+(v.charCodeAt(w+2|0)<<16)|0)+(v.charCodeAt(w+3|0)<<24)|0;}function u(v,w){if(w<0||w>=v.length){throw [c('bs_caml_builtin_exceptions').invalid_argument,"index out of bounds"];}else return v.charCodeAt(w);}g.bytes_of_string=o;g.bytes_to_string=p;g.caml_is_printable=r;g.caml_string_of_char_array=q;g.caml_string_get=i;g.caml_string_compare=k;g.caml_create_string=j;g.caml_fill_string=l;g.caml_blit_string=m;g.caml_blit_bytes=n;g.caml_string_get16=s;g.caml_string_get32=t;g.js_string_of_char=h;g.get=u;}),null);
__d('bs_char',['bs_caml_builtin_exceptions','bs_caml_string'],(function a(b,c,d,e,f,g){'use strict';function h(m){if(m<0||m>255){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Char.chr"];}else return m;}function i(m){var n=0;if(m>=40){if(m!==92){n=m>=127?1:2;}else return "\\\\";}else if(m>=32){if(m>=39){return "\\'";}else n=2;}else if(m>=14){n=1;}else switch(m){case 8:return "\\b";case 9:return "\\t";case 10:return "\\n";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:n=1;break;case 13:return "\\r";}switch(n){case 1:var o=new Array(4);o[0]=92;o[1]=48+(m/100|0)|0;o[2]=48+(m/10|0)%10|0;o[3]=48+m%10|0;return c('bs_caml_string').bytes_to_string(o);case 2:var p=new Array(1);p[0]=m;return c('bs_caml_string').bytes_to_string(p);}}function j(m){if(m>=65&&m<=90||m>=192&&m<=214||m>=216&&m<=222){return m+32|0;}else return m;}function k(m){if(m>=97&&m<=122||m>=224&&m<=246||m>=248&&m<=254){return m-32|0;}else return m;}function l(m,n){return m-n|0;}g.chr=h;g.escaped=i;g.lowercase=j;g.uppercase=k;g.compare=l;}),null);
__d('bs_caml_utils',[],(function a(b,c,d,e,f,g){'use strict';var h=String.prototype.repeat&&function(i,j){return j.repeat(i);}||function(i,j){if(j.length==0||i==0)return '';if(j.length*i>=1<<28)throw new RangeError('repeat count must not overflow maximum string size');var k='';for(;;){if((i&1)==1)k+=j;i>>>=1;if(i==0)break;j+=j;}return k;};g.repeat=h;}),null);
__d('bs_caml_int64',['bs_caml_builtin_exceptions','bs_caml_obj','bs_caml_int32','bs_caml_utils'],(function a(b,c,d,e,f,g){'use strict';var h=[-2147483648,0],i=[134217727,1],j=[0,1],k=[0,0],l=[-1,4294967295];function m(ta){return +((ta&2147483648)!==0);}function n(ta,ua){var va=ua[1],wa=ta[1],xa=wa+va&4294967295,ya=m(wa)&&(m(va)||!m(xa))||m(va)&&!m(xa)?1:0,za=ta[0]+ua[0]+ya&4294967295;return [za,xa>>>0];}function o(ta){var ua=ta[0]^-1,va=ta[1]^-1;return [ua,va>>>0];}function p(ta,ua){if(ta[0]===ua[0]){return +(ta[1]===ua[1]);}else return 0;}function q(ta){if(p(ta,h)){return h;}else return n(o(ta),j);}function r(ta,ua){return n(ta,q(ua));}function s(ta,ua){var va=ta[1];if(ua){if(ua>=32){return [va<<(ua-32|0),0];}else{var wa=va>>>(32-ua|0)|ta[0]<<ua;return [wa,va<<ua>>>0];}}else return ta;}function t(ta,ua){var va=ta[0];if(ua){var wa=ua-32|0;if(wa){if(wa>0){var xa=va>>>wa;return [0,xa>>>0];}else{var ya=va>>>ua,za=va<<-wa|ta[1]>>>ua;return [ya,za>>>0];}}else return [0,va>>>0];}else return ta;}function u(ta,ua){var va=ta[0];if(ua){if(ua<32){var wa=va>>ua,xa=va<<(32-ua|0)|ta[1]>>>ua;return [wa,xa>>>0];}else{var ya=va>>(ua-32|0);return [va>=0?0:-1,ya>>>0];}}else return ta;}function v(ta){if(ta[0]!==0||ta[1]!==0){return 0;}else return 1;}function w(ta,ua){while(true){var va=ua,wa=ta,xa=0,ya,za=wa[0],ab=0,bb=0,cb=0;if(za!==0){cb=4;}else if(wa[1]!==0){cb=4;}else return k;if(cb===4)if(va[0]!==0){bb=3;}else if(va[1]!==0){bb=3;}else return k;if(bb===3)if(za!==-2147483648){ab=2;}else if(wa[1]!==0){ab=2;}else{ya=va[1];xa=1;}if(ab===2){var db=va[0],eb=wa[1],fb=0;if(db!==-2147483648){fb=3;}else if(va[1]!==0){fb=3;}else{ya=eb;xa=1;}if(fb===3){var gb=va[1];if(za<0){if(db<0){ua=q(va);ta=q(wa);continue;}else return q(w(q(wa),va));}else if(db<0){return q(w(wa,q(va)));}else{var hb=za>>>16,ib=za&65535,jb=eb>>>16,kb=eb&65535,lb=db>>>16,mb=db&65535,nb=gb>>>16,ob=gb&65535,pb=0,qb=0,rb=0,sb=kb*ob;rb=(sb>>>16)+jb*ob;qb=rb>>>16;rb=(rb&65535)+kb*nb;qb=qb+(rb>>>16)+ib*ob;pb=qb>>>16;qb=(qb&65535)+jb*nb;pb+=qb>>>16;qb=(qb&65535)+kb*mb;pb+=qb>>>16;qb=qb&65535;pb=pb+(hb*ob+ib*nb+jb*mb+kb*lb)&65535;var tb=qb|pb<<16,ub=sb&65535|(rb&65535)<<16;return [tb,ub>>>0];}}}if(xa===1)if((ya&1)===0){return k;}else return h;}}function x(ta){var ua=c('bs_caml_int32').caml_int32_bswap(ta[1]),va=c('bs_caml_int32').caml_int32_bswap(ta[0]);return [ua,va>>>0];}function y(ta,ua){var va=ua[0],wa=ta[0];if(wa>va){return 1;}else if(wa<va){return 0;}else return +(ta[1]>=ua[1]);}function z(ta,ua){return 1-p(ta,ua);}function aa(ta,ua){return 1-y(ta,ua);}function ba(ta,ua){if(ta[0]>ua[0]){return 1;}else if(ta[0]<ua[0]){return 0;}else return +(ta[1]>ua[1]);}function ca(ta,ua){return 1-ba(ta,ua);}function da(ta){return ta[0]*4294967296+ta[1];}var ea=Math.pow(2,32),fa=Math.pow(2,63),ga=-Math.pow(2,63);function ha(ta){if(isNaN(ta)||!isFinite(ta)){return k;}else if(ta<=ga){return h;}else if(ta+1>=fa){return i;}else if(ta<0){return q(ha(-ta));}else{var ua=ta/ea|0,va=ta%ea|0;return [ua,va>>>0];}}function ia(ta,ua){while(true){var va=ua,wa=ta,xa=wa[0],ya=0,za=0;if(va[0]!==0){za=2;}else if(va[1]!==0){za=2;}else throw c('bs_caml_builtin_exceptions').division_by_zero;if(za===2)if(xa!==-2147483648){if(xa!==0){ya=1;}else if(wa[1]!==0){ya=1;}else return k;}else if(wa[1]!==0){ya=1;}else if(p(va,j)||p(va,l)){return wa;}else if(p(va,h)){return j;}else{var ab=va[0],bb=u(wa,1),cb=s(ia(bb,va),1),db=0;if(cb[0]!==0){db=3;}else if(cb[1]!==0){db=3;}else if(ab<0){return j;}else return q(j);if(db===3){var eb=w(va,cb),fb=n(wa,q(eb));return n(cb,ia(fb,va));}}if(ya===1){var gb=va[0],hb=0;if(gb!==-2147483648){hb=2;}else if(va[1]!==0){hb=2;}else return k;if(hb===2)if(xa<0){if(gb<0){ua=q(va);ta=q(wa);continue;}else return q(ia(q(wa),va));}else if(gb<0){return q(ia(wa,q(va)));}else{var ib=k,jb=wa;while(y(jb,va)){var kb=Math.max(1,Math.floor(da(jb)/da(va))),lb=Math.ceil(Math.log(kb)/Math.LN2),mb=lb<=48?1:Math.pow(2,lb-48),nb=ha(kb),ob=w(nb,va);while(ob[0]<0||ba(ob,jb)){kb-=mb;nb=ha(kb);ob=w(nb,va);}if(v(nb))nb=j;ib=n(ib,nb);jb=n(jb,q(ob));}return ib;}}}}function ja(ta,ua){var va=w(ia(ta,ua),ua);return n(ta,q(va));}function ka(ta,ua){var va=ia(ta,ua),wa=w(va,ua);return [va,n(ta,q(wa))];}function la(ta,ua){var va=c('bs_caml_obj').caml_nativeint_compare(ta[0],ua[0]);if(va){return va;}else return c('bs_caml_obj').caml_nativeint_compare(ta[1],ua[1]);}function ma(ta){return [ta<0?-1:0,ta>>>0];}function na(ta){return ta[1]|0;}function oa(ta){var ua=function ab(bb){return (bb>>>0).toString(16);},va=ta[0],wa=ta[1],xa=0;if(va!==0){xa=1;}else if(wa!==0){xa=1;}else return "0";if(xa===1)if(wa!==0){if(va!==0){var ya=ua(ta[1]),za=8-ya.length|0;if(za<=0){return ua(ta[0])+ya;}else return ua(ta[0])+(c('bs_caml_utils').repeat(za,"0")+ya);}else return ua(ta[1]);}else return ua(ta[0])+"00000000";}function pa(ta){return [2147483647&ta[0],ta[1]];}function qa(ta){var ua=new Int32Array([ta[1],ta[0]]);return new Float64Array(ua.buffer)[0];}function ra(ta){var ua=function za(ab){return ab;},va=new Float64Array([ta]),wa=new Int32Array(va.buffer),xa=ua(wa[1]),ya=ua(wa[0]);return [xa,ya>>>0];}function sa(ta,ua){var va=ta.charCodeAt(ua+4|0)<<32|ta.charCodeAt(ua+5|0)<<40|ta.charCodeAt(ua+6|0)<<48|ta.charCodeAt(ua+7|0)<<56,wa=ta.charCodeAt(ua)|ta.charCodeAt(ua+1|0)<<8|ta.charCodeAt(ua+2|0)<<16|ta.charCodeAt(ua+3|0)<<24;return [va,wa>>>0];}g.min_int=h;g.max_int=i;g.one=j;g.zero=k;g.not=o;g.of_int32=ma;g.to_int32=na;g.add=n;g.neg=q;g.sub=r;g.lsl_=s;g.lsr_=t;g.asr_=u;g.is_zero=v;g.mul=w;g.swap=x;g.ge=y;g.eq=p;g.neq=z;g.lt=aa;g.gt=ba;g.le=ca;g.to_float=da;g.of_float=ha;g.div=ia;g.mod_=ja;g.div_mod=ka;g.compare=la;g.to_hex=oa;g.discard_sign=pa;g.float_of_bits=qa;g.bits_of_float=ra;g.get64=sa;}),null);
__d('bs_caml_format',['bs_caml_int64','bs_caml_builtin_exceptions','bs_caml_int32','bs_curry','bs_caml_utils','bs_caml_string'],(function a(b,c,d,e,f,g){'use strict';function h(aa){throw [c('bs_caml_builtin_exceptions').failure,aa];}function i(aa){if(aa>=65){if(aa>=97){if(aa>=123){return -1;}else return aa-87|0;}else if(aa>=91){return -1;}else return aa-55|0;}else if(aa>57||aa<48){return -1;}else return aa-48|0;}function j(aa){switch(aa){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2;}}function k(aa){var ba=1,ca=2,da=0;if(aa[da]==="-"){ba=-1;da=da+1|0;}var ea=aa.charCodeAt(da),fa=aa.charCodeAt(da+1|0);if(ea===48)if(fa>=89){if(fa!==98){if(fa!==111){if(fa===120){ca=1;da=da+2|0;}}else{ca=0;da=da+2|0;}}else{ca=3;da=da+2|0;}}else if(fa!==66){if(fa!==79){if(fa>=88){ca=1;da=da+2|0;}}else{ca=0;da=da+2|0;}}else{ca=3;da=da+2|0;}return [da,ba,ca];}function l(aa){var ba=k(aa),ca=ba[0],da=j(ba[2]),ea=4294967295,fa=aa.length,ga=ca<fa?aa.charCodeAt(ca):0,ha=i(ga);if(ha<0||ha>=da)throw [c('bs_caml_builtin_exceptions').failure,"int_of_string"];var ia=function la(ma,na){while(true){var oa=na,pa=ma;if(oa===fa){return pa;}else{var qa=aa.charCodeAt(oa);if(qa===95){na=oa+1|0;continue;}else{var ra=i(qa);if(ra<0||ra>=da){throw [c('bs_caml_builtin_exceptions').failure,"int_of_string"];}else{var sa=da*pa+ra;if(sa>ea){throw [c('bs_caml_builtin_exceptions').failure,"int_of_string"];}else{na=oa+1|0;ma=sa;continue;}}}}}},ja=ba[1]*ia(ha,ca+1|0),ka=ja|0;if(da===10&&ja!==ka)throw [c('bs_caml_builtin_exceptions').failure,"int_of_string"];return ka;}function m(aa){var ba=k(aa),ca=ba[2],da=ba[0],ea=c('bs_caml_int64').of_int32(j(ca)),fa=c('bs_caml_int64').of_int32(ba[1]),ga;switch(ca){case 0:ga=[536870911,4294967295];break;case 1:ga=[268435455,4294967295];break;case 2:ga=[429496729,2576980377];break;case 3:ga=[2147483647,4294967295];break;}var ha=aa.length,ia=da<ha?aa.charCodeAt(da):0,ja=c('bs_caml_int64').of_int32(i(ia));if(c('bs_caml_int64').lt(ja,[0,0])||c('bs_caml_int64').ge(ja,ea))throw [c('bs_caml_builtin_exceptions').failure,"int64_of_string"];var ka=function pa(qa,ra){while(true){var sa=ra,ta=qa;if(sa===ha){return ta;}else{var ua=aa.charCodeAt(sa);if(ua===95){ra=sa+1|0;continue;}else{var va=c('bs_caml_int64').of_int32(i(ua));if(c('bs_caml_int64').lt(va,[0,0])||c('bs_caml_int64').ge(va,ea)){throw [c('bs_caml_builtin_exceptions').failure,"int64_of_string"];}else{var wa=c('bs_caml_int64').add(c('bs_caml_int64').mul(ea,ta),va);if(c('bs_caml_int64').gt(wa,ga)){throw [c('bs_caml_builtin_exceptions').failure,"int64_of_string"];}else{ra=sa+1|0;qa=wa;continue;}}}}}},la=c('bs_caml_int64').mul(fa,ka(ja,da+1|0)),ma=la[0]|0,na=la[1]>>>0,oa=[ma,na];if(c('bs_caml_int64').eq(ea,[0,10])&&c('bs_caml_int64').neq(la,oa))throw [c('bs_caml_builtin_exceptions').failure,"int64_of_string"];return oa;}function n(aa){switch(aa){case 0:return 8;case 1:return 16;case 2:return 10;}}function o(aa){if(aa>=65&&aa<=90||aa>=192&&aa<=214||aa>=216&&aa<=222){return aa+32|0;}else return aa;}function p(aa){var ba=aa.length;if(ba>31)throw [c('bs_caml_builtin_exceptions').invalid_argument,"format_int: format too long"];var ca=["+","-"," ",0,2,0,0,0,1,-1,"f"],da=0;while(true){var ea=da;if(ea>=ba){return ca;}else{var fa=aa.charCodeAt(ea),ga=0;if(fa>=69){if(fa>=88){if(fa>=121){ga=1;}else switch(fa-88|0){case 0:ca[4]=1;ca[7]=1;da=ea+1|0;continue;case 13:case 14:case 15:ga=5;break;case 12:case 17:ga=4;break;case 23:ca[4]=0;da=ea+1|0;continue;case 29:ca[4]=2;da=ea+1|0;continue;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 16:case 18:case 19:case 20:case 21:case 22:case 24:case 25:case 26:case 27:case 28:case 30:case 31:ga=1;break;case 32:ca[4]=1;da=ea+1|0;continue;}}else if(fa>=72){ga=1;}else{ca[5]=1;ca[7]=1;ca[10]=String.fromCharCode(o(fa));da=ea+1|0;continue;}}else{var ha=fa-32|0;if(ha>25||ha<0){ga=1;}else switch(ha){case 3:ca[3]=1;da=ea+1|0;continue;case 0:case 11:ga=2;break;case 13:ca[0]="-";da=ea+1|0;continue;case 14:ca[9]=0;var ia=ea+1|0;while(function(ka){return function(){var la=aa.charCodeAt(ka)-48|0;return +(la>=0&&la<=9);};}(ia)()){ca[9]=(c('bs_caml_int32').imul(ca[9],10)+aa.charCodeAt(ia)|0)-48|0;ia=ia+1|0;}da=ia;continue;case 1:case 2:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 12:case 15:ga=1;break;case 16:ca[2]="0";da=ea+1|0;continue;case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:ga=3;break;}}switch(ga){case 1:da=ea+1|0;continue;case 2:ca[1]=String.fromCharCode(fa);da=ea+1|0;continue;case 3:ca[6]=0;var ja=ea;while(function(ka){return function(){var la=aa.charCodeAt(ka)-48|0;return +(la>=0&&la<=9);};}(ja)()){ca[6]=(c('bs_caml_int32').imul(ca[6],10)+aa.charCodeAt(ja)|0)-48|0;ja=ja+1|0;}da=ja;continue;case 4:ca[5]=1;ca[4]=2;da=ea+1|0;continue;case 5:ca[5]=1;ca[10]=String.fromCharCode(fa);da=ea+1|0;continue;}}}}function q(aa,ba){var ca=aa[0],da=aa[1],ea=aa[2],fa=aa[3],ga=aa[4],ha=aa[5],ia=aa[6],ja=aa[7],ka=aa[8],la=ba.length;if(ha&&(ka<0||da!=="-"))la=la+1|0;if(fa)if(ga){if(ga===1)la=la+2|0;}else la=la+1|0;var ma="";if(ca==="+"&&ea===" ")for(var na=la,oa=ia-1|0;na<=oa;++na)ma=ma+ea;if(ha)if(ka<0){ma=ma+"-";}else if(da!=="-")ma=ma+da;if(fa&&ga===0)ma=ma+"0";if(fa&&ga===1)ma=ma+"0x";if(ca==="+"&&ea==="0")for(var pa=la,qa=ia-1|0;pa<=qa;++pa)ma=ma+ea;ma=ja?ma+ba.toUpperCase():ma+ba;if(ca==="-")for(var ra=la,sa=ia-1|0;ra<=sa;++ra)ma=ma+" ";return ma;}function r(aa,ba){if(aa==="%d"){return ""+ba;}else{var ca=p(aa),da=ca,ea=ba,fa=ea<0?da[5]?(da[8]=-1,-ea):ea>>>0:ea,ga=fa.toString(n(da[4]));if(da[9]>=0){da[2]=" ";var ha=da[9]-ga.length|0;if(ha>0)ga=c('bs_caml_utils').repeat(ha,"0")+ga;}return q(da,ga);}}function s(aa,ba){var ca=p(aa),da=ca[5]&&c('bs_caml_int64').lt(ba,[0,0])?(ca[8]=-1,c('bs_caml_int64').neg(ba)):ba,ea="",fa=ca[4];switch(fa){case 0:var ga=[0,8],ha="01234567";if(c('bs_caml_int64').lt(da,[0,0])){var ia=c('bs_caml_int64').discard_sign(da),ja=c('bs_caml_int64').div_mod(ia,ga),ka=c('bs_caml_int64').add([268435456,0],ja[0]),la=ja[1];ea=c('bs_caml_string').js_string_of_char(ha.charCodeAt(la[1]|0))+ea;while(c('bs_caml_int64').neq(ka,[0,0])){var ma=c('bs_caml_int64').div_mod(ka,ga);ka=ma[0];la=ma[1];ea=c('bs_caml_string').js_string_of_char(ha.charCodeAt(la[1]|0))+ea;}}else{var na=c('bs_caml_int64').div_mod(da,ga),oa=na[0],pa=na[1];ea=c('bs_caml_string').js_string_of_char(ha.charCodeAt(pa[1]|0))+ea;while(c('bs_caml_int64').neq(oa,[0,0])){var qa=c('bs_caml_int64').div_mod(oa,ga);oa=qa[0];pa=qa[1];ea=c('bs_caml_string').js_string_of_char(ha.charCodeAt(pa[1]|0))+ea;}}break;case 1:ea=c('bs_caml_int64').to_hex(da)+ea;break;case 2:var ra=[0,10],sa="0123456789";if(c('bs_caml_int64').lt(da,[0,0])){var ta=c('bs_caml_int64').discard_sign(da),ua=c('bs_caml_int64').div_mod(ta,ra),va=c('bs_caml_int64').div_mod(c('bs_caml_int64').add([0,8],ua[1]),ra),wa=c('bs_caml_int64').add(c('bs_caml_int64').add([214748364,3435973836],ua[0]),va[0]),xa=va[1];ea=c('bs_caml_string').js_string_of_char(sa.charCodeAt(xa[1]|0))+ea;while(c('bs_caml_int64').neq(wa,[0,0])){var ya=c('bs_caml_int64').div_mod(wa,ra);wa=ya[0];xa=ya[1];ea=c('bs_caml_string').js_string_of_char(sa.charCodeAt(xa[1]|0))+ea;}}else{var za=c('bs_caml_int64').div_mod(da,ra),ab=za[0],bb=za[1];ea=c('bs_caml_string').js_string_of_char(sa.charCodeAt(bb[1]|0))+ea;while(c('bs_caml_int64').neq(ab,[0,0])){var cb=c('bs_caml_int64').div_mod(ab,ra);ab=cb[0];bb=cb[1];ea=c('bs_caml_string').js_string_of_char(sa.charCodeAt(bb[1]|0))+ea;}}break;}if(ca[9]>=0){ca[2]=" ";var db=ca[9]-ea.length|0;if(db>0)ea=c('bs_caml_utils').repeat(db,"0")+ea;}return q(ca,ea);}function t(aa,ba){var ca=p(aa),da=ca[9]<0?6:ca[9],ea=ba<0?(ca[8]=-1,-ba):ba,fa="";if(isNaN(ea)){fa="nan";ca[2]=" ";}else if(isFinite(ea)){var ga=ca[10];switch(ga){case "e":fa=ea.toExponential(da);var ha=fa.length;if(fa[ha-3|0]==="e")fa=fa.slice(0,ha-1|0)+("0"+fa.slice(ha-1|0));break;case "f":fa=ea.toFixed(da);break;case "g":var ia=da!==0?da:1;fa=ea.toExponential(ia-1|0);var ja=fa.indexOf("e"),ka=+fa.slice(ja+1|0);if(ka<-4||ea>=1e+21||ea.toFixed(0).length>ia){var la=ja-1|0;while(fa[la]==="0")la=la-1|0;if(fa[la]===".")la=la-1|0;fa=fa.slice(0,la+1|0)+fa.slice(ja);var ma=fa.length;if(fa[ma-3|0]==="e")fa=fa.slice(0,ma-1|0)+("0"+fa.slice(ma-1|0));}else{var na=ia;if(ka<0){na=na-(ka+1|0)|0;fa=ea.toFixed(na);}else while(function(){fa=ea.toFixed(na);return +(fa.length>(ia+1|0));}())na=na-1|0;if(na!==0){var oa=fa.length-1|0;while(fa[oa]==="0")oa=oa-1|0;if(fa[oa]===".")oa=oa-1|0;fa=fa.slice(0,oa+1|0);}}break;default:}}else{fa="inf";ca[2]=" ";}return q(ca,fa);}var u=function aa(ba,ca){var da=+ba;if(ba.length>0&&da===da)return da;ba=ba.replace(/_/g,"");da=+ba;if(ba.length>0&&da===da||/^[+-]?nan$/i.test(ba))return da;if(/^ *0x[0-9a-f_]+p[+-]?[0-9_]+/i.test(ba)){var ea=ba.indexOf('p');ea=ea==-1?ba.indexOf('P'):ea;var fa=+ba.substring(ea+1);da=+ba.substring(0,ea);return da*Math.pow(2,fa);}if(/^\+?inf(inity)?$/i.test(ba))return Infinity;if(/^-inf(inity)?$/i.test(ba))return -Infinity;ca("float_of_string");};function v(aa){return c('bs_curry')._2(u,aa,h);}var w=r,x=r,y=l,z=l;g.caml_format_float=t;g.caml_format_int=r;g.caml_nativeint_format=w;g.caml_int32_format=x;g.caml_float_of_string=v;g.caml_int64_format=s;g.caml_int_of_string=l;g.caml_int32_of_string=y;g.caml_int64_of_string=m;g.caml_nativeint_of_string=z;}),null);
__d('bs_caml_io',['bs_caml_builtin_exceptions','bs_curry'],(function a(b,c,d,e,f,g){'use strict';function h(u,v){return u+v;}var i=undefined,j=["",function(u,v){var w=v.length-1|0;if(typeof process!=="undefined"&&process.stdout&&process.stdout.write){return process.stdout.write(v);}else if(v[w]==="\n"){return 0;}else return 0;}],k=["",function(u,v){var w=v.length-1|0;if(v[w]==="\n"){return 0;}else return 0;}];function l(){throw [c('bs_caml_builtin_exceptions').failure,"caml_ml_open_descriptor_in not implemented"];}function m(){throw [c('bs_caml_builtin_exceptions').failure,"caml_ml_open_descriptor_out not implemented"];}function n(u){if(u[0]!==""){c('bs_curry')._2(u[1],u,u[0]);u[0]="";return 0;}else return 0;}var o=function u(v){return typeof process!=="undefined"&&process.stdout&&(process.stdout.write(v),true);};function p(u,v,w,x){var y=w===0&&x===v.length?v:v.slice(w,x);if(typeof process!=="undefined"&&process.stdout&&process.stdout.write&&u===j){return process.stdout.write(y);}else{var z=y.lastIndexOf("\n");if(z<0){u[0]=u[0]+y;return 0;}else{u[0]=u[0]+y.slice(0,z+1|0);n(u);u[0]=u[0]+y.slice(z+1|0);return 0;}}}function q(u,v){return p(u,String.fromCharCode(v),0,1);}function r(u,v,w,x){throw [c('bs_caml_builtin_exceptions').failure,"caml_ml_input ic not implemented"];}function s(){throw [c('bs_caml_builtin_exceptions').failure,"caml_ml_input_char not implemnted"];}function t(){return [j,[k,0]];}g.$caret=h;g.stdin=i;g.stdout=j;g.stderr=k;g.caml_ml_open_descriptor_in=l;g.caml_ml_open_descriptor_out=m;g.caml_ml_flush=n;g.node_std_output=o;g.caml_ml_output=p;g.caml_ml_output_char=q;g.caml_ml_input=r;g.caml_ml_input_char=s;g.caml_ml_out_channels_list=t;}),null);
__d('bs_camlinternalFormatBasics',['bs_block'],(function a(b,c,d,e,f,g){'use strict';function h(k){if(typeof k==="number"){return 0;}else switch(k.tag|0){case 0:return c('bs_block').__(0,[h(k[0])]);case 1:return c('bs_block').__(1,[h(k[0])]);case 2:return c('bs_block').__(2,[h(k[0])]);case 3:return c('bs_block').__(3,[h(k[0])]);case 4:return c('bs_block').__(4,[h(k[0])]);case 5:return c('bs_block').__(5,[h(k[0])]);case 6:return c('bs_block').__(6,[h(k[0])]);case 7:return c('bs_block').__(7,[h(k[0])]);case 8:return c('bs_block').__(8,[k[0],h(k[1])]);case 9:var l=k[0];return c('bs_block').__(9,[l,l,h(k[2])]);case 10:return c('bs_block').__(10,[h(k[0])]);case 11:return c('bs_block').__(11,[h(k[0])]);case 12:return c('bs_block').__(12,[h(k[0])]);case 13:return c('bs_block').__(13,[h(k[0])]);case 14:return c('bs_block').__(14,[h(k[0])]);}}function i(k,l){if(typeof k==="number"){return l;}else switch(k.tag|0){case 0:return c('bs_block').__(0,[i(k[0],l)]);case 1:return c('bs_block').__(1,[i(k[0],l)]);case 2:return c('bs_block').__(2,[i(k[0],l)]);case 3:return c('bs_block').__(3,[i(k[0],l)]);case 4:return c('bs_block').__(4,[i(k[0],l)]);case 5:return c('bs_block').__(5,[i(k[0],l)]);case 6:return c('bs_block').__(6,[i(k[0],l)]);case 7:return c('bs_block').__(7,[i(k[0],l)]);case 8:return c('bs_block').__(8,[k[0],i(k[1],l)]);case 9:return c('bs_block').__(9,[k[0],k[1],i(k[2],l)]);case 10:return c('bs_block').__(10,[i(k[0],l)]);case 11:return c('bs_block').__(11,[i(k[0],l)]);case 12:return c('bs_block').__(12,[i(k[0],l)]);case 13:return c('bs_block').__(13,[i(k[0],l)]);case 14:return c('bs_block').__(14,[i(k[0],l)]);}}function j(k,l){if(typeof k==="number"){return l;}else switch(k.tag|0){case 0:return c('bs_block').__(0,[j(k[0],l)]);case 1:return c('bs_block').__(1,[j(k[0],l)]);case 2:return c('bs_block').__(2,[k[0],j(k[1],l)]);case 3:return c('bs_block').__(3,[k[0],j(k[1],l)]);case 4:return c('bs_block').__(4,[k[0],k[1],k[2],j(k[3],l)]);case 5:return c('bs_block').__(5,[k[0],k[1],k[2],j(k[3],l)]);case 6:return c('bs_block').__(6,[k[0],k[1],k[2],j(k[3],l)]);case 7:return c('bs_block').__(7,[k[0],k[1],k[2],j(k[3],l)]);case 8:return c('bs_block').__(8,[k[0],k[1],k[2],j(k[3],l)]);case 9:return c('bs_block').__(9,[j(k[0],l)]);case 10:return c('bs_block').__(10,[j(k[0],l)]);case 11:return c('bs_block').__(11,[k[0],j(k[1],l)]);case 12:return c('bs_block').__(12,[k[0],j(k[1],l)]);case 13:return c('bs_block').__(13,[k[0],k[1],j(k[2],l)]);case 14:return c('bs_block').__(14,[k[0],k[1],j(k[2],l)]);case 15:return c('bs_block').__(15,[j(k[0],l)]);case 16:return c('bs_block').__(16,[j(k[0],l)]);case 17:return c('bs_block').__(17,[k[0],j(k[1],l)]);case 18:return c('bs_block').__(18,[k[0],j(k[1],l)]);case 19:return c('bs_block').__(19,[j(k[0],l)]);case 20:return c('bs_block').__(20,[k[0],k[1],j(k[2],l)]);case 21:return c('bs_block').__(21,[k[0],j(k[1],l)]);case 22:return c('bs_block').__(22,[j(k[0],l)]);case 23:return c('bs_block').__(23,[k[0],j(k[1],l)]);case 24:return c('bs_block').__(24,[k[0],k[1],j(k[2],l)]);}}g.concat_fmtty=i;g.erase_rel=h;g.concat_fmt=j;}),null);
__d('bs_pervasives',['bs_caml_builtin_exceptions','bs_caml_obj','bs_caml_io','bs_caml_exceptions','bs_caml_format','bs_curry','bs_camlinternalFormatBasics','bs_caml_string'],(function a(b,c,d,e,f,g){'use strict';function h(wc){throw [c('bs_caml_builtin_exceptions').failure,wc];}function i(wc){throw [c('bs_caml_builtin_exceptions').invalid_argument,wc];}var j=c('bs_caml_exceptions').create("Pervasives.Exit");function k(wc,xc){if(c('bs_caml_obj').caml_lessequal(wc,xc)){return wc;}else return xc;}function l(wc,xc){if(c('bs_caml_obj').caml_greaterequal(wc,xc)){return wc;}else return xc;}function m(wc){if(wc>=0){return wc;}else return -wc;}function n(wc){return wc^-1;}var o=-2147483648;function p(wc,xc){return wc+xc;}function q(wc){if(wc<0||wc>255){throw [c('bs_caml_builtin_exceptions').invalid_argument,"char_of_int"];}else return wc;}function r(wc){if(wc){return "true";}else return "false";}function s(wc){switch(wc){case "false":return 0;case "true":return 1;default:throw [c('bs_caml_builtin_exceptions').invalid_argument,"bool_of_string"];}}function t(wc){return ""+wc;}function u(wc){var xc=wc.length,yc=0;while(true){var zc=yc;if(zc>=xc){return p(wc,".");}else{var ad=c('bs_caml_string').get(wc,zc);if(ad>=48){if(ad>=58){return wc;}else{yc=zc+1|0;continue;}}else if(ad!==45){return wc;}else{yc=zc+1|0;continue;}}}}function v(wc){return u(c('bs_caml_format').caml_format_float("%.12g",wc));}function w(wc,xc){if(wc){return [wc[0],w(wc[1],xc)];}else return xc;}var x=c('bs_caml_io').stdin,y=c('bs_caml_io').stdout,z=c('bs_caml_io').stderr;function aa(wc,xc,yc){return c('bs_caml_io').caml_ml_open_descriptor_out(function(){throw "caml_sys_open not implemented by bucklescript yet\n";}());}function ba(wc){return aa([1,[3,[4,[7,0]]]],438,wc);}function ca(wc){return aa([1,[3,[4,[6,0]]]],438,wc);}function da(){var wc=c('bs_caml_io').caml_ml_out_channels_list(0);while(true){var xc=wc;if(xc){try{c('bs_caml_io').caml_ml_flush(xc[0]);}catch(yc){}wc=xc[1];continue;}else return 0;}}function ea(wc,xc){return c('bs_caml_io').caml_ml_output(wc,xc,0,xc.length);}function fa(wc,xc){return c('bs_caml_io').caml_ml_output(wc,xc,0,xc.length);}function ga(wc,xc,yc,zc){if(yc<0||zc<0||yc>(xc.length-zc|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"output"];}else return c('bs_caml_io').caml_ml_output(wc,xc,yc,zc);}function ha(wc,xc,yc,zc){if(yc<0||zc<0||yc>(xc.length-zc|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"output_substring"];}else return c('bs_caml_io').caml_ml_output(wc,xc,yc,zc);}function ia(wc,xc){return function(){throw "caml_output_value not implemented by bucklescript yet\n";}();}function ja(wc){c('bs_caml_io').caml_ml_flush(wc);return function(){throw "caml_ml_close_channel not implemented by bucklescript yet\n";}();}function ka(wc){try{c('bs_caml_io').caml_ml_flush(wc);}catch(xc){}try{return function(){throw "caml_ml_close_channel not implemented by bucklescript yet\n";}();}catch(yc){return 0;}}function la(wc,xc,yc){return c('bs_caml_io').caml_ml_open_descriptor_in(function(){throw "caml_sys_open not implemented by bucklescript yet\n";}());}function ma(wc){return la([0,[7,0]],0,wc);}function na(wc){return la([0,[6,0]],0,wc);}function oa(wc,xc,yc,zc){if(yc<0||zc<0||yc>(xc.length-zc|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"input"];}else return function(){throw "caml_ml_input not implemented by bucklescript yet\n";}();}function pa(wc,xc,yc,zc){while(true){var ad=zc,bd=yc;if(ad<=0){return 0;}else{var cd=function(){throw "caml_ml_input not implemented by bucklescript yet\n";}();if(cd){zc=ad-cd|0;yc=bd+cd|0;continue;}else throw c('bs_caml_builtin_exceptions').end_of_file;}}}function qa(wc,xc,yc,zc){if(yc<0||zc<0||yc>(xc.length-zc|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"really_input"];}else return pa(wc,xc,yc,zc);}function ra(wc,xc){var yc=c('bs_caml_string').caml_create_string(xc);qa(wc,yc,0,xc);return c('bs_caml_string').bytes_to_string(yc);}function sa(wc){var xc=function zc(ad,bd,cd){while(true){var dd=cd,ed=bd;if(dd){var fd=dd[0],gd=fd.length;c('bs_caml_string').caml_blit_bytes(fd,0,ad,ed-gd|0,gd);cd=dd[1];bd=ed-gd|0;continue;}else return ad;}},yc=function zc(ad,bd){while(true){var cd=bd,dd=ad,ed=function(){throw "caml_ml_input_scan_line not implemented by bucklescript yet\n";}();if(ed){if(ed>0){var fd=c('bs_caml_string').caml_create_string(ed-1|0);(function(){throw "caml_ml_input not implemented by bucklescript yet\n";})();c('bs_caml_io').caml_ml_input_char(wc);if(dd){var gd=(cd+ed|0)-1|0;return xc(c('bs_caml_string').caml_create_string(gd),gd,[fd,dd]);}else return fd;}else{var hd=c('bs_caml_string').caml_create_string(-ed);(function(){throw "caml_ml_input not implemented by bucklescript yet\n";})();bd=cd-ed|0;ad=[hd,dd];continue;}}else if(dd){return xc(c('bs_caml_string').caml_create_string(cd),cd,dd);}else throw c('bs_caml_builtin_exceptions').end_of_file;}};return c('bs_caml_string').bytes_to_string(yc(0,0));}function ta(){try{return function(){throw "caml_ml_close_channel not implemented by bucklescript yet\n";}();}catch(wc){return 0;}}function ua(wc){return c('bs_caml_io').caml_ml_output_char(y,wc);}function va(wc){return fa(y,wc);}function wa(wc){return ea(y,wc);}function xa(wc){return fa(y,""+wc);}function ya(wc){return fa(y,u(c('bs_caml_format').caml_format_float("%.12g",wc)));}function za(wc){return 0;}function ab(){c('bs_caml_io').caml_ml_output_char(y,10);return c('bs_caml_io').caml_ml_flush(y);}function bb(wc){return c('bs_caml_io').caml_ml_output_char(z,wc);}function cb(wc){return fa(z,wc);}function db(wc){return ea(z,wc);}function eb(wc){return fa(z,""+wc);}function fb(wc){return fa(z,u(c('bs_caml_format').caml_format_float("%.12g",wc)));}function gb(wc){return 0;}function hb(){c('bs_caml_io').caml_ml_output_char(z,10);return c('bs_caml_io').caml_ml_flush(z);}function ib(){c('bs_caml_io').caml_ml_flush(y);return sa(x);}function jb(){return c('bs_caml_format').caml_int_of_string((c('bs_caml_io').caml_ml_flush(y),sa(x)));}function kb(){return c('bs_caml_format').caml_float_of_string((c('bs_caml_io').caml_ml_flush(y),sa(x)));}function lb(wc){return wc[1];}function mb(wc,xc){return [c('bs_camlinternalFormatBasics').concat_fmt(wc[0],xc[0]),p(wc[1],p("%,",xc[1]))];}var nb=[da];function ob(wc){var xc=nb[0];nb[0]=function(){c('bs_curry')._1(wc,0);return c('bs_curry')._1(xc,0);};return 0;}function pb(){return c('bs_curry')._1(nb[0],0);}function qb(){pb(0);return function(){throw "caml_sys_exit not implemented by bucklescript yet\n";}();}var rb=2147483647,sb=Infinity,tb=-Infinity,ub=NaN,vb=Number.MAX_VALUE,wb=Number.MIN_VALUE,xb=2.220446049250313e-16,yb=c('bs_caml_io').caml_ml_flush,zb=c('bs_caml_io').caml_ml_output_char,ac=c('bs_caml_io').caml_ml_output_char;function bc(wc,xc){return function(){throw "caml_ml_output_int not implemented by bucklescript yet\n";}();}function cc(wc,xc){return function(){throw "caml_ml_seek_out not implemented by bucklescript yet\n";}();}function dc(){return function(){throw "caml_ml_pos_out not implemented by bucklescript yet\n";}();}function ec(){return function(){throw "caml_ml_channel_size not implemented by bucklescript yet\n";}();}function fc(wc,xc){return function(){throw "caml_ml_set_binary_mode not implemented by bucklescript yet\n";}();}var gc=c('bs_caml_io').caml_ml_input_char,hc=c('bs_caml_io').caml_ml_input_char;function ic(){return function(){throw "caml_ml_input_int not implemented by bucklescript yet\n";}();}function jc(){return function(){throw "caml_input_value not implemented by bucklescript yet\n";}();}function kc(wc,xc){return function(){throw "caml_ml_seek_in not implemented by bucklescript yet\n";}();}function lc(){return function(){throw "caml_ml_pos_in not implemented by bucklescript yet\n";}();}function mc(){return function(){throw "caml_ml_channel_size not implemented by bucklescript yet\n";}();}function nc(){return function(){throw "caml_ml_close_channel not implemented by bucklescript yet\n";}();}function oc(wc,xc){return function(){throw "caml_ml_set_binary_mode not implemented by bucklescript yet\n";}();}function pc(wc,xc){return function(){throw "caml_ml_seek_out_64 not implemented by bucklescript yet\n";}();}function qc(){return function(){throw "caml_ml_pos_out_64 not implemented by bucklescript yet\n";}();}function rc(){return function(){throw "caml_ml_channel_size_64 not implemented by bucklescript yet\n";}();}function sc(wc,xc){return function(){throw "caml_ml_seek_in_64 not implemented by bucklescript yet\n";}();}function tc(){return function(){throw "caml_ml_pos_in_64 not implemented by bucklescript yet\n";}();}function uc(){return function(){throw "caml_ml_channel_size_64 not implemented by bucklescript yet\n";}();}var vc=[pc,qc,rc,sc,tc,uc];g.invalid_arg=i;g.failwith=h;g.Exit=j;g.min=k;g.max=l;g.abs=m;g.max_int=rb;g.min_int=o;g.lnot=n;g.infinity=sb;g.neg_infinity=tb;g.nan=ub;g.max_float=vb;g.min_float=wb;g.epsilon_float=xb;g.$caret=p;g.char_of_int=q;g.string_of_bool=r;g.bool_of_string=s;g.string_of_int=t;g.string_of_float=v;g.$at=w;g.stdin=x;g.stdout=y;g.stderr=z;g.print_char=ua;g.print_string=va;g.print_bytes=wa;g.print_int=xa;g.print_float=ya;g.print_endline=za;g.print_newline=ab;g.prerr_char=bb;g.prerr_string=cb;g.prerr_bytes=db;g.prerr_int=eb;g.prerr_float=fb;g.prerr_endline=gb;g.prerr_newline=hb;g.read_line=ib;g.read_int=jb;g.read_float=kb;g.open_out=ba;g.open_out_bin=ca;g.open_out_gen=aa;g.flush=yb;g.flush_all=da;g.output_char=zb;g.output_string=fa;g.output_bytes=ea;g.output=ga;g.output_substring=ha;g.output_byte=ac;g.output_binary_int=bc;g.output_value=ia;g.seek_out=cc;g.pos_out=dc;g.out_channel_length=ec;g.close_out=ja;g.close_out_noerr=ka;g.set_binary_mode_out=fc;g.open_in=ma;g.open_in_bin=na;g.open_in_gen=la;g.input_char=gc;g.input_line=sa;g.input=oa;g.really_input=qa;g.really_input_string=ra;g.input_byte=hc;g.input_binary_int=ic;g.input_value=jc;g.seek_in=kc;g.pos_in=lc;g.in_channel_length=mc;g.close_in=nc;g.close_in_noerr=ta;g.set_binary_mode_in=oc;g.LargeFile=vc;g.string_of_format=lb;g.$caret$caret=mb;g.exit=qb;g.at_exit=ob;g.valid_float_lexem=u;g.unsafe_really_input=pa;g.do_at_exit=pb;}),null);
__d('bs_list',['bs_caml_builtin_exceptions','bs_caml_obj','bs_pervasives','bs_curry'],(function a(b,c,d,e,f,g){'use strict';function h(bb){var cb=0,db=bb;while(true){var eb=db,fb=cb;if(eb){db=eb[1];cb=fb+1|0;continue;}else return fb;}}function i(bb){if(bb){return bb[0];}else throw [c('bs_caml_builtin_exceptions').failure,"hd"];}function j(bb){if(bb){return bb[1];}else throw [c('bs_caml_builtin_exceptions').failure,"tl"];}function k(bb,cb){if(cb<0){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.nth"];}else{var db=bb,eb=cb;while(true){var fb=eb,gb=db;if(gb){if(fb){eb=fb-1|0;db=gb[1];continue;}else return gb[0];}else throw [c('bs_caml_builtin_exceptions').failure,"nth"];}}}function l(bb,cb){while(true){var db=cb,eb=bb;if(eb){cb=[eb[0],db];bb=eb[1];continue;}else return db;}}function m(bb){return l(bb,0);}function n(bb){if(bb){return c('bs_pervasives').$at(bb[0],n(bb[1]));}else return 0;}function o(bb,cb){if(cb){var db=c('bs_curry')._1(bb,cb[0]);return [db,o(bb,cb[1])];}else return 0;}function p(bb,cb,db){if(db){var eb=c('bs_curry')._2(cb,bb,db[0]);return [eb,p(bb+1|0,cb,db[1])];}else return 0;}function q(bb,cb){return p(0,bb,cb);}function r(bb,cb){var db=0,eb=cb;while(true){var fb=eb,gb=db;if(fb){eb=fb[1];db=[c('bs_curry')._1(bb,fb[0]),gb];continue;}else return gb;}}function s(bb,cb){while(true){var db=cb;if(db){c('bs_curry')._1(bb,db[0]);cb=db[1];continue;}else return 0;}}function t(bb,cb){var db=0,eb=bb,fb=cb;while(true){var gb=fb,hb=db;if(gb){c('bs_curry')._2(eb,hb,gb[0]);fb=gb[1];db=hb+1|0;continue;}else return 0;}}function u(bb,cb,db){while(true){var eb=db,fb=cb;if(eb){db=eb[1];cb=c('bs_curry')._2(bb,fb,eb[0]);continue;}else return fb;}}function v(bb,cb,db){if(cb){return c('bs_curry')._2(bb,cb[0],v(bb,cb[1],db));}else return db;}function w(bb,cb,db){if(cb){if(db){var eb=c('bs_curry')._2(bb,cb[0],db[0]);return [eb,w(bb,cb[1],db[1])];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.map2"];}else if(db){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.map2"];}else return 0;}function x(bb,cb,db){var eb=0,fb=cb,gb=db;while(true){var hb=gb,ib=fb,jb=eb;if(ib){if(hb){gb=hb[1];fb=ib[1];eb=[c('bs_curry')._2(bb,ib[0],hb[0]),jb];continue;}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.rev_map2"];}else if(hb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.rev_map2"];}else return jb;}}function y(bb,cb,db){while(true){var eb=db,fb=cb;if(fb){if(eb){c('bs_curry')._2(bb,fb[0],eb[0]);db=eb[1];cb=fb[1];continue;}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.iter2"];}else if(eb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.iter2"];}else return 0;}}function z(bb,cb,db,eb){while(true){var fb=eb,gb=db,hb=cb;if(gb){if(fb){eb=fb[1];db=gb[1];cb=c('bs_curry')._3(bb,hb,gb[0],fb[0]);continue;}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.fold_left2"];}else if(fb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.fold_left2"];}else return hb;}}function aa(bb,cb,db,eb){if(cb){if(db){return c('bs_curry')._3(bb,cb[0],db[0],aa(bb,cb[1],db[1],eb));}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.fold_right2"];}else if(db){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.fold_right2"];}else return eb;}function ba(bb,cb){while(true){var db=cb;if(db){if(c('bs_curry')._1(bb,db[0])){cb=db[1];continue;}else return 0;}else return 1;}}function ca(bb,cb){while(true){var db=cb;if(db){if(c('bs_curry')._1(bb,db[0])){return 1;}else{cb=db[1];continue;}}else return 0;}}function da(bb,cb,db){while(true){var eb=db,fb=cb;if(fb){if(eb){if(c('bs_curry')._2(bb,fb[0],eb[0])){db=eb[1];cb=fb[1];continue;}else return 0;}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.for_all2"];}else if(eb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.for_all2"];}else return 1;}}function ea(bb,cb,db){while(true){var eb=db,fb=cb;if(fb){if(eb){if(c('bs_curry')._2(bb,fb[0],eb[0])){return 1;}else{db=eb[1];cb=fb[1];continue;}}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.exists2"];}else if(eb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.exists2"];}else return 0;}}function fa(bb,cb){while(true){var db=cb;if(db){if(c('bs_caml_obj').caml_compare(db[0],bb)){cb=db[1];continue;}else return 1;}else return 0;}}function ga(bb,cb){while(true){var db=cb;if(db){if(db[0]===bb){return 1;}else{cb=db[1];continue;}}else return 0;}}function ha(bb,cb){while(true){var db=cb;if(db){var eb=db[0];if(c('bs_caml_obj').caml_compare(eb[0],bb)){cb=db[1];continue;}else return eb[1];}else throw c('bs_caml_builtin_exceptions').not_found;}}function ia(bb,cb){while(true){var db=cb;if(db){var eb=db[0];if(eb[0]===bb){return eb[1];}else{cb=db[1];continue;}}else throw c('bs_caml_builtin_exceptions').not_found;}}function ja(bb,cb){while(true){var db=cb;if(db){if(c('bs_caml_obj').caml_compare(db[0][0],bb)){cb=db[1];continue;}else return 1;}else return 0;}}function ka(bb,cb){while(true){var db=cb;if(db){if(db[0][0]===bb){return 1;}else{cb=db[1];continue;}}else return 0;}}function la(bb,cb){if(cb){var db=cb[1],eb=cb[0];if(c('bs_caml_obj').caml_compare(eb[0],bb)){return [eb,la(bb,db)];}else return db;}else return 0;}function ma(bb,cb){if(cb){var db=cb[1],eb=cb[0];if(eb[0]===bb){return db;}else return [eb,ma(bb,db)];}else return 0;}function na(bb,cb){while(true){var db=cb;if(db){var eb=db[0];if(c('bs_curry')._1(bb,eb)){return eb;}else{cb=db[1];continue;}}else throw c('bs_caml_builtin_exceptions').not_found;}}function oa(bb){return function(cb){var db=0,eb=cb;while(true){var fb=eb,gb=db;if(fb){var hb=fb[1],ib=fb[0];if(c('bs_curry')._1(bb,ib)){eb=hb;db=[ib,gb];continue;}else{eb=hb;continue;}}else return l(gb,0);}};}function pa(bb,cb){var db=0,eb=0,fb=cb;while(true){var gb=fb,hb=eb,ib=db;if(gb){var jb=gb[1],kb=gb[0];if(c('bs_curry')._1(bb,kb)){fb=jb;db=[kb,ib];continue;}else{fb=jb;eb=[kb,hb];continue;}}else return [l(ib,0),l(hb,0)];}}function qa(bb){if(bb){var cb=bb[0],db=qa(bb[1]);return [[cb[0],db[0]],[cb[1],db[1]]];}else return [0,0];}function ra(bb,cb){if(bb){if(cb){return [[bb[0],cb[0]],ra(bb[1],cb[1])];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.combine"];}else if(cb){throw [c('bs_caml_builtin_exceptions').invalid_argument,"List.combine"];}else return 0;}function sa(bb,cb,db){if(cb){if(db){var eb=db[0],fb=cb[0];if(c('bs_curry')._2(bb,fb,eb)<=0){return [fb,sa(bb,cb[1],db)];}else return [eb,sa(bb,cb,db[1])];}else return cb;}else return db;}function ta(bb,cb){while(true){var db=cb,eb=bb;if(eb){if(db){cb=db[1];bb=eb-1|0;continue;}else throw [c('bs_caml_builtin_exceptions').assert_failure,["list.ml",223,11]];}else return db;}}function ua(bb,cb){var db=function gb(hb,ib){var jb=0;if(hb!==2){if(hb!==3){jb=1;}else if(ib){var kb=ib[1];if(kb){var lb=kb[1];if(lb){var mb=lb[0],nb=kb[0],ob=ib[0];if(c('bs_curry')._2(bb,ob,nb)<=0){if(c('bs_curry')._2(bb,nb,mb)<=0){return [ob,[nb,[mb,0]]];}else if(c('bs_curry')._2(bb,ob,mb)<=0){return [ob,[mb,[nb,0]]];}else return [mb,[ob,[nb,0]]];}else if(c('bs_curry')._2(bb,ob,mb)<=0){return [nb,[ob,[mb,0]]];}else if(c('bs_curry')._2(bb,nb,mb)<=0){return [nb,[mb,[ob,0]]];}else return [mb,[nb,[ob,0]]];}else jb=1;}else jb=1;}else jb=1;}else if(ib){var pb=ib[1];if(pb){var qb=pb[0],rb=ib[0];if(c('bs_curry')._2(bb,rb,qb)<=0){return [rb,[qb,0]];}else return [qb,[rb,0]];}else jb=1;}else jb=1;if(jb===1){var sb=hb>>1,tb=hb-sb|0,ub=ta(sb,ib),vb=eb(sb,ib),wb=eb(tb,ub),xb=vb,yb=wb,zb=0;while(true){var ac=zb,bc=yb,cc=xb;if(cc){if(bc){var dc=bc[0],ec=cc[0];if(c('bs_curry')._2(bb,ec,dc)>0){zb=[ec,ac];xb=cc[1];continue;}else{zb=[dc,ac];yb=bc[1];continue;}}else return l(cc,ac);}else return l(bc,ac);}}},eb=function gb(hb,ib){var jb=0;if(hb!==2){if(hb!==3){jb=1;}else if(ib){var kb=ib[1];if(kb){var lb=kb[1];if(lb){var mb=lb[0],nb=kb[0],ob=ib[0];if(c('bs_curry')._2(bb,ob,nb)>0){if(c('bs_curry')._2(bb,nb,mb)>0){return [ob,[nb,[mb,0]]];}else if(c('bs_curry')._2(bb,ob,mb)>0){return [ob,[mb,[nb,0]]];}else return [mb,[ob,[nb,0]]];}else if(c('bs_curry')._2(bb,ob,mb)>0){return [nb,[ob,[mb,0]]];}else if(c('bs_curry')._2(bb,nb,mb)>0){return [nb,[mb,[ob,0]]];}else return [mb,[nb,[ob,0]]];}else jb=1;}else jb=1;}else jb=1;}else if(ib){var pb=ib[1];if(pb){var qb=pb[0],rb=ib[0];if(c('bs_curry')._2(bb,rb,qb)>0){return [rb,[qb,0]];}else return [qb,[rb,0]];}else jb=1;}else jb=1;if(jb===1){var sb=hb>>1,tb=hb-sb|0,ub=ta(sb,ib),vb=db(sb,ib),wb=db(tb,ub),xb=vb,yb=wb,zb=0;while(true){var ac=zb,bc=yb,cc=xb;if(cc){if(bc){var dc=bc[0],ec=cc[0];if(c('bs_curry')._2(bb,ec,dc)<=0){zb=[ec,ac];xb=cc[1];continue;}else{zb=[dc,ac];yb=bc[1];continue;}}else return l(cc,ac);}else return l(bc,ac);}}},fb=h(cb);if(fb<2){return cb;}else return db(fb,cb);}function va(bb,cb){var db=function gb(hb,ib){var jb=0;if(hb!==2){if(hb!==3){jb=1;}else if(ib){var kb=ib[1];if(kb){var lb=kb[1];if(lb){var mb=lb[0],nb=kb[0],ob=ib[0],pb=c('bs_curry')._2(bb,ob,nb);if(pb){if(pb<0){var qb=c('bs_curry')._2(bb,nb,mb);if(qb){if(qb<0){return [ob,[nb,[mb,0]]];}else{var rb=c('bs_curry')._2(bb,ob,mb);if(rb){if(rb<0){return [ob,[mb,[nb,0]]];}else return [mb,[ob,[nb,0]]];}else return [ob,[nb,0]];}}else return [ob,[nb,0]];}else{var sb=c('bs_curry')._2(bb,ob,mb);if(sb){if(sb<0){return [nb,[ob,[mb,0]]];}else{var tb=c('bs_curry')._2(bb,nb,mb);if(tb){if(tb<0){return [nb,[mb,[ob,0]]];}else return [mb,[nb,[ob,0]]];}else return [nb,[ob,0]];}}else return [nb,[ob,0]];}}else{var ub=c('bs_curry')._2(bb,nb,mb);if(ub){if(ub<0){return [nb,[mb,0]];}else return [mb,[nb,0]];}else return [nb,0];}}else jb=1;}else jb=1;}else jb=1;}else if(ib){var vb=ib[1];if(vb){var wb=vb[0],xb=ib[0],yb=c('bs_curry')._2(bb,xb,wb);if(yb){if(yb<0){return [xb,[wb,0]];}else return [wb,[xb,0]];}else return [xb,0];}else jb=1;}else jb=1;if(jb===1){var zb=hb>>1,ac=hb-zb|0,bc=ta(zb,ib),cc=eb(zb,ib),dc=eb(ac,bc),ec=cc,fc=dc,gc=0;while(true){var hc=gc,ic=fc,jc=ec;if(jc){if(ic){var kc=ic[1],lc=ic[0],mc=jc[1],nc=jc[0],oc=c('bs_curry')._2(bb,nc,lc);if(oc){if(oc>0){gc=[nc,hc];ec=mc;continue;}else{gc=[lc,hc];fc=kc;continue;}}else{gc=[nc,hc];fc=kc;ec=mc;continue;}}else return l(jc,hc);}else return l(ic,hc);}}},eb=function gb(hb,ib){var jb=0;if(hb!==2){if(hb!==3){jb=1;}else if(ib){var kb=ib[1];if(kb){var lb=kb[1];if(lb){var mb=lb[0],nb=kb[0],ob=ib[0],pb=c('bs_curry')._2(bb,ob,nb);if(pb){if(pb>0){var qb=c('bs_curry')._2(bb,nb,mb);if(qb){if(qb>0){return [ob,[nb,[mb,0]]];}else{var rb=c('bs_curry')._2(bb,ob,mb);if(rb){if(rb>0){return [ob,[mb,[nb,0]]];}else return [mb,[ob,[nb,0]]];}else return [ob,[nb,0]];}}else return [ob,[nb,0]];}else{var sb=c('bs_curry')._2(bb,ob,mb);if(sb){if(sb>0){return [nb,[ob,[mb,0]]];}else{var tb=c('bs_curry')._2(bb,nb,mb);if(tb){if(tb>0){return [nb,[mb,[ob,0]]];}else return [mb,[nb,[ob,0]]];}else return [nb,[ob,0]];}}else return [nb,[ob,0]];}}else{var ub=c('bs_curry')._2(bb,nb,mb);if(ub){if(ub>0){return [nb,[mb,0]];}else return [mb,[nb,0]];}else return [nb,0];}}else jb=1;}else jb=1;}else jb=1;}else if(ib){var vb=ib[1];if(vb){var wb=vb[0],xb=ib[0],yb=c('bs_curry')._2(bb,xb,wb);if(yb){if(yb>0){return [xb,[wb,0]];}else return [wb,[xb,0]];}else return [xb,0];}else jb=1;}else jb=1;if(jb===1){var zb=hb>>1,ac=hb-zb|0,bc=ta(zb,ib),cc=db(zb,ib),dc=db(ac,bc),ec=cc,fc=dc,gc=0;while(true){var hc=gc,ic=fc,jc=ec;if(jc){if(ic){var kc=ic[1],lc=ic[0],mc=jc[1],nc=jc[0],oc=c('bs_curry')._2(bb,nc,lc);if(oc){if(oc<0){gc=[nc,hc];ec=mc;continue;}else{gc=[lc,hc];fc=kc;continue;}}else{gc=[nc,hc];fc=kc;ec=mc;continue;}}else return l(jc,hc);}else return l(ic,hc);}}},fb=h(cb);if(fb<2){return cb;}else return db(fb,cb);}var wa=c('bs_pervasives').$at,xa=n,ya=oa,za=ua,ab=ua;g.length=h;g.hd=i;g.tl=j;g.nth=k;g.rev=m;g.append=wa;g.rev_append=l;g.concat=xa;g.flatten=n;g.iter=s;g.iteri=t;g.map=o;g.mapi=q;g.rev_map=r;g.fold_left=u;g.fold_right=v;g.iter2=y;g.map2=w;g.rev_map2=x;g.fold_left2=z;g.fold_right2=aa;g.for_all=ba;g.exists=ca;g.for_all2=da;g.exists2=ea;g.mem=fa;g.memq=ga;g.find=na;g.filter=ya;g.find_all=oa;g.partition=pa;g.assoc=ha;g.assq=ia;g.mem_assoc=ja;g.mem_assq=ka;g.remove_assoc=la;g.remove_assq=ma;g.split=qa;g.combine=ra;g.sort=za;g.stable_sort=ua;g.fast_sort=ab;g.sort_uniq=va;g.merge=sa;}),null);
__d('bs_bytes',['bs_caml_builtin_exceptions','bs_caml_obj','bs_pervasives','bs_caml_int32','bs_char','bs_curry','bs_caml_string','bs_list'],(function a(b,c,d,e,f,g){'use strict';function h(ta,ua){var va=c('bs_caml_string').caml_create_string(ta);c('bs_caml_string').caml_fill_string(va,0,ta,ua);return va;}function i(ta,ua){var va=c('bs_caml_string').caml_create_string(ta);for(var wa=0,xa=ta-1|0;wa<=xa;++wa)va[wa]=c('bs_curry')._1(ua,wa);return va;}var j=[];function k(ta){var ua=ta.length,va=c('bs_caml_string').caml_create_string(ua);c('bs_caml_string').caml_blit_bytes(ta,0,va,0,ua);return va;}function l(ta){return c('bs_caml_string').bytes_to_string(k(ta));}function m(ta){return k(c('bs_caml_string').bytes_of_string(ta));}function n(ta,ua,va){if(ua<0||va<0||ua>(ta.length-va|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"String.sub / Bytes.sub"];}else{var wa=c('bs_caml_string').caml_create_string(va);c('bs_caml_string').caml_blit_bytes(ta,ua,wa,0,va);return wa;}}function o(ta,ua,va){return c('bs_caml_string').bytes_to_string(n(ta,ua,va));}function p(ta,ua,va){var wa=(ta.length+ua|0)+va|0,xa=c('bs_caml_string').caml_create_string(wa),ya=ua<0?[-ua,0]:[0,ua],za=ya[1],ab=ya[0],bb=c('bs_pervasives').min(ta.length-ab|0,wa-za|0);if(bb>0)c('bs_caml_string').caml_blit_bytes(ta,ab,xa,za,bb);return xa;}function q(ta,ua,va,wa){if(ua<0||va<0||ua>(ta.length-va|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"String.fill / Bytes.fill"];}else return c('bs_caml_string').caml_fill_string(ta,ua,va,wa);}function r(ta,ua,va,wa,xa){if(xa<0||ua<0||ua>(ta.length-xa|0)||wa<0||wa>(va.length-xa|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Bytes.blit"];}else return c('bs_caml_string').caml_blit_bytes(ta,ua,va,wa,xa);}function s(ta,ua,va,wa,xa){if(xa<0||ua<0||ua>(ta.length-xa|0)||wa<0||wa>(va.length-xa|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"String.blit / Bytes.blit_string"];}else return c('bs_caml_string').caml_blit_string(ta,ua,va,wa,xa);}function t(ta,ua){for(var va=0,wa=ua.length-1|0;va<=wa;++va)c('bs_curry')._1(ta,ua[va]);return 0;}function u(ta,ua){for(var va=0,wa=ua.length-1|0;va<=wa;++va)c('bs_curry')._2(ta,va,ua[va]);return 0;}function v(ta,ua){if(ua){var va=ua[0],wa=[0],xa=[0];c('bs_list').iter(function(ab){wa[0]=wa[0]+1|0;xa[0]=xa[0]+ab.length|0;return 0;},ua);var ya=c('bs_caml_string').caml_create_string(xa[0]+c('bs_caml_int32').imul(ta.length,wa[0]-1|0)|0);c('bs_caml_string').caml_blit_bytes(va,0,ya,0,va.length);var za=[va.length];c('bs_list').iter(function(ab){c('bs_caml_string').caml_blit_bytes(ta,0,ya,za[0],ta.length);za[0]=za[0]+ta.length|0;c('bs_caml_string').caml_blit_bytes(ab,0,ya,za[0],ab.length);za[0]=za[0]+ab.length|0;return 0;},ua[1]);return ya;}else return j;}function w(ta,ua){return ta.concat(ua);}function x(ta){var ua=ta-9|0;if(ua>4||ua<0){if(ua!==23){return 0;}else return 1;}else if(ua!==2){return 1;}else return 0;}function y(ta){var ua=ta.length,va=0;while(va<ua&&x(ta[va]))va=va+1|0;var wa=ua-1|0;while(wa>=va&&x(ta[wa]))wa=wa-1|0;if(wa>=va){return n(ta,va,(wa-va|0)+1|0);}else return j;}function z(ta){var ua=0;for(var va=0,wa=ta.length-1|0;va<=wa;++va){var xa=ta[va],ya;if(xa>=32){var za=xa-34|0;ya=za>58||za<0?za>=93?4:1:za>57||za<1?2:1;}else ya=xa>=11?xa!==13?4:2:xa>=8?2:4;ua=ua+ya|0;}if(ua===ta.length){return k(ta);}else{var ab=c('bs_caml_string').caml_create_string(ua);ua=0;for(var bb=0,cb=ta.length-1|0;bb<=cb;++bb){var db=ta[bb],eb=0;if(db>=35){if(db!==92){if(db>=127){eb=1;}else ab[ua]=db;}else eb=2;}else if(db>=32){if(db>=34){eb=2;}else ab[ua]=db;}else if(db>=14){eb=1;}else switch(db){case 8:ab[ua]=92;ua=ua+1|0;ab[ua]=98;break;case 9:ab[ua]=92;ua=ua+1|0;ab[ua]=116;break;case 10:ab[ua]=92;ua=ua+1|0;ab[ua]=110;break;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 11:case 12:eb=1;break;case 13:ab[ua]=92;ua=ua+1|0;ab[ua]=114;break;}switch(eb){case 1:ab[ua]=92;ua=ua+1|0;ab[ua]=48+(db/100|0)|0;ua=ua+1|0;ab[ua]=48+(db/10|0)%10|0;ua=ua+1|0;ab[ua]=48+db%10|0;break;case 2:ab[ua]=92;ua=ua+1|0;ab[ua]=db;break;}ua=ua+1|0;}return ab;}}function aa(ta,ua){var va=ua.length;if(va){var wa=c('bs_caml_string').caml_create_string(va);for(var xa=0,ya=va-1|0;xa<=ya;++xa)wa[xa]=c('bs_curry')._1(ta,ua[xa]);return wa;}else return ua;}function ba(ta,ua){var va=ua.length;if(va){var wa=c('bs_caml_string').caml_create_string(va);for(var xa=0,ya=va-1|0;xa<=ya;++xa)wa[xa]=c('bs_curry')._2(ta,xa,ua[xa]);return wa;}else return ua;}function ca(ta){return aa(c('bs_char').uppercase,ta);}function da(ta){return aa(c('bs_char').lowercase,ta);}function ea(ta,ua){if(ua.length){var va=k(ua);va[0]=c('bs_curry')._1(ta,ua[0]);return va;}else return ua;}function fa(ta){return ea(c('bs_char').uppercase,ta);}function ga(ta){return ea(c('bs_char').lowercase,ta);}function ha(ta,ua,va,wa){while(true){var xa=va;if(xa>=ua){throw c('bs_caml_builtin_exceptions').not_found;}else if(ta[xa]===wa){return xa;}else{va=xa+1|0;continue;}}}function ia(ta,ua){return ha(ta,ta.length,0,ua);}function ja(ta,ua,va){var wa=ta.length;if(ua<0||ua>wa){throw [c('bs_caml_builtin_exceptions').invalid_argument,"String.index_from / Bytes.index_from"];}else return ha(ta,wa,ua,va);}function ka(ta,ua,va){while(true){var wa=ua;if(wa<0){throw c('bs_caml_builtin_exceptions').not_found;}else if(ta[wa]===va){return wa;}else{ua=wa-1|0;continue;}}}function la(ta,ua){return ka(ta,ta.length-1|0,ua);}function ma(ta,ua,va){if(ua<-1||ua>=ta.length){throw [c('bs_caml_builtin_exceptions').invalid_argument,"String.rindex_from / Bytes.rindex_from"];}else return ka(ta,ua,va);}function na(ta,ua,va){var wa=ta.length;if(ua<0||ua>wa){throw [c('bs_caml_builtin_exceptions').invalid_argument,"String.contains_from / Bytes.contains_from"];}else try{ha(ta,wa,ua,va);return 1;}catch(xa){if(xa===c('bs_caml_builtin_exceptions').not_found){return 0;}else throw xa;}}function oa(ta,ua){return na(ta,0,ua);}function pa(ta,ua,va){if(ua<0||ua>=ta.length){throw [c('bs_caml_builtin_exceptions').invalid_argument,"String.rcontains_from / Bytes.rcontains_from"];}else try{ka(ta,ua,va);return 1;}catch(wa){if(wa===c('bs_caml_builtin_exceptions').not_found){return 0;}else throw wa;}}var qa=c('bs_caml_obj').caml_compare,ra=c('bs_caml_string').bytes_to_string,sa=c('bs_caml_string').bytes_of_string;g.make=h;g.init=i;g.empty=j;g.copy=k;g.of_string=m;g.to_string=l;g.sub=n;g.sub_string=o;g.extend=p;g.fill=q;g.blit=r;g.blit_string=s;g.concat=v;g.cat=w;g.iter=t;g.iteri=u;g.map=aa;g.mapi=ba;g.trim=y;g.escaped=z;g.index=ia;g.rindex=la;g.index_from=ja;g.rindex_from=ma;g.contains=oa;g.contains_from=na;g.rcontains_from=pa;g.uppercase=ca;g.lowercase=da;g.capitalize=fa;g.uncapitalize=ga;g.compare=qa;g.unsafe_to_string=ra;g.unsafe_of_string=sa;}),null);
__d('bs_string',['bs_bytes','bs_caml_int32','bs_caml_string','bs_list'],(function a(b,c,d,e,f,g){'use strict';function h(ha,ia){return c('bs_caml_string').bytes_to_string(c('bs_bytes').make(ha,ia));}function i(ha,ia){return c('bs_caml_string').bytes_to_string(c('bs_bytes').init(ha,ia));}function j(ha){return c('bs_caml_string').bytes_to_string(c('bs_bytes').copy(c('bs_caml_string').bytes_of_string(ha)));}function k(ha,ia,ja){return c('bs_caml_string').bytes_to_string(c('bs_bytes').sub(c('bs_caml_string').bytes_of_string(ha),ia,ja));}function l(ha,ia){if(ia){var ja=ia[0],ka=[0],la=[0];c('bs_list').iter(function(oa){ka[0]=ka[0]+1|0;la[0]=la[0]+oa.length|0;return 0;},ia);var ma=c('bs_caml_string').caml_create_string(la[0]+c('bs_caml_int32').imul(ha.length,ka[0]-1|0)|0);c('bs_caml_string').caml_blit_string(ja,0,ma,0,ja.length);var na=[ja.length];c('bs_list').iter(function(oa){c('bs_caml_string').caml_blit_string(ha,0,ma,na[0],ha.length);na[0]=na[0]+ha.length|0;c('bs_caml_string').caml_blit_string(oa,0,ma,na[0],oa.length);na[0]=na[0]+oa.length|0;return 0;},ia[1]);return c('bs_caml_string').bytes_to_string(ma);}else return "";}function m(ha,ia){return c('bs_bytes').iter(ha,c('bs_caml_string').bytes_of_string(ia));}function n(ha,ia){return c('bs_bytes').iteri(ha,c('bs_caml_string').bytes_of_string(ia));}function o(ha,ia){return c('bs_caml_string').bytes_to_string(c('bs_bytes').map(ha,c('bs_caml_string').bytes_of_string(ia)));}function p(ha,ia){return c('bs_caml_string').bytes_to_string(c('bs_bytes').mapi(ha,c('bs_caml_string').bytes_of_string(ia)));}function q(ha){var ia=ha-9|0;if(ia>4||ia<0){if(ia!==23){return 0;}else return 1;}else if(ia!==2){return 1;}else return 0;}function r(ha){if(ha===""||!(q(ha.charCodeAt(0))||q(ha.charCodeAt(ha.length-1|0)))){return ha;}else return c('bs_caml_string').bytes_to_string(c('bs_bytes').trim(c('bs_caml_string').bytes_of_string(ha)));}function s(ha){var ia=function ja(ka){while(true){var la=ka;if(la>=ha.length){return 0;}else{var ma=ha.charCodeAt(la);if(ma>=32){var na=ma-34|0;if(na>58||na<0){if(na>=93){return 1;}else{ka=la+1|0;continue;}}else if(na>57||na<1){return 1;}else{ka=la+1|0;continue;}}else return 1;}}};if(ia(0)){return c('bs_caml_string').bytes_to_string(c('bs_bytes').escaped(c('bs_caml_string').bytes_of_string(ha)));}else return ha;}function t(ha,ia){return c('bs_bytes').index(c('bs_caml_string').bytes_of_string(ha),ia);}function u(ha,ia){return c('bs_bytes').rindex(c('bs_caml_string').bytes_of_string(ha),ia);}function v(ha,ia,ja){return c('bs_bytes').index_from(c('bs_caml_string').bytes_of_string(ha),ia,ja);}function w(ha,ia,ja){return c('bs_bytes').rindex_from(c('bs_caml_string').bytes_of_string(ha),ia,ja);}function x(ha,ia){return c('bs_bytes').contains(c('bs_caml_string').bytes_of_string(ha),ia);}function y(ha,ia,ja){return c('bs_bytes').contains_from(c('bs_caml_string').bytes_of_string(ha),ia,ja);}function z(ha,ia,ja){return c('bs_bytes').rcontains_from(c('bs_caml_string').bytes_of_string(ha),ia,ja);}function aa(ha){return c('bs_caml_string').bytes_to_string(c('bs_bytes').uppercase(c('bs_caml_string').bytes_of_string(ha)));}function ba(ha){return c('bs_caml_string').bytes_to_string(c('bs_bytes').lowercase(c('bs_caml_string').bytes_of_string(ha)));}function ca(ha){return c('bs_caml_string').bytes_to_string(c('bs_bytes').capitalize(c('bs_caml_string').bytes_of_string(ha)));}function da(ha){return c('bs_caml_string').bytes_to_string(c('bs_bytes').uncapitalize(c('bs_caml_string').bytes_of_string(ha)));}var ea=c('bs_caml_string').caml_string_compare,fa=c('bs_bytes').fill,ga=c('bs_bytes').blit_string;g.make=h;g.init=i;g.copy=j;g.sub=k;g.fill=fa;g.blit=ga;g.concat=l;g.iter=m;g.iteri=n;g.map=o;g.mapi=p;g.trim=r;g.escaped=s;g.index=t;g.rindex=u;g.index_from=v;g.rindex_from=w;g.contains=x;g.contains_from=y;g.rcontains_from=z;g.uppercase=aa;g.lowercase=ba;g.capitalize=ca;g.uncapitalize=da;g.compare=ea;}),null);
__d('messengerChangeColorDialogReact',['ix','cssVar','cx','fbt','bs_array','bs_curry','Grid.react','Image.react','bs_js_boolean','bs_js_primitive','MessagingThreadCustomizationConfig','MessengerActions','MessengerCustomThreadColorButton.react','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React','reactRe','bs_string','fbglyph'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l=c('reactRe').StatelessComponent[0],m=c('reactRe').StatelessComponent[1],n=c('reactRe').StatelessComponent[2],o=c('reactRe').StatelessComponent[3],p=c('reactRe').StatelessComponent[4],q=c('reactRe').StatelessComponent[5],r=c('Grid.react').GridItem,s="Unknown Color";function t(ba,ca){if(ba){return 0;}else{var da=ca[0][2];if(da)c('bs_curry')._1(da[0],0);c('MessengerActions').hideDialog();return 0;}}function u(ba,ca){var da=ca[0],ea=+(ba===da[0]),fa=da[1];if(!ea)if(fa)c('bs_curry')._1(fa[0],ba);return t(false,ca);}function v(ba){var ca=ba[1],da=ba[0],ea=c('bs_curry')._1(c('bs_array').concat,[["#0084ff"],[c('MessagingThreadCustomizationConfig').colorChoices,0]]),fa=c('bs_array').map(function(ga){var ha=c('MessagingThreadCustomizationConfig').colorNames[ga],ia=ha!==undefined?ha:s,ja=+(c('bs_string').lowercase(ga)===c('bs_string').lowercase(da[0]));return c('React').createElement(r,{key:ga,className:"_gs0"},c('React').createElement("div",null,ja!==0?c('React').createElement(c('Image.react'),{className:"_gs2",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/checkmark_20_white.png")}):null,c('React').createElement(c('MessengerCustomThreadColorButton.react'),{colorChoice:ga,colorName:ia,isSelected:c('bs_js_boolean').to_js_boolean(+(ga===da[0])),onChoose:c('bs_curry')._1(ca,u)})));},ea);return c('React').createElement(c('MessengerDialog.react'),{onToggle:c('bs_curry')._1(ca,t),className:"_gs3",width:335},c('React').createElement(c('MessengerDialogHeader.react'),null,k._("Choisissez une couleur pour cette conversation")),c('bs_curry')._3(c('messengerDialogBodyReact').createElement(0,[c('React').createElement("div",{className:"_28he"},k._("Tous les participants de cette conversation le verront.")),[c('React').createElement(c('Grid.react'),{cols:5,className:"_gs4"},fa),0]]),0,0,0),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null)));}function w(ba){return [ba.currentColor,c('bs_js_primitive').js_from_nullable_def(ba.onSave),c('bs_js_primitive').js_from_nullable_def(ba.onClose)];}var x=c('bs_curry')._8(q,"MessengerChangeColorDialogReact",l,m,o,n,p,[w],v),y=x[1];function z(ba,ca,da){return c('bs_curry')._1(y,[ba,ca,da]);}var aa=x[0];g.getInstanceVariables=l;g.componentDidMount=m;g.componentDidUpdate=n;g.componentWillReceiveProps=o;g.componentWillUnmount=p;g.createClass=q;g.gridItem_=r;g.unknownColor=s;g.handleToggle=t;g.handleChooseColor=u;g.render=v;g.jsPropsToReasonProps=w;g.comp=aa;g.wrapProps=y;g.createElement=z;}),null);
__d('messengerChangeColorIconSVGReact',['bs_curry','React','reactRe'],(function a(b,c,d,e,f,g){'use strict';var h=c('reactRe').StatelessComponent[0],i=c('reactRe').StatelessComponent[1],j=c('reactRe').StatelessComponent[2],k=c('reactRe').StatelessComponent[3],l=c('reactRe').StatelessComponent[4],m=c('reactRe').StatelessComponent[5];function n(t){var u=t[0];return c('React').createElement("div",{className:u[0]},c('React').createElement("svg",{viewBox:"-1 -1 47 47"},c('React').createElement("title",null,"colors@2x"),c('React').createElement("path",{d:"M912,1569a3,3,0,1,1-3,3A3,3,0,0,1,912,1569Z",transform:"translate(-895.5 -1561.5)",fill:u[1]}),c('React').createElement("path",{d:"M924,1569a3,3,0,1,1-3,3A3,3,0,0,1,924,1569Z",transform:"translate(-895.5 -1561.5)",fill:u[1]}),c('React').createElement("path",{d:"M931,1579a3,3,0,1,1-3,3A3,3,0,0,1,931,1579Z",transform:"translate(-895.5 -1561.5)",fill:u[1]}),c('React').createElement("path",{d:"M905,1579a3,3,0,1,1-3,3A3,3,0,0,1,905,1579Z",transform:"translate(-895.5 -1561.5)",fill:u[1]}),c('React').createElement("path",{d:"M918,1562a22,22,0,0,0,0,44,3.67,3.67,0,0,0,2.71-6.14,3.65,3.65,0,0,1,2.74-6.09h4.33A12.23,12.23,0,0,0,940,1581.56C940,1570.75,930.15,1562,918,1562Z",transform:"translate(-895.5 -1561.5)",stroke:u[1],strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4%",fill:"transparent"})));}function o(t){return [t.className,t.customColor];}var p=c('bs_curry')._8(m,"MessengerChangeColorIconSVGReact",h,i,k,j,l,[o],n),q=p[1];function r(t,u){return c('bs_curry')._1(q,[t,u]);}var s=p[0];g.getInstanceVariables=h;g.componentDidMount=i;g.componentDidUpdate=j;g.componentWillReceiveProps=k;g.componentWillUnmount=l;g.createClass=m;g.render=n;g.jsPropsToReasonProps=o;g.comp=s;g.wrapProps=q;g.createElement=r;}),null);
__d('messengerInfoPanelCustomColorReact',['cx','fbt','bs_curry','keysRe','MessengerActions','messengerChangeColorDialogReact','messengerChangeColorIconSVGReact','messengerCustomColorUtilsRe','React','reactRe','utilsRe'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('reactRe').StatelessComponent[1],k=c('reactRe').StatelessComponent[2],l=c('reactRe').StatelessComponent[3],m=c('reactRe').StatelessComponent[4],n=c('reactRe').StatelessComponent[5];function o(){return [0];}function p(aa,ba){var ca=ba[3][0];if(ca){return ca[0].focus();}else return 0;}function q(aa){var ba=aa[0];c('MessengerActions').showDialog(c('messengerChangeColorDialogReact').comp,{currentColor:c('messengerCustomColorUtilsRe').customColorOrBlue(ba[0]),onSave:ba[2],onClose:c('bs_curry')._1(aa[1],p)});return 0;}function r(aa,ba){aa.preventDefault();return q(ba);}function s(aa,ba){if(aa.keyCode===c('keysRe').$$return){aa.preventDefault();return q(ba);}else return 0;}function t(aa,ba){ba[3][0]=[aa];return 0;}function u(aa){var ba=aa[1],ca=aa[0];if(c('utilsRe').isTruthy(ca[0].customization_enabled)){var da=c('messengerCustomColorUtilsRe').customColorOrBlue(ca[0]);return c('React').createElement("div",{className:"_3szn _3szo",onClick:c('bs_curry')._1(ba,r),onKeyDown:c('bs_curry')._1(ba,s),ref:c('bs_curry')._1(aa[2],t),tabIndex:"0"},c('React').createElement("div",{className:"_3szp"},c('bs_curry')._4(c('messengerChangeColorIconSVGReact').createElement("_17vc",da),0,0,0,0)),c('React').createElement("div",{className:"_3szq"},i._("Changer la couleur")));}else return null;}function v(aa){return [aa.thread,aa.viewer,aa.onChange];}var w=c('bs_curry')._8(n,"MessengerInfoPanelCustomColorReact",o,j,l,k,m,[v],u),x=w[1];function y(aa,ba,ca){return c('bs_curry')._1(x,[aa,ba,ca]);}var z=w[0];g.componentDidMount=j;g.componentDidUpdate=k;g.componentWillReceiveProps=l;g.componentWillUnmount=m;g.createClass=n;g.getInstanceVariables=o;g.handleDialogClose=p;g.showChangeColorDialog=q;g.handleChangeColorClick=r;g.handleChangeColorKeyDown=s;g.setTheRef=t;g.render=u;g.jsPropsToReasonProps=v;g.comp=z;g.wrapProps=x;g.createElement=y;}),null);
__d('messengerThreadSearchIconSVGReact',['bs_curry','React','reactRe'],(function a(b,c,d,e,f,g){'use strict';var h=c('reactRe').StatelessComponent[0],i=c('reactRe').StatelessComponent[1],j=c('reactRe').StatelessComponent[2],k=c('reactRe').StatelessComponent[3],l=c('reactRe').StatelessComponent[4],m=c('reactRe').StatelessComponent[5];function n(t){var u=t[0];return c('React').createElement("div",{className:u[0]},c('React').createElement("svg",{viewBox:"8 8 48 48"},c('React').createElement("title",null,"search conversation"),c('React').createElement("circle",{cx:"28",cy:"28",r:"14",fill:"none",stroke:u[1],strokeWidth:2,strokeMiterlimit:10}),c('React').createElement("path",{d:"M50,50L37.9,37.9",fillRule:"evenodd",clipRule:"evenodd",fill:"none",stroke:u[1],strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round"})));}function o(t){return [t.className,t.customColor];}var p=c('bs_curry')._8(m,"MessengerThreadSearchIconSVGReact",h,i,k,j,l,[o],n),q=p[1];function r(t,u){return c('bs_curry')._1(q,[t,u]);}var s=p[0];g.getInstanceVariables=h;g.componentDidMount=i;g.componentDidUpdate=j;g.componentWillReceiveProps=k;g.componentWillUnmount=l;g.createClass=m;g.render=n;g.jsPropsToReasonProps=o;g.comp=s;g.wrapProps=q;g.createElement=r;}),null);
__d('messengerInfoPanelSearchReact',['cx','fbt','bs_curry','bs_js_primitive','keysRe','MessengerActions','messengerCustomColorUtilsRe','MessengerStateStore','messengerThreadSearchIconSVGReact','React','reactRe'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('reactRe').StatelessComponent[0],k=c('reactRe').StatelessComponent[1],l=c('reactRe').StatelessComponent[2],m=c('reactRe').StatelessComponent[3],n=c('reactRe').StatelessComponent[4],o=c('reactRe').StatelessComponent[5];function p(){var y=c('MessengerStateStore').getState().query,z=c('bs_js_primitive').js_is_nil_undef(y);c('MessengerActions').changeQuery(z!==0?"":undefined);return 0;}function q(y,z){y.preventDefault();return p(0);}function r(y,z){if(y.keyCode===c('keysRe').$$return){y.preventDefault();return p(0);}else return 0;}function s(y){var z=y[1],aa=c('messengerCustomColorUtilsRe').customColorOrBlue(y[0][0]);return c('React').createElement("div",{className:"_3szn _3szo",onClick:c('bs_curry')._1(z,q),onKeyDown:c('bs_curry')._1(z,r),tabIndex:"0"},c('React').createElement("div",{className:"_3szp"},c('bs_curry')._4(c('messengerThreadSearchIconSVGReact').createElement("_5odt",aa),0,0,0,0)),c('React').createElement("div",{className:"_3szq"},i._("Rechercher dans la conversation")));}function t(y){return [y.thread];}var u=c('bs_curry')._8(o,"MessengerInfoPanelSearchReact",j,k,m,l,n,[t],s),v=u[1];function w(y){return c('bs_curry')._1(v,[y]);}var x=u[0];g.getInstanceVariables=j;g.componentDidMount=k;g.componentDidUpdate=l;g.componentWillReceiveProps=m;g.componentWillUnmount=n;g.createClass=o;g.showQuery=p;g.handleSearchThreadClick=q;g.handleSearchThreadKeyDown=r;g.render=s;g.jsPropsToReasonProps=t;g.comp=x;g.wrapProps=v;g.createElement=w;}),null);
__d('MessengerInfoPanelThreadOptionsContainer.react',['fbt','immutable','ImmutableObject','MercuryThreadActions','MessagingThreadCustomizationSource','MessengerAdminGroupUtils','MessengerConfig','MessengerInfoPanelManageMessages.react','MessengerInfoPanelManageReview.react','MessengerInfoPanelMuteSettingsContainer.react','messengerInfoPanelCustomColorReact','MessengerInfoPanelEmoji.react','MessengerInfoPanelNicknames.react','MessengerInfoPanelSection.react','messengerInfoPanelSearchReact','React','WorkGKs'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerInfoPanelCustomColorReact').comp,l=c('messengerInfoPanelSearchReact').comp,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$MessengerInfoPanelThreadOptionsContainer4=function(t){this.$MessengerInfoPanelThreadOptionsContainer6().updateMuteSetting(this.props.thread.thread_id,t);}.bind(this),this.$MessengerInfoPanelThreadOptionsContainer5=function(t){this.$MessengerInfoPanelThreadOptionsContainer6().updateMentionsMuteSetting(this.props.thread.thread_id,t);}.bind(this),this.$MessengerInfoPanelThreadOptionsContainer1=function(t){this.$MessengerInfoPanelThreadOptionsContainer6().changeThreadColor(this.props.thread.thread_id,t,c('MessagingThreadCustomizationSource').SETTINGS);}.bind(this),this.$MessengerInfoPanelThreadOptionsContainer2=function(t){this.$MessengerInfoPanelThreadOptionsContainer6().changeThreadEmoji(this.props.thread.thread_id,t,c('MessagingThreadCustomizationSource').SETTINGS);}.bind(this),this.$MessengerInfoPanelThreadOptionsContainer3=function(t,u){this.$MessengerInfoPanelThreadOptionsContainer6().changeThreadNicknames(this.props.thread.thread_id,t,u,c('MessagingThreadCustomizationSource').SETTINGS);}.bind(this),p;}n.prototype.render=function(){var o=this.props.thread;if(!o.is_subscribed)return null;var p={};if(c('MessengerConfig').CollapsibleThreadOptions)p={customColor:this.props.thread.custom_color,isCollapsible:true,isCollapsed:this.props.isCollapsed,onToggle:this.props.onToggle,title:h._("Options")};var q=c('WorkGKs').workplace_www_chat_branding,r=c('MessengerAdminGroupUtils').canUpdateThreadCustomization(o,this.props.viewer),s=r&&!q?c('React').createElement(k,{thread:o,viewer:this.props.viewer,onChange:this.$MessengerInfoPanelThreadOptionsContainer1}):null,t=r&&!q?c('React').createElement(c('MessengerInfoPanelEmoji.react'),{thread:o,viewer:this.props.viewer,onChange:this.$MessengerInfoPanelThreadOptionsContainer2}):null;return c('React').createElement(c('MessengerInfoPanelSection.react'),p,c('React').createElement(l,{thread:o}),c('React').createElement(c('MessengerInfoPanelNicknames.react'),{participants:this.props.participants,thread:o,viewer:this.props.viewer,onChange:this.$MessengerInfoPanelThreadOptionsContainer3}),s,t,c('React').createElement(c('MessengerInfoPanelManageMessages.react'),{thread:o,viewer:this.props.viewer}),c('React').createElement(c('MessengerInfoPanelManageReview.react'),{thread:o,viewer:this.props.viewer}),c('React').createElement(c('MessengerInfoPanelMuteSettingsContainer.react'),{thread:o,viewer:this.props.viewer,onChange:this.$MessengerInfoPanelThreadOptionsContainer4,onMentionsMuteChange:this.$MessengerInfoPanelThreadOptionsContainer5}));};n.prototype.$MessengerInfoPanelThreadOptionsContainer6=function(){return c('MercuryThreadActions').getForFBID(this.props.viewer);};n.propTypes={isCollapsed:m.bool.isRequired,participants:m.instanceOf(c('immutable').Map).isRequired,thread:m.instanceOf(c('ImmutableObject')).isRequired,viewer:m.string.isRequired,onToggle:m.func.isRequired};f.exports=n;}),null);
__d('MessengerSharedPhotos.react',['cx','MercuryConfig','MessengerSharedPhoto.react','MessengerSpinner.react','MessagesViewerSetID','MessengerAttachmentViewer','MessengerSharedPhotosAlbumViewContainer.react','React','Relay','RelayQL','SpotlightViewer','SpotlightMessengerSharedMediaViewerContainer.react','URI','Vector','cancelAnimationFrame','requestAnimationFrame'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=10,m=80;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={albumView:null,imagesLoaded:l,shownID:null},this.$MessengerSharedPhotos1=null,this.$MessengerSharedPhotos2=function(){c('cancelAnimationFrame')(this.$MessengerSharedPhotos1);var t=c('MercuryConfig').SharedPhotoNewView,u=t?this.props.sharedPhotoAndVideos:this.props.sharedPhotos;if(this.state.imagesLoaded<u.edges.length){this.$MessengerSharedPhotos1=c('requestAnimationFrame')(function(){this.setState({imagesLoaded:Math.min(u.edges.length,this.state.imagesLoaded+l)});}.bind(this));}else if(!this.props.allPhotosDisplayed)this.props.onAllPhotosDisplayed();}.bind(this),this.$MessengerSharedPhotos3=function(t){var u=c('Vector').getViewportDimensions().x,v=this.props.sharedPhotoAndVideos.edges.length,w=this.props.sharedPhotoAndVideos.edges.find(function(aa){return aa.node.id===t;});if(!w)return;var x=this.props.sharedPhotoAndVideos.edges.indexOf(w),y=(v-x)*m;if(y>u/2)return;var z=Math.ceil((u/2-y)/m);this.props.fetchMore(z);}.bind(this),this.$MessengerSharedPhotos4=function(t){var u=this.props,v=u.threadFBID,w=u.sharedPhotos.edges,x=new (c('URI'))('/ajax/messaging/attachments/sharedphotos.php').setQueryData({thread_id:v,image_id:t}),y=w.find(function(z){var aa=z.node;return aa.legacy_attachment_id===t;}).node;c('MessengerAttachmentViewer').bootstrapWithConfig({dimensions:y.original_dimensions.x+','+y.original_dimensions.y,disablePaging:w.length===1,endpoint:x,fbid:t,setID:c('MessagesViewerSetID').MESSAGES_VIEW_ALL_IN_THREAD,snapToPhoto:true,src:y.image.uri,threadFBID:this.props.threadFBID});}.bind(this),this.$MessengerSharedPhotos5=function(t){var u=this.props.sharedPhotoAndVideos,v=u.edges.find(function(w){var x=w.node;return x.id===t;});return v.node;}.bind(this),this.$MessengerSharedPhotos6=function(t){this.setState({shownID:t});}.bind(this),this.$MessengerSharedPhotos7=function(t){this.setState({shownID:t},function(){this.$MessengerSharedPhotos3(this.state.shownID);this.$MessengerSharedPhotos8();}.bind(this));}.bind(this),this.$MessengerSharedPhotos9=function(t){this.setState({shownID:t});}.bind(this),this.$MessengerSharedPhotos8=function(){this.setState({albumView:null});}.bind(this),this.$MessengerSharedPhotos10=function(t){this.setState({albumView:t,shownID:null});}.bind(this),this.$MessengerSharedPhotos11=function(t){this.setState({albumView:null,shownID:t});}.bind(this),this.$MessengerSharedPhotos12=function(){this.setState({shownID:null});}.bind(this),p;}n.prototype.componentDidMount=function(){this.$MessengerSharedPhotos2();};n.prototype.componentWillReceiveProps=function(o){if(o.threadFBID!==this.props.threadFBID)this.setState({imagesLoaded:l});};n.prototype.componentDidUpdate=function(){this.$MessengerSharedPhotos2();};n.prototype.componentWillUnmount=function(){c('cancelAnimationFrame')(this.$MessengerSharedPhotos1);};n.prototype.shouldComponentUpdate=function(o,p){var q=c('MercuryConfig').SharedPhotoNewView?o.sharedPhotoAndVideos:o.sharedPhotos,r=q.edges,s=q.pageInfo&&q.pageInfo.has_next_page,t=r.find(function(u){var v=u.node;return v.id===p.shownID;});if(!t&&s&&r.length<p.imagesLoaded){setTimeout(function(){return this.props.fetchMore(p.imagesLoaded);}.bind(this),1000);return false;}return true;};n.prototype.$MessengerSharedPhotos13=function(){return (c('React').createElement(c('SpotlightMessengerSharedMediaViewerContainer.react'),{onClosePhotoView:this.$MessengerSharedPhotos12,openAlbum:this.$MessengerSharedPhotos10,photoID:this.state.shownID,rootClassName:'',threadID:this.props.threadFBID,disableForward:false}));};n.prototype.$MessengerSharedPhotos14=function(){return (c('React').createElement(c('SpotlightViewer'),{className:"_3ode",onHide:this.$MessengerSharedPhotos8,open:true,ref:'spotlightViewer'},c('React').createElement(c('MessengerSharedPhotosAlbumViewContainer.react'),{onClick:this.$MessengerSharedPhotos11,onCloseSharedPhotos:this.$MessengerSharedPhotos8,threadID:this.props.threadFBID,viewedPhoto:this.state.albumView})));};n.prototype.$MessengerSharedPhotos15=function(){return (c('React').createElement('div',{className:"_2n20"},c('React').createElement(c('MessengerSpinner.react'),null)));};n.prototype.render=function(){var o=this.props,p=o.isLoadingImages,q=o.sharedPhotos,r=o.sharedPhotoAndVideos,s=c('MercuryConfig').SharedPhotoNewView,t=s?r:q,u=t.edges,v=this.state.imagesLoaded,w="_3m31",x=s?this.$MessengerSharedPhotos6:this.$MessengerSharedPhotos4,y=p?this.$MessengerSharedPhotos15():null,z=s&&this.state.shownID?this.$MessengerSharedPhotos13():null,aa=s&&this.state.albumView?this.$MessengerSharedPhotos14():null;return (c('React').createElement('div',null,z,aa,c('React').createElement('div',{className:"_40jj _5l-3"},u.slice(0,v).map(function(ba){var ca=ba.node;return (c('React').createElement(c('MessengerSharedPhoto.react'),{className:w,fbid:ca.legacy_attachment_id,key:ca.legacy_attachment_id,onClick:x,photoID:ca.id,uri:ca.image.uri}));})),y));};n.propTypes={allPhotosDisplayed:k.bool.isRequired,isLoadingImages:k.bool.isRequired,fetchMore:k.func.isRequired,onAllPhotosDisplayed:k.func.isRequired,sharedPhotos:k.object.isRequired,sharedPhotoAndVideos:k.object.isRequired,threadFBID:k.string.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{sharedPhotos:function o(){return function(){return {children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'legacy_attachment_id',kind:'Field',metadata:{},type:'ID'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{calls:[{kind:'Call',metadata:{},name:'width',value:{kind:'CallValue',callValue:250}},{kind:'Call',metadata:{},name:'height',value:{kind:'CallValue',callValue:250}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessageImage'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessageImagesEdge'},{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isRequisite:true},type:'PageInfo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerSharedPhotos_react_SharedPhotosRelayQL',type:'MessageImagesConnection'};}();},sharedPhotoAndVideos:function o(){return function(){return {children:[{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'Node',type:'Node'},{children:[{fieldName:'legacy_attachment_id',kind:'Field',metadata:{},type:'ID'},{calls:[{kind:'Call',metadata:{},name:'width',value:{kind:'CallValue',callValue:250}},{kind:'Call',metadata:{},name:'height',value:{kind:'CallValue',callValue:250}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageImage',type:'MessageImage'},{children:[{fieldName:'legacy_attachment_id',kind:'Field',metadata:{},type:'ID'},{calls:[{kind:'Call',metadata:{},name:'width',value:{kind:'CallValue',callValue:250}},{kind:'Call',metadata:{},name:'height',value:{kind:'CallValue',callValue:250}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{children:[{fieldName:'x',kind:'Field',metadata:{},type:'Float'},{fieldName:'y',kind:'Field',metadata:{},type:'Float'}],fieldName:'original_dimensions',kind:'Field',metadata:{canHaveSubselections:true},type:'Vect2'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageVideo',type:'MessageVideo'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true,isRequisite:true},type:'MessageSharedPhotoAndVideo'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessageSharedPhotoAndVideoEdge'},{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isRequisite:true},type:'PageInfo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerSharedPhotos_react_SharedPhotoAndVideosRelayQL',type:'MessageSharedPhotoAndVideoConnection'};}();}}});}),null);
__d('MessengerSharedPhotosContainer.react',['fbt','MessengerInfoPanelSection.react','MessengerSharedPhotos.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=10,k=c('React').createClass({displayName:'MessengerSharedPhotosContainer',propTypes:{customColor:i.string,clearForceFetch:i.func.isRequired,getIsScrolledToBottom:i.func.isRequired,getScrollableHeight:i.func.isRequired,isCollapsed:i.bool.isRequired,newViewGK:i.bool,onToggle:i.func.isRequired,sharedPhotos:i.object,threadFBID:i.string},getInitialState:function l(){return {allPhotosDisplayed:false,isLoadingImages:false};},componentWillReceiveProps:function l(m){if(m.threadFBID!==this.props.threadFBID)this.setState({allPhotosDisplayed:false});},componentDidMount:function l(){this._maybeLoadMore();},componentDidUpdate:function l(){this._maybeLoadMore();},_maybeLoadMore:function l(){var m=this.props,n=m.getIsScrolledToBottom,o=m.getScrollableHeight,p=m.isCollapsed,q=m.sharedPhotos,r=this.state.isLoadingImages;if(r||p||!q||!this.state.allPhotosDisplayed||!n()||!o())return;var s=this.props.newViewGK?q.message_shared_photo_and_video.page_info.has_next_page:q.message_images.page_info.has_next_page;if(!s)return;this.setState({isLoadingImages:true},function(){this.props.relay.setVariables({count:this.props.relay.variables.count+j},function(t){if(t.done||t.aborted)if(this.isMounted()){this.props.clearForceFetch();this.setState({allPhotosDisplayed:false,isLoadingImages:false});}}.bind(this));}.bind(this));},_loadMore:function l(m){if(m<=0)return;this.setState({isLoadingImages:true},function(){this.props.relay.setVariables({count:this.props.relay.variables.count+m},function(n){if(n.done||n.aborted)this.setState({isLoadingImages:false});}.bind(this));}.bind(this));},_handleAllPhotosDisplayed:function l(){this.setState({allPhotosDisplayed:true});},render:function l(){var m=this.props,n=m.isCollapsed,o=m.onToggle,p=m.sharedPhotos,q=m.threadFBID,r=this.state.isLoadingImages;if(!q||!p)return null;var s=this.props.newViewGK?p.message_shared_photo_and_video:p.message_images;if(!s.page_info.has_next_page&&s.count===0)return null;return (c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.customColor,isCollapsible:true,isCollapsed:n,onToggle:o,title:h._("Photos partag\u00e9es")},c('React').createElement(c('MessengerSharedPhotos.react'),{allPhotosDisplayed:this.state.allPhotosDisplayed,fetchMore:this._loadMore,isLoadingImages:r,sharedPhotos:s,sharedPhotoAndVideos:s,onAllPhotosDisplayed:this._handleAllPhotosDisplayed,threadFBID:q})));}});f.exports=c('Relay').createContainer(k,{initialVariables:{newViewGK:false,count:j},fragments:{sharedPhotos:function l(m){return function(n,o){return {children:[{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[].concat.apply([],[{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true},type:'PageInfo'},{fieldName:'count',kind:'Field',metadata:{},type:'Int'},c('RelayQL').__frag(n)]),directives:[{kind:'Directive',name:'skip',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'newViewGK'}}]}],fieldName:'message_images',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MessageImagesConnection'},{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[].concat.apply([],[{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true},type:'PageInfo'},{fieldName:'count',kind:'Field',metadata:{},type:'Int'},c('RelayQL').__frag(o)]),directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'newViewGK'}}]}],fieldName:'message_shared_photo_and_video',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'MessageSharedPhotoAndVideoConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerSharedPhotosContainer_react_SharedPhotosRelayQL',type:'MessageThread'};}(c('MessengerSharedPhotos.react').getFragment('sharedPhotos'),c('MessengerSharedPhotos.react').getFragment('sharedPhotoAndVideos'));}}});}),null);
__d('MessengerSharedPhotosContainerRoute',['RelayRoute','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MessengerSharedPhotosContainerRoute';j.paramDefinitions={threadFBID:{type:'String',required:true},newViewGK:{type:'Boolean',required:false}};j.queries={sharedPhotos:function k(l,m){var n=m.newViewGK;return function(o){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'threadFBID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(o)]),fieldName:'message_thread',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'MessengerSharedPhotosContainerRoute',type:'MessageThread'};}(l.getFragment('sharedPhotos',{newViewGK:n}));}};f.exports=j;}),null);
__d("XNFXStartForMessageThreadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/nfx\/start_message_thread\/",{thread_fbid:{type:"String",required:true},responsible_fbid:{type:"Int"},av:{type:"Int"},location:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}});}),null);
__d('messengerInfoPanelContactNameSectionReact',['cx','bs_curry','bs_js_boolean','bs_js_primitive','messengerLocalTimeReact','MessengerPresenceStatus.react','React','reactRe','utilsRe'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('reactRe').StatelessComponent[0],j=c('reactRe').StatelessComponent[1],k=c('reactRe').StatelessComponent[2],l=c('reactRe').StatelessComponent[3],m=c('reactRe').StatelessComponent[4],n=c('reactRe').StatelessComponent[5];function o(t){var u=t[0];return c('React').createElement("div",{className:"_2jnq"},u[4],c('React').createElement("div",{className:"_2jnt"},c('React').createElement("div",{className:"_3eur"},c('React').createElement("span",{className:"_3oh-"},u[0].name)),c('React').createElement("div",{className:"_3eus"},c('React').createElement(c('MessengerPresenceStatus.react'),{isUserActive:c('bs_js_boolean').to_js_boolean(u[1]),lastActive:c('utilsRe').optionToJsNullUndefined(u[2]),platform:c('utilsRe').optionToJsNullUndefined(u[3])})),c('React').createElement("div",null,c('bs_curry')._4(c('messengerLocalTimeReact').createElement("_5uh",c('bs_js_primitive').js_from_nullable_def(u[0].timezone)),0,0,0,0))));}var p=c('bs_curry')._8(n,"MessengerInfoPanelContactNameSectionReact",i,j,l,k,m,0,o),q=p[1];function r(t,u,v,w,x){return c('bs_curry')._1(q,[t,u,v,w,x]);}var s=p[0];g.getInstanceVariables=i;g.componentDidMount=j;g.componentDidUpdate=k;g.componentWillReceiveProps=l;g.componentWillUnmount=m;g.createClass=n;g.render=o;g.comp=s;g.wrapProps=q;g.createElement=r;}),null);
__d('MessengerThreadPhotoUploader.react',['cx','fbt','FileInput','FileInputUploader','Link.react','MercuryConfig','React','ReactDOM','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'MessengerThreadPhotoUploader',_fileInput:null,_subscriptions:null,_uploader:null,_uploadIsInProgress:false,propTypes:{onComplete:j.func.isRequired,onFail:j.func,onStart:j.func,uri:j.string},getDefaultProps:function l(){return {uri:c('MercuryConfig').upload_url};},componentDidMount:function l(){var m=c('ReactDOM').findDOMNode(this.refs.input),n=new (c('FileInput'))(c('ReactDOM').findDOMNode(this.refs.form),c('ReactDOM').findDOMNode(this.refs.uploadButton),m),o=new (c('FileInputUploader'))(m).setURI(this.props.uri).setAllowCrossOrigin(true).setAllowCrossPageTransition(true).setData({images_only:true}),p=new (c('SubscriptionsHandler'))();p.addSubscriptions(o.subscribe('success',this._handleAllUploadsCompleted),o.subscribe('failure',this._handleLastUploadFailed));this._subscriptions=p;this._uploader=o;this._fileInput=n;},componentWillUnmount:function l(){if(!this._uploadIsInProgress)this._doUnmountComponents();},render:function l(){var m=i._("Click to change the image");return (c('React').createElement('form',{action:this.props.uri,method:'post',ref:'form'},c('React').createElement('input',{type:'hidden',name:'attach_id',ref:'attachID'}),c('React').createElement('input',{type:'hidden',name:'images_only',value:'true'}),c('React').createElement('div',{className:"_m _4q60 _2lyy"},c('React').createElement(c('Link.react'),{className:"_4q61 _2lyz",ref:'uploadButton'},i._("modifier")),c('React').createElement('input',{type:'file',className:"_n",name:'attachment[]',accept:'.jpg,.png,.jpeg,.bmp,.tif,.tiff',ref:'input',onChange:this._handleFileInputChange,title:m}))));},_handleAllUploadsCompleted:function l(m,n){this._uploadIsInProgress=false;this.props.onComplete&&this.props.onComplete(n.response.payload);if(!this.isMounted())this._doUnmountComponents();},_handleLastUploadFailed:function l(m,n){this._uploadIsInProgress=false;this.props.onFail&&this.props.onFail(n);if(!this.isMounted())this._doUnmountComponents();},_handleFileInputChange:function l(m){if(m.target.value&&this._uploader){this._uploader.send();this._uploadIsInProgress=true;this.props.onStart&&this.props.onStart();}},_doUnmountComponents:function l(){this._subscriptions&&this._subscriptions.release();this._fileInput&&this._fileInput.destroy();delete this._subscriptions;delete this._uploader;}});f.exports=k;}),null);
__d('MessengerDeleteDialog.react',['fbt','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerDeleteDialog1=function(){this.props.onToggle&&this.props.onToggle(false);this.props.onArchive&&this.props.onArchive();}.bind(this),this.$MessengerDeleteDialog2=function(){this.props.onToggle&&this.props.onToggle(false);this.props.onDelete&&this.props.onDelete();}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Supprimer la conversation")),c('React').createElement(k,null,h._("Cela supprimera d\u00e9finitivement l\u2019historique de la conversation.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Archiver"),onClick:this.$MessengerDeleteDialog1,type:'secondary'}),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Supprimer"),onClick:this.$MessengerDeleteDialog2,type:'primary',use:'danger'})));};m.propTypes={onArchive:l.func,onDelete:l.func,onToggle:l.func};f.exports=m;}),null);
__d('MessengerMarkSpamDialog.react',['fbt','MessengerActions','MessengerDialog.react','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').comp,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerMarkSpamDialog1=function(s){s.stopPropagation();this.props.onToggle&&this.props.onToggle(false);this.props.onMarkSpam&&this.props.onMarkSpam();c('MessengerActions').hideDialog();}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{onToggle:this.props.onToggle},c('React').createElement(c('MessengerDialogHeader.react'),null,h._("Marquer comme ind\u00e9sirable")),c('React').createElement(k,null,h._("Cette conversation sera signal\u00e9e comme ind\u00e9sirable et supprim\u00e9e.")),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{label:h._("Marquer comme ind\u00e9sirable"),onClick:this.$MessengerMarkSpamDialog1,type:'primary',use:'danger'})));};m.propTypes={onMarkSpam:l.func,onToggle:l.func};f.exports=m;}),null);
__d('messengerThreadlistRowActionsReact',['cx','fbt','bs_curry','bs_js_boolean','bs_js_primitive','MessengerActions','MessengerDeleteDialog.react','MessengerMarkSpamDialog.react','MessengerMenu.react','MessengerMuteDialog.react','MessengerPopoverMenu.react','React','reactRe','utilsRe','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('reactRe').StatelessComponent[0],k=c('reactRe').StatelessComponent[1],l=c('reactRe').StatelessComponent[2],m=c('reactRe').StatelessComponent[3],n=c('reactRe').StatelessComponent[4],o=c('reactRe').StatelessComponent[5],p=c('MessengerMenu.react').Item,q=c('MessengerMenu.react').Separator;function r(ga,ha){if(ga){return 0;}else{c('MessengerActions').hideDialog();return 0;}}function s(ga,ha){ga.preventDefault();return ga.stopPropagation();}function t(ga,ha){return c('bs_curry')._1(ha[0][14],true);}function u(ga,ha){return c('bs_curry')._1(ha[0][14],false);}function v(ga,ha){var ia=ha[0];c('MessengerActions').showDialog(c('MessengerDeleteDialog.react'),{onArchive:ia[5],onDelete:ia[6],onToggle:c('bs_curry')._1(ha[1],r)});return 0;}function w(ga,ha){var ia=ha[0];if(ia[2]){return c('bs_curry')._1(ia[15],0);}else{c('MessengerActions').showDialog(c('MessengerMuteDialog.react'),{onMute:ia[12],onToggle:c('bs_curry')._1(ha[1],r)});return 0;}}function x(ga,ha){var ia=ha[0];if(ia[4]){return c('bs_curry')._1(ia[9],0);}else return c('bs_curry')._1(ia[11],0);}function y(ga,ha){c('MessengerActions').showDialog(c('MessengerMarkSpamDialog.react'),{onMarkSpam:ha[0][10],onToggle:c('bs_curry')._1(ha[1],r)});return 0;}function z(ga){var ha=ga[1],ia=ga[0],ja=ia[1],ka=ja!==0?i._("Leave Room"):i._("Quitter le groupe"),la=ia[17],ma;if(la!==0){var na=ia[2];ma=c('React').createElement(p,{label:na!==0?i._("Reprendre"):i._("Sourdine"),onclick:c('bs_curry')._1(ha,w)});}else ma=null;var oa=c('utilsRe').isSomeTrue(ia[18]),pa=ia[17]||c('utilsRe').isSomeTrue(ia[18]),qa=ia[16],ra=ia[4],sa=c('utilsRe').isSomeTrue(ia[19]),ta=c('React').createElement(c('MessengerMenu.react'),null,ma,oa!==0?c('React').createElement(p,{label:i._("Renommer"),onclick:c('utilsRe').optionToJsNull(ia[13])}):null,pa!==0?c('React').createElement(q,null):null,qa!==0?c('React').createElement(p,{label:ka,onclick:c('utilsRe').optionToJsNull(ia[7])}):null,c('React').createElement(p,{label:i._("Archiver"),onclick:ia[5]}),c('React').createElement(p,{label:i._("Supprimer"),onclick:c('bs_curry')._1(ha,v)}),c('React').createElement(q,null),c('React').createElement(p,{label:ra!==0?i._("Marquer comme lu(s)"):i._("Marquer comme non lu(s)"),onclick:c('bs_curry')._1(ha,x)}),c('React').createElement(p,{label:i._("Signaler comme ind\u00e9sirable"),onclick:c('bs_curry')._1(ha,y)}),sa!==0?c('React').createElement(p,{label:i._("Signaler du contenu ind\u00e9sirable ou un abus..."),onclick:c('utilsRe').optionToJsNull(ia[8])}):null);return c('React').createElement("div",{className:"_3d85"},c('React').createElement(c('MessengerPopoverMenu.react'),{disableArrowKeyActivation:true,isOpen:c('bs_js_boolean').to_js_boolean(ia[3]),menu:ta,onHide:c('bs_curry')._1(ha,u),onShow:c('bs_curry')._1(ha,t)},c('React').createElement("div",{"aria-label":i._("Actions de conversation"),className:c('joinClasses')(c('utilsRe').$pipe$unknown(ia[0],""),"_4-0h"+(c('bs_js_boolean').to_js_boolean(ia[3])?' '+"_4-0i":'')),onClick:c('bs_curry')._1(ha,s),role:"button",ref:"button",tabIndex:0})));}function aa(ga){return [c('bs_js_primitive').js_from_nullable_def(ga.className),+ga.isMessengerRoom,+ga.isMuted,+ga.isOpen,+ga.isUnread,ga.onArchive,ga.onDelete,c('bs_js_primitive').js_from_nullable_def(ga.onLeaveGroup),c('bs_js_primitive').js_from_nullable_def(ga.onReportThread),ga.onMarkRead,ga.onMarkSpam,ga.onMarkUnread,ga.onMute,c('bs_js_primitive').js_from_nullable_def(ga.onRename),ga.onToggle,ga.onUnmute,+ga.showLeaveGroup,+ga.showMute,c('utilsRe').nullUndefinedBooleanToOptionBool(ga.showRename),c('utilsRe').nullUndefinedBooleanToOptionBool(ga.showReport)];}var ba=c('bs_curry')._8(o,"MessengerThreadlistRowActionsReact",j,k,m,l,n,[aa],z),ca=ba[1];function da(ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za){return c('bs_curry')._1(ca,[ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za]);}var ea=c('utilsRe').$pipe$unknown,fa=ba[0];g.getInstanceVariables=j;g.componentDidMount=k;g.componentDidUpdate=l;g.componentWillReceiveProps=m;g.componentWillUnmount=n;g.createClass=o;g.messengerMenuItem_=p;g.messengerMenuSeparator_=q;g.$pipe$unknown=ea;g.handleDialogToggle=r;g.handleClick=s;g.handleToggleTrue=t;g.handleToggleFalse=u;g.handleDeleteClick=v;g.handleMuteClick=w;g.handleMarkReadClick=x;g.handleMarkSpamClick=y;g.render=z;g.jsPropsToReasonProps=aa;g.comp=fa;g.wrapProps=ca;g.createElement=da;}),null);
__d("messengerInfoPanelNameSectionReact",["cx","AsyncDialog","AsyncRequest","bs_curry","bs_js_primitive","MercuryThreadIDMap","MercuryThreadInfo","MessengerAdminGroupUtils","messengerInfoPanelContactNameSectionReact","MessengerInfoPanelThreadNameSectionTempHack.react","MessengerThreadImage.react","messengerThreadlistRowActionsReact","React","reactRe","XNFXStartForMessageThreadController"],(function a(b,c,d,e,f,g,h){'use strict';var i=c("reactRe").Component[1],j=c("reactRe").Component[2],k=c("reactRe").Component[3],l=c("reactRe").Component[4],m=c("reactRe").Component[5];function n(){return [0];}function o(){return [0];}function p(fa,ga){return [[+fa]];}function q(fa,ga){ga[4][0]=[fa];return 0;}function r(fa,ga){var ha=ga[4][0];if(ha){setTimeout(ha[0].setEditing,0);return 0;}else return 0;}function s(fa,ga){var ha=c("MercuryThreadIDMap").get();ha.getServerIDFromClientID(ga[1][16].thread_id,function(ia){return c("AsyncDialog").send(new (c("AsyncRequest"))(c("XNFXStartForMessageThreadController").getURIBuilder().setString("thread_fbid",ia).getURI()));});return 0;}function t(fa){var ga=fa[2],ha=fa[1],ia=+ha[16].is_subscribed&&1- +ha[16].is_canonical&&+c("MessengerAdminGroupUtils").canUpdateThreadCustomization(ha[16],ha[17]),ja=+c("MessengerAdminGroupUtils").isJoinableThread(ha[16]);return c("React").createElement("div",{className:"_3-ne"},c("bs_curry")._4(c("messengerThreadlistRowActionsReact").createElement(["_5blh"],ja,+c("MercuryThreadInfo").isMuted(ha[16]),fa[0][0],+(ha[16].unread_count>0),ha[9],ha[3],ha[4],[c("bs_curry")._1(ga,s)],ha[5],ha[6],ha[7],ha[8],[c("bs_curry")._1(ga,r)],c("bs_curry")._1(ga,p),ha[12],ha[15],0,[ia],[1]),0,0,0,0));}function u(fa){return c("React").createElement("div",{className:"_1jt8"},c("React").createElement(c("MessengerThreadImage.react"),{participants:fa[13],size:50,thread:fa[16],viewer:fa[17]}));}function v(fa,ga){return c("bs_curry")._4(c("messengerInfoPanelContactNameSectionReact").createElement(fa,ga[1],ga[2],ga[14],u(ga)),0,0,0,0);}function w(fa,ga){c("bs_curry")._2(ga[1][11],fa[0],fa[1]);return 0;}function x(fa){var ga=fa[1],ha=c("MessengerAdminGroupUtils").canUpdateThreadCustomization(ga[16],ga[17]);return c("React").createElement(c("MessengerInfoPanelThreadNameSectionTempHack.react"),{actionsEnabled:ha,onThreadNameChange:ga[10],onThreadPhotoChange:c("bs_curry")._1(fa[2],w),participants:ga[13],renderedImage:u(ga),thread:ga[16],viewer:ga[17],ref:c("bs_curry")._1(fa[3],q)});}function y(fa){var ga=fa[1],ha=+(ga[16].is_subscribed||ga[16].is_canonical),ia=ga[0];return c("React").createElement("div",{className:"_1jt6"},ia?v(ia[0],ga):x(fa),ha!==0?t(fa):null);}function z(fa){return [c("bs_js_primitive").js_from_nullable_def(fa.contact),+fa.isUserActive,c("bs_js_primitive").js_from_nullable_def(fa.lastActive),fa.onDelete,c("bs_js_primitive").js_from_nullable_def(fa.onLeaveGroup),fa.onMarkRead,fa.onMarkSpam,fa.onMarkUnread,fa.onMute,fa.onArchive,fa.onThreadNameChange,fa.onThreadPhotoChange,fa.onUnmute,fa.participants,c("bs_js_primitive").js_from_nullable_def(fa.platform),+fa.showLeaveGroup,fa.thread,fa.viewer];}var aa=c("bs_curry").app(m,["MessengerInfoPanelNameSectionReact",n,o,i,k,j,l,[z],y]),ba=aa[1];function ca(fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa){return c("bs_curry")._1(ba,[fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa]);}var da=50,ea=aa[0];g.componentDidMount=i;g.componentDidUpdate=j;g.componentWillReceiveProps=k;g.componentWillUnmount=l;g.createClass=m;g.imageSize=da;g.getInstanceVariables=n;g.getInitialState=o;g.handleActionsToggle=p;g.setThreadSectionRef=q;g.handleRename=r;g.handleReportThread=s;g.renderActions=t;g.renderImage=u;g.renderContactImageBlock=v;g.handleThreadPhotoChange=w;g.renderThreadImageBlock=x;g.render=y;g.jsPropsToReasonProps=z;g.comp=ea;g.wrapProps=ba;g.createElement=ca;}),null);
__d('MessengerThreadInfoPanel.react',['cx','fbt','BootloadedComponent.react','immutable','ImmutableObject','JSResource','Link.react','MercuryAttachment','MercuryConfig','MercuryIDs','MercuryThreadInfo','MercuryMessageStore','MessengerActions','MessengerAdminGroupUtils','MessengerConfig','MessengerContactAdapters','messengerDomIDsRe','MessengerInfoPanelGroupSection.react','messengerInfoPanelNameSectionReact','MessengerInfoPanelPeopleSection.react','MessengerInfoPanelSection.react','MessengerInfoPanelThreadOptionsContainer.react','MessengerSharedPhotosContainer.react','MessengerSharedPhotosContainerRoute','React','RelayRootContainer','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerDomIDsRe').ids,m=c('messengerInfoPanelNameSectionReact').comp,n=c('React').PropTypes,o=c('BootloadedComponent.react').create(c('JSResource')('MessengerAddToConversationDialog.react').__setRef('MessengerThreadInfoPanel.react'));j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$MessengerThreadInfoPanel1=undefined,this.$MessengerThreadInfoPanel2=undefined,this.$MessengerThreadInfoPanel3=false,this.state={sharedPhotoSection:null},this.$MessengerThreadInfoPanel8=function(){this.$MessengerThreadInfoPanel3=false;}.bind(this),this.$MessengerThreadInfoPanel11=function(v){this.props.onContactSelect(c('MessengerContactAdapters').fromMercuryParticipant(v));}.bind(this),this.$MessengerThreadInfoPanel10=function(v,w){this.props.onContactAction(v,c('MessengerContactAdapters').fromMercuryParticipant(w));}.bind(this),this.$MessengerThreadInfoPanel9=function(event){event.preventDefault();c('MessengerActions').showDialog(o,{bootloadPlaceholder:c('React').createElement('div',null),thread:this.props.thread,viewer:this.props.viewer});}.bind(this),r;}p.prototype.componentWillMount=function(){this.subscribeStoreUpdate(this.props.thread.thread_id);};p.prototype.componentWillReceiveProps=function(q){if(q.thread.thread_id!==this.props.thread.thread_id){this.$MessengerThreadInfoPanel2&&this.$MessengerThreadInfoPanel2.release();this.subscribeStoreUpdate(q.thread.thread_id);this.$MessengerThreadInfoPanel3=true;setTimeout(function(){return this.setState({sharedPhotoSection:this.$MessengerThreadInfoPanel4(true)});}.bind(this),1000);}};p.prototype.subscribeStoreUpdate=function(q){if(!c('MercuryConfig').SharedPhotoNewView)return;this.$MessengerThreadInfoPanel1=new (c('MercuryMessageStore'))(q);this.$MessengerThreadInfoPanel2=new (c('SubscriptionsHandler'))();this.$MessengerThreadInfoPanel2.addSubscriptions(this.$MessengerThreadInfoPanel1.subscribe(function(r){if(r.messages.length<1)return;var s=r.eventType==c('MercuryMessageStore').MESSAGES_RECEIVED,t=r.eventType==c('MercuryMessageStore').MESSAGES_CHANGED,u=r.messages[r.messages.length-1];if(!s&&!t)return;if(u.has_attachment&&u.attachments.length>0){var v=u.attachments.find(function(w){return c('MercuryAttachment').isPhotoAttachment(w)||c('MercuryAttachment').isVideoAttachment(w);});if(v){this.$MessengerThreadInfoPanel3=true;setTimeout(function(){return this.setState({sharedPhotoSection:this.$MessengerThreadInfoPanel4(true)});}.bind(this),1000);}}}.bind(this)));};p.prototype.componentWillUnmount=function(){this.$MessengerThreadInfoPanel2&&this.$MessengerThreadInfoPanel2.release();};p.prototype.componentDidUpdate=function(){if(!this.$MessengerThreadInfoPanel3)this.setState({sharedPhotoSection:null});};p.prototype.render=function(){var q=this.props,r=q.viewer,s=q.thread,t=c('MercuryIDs').getParticipantIDFromUserID(r),u=s.participants.indexOf(t)!==-1,v=this.$MessengerThreadInfoPanel3?this.state.sharedPhotoSection:this.$MessengerThreadInfoPanel4(false);return c('React').createElement('div',{className:"_3tkv",id:l.THREAD_INFO_PANEL},c('React').createElement('h3',{className:"accessible_elem"},i._("Informations sur la conversation")),c('React').createElement(m,{contact:this.props.contact,isUnread:this.props.isUnread,isUserActive:this.props.isUserActive,lastActive:this.props.lastActive,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onThreadNameChange:this.props.onThreadNameChange,onThreadPhotoChange:this.props.onThreadPhotoChange,onUnmute:this.props.onUnmute,participants:this.props.participants,platform:this.props.platform,showLeaveGroup:this.props.showLeaveGroup,thread:this.props.thread,viewer:this.props.viewer}),c('React').createElement(c('MessengerInfoPanelThreadOptionsContainer.react'),{isCollapsed:this.props.threadOptionsSectionCollapsed,participants:this.props.participants,thread:this.props.thread,viewer:this.props.viewer,onToggle:this.props.onThreadOptionsSectionToggle}),this.props.thread.is_canonical?this.$MessengerThreadInfoPanel5():this.$MessengerThreadInfoPanel6(),c('MessengerAdminGroupUtils').canSeeGroupOptions(u,s,r)?this.$MessengerThreadInfoPanel7():null,v);};p.prototype.$MessengerThreadInfoPanel7=function(){return c('React').createElement(c('MessengerInfoPanelGroupSection.react'),{isOptionsCollapsed:this.props.groupOptionsSectionCollapsed,onOptionsToggle:this.props.onGroupOptionsSectionToggle,isApprovalsCollapsed:this.props.groupOptionsApprovalsSectionCollapsed,onApprovalToggle:this.props.onGroupApprovalOptionsSectionToggle,onToggle:this.props.onThreadOptionsSectionToggle,participants:this.props.participants,viewer:this.props.viewer,thread:this.props.thread});};p.prototype.$MessengerThreadInfoPanel4=function(q){var r=this.props,s=r.getIsScrolledToBottom,t=r.getScrollableHeight,u=r.onPhotosSectionToggle,v=r.photosSectionCollapsed,w=r.thread,x=new (c('MessengerSharedPhotosContainerRoute'))({threadFBID:w.thread_fbid,newViewGK:c('MercuryConfig').SharedPhotoNewView});return c('React').createElement(c('RelayRootContainer'),{Component:c('MessengerSharedPhotosContainer.react'),renderLoading:function y(){return null;},route:x,forceFetch:q,renderFetched:function(y){return c('React').createElement(c('MessengerSharedPhotosContainer.react'),babelHelpers['extends']({},y,{customColor:this.props.thread.custom_color,clearForceFetch:this.$MessengerThreadInfoPanel8,getIsScrolledToBottom:s,getScrollableHeight:t,isCollapsed:v,onToggle:u,threadFBID:w.thread_fbid,newViewGK:c('MercuryConfig').SharedPhotoNewView}));}.bind(this)});};p.prototype.$MessengerThreadInfoPanel6=function(){return c('React').createElement(c('MessengerInfoPanelPeopleSection.react'),{canViewerReply:c('MercuryThreadInfo').canReply(this.props.thread),contactAdapter:c('MessengerContactAdapters').fromMercuryParticipant,isCollapsed:this.props.peopleSectionCollapsed,isViewerSubscribed:this.props.thread.is_subscribed,onAddPeopleClick:this.$MessengerThreadInfoPanel9,onContactAction:this.$MessengerThreadInfoPanel10,onContactSelect:this.$MessengerThreadInfoPanel11,onToggle:this.props.onPeopleSectionToggle,participants:this.props.participants,viewer:this.props.viewer,adminIds:this.props.thread.admin_ids,thread:this.props.thread});};p.prototype.$MessengerThreadInfoPanel5=function(){if(!this.props.contact||!this.props.contact.href||this.props.contact.fbid.toString()===c('MessengerConfig').MoneyPennyFBID)return null;var q=this.props.contact.href,r=this.props.contact.type==='page'?i._("Page Facebook"):i._("Profil Facebook");return c('React').createElement(c('MessengerInfoPanelSection.react'),{customColor:this.props.thread.custom_color,title:r},c('React').createElement('div',{className:"_4v0l"},c('React').createElement(c('Link.react'),{className:"_3oh-",style:{color:this.props.thread.custom_color},href:q,target:'_blank'},q.replace('www.',''))));};p.propTypes={contact:n.instanceOf(c('ImmutableObject')),getIsScrolledToBottom:n.func.isRequired,getScrollableHeight:n.func.isRequired,isUserActive:n.bool.isRequired,isBusinessEnabled:n.bool,lastActive:n.string,onArchive:n.func.isRequired,onContactAction:n.func.isRequired,onContactSelect:n.func.isRequired,onDelete:n.func.isRequired,onLeaveGroup:n.func,onMarkRead:n.func.isRequired,onMarkSpam:n.func.isRequired,onMarkUnread:n.func.isRequired,onMute:n.func.isRequired,onPeopleSectionToggle:n.func.isRequired,onPhotosSectionToggle:n.func.isRequired,onThreadOptionsSectionToggle:n.func.isRequired,onGroupOptionsSectionToggle:n.func.isRequired,onGroupApprovalOptionsSectionToggle:n.func.isRequired,onThreadNameChange:n.func.isRequired,onThreadPhotoChange:n.func.isRequired,onUnmute:n.func.isRequired,participants:n.instanceOf(c('immutable').Map).isRequired,peopleSectionCollapsed:n.bool.isRequired,photosSectionCollapsed:n.bool.isRequired,platform:n.string,prevIsScrolledToBottom:n.bool.isRequired,prevScrollableHeight:n.number.isRequired,showLeaveGroup:n.bool.isRequired,thread:n.instanceOf(c('ImmutableObject')).isRequired,threadOptionsSectionCollapsed:n.bool.isRequired,groupOptionsSectionCollapsed:n.bool.isRequired,groupOptionsApprovalsSectionCollapsed:n.bool.isRequired,viewer:n.string.isRequired};f.exports=p;}),null);
__d('MessengerThreadInfoPanelScrollableArea.react',['MessengerFlexArea.react','MessengerScrollableArea.react','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={prevHeight:-1,prevIsScrolledToBottom:false},this.$MessengerThreadInfoPanelScrollableArea1=null,this.isScrolledToBottom=function(){return this.refs.scrollable.isScrolledToBottom();}.bind(this),this.getHeight=function(){return c('ReactDOM').findDOMNode(this.refs.scrollable).offsetHeight;}.bind(this),this.$MessengerThreadInfoPanelScrollableArea2=function(){var q=this.isScrolledToBottom(),r=this.getHeight();if(this.state.prevIsScrolledToBottom!==q||this.state.prevHeight!==r)this.setState({prevHeight:r,prevIsScrolledToBottom:q});}.bind(this),m;}k.prototype.render=function(){return c('React').createElement(c('MessengerFlexArea.react'),{className:this.props.className,onResize:this.$MessengerThreadInfoPanelScrollableArea2},c('React').createElement(c('MessengerScrollableArea.react'),{height:'100%',onScroll:this.$MessengerThreadInfoPanelScrollableArea2,ref:'scrollable'},this.props.children(this.state.prevHeight,this.state.prevIsScrolledToBottom,this.isScrolledToBottom,this.getHeight)));};k.propTypes={children:j.func.isRequired};f.exports=k;}),null);
__d("XMessagingSetThreadStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messaging\/set_thread_state\/",{});}),null);
__d('MessengerThreadInfoPanelContainer.react',['AsyncRequest','immutable','ImmutableObject','MercuryAPIArgsSource','MercuryIDs','MercuryLogMessageType','MercuryMessageActions','MercuryMessageObject','MercuryThreadActions','MercuryThreadInfo','MercuryTriodeSourceUtil','MessengerActions','MessengerConfirmLeaveGroupDialog.react','messengerContactActionsRe','MessengerAdminGroupUtils','MessengerThreadInfoPanelScrollableArea.react','MessengerSettingsActions','MessengerSettingsStore','MessengerThreadInfoPanel.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','URI','XMessagingSetThreadStateController'],(function a(b,c,d,e,f,g){'use strict';var h=c('messengerContactActionsRe').actions,i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerThreadInfoPanelContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MessengerSettingsStore'))],propTypes:{contactData:i.object,participants:i.instanceOf(c('immutable').Map).isRequired,thread:i.instanceOf(c('ImmutableObject')).isRequired,viewer:i.string.isRequired},statics:{calculateState:function k(){var l=c('MessengerSettingsStore').getSettings(),m=l.people_section_collapsed,n=l.photos_section_collapsed,o=l.thread_section_collapsed,p=l.group_section_collapsed,q=l.group_approval_section_collapsed;return {people_section_collapsed:m,photos_section_collapsed:n,thread_section_collapsed:o,group_section_collapsed:p,group_approval_section_collapsed:q};}},render:function k(){var l=this.props.contactData||{},m=this.state,n=m.people_section_collapsed,o=m.photos_section_collapsed,p=m.thread_section_collapsed,q=m.group_section_collapsed,r=m.group_approval_section_collapsed;return (c('React').createElement(c('MessengerThreadInfoPanelScrollableArea.react'),{className:this.props.className},function(s,t,u,v){return (c('React').createElement(c('MessengerThreadInfoPanel.react'),{contact:l.contact,getIsScrolledToBottom:u,getScrollableHeight:v,isUserActive:l.isUserActive||false,lastActive:l.lastActive,onArchive:this._handleArchive,onContactAction:this._handleContactAction,onContactSelect:this._handleContactSelect,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onMuteChange:this._handleMuteChange,onPeopleSectionToggle:this._handlePeopleSectionToggle,onPhotosSectionToggle:this._handlePhotosSectionToggle,onThreadOptionsSectionToggle:this._handleThreadSectionToggle,onGroupOptionsSectionToggle:this._handleGroupOptionsSectionToggle,onGroupApprovalOptionsSectionToggle:this._handleGroupOptionsApprovalSectionToggle,onThreadNameChange:this._handleThreadNameChange,onThreadPhotoChange:this._handleThreadPhotoChange,onUnmute:this._handleUnmute,participants:this.props.participants,peopleSectionCollapsed:n,photosSectionCollapsed:o,platform:l.platform,prevIsScrolledToBottom:t,prevScrollableHeight:s,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical,thread:this.props.thread,threadOptionsSectionCollapsed:p,groupOptionsSectionCollapsed:q,groupOptionsApprovalsSectionCollapsed:r,viewer:this.props.viewer}));}.bind(this)));},_handleArchive:function k(){this._getThreadActions().archive(this.props.thread.thread_id);c('MessengerActions').selectThread(null);},_handleDelete:function k(){this._getThreadActions()['delete'](this.props.thread.thread_id);c('MessengerActions').selectThread(null);},_handleMarkRead:function k(){this._getThreadActions().markRead(this.props.thread.thread_id);},_handleMarkSpam:function k(){this._getThreadActions().markSpam(this.props.thread.thread_id);c('MessengerActions').selectThread(null);},_handleMarkUnread:function k(){this._getThreadActions().markUnread(this.props.thread.thread_id);},_handleMute:function k(l){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,l);},_handleUnmute:function k(){this._getThreadActions().unmute(this.props.thread.thread_id);},_handleMuteChange:function k(l){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,l);},_handleContactSelect:function k(l){if(c('MercuryIDs').getUserIDFromParticipantID(l.uid)!==this.props.viewer){var m=c('MercuryIDs').getThreadIDFromParticipantID(l.uid);m&&c('MessengerActions').selectThread(m);}},_handleContactAction:function k(l,m){if(c('MercuryIDs').getUserIDFromParticipantID(m.uid)!==this.props.viewer)switch(l){case h.MESSAGE:this._handleContactSelect(m);break;case h.PROFILE:var n=this.props.participants.get(m.uid);if(n&&n.href){window.open(n.href);}else this._handleContactSelect(m);break;case h.REMOVE:if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread)){var o=new (c('URI'))('/chat/remove_participants/');o.addQueryData({uid:c('MercuryIDs').getUserIDFromParticipantID(m.uid),tid:this.props.thread.thread_fbid});var p=new (c('AsyncRequest'))(o);p.send();}break;}switch(l){case h.REMOVE_OWNER:if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread))this._getThreadActions().changeGroupAdmins(this.props.thread.thread_fbid,[c('MercuryIDs').getUserIDFromParticipantID(m.uid)],false);break;case h.ADD_OWNER:if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread))this._getThreadActions().changeGroupAdmins(this.props.thread.thread_fbid,[c('MercuryIDs').getUserIDFromParticipantID(m.uid)],true);break;}},_handleLeaveGroup:function k(){if(this.props.viewer){var l=c('MessengerAdminGroupUtils').isViewerAdmin(this.props.thread.admin_ids,this.props.viewer);c('MessengerActions').showDialog(c('MessengerConfirmLeaveGroupDialog.react'),{onLeave:this._onLeaveGroupConfirm,isViewerAdmin:l,thread:this.props.thread});}},_onLeaveGroupConfirm:function k(){if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread)){var l=this._getMessageObject().constructLogMessageObject(c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),this.props.thread.thread_id,c('MercuryLogMessageType').UNSUBSCRIBE,{removed_participants:[c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(l);}},_handleThreadNameChange:function k(l){var m=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread);if(!m){this._getMessageActions().send(this._getMessageObject().constructLogMessageObject(c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),this.props.thread.thread_id,c('MercuryLogMessageType').THREAD_NAME,{name:l}),null,c('MercuryAPIArgsSource').MESSENGER);}else{var n=c('XMessagingSetThreadStateController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(n).setData({thread_id:this.props.thread.thread_fbid,thread_name:l}).send();}},_handleThreadPhotoChange:function k(l,m){this._getMessageActions().send(this._getMessageObject().constructLogMessageObject(c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),l,c('MercuryLogMessageType').THREAD_IMAGE,{image:m.metadata[0]}));},_handlePeopleSectionToggle:function k(){c('MessengerSettingsActions').changeSettings({people_section_collapsed:!this.state.people_section_collapsed});},_handlePhotosSectionToggle:function k(){c('MessengerSettingsActions').changeSettings({photos_section_collapsed:!this.state.photos_section_collapsed});},_handleThreadSectionToggle:function k(){c('MessengerSettingsActions').changeSettings({thread_section_collapsed:!this.state.thread_section_collapsed});},_handleGroupOptionsSectionToggle:function k(){c('MessengerSettingsActions').changeSettings({group_section_collapsed:!this.state.group_section_collapsed});},_handleGroupOptionsApprovalSectionToggle:function k(){c('MessengerSettingsActions').changeSettings({group_approval_section_collapsed:!this.state.group_approval_section_collapsed});},_getThreadActions:function k(){return c('MercuryThreadActions').getForFBID(this.props.viewer);},_getMessageActions:function k(){return c('MercuryMessageActions').getForFBID(this.props.viewer);},_getMessageObject:function k(){return c('MercuryMessageObject').getForFBID(this.props.viewer);}});f.exports=j;}),null);
__d('MessengerDetailView.react',['cx','fbt','invariant','BootloadOnRender.react','DataTransfer','immutable','JSResource','LazyComponent.react','MercuryIDs','MercuryConfig','MercuryCanonicalGroupThreadStore','MercuryParticipants','MercuryThreadActions','MercuryThreadInfo','MercuryThreads','MessengerComposerStore','MessengerComposerContainer.react','MessengerConversation.react','MessengerConversationContainer.react','MessengerDetailViewHeaderContainer.react','messengerDomIDsRe','MessengerErrorBoundary.react','MessengerPresenceStatusUtils','MessengerSettingsActions','MessengerSettingsStore','MessengerStateStore','MessengerThreadSearchStore','MessengerThreadInfoPanelContainer.react','MessengerThreadSearchActions','MessengerView','MessengerWebDriverTestIDs','Parent','PresenceStatus','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','AvailableList','emptyFunction'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('messengerDomIDsRe').ids;c('AvailableList');var l=c('React').PropTypes,m=c('React').createClass({displayName:'MessengerDetailView',_composer:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MessengerComposerStore'),c('MessengerStateStore'),c('MessengerThreadSearchStore'),c('MercuryCanonicalGroupThreadStore'),c('MercuryThreads'),c('MercuryParticipants'),c('PresenceStatus'))],propTypes:{activeThreadID:l.string,view:l.string,viewer:l.string.isRequired},statics:{calculateState:function n(o){var p=o.activeThreadID,q=c('MercuryThreads').getForFBID(o.viewer),r=c('MessengerComposerStore').getState();if(o.view===c('MessengerView').DETAIL.COMPOSE){!!r.recipients||j(0);var s=r.recipients;if(s.size===1){p=c('MercuryIDs').getThreadIDFromUserID(s.first().getUniqueID().toString());}else if(s.size>1)p=c('MercuryCanonicalGroupThreadStore').getOrFetch(Array.from(s).map(function(v){return v.getUniqueID().toString();}));}var t=p?q.getOrFetch(p):null,u=c('immutable').Map();if(t)u=u.withMutations(function(v){t&&t.participants&&t.participants.forEach(function(w){v.set(w,c('MercuryParticipants').getOrFetch(w));});t&&t.is_subscribed&&v.set(c('MercuryIDs').getParticipantIDFromUserID(o.viewer),c('MercuryParticipants').getOrFetch(c('MercuryIDs').getParticipantIDFromUserID(o.viewer)));});return {infoPanelCollapsed:c('MessengerSettingsStore').getSettings().info_sidebar_collapsed,activeThreadID:p,composerState:r,messengerState:c('MessengerStateStore').getState(),contactData:c('MessengerPresenceStatusUtils').getStatusFromCanonicalThread(u,t),activeThread:t,participants:u,searchResults:c('MessengerThreadSearchStore').getState()};}},_refsConversationContainer:null,getInitialState:function n(){return {dropTargetOverlayVisible:false};},render:function n(){var o=this.state.activeThreadID,p=this._getMainLabelDetails();return (c('React').createElement('div',{'aria-labelledby':p.labelIDs,className:"_1q5-",role:'main'},c('React').createElement('div',{className:"hidden_elem",id:k.MAIN_LABEL},p.labelText),c('React').createElement(c('MessengerDetailViewHeaderContainer.react'),{contactData:this.state.contactData,recipients:this.state.composerState.recipients,participants:this.state.participants,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer,onResize:this._handleResize,onInfoPanelToggle:this._handleInfoPanelToggle,infoPanelCollapsed:this.state.infoPanelCollapsed}),c('React').createElement('div',{className:"_20bp"},this._renderInfoPanel(o),c('React').createElement('div',{className:"_4_j4",onClick:this._handleConversationClick,onDragEnter:this._showDropTargetOverlay,onDragLeave:this._hideDropTargetOverlay,onDragOver:this._showDropTargetOverlay,onDrop:this._handleDrop},this._renderMainView(o),this._renderSearchView(o),this._renderFooterView(o),c('React').createElement('div',{className:(!this.state.dropTargetOverlayVisible?"hidden_elem":'')+(' '+"_2fg6")})))));},_renderSearchView:function n(o){return o&&!this.props.mid&&this.props.query!=null?c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('MessengerThreadSearchContainer.react').__setRef('MessengerDetailView.react'),placeholder:c('React').createElement('div',{className:"_33p7 _5iwm"}),component:c('React').createElement(c('LazyComponent.react'),{loading:this.state.searchResults.loading,query:this.state.searchResults.query,selectedIndex:this.state.searchResults.selectedIndex,totalCount:this.state.searchResults.totalCount})}):null;},_assignConversationContainerRef:function n(o){this._refsConversationContainer=o;},_renderMainView:function n(o){if(!o)return c('React').createElement('div',{className:"_1ut7"});var p=this.state.contactData?this.state.contactData.contact:null;if(this.state.searchResults.messages)return (c('React').createElement(c('MessengerErrorBoundary.react'),{component:'conversation'},c('React').createElement(c('MessengerConversation.react'),{className:"_1wfr",contact:p,downExhausted:this.state.searchResults.downExhausted,fetchMessages:c('MessengerThreadSearchActions').getMoreSearchContext,innerClassName:"_1r_-",isCanonical:c('MercuryIDs').isCanonical(o),isLoaded:true,isLoading:false,messages:this.state.searchResults.messages,onRead:c('emptyFunction'),participants:this.state.participants,thread:this.state.activeThread,threadID:o,upExhausted:this.state.searchResults.upExhausted,useManualFetch:true,viewer:this.props.viewer})));return (c('React').createElement(c('MessengerErrorBoundary.react'),{component:'conversation'},c('React').createElement(c('MessengerConversationContainer.react'),{className:"_1wfr",contact:p,onMarkRead:this._handleMarkRead,participants:this.state.participants,ref:this._assignConversationContainerRef,thread:this.state.activeThread,threadID:o,viewer:this.props.viewer})));},_renderFooterView:function n(o){var p=c('MercuryConfig').ColdOpenBlock&&this.state.activeThread&&c('MercuryThreadInfo').isColdOpen(this.state.activeThread);return (c('React').createElement(c('MessengerErrorBoundary.react'),{className:"_4rv3 _2pen",component:'composer'},c('React').createElement(c('MessengerComposerContainer.react'),{canReply:!!(!p&&(this.props.view===c('MessengerView').DETAIL.COMPOSE||this.state.activeThread&&c('MercuryThreadInfo').canReply(this.state.activeThread)&&!c('MercuryConfig').ViewerIsReadOnly)),onMount:function(q){return this._composer=q;}.bind(this),onResize:this._handleResize,participants:this.state.participants,recipients:this.state.composerState.recipients,threadID:o,threadFBID:this.state.activeThread?this.state.activeThread.thread_fbid:null,thread:this.state.activeThread,view:this.props.view,viewer:this.props.viewer})));},_renderInfoPanel:function n(o){var p=this.state,q=p.activeThread,r=p.contactData,s=p.infoPanelCollapsed,t=p.participants,u=this.props.view;if(!q||!t||u===c('MessengerView').DETAIL.COMPOSE)return null;return (c('React').createElement('div',{className:(s?"hidden_elem":'')+(' '+"_4_j5"),'data-testid':c('MessengerWebDriverTestIDs').INFO_PANEL},c('React').createElement(c('MessengerErrorBoundary.react'),{className:"_4rv3",component:'conversation information'},c('React').createElement(c('MessengerThreadInfoPanelContainer.react'),{className:"_4_j9",contactData:r,participants:t,thread:q,viewer:this.props.viewer}))));},_getMainLabelDetails:function n(){if(this.props.view===c('MessengerView').DETAIL.COMPOSE)return {labelText:i._("Nouveau message"),labelIDs:k.MAIN_LABEL};return {labelText:i._("Conversation avec"),labelIDs:k.MAIN_LABEL+' '+k.THREAD_TITLE};},_handleConversationClick:function n(o){var p=this.props.activeThreadID;if(p&&this._refsConversationContainer&&this._refsConversationContainer.isScrolledToBottom())this._handleMarkRead(p);if(window.getSelection().toString()!=='')return;if(c('Parent').byTag(o.target,'a')!=null)return;var q=this._getComposer();q&&q.focusInput();},_showDropTargetOverlay:function n(o){o&&o.preventDefault();this.setState({dropTargetOverlayVisible:true});},_hideDropTargetOverlay:function n(o){o&&o.preventDefault();this.setState({dropTargetOverlayVisible:false});var p=this._getComposer();p&&p.resetDrag();},_handleDrop:function n(o){this._hideDropTargetOverlay(o);var p=this._getComposer();if(!p)return;o.nativeEvent.dataTransfer instanceof Object||j(0);var q=new (c('DataTransfer'))(o.nativeEvent.dataTransfer),r=q.getFiles();if(r.length){p.handleFileUpload(r);}else{var s=q.getText();if(s)p.handleTextDropped(s);}},_handleResize:function n(){var o=this._refsConversationContainer;if(o)o.handleResize();},_handleInfoPanelToggle:function n(){var o=!this.state.infoPanelCollapsed;this.setState({infoPanelCollapsed:o},function(){c('MessengerSettingsActions').changeSettings({info_sidebar_collapsed:o});});},_handleMarkRead:function n(o){c('MercuryThreadActions').getForFBID(this.props.viewer).markRead(o);},_getComposer:function n(){return this._composer;}});f.exports=m;}),null);
__d('MessengerDialogStore',['MessengerActions','MessengerStore'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('MessengerStore'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);this.$MessengerDialogStore1={dialogClass:null,dialogProps:null};}j.prototype.getState=function(){'use strict';return this.$MessengerDialogStore1;};j.prototype.__onDispatch=function(k){'use strict';switch(k.type){case c('MessengerActions').Types.SHOW_DIALOG:this.$MessengerDialogStore1.dialogClass=k.dialogClass;this.$MessengerDialogStore1.dialogProps=k.dialogProps;this.emitChange();break;case c('MessengerActions').Types.HIDE_DIALOG:if(k.dialogClass&&this.$MessengerDialogStore1.dialogClass!=k.dialogClass)break;this.$MessengerDialogStore1.dialogClass=null;this.$MessengerDialogStore1.dialogProps=null;this.emitChange();break;}};f.exports=new j();}),null);
__d('MessengerDialogContainer.react',['MessengerDialogStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').createClass({displayName:'MessengerDialogContainer',mixins:[c('PureStoreBasedStateMixin')(c('MessengerDialogStore'))],statics:{calculateState:function i(){return c('MessengerDialogStore').getState();}},render:function i(){if(!this.state.dialogClass)return null;var j=this.state.dialogClass;return c('React').createElement(j,babelHelpers['extends']({},this.state.dialogProps,{key:'dialog'}));}});f.exports=h;}),null);
__d("XMessengerDotComSpoofIFrameController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/spoof\/fb_iframe_target\/",{gk_spoof:{type:"String"}});}),null);
__d("XSpoofMessengerDotComIFrameController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/spoof\/messenger_dot_com_iframe\/",{redirect_uri:{type:"String",required:true}});}),null);
__d('MessengerSpoof',['Arbiter','DOM','JSXDOM','URI','XSpoofMessengerDotComIFrameController','XMessengerDotComSpoofIFrameController'],(function a(b,c,d,e,f,g){'use strict';var h=6000;function i(k){var l=c('JSXDOM').iframe({src:j().toString(),width:0,height:0});c('DOM').appendContent(document.body,l);c('Arbiter').subscribeOnce('messengerdotcom_spoof',function(){c('DOM').remove(l);k();});setTimeout(function(){c('Arbiter').inform('messengerdotcom_spoof');},h);}function j(){var k=new (c('URI'))(document.URL),l=c('XMessengerDotComSpoofIFrameController').getURIBuilder().getURI().getQualifiedURI().toString(),m=c('XSpoofMessengerDotComIFrameController').getURIBuilder().setString('redirect_uri',l).getURI();return m.setDomain(k.getDomain().replace('messenger.com','facebook.com')).setPort(k.getPort()).setProtocol('https');}f.exports={init:i};}),null);
__d('ServiceWorkerLoginAndLogout',['ClientServiceWorkerMessage'],(function a(b,c,d,e,f,g){function h(j){new (c('ClientServiceWorkerMessage'))(j,null).sendViaController();}var i={login:function j(){h('login');},logout:function j(){h('logout');}};f.exports=i;}),null);
__d("XMessengerDotComLogoutController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/logout\/",{next:{type:"String"}});}),null);
__d('MessengerSettingsMenu.react',['fbt','cx','AbstractPopoverButton.react','AsyncDialog','AsyncRequest','Bootloader','CacheStorage','Form','goURI','Link.react','MercuryFilters','MercuryIDs','MercuryParticipants','MessagingTag','MessengerActions','MessengerConfig','MessengerSpoof','MessengerMenu.react','MessengerPopoverMenu.react','MessengerView','React','Run','ServiceWorkerLoginAndLogout','XMessengerDotComLogoutController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('MessengerMenu.react').Item,m=c('MessengerMenu.react').Separator,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$MessengerSettingsMenu1=function(u){u.preventDefault();c('Bootloader').loadModules(["MessengerSettingsDialog.react"],function(v){c('MessengerActions').showDialog(v,{viewer:this.props.viewer});}.bind(this),'MessengerSettingsMenu.react');}.bind(this),this.$MessengerSettingsMenu10=function(u){u.preventDefault();c('MessengerActions').changeMasterView(this.props.view===c('MessengerView').MASTER.RECENT?c('MessengerView').MASTER.PEOPLE:c('MessengerView').MASTER.RECENT);}.bind(this),this.$MessengerSettingsMenu8=function(){c('MessengerActions').changeFolder(this.props.folder===c('MessagingTag').PENDING?c('MessagingTag').INBOX:c('MessagingTag').PENDING);}.bind(this),this.$MessengerSettingsMenu9=function(){c('MessengerActions').changeFolder(this.props.folder===c('MessagingTag').ACTION_ARCHIVED?c('MessagingTag').INBOX:c('MessagingTag').ACTION_ARCHIVED);}.bind(this),this.$MessengerSettingsMenu12=function(){c('MessengerActions').changeFilter(this.props.filter===c('MercuryFilters').UNREAD?c('MercuryFilters').ALL:c('MercuryFilters').UNREAD);}.bind(this),q;}o.prototype.render=function(){var p=c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(l,{label:h._("Param\u00e8tres"),onclick:this.$MessengerSettingsMenu1}),c('React').createElement(m,null),this.$MessengerSettingsMenu2(),this.$MessengerSettingsMenu3(),this.$MessengerSettingsMenu4(),c('React').createElement(m,null),c('React').createElement(l,{href:'https://www.messenger.com/about',label:h._("\u00c0 propos"),target:'_blank'}),c('React').createElement(l,{href:'https://www.facebook.com/policies',label:h._("Conditions"),target:'_blank'}),c('React').createElement(l,{href:'https://www.facebook.com/privacy/explanation',label:h._("Politique de confidentialit\u00e9"),target:'_blank'}),c('React').createElement(l,{href:'https://www.facebook.com/help/cookies',label:h._("Politique d\u2019utilisation des cookies"),target:'_blank'}),c('React').createElement(m,null),c('React').createElement(l,{href:'https://www.facebook.com/help/735006619902401',label:h._("Aide"),target:'_blank'}),c('React').createElement(l,{label:h._("Signaler un probl\u00e8me"),onclick:this.$MessengerSettingsMenu5}),this.$MessengerSettingsMenu6(),c('React').createElement(m,null),c('React').createElement(l,{label:h._("D\u00e9connexion"),onclick:this.$MessengerSettingsMenu7})),q=h._("Param\u00e8tres, politique de confidentialit\u00e9, aide et plus"),r={button:c('React').createElement(c('Link.react'),{'aria-label':q,className:"_30yy _2fug",role:'button',title:q}),defaultMaxWidth:200};return c('React').createElement(c('MessengerPopoverMenu.react'),{menu:p},c('React').createElement(c('AbstractPopoverButton.react'),{config:r,haschevron:false,image:null,label:null,maxwidth:200}));};o.prototype.$MessengerSettingsMenu3=function(){if(this.props.view!==c('MessengerView').MASTER.RECENT)return null;var p=[c('React').createElement(l,{key:'message-requests-switch',label:h._("Invitations par message"),onclick:this.$MessengerSettingsMenu8})];if(this.props.folder===c('MessagingTag').INBOX&&c('MessengerConfig').AllowArchived)p.push(c('React').createElement(l,{key:'archived-switch',label:h._("Threads archiv\u00e9s"),onclick:this.$MessengerSettingsMenu9}));return p;};o.prototype.$MessengerSettingsMenu5=function(p){p.preventDefault();c('AsyncDialog').send(new (c('AsyncRequest'))('/ajax/bugs/report'));};o.prototype.$MessengerSettingsMenu7=function(){var p=new (c('CacheStorage'))('localstorage');c('Run').onUnload(function(){p.clear();c('ServiceWorkerLoginAndLogout').logout();});c('Form').post(c('XMessengerDotComLogoutController').getURIBuilder().getURI(),{});};o.prototype.$MessengerSettingsMenu11=function(){c('MessengerSpoof').init(function(){c('goURI')(window.location.href,true);});};o.prototype.$MessengerSettingsMenu2=function(){if(!c('MessengerConfig').PeopleTabEnabled)return null;return c('React').createElement(l,{label:this.props.view===c('MessengerView').MASTER.RECENT?h._("Contacts actifs"):h._("Messages r\u00e9cents"),onclick:this.$MessengerSettingsMenu10});};o.prototype.$MessengerSettingsMenu4=function(){if(!c('MessengerConfig').UnreadFilter)return null;return c('React').createElement(l,{label:this.props.filter===c('MercuryFilters').UNREAD?h._("Tous les fils"):h._("Fils non lus"),onclick:this.$MessengerSettingsMenu12});};o.prototype.$MessengerSettingsMenu6=function(){var p=c('MercuryParticipants').getOrFetch(c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer));if(!p||!p.employee)return null;return c('React').createElement(l,{label:h._("Copy Spoofs"),onclick:this.$MessengerSettingsMenu11});};o.propTypes={filter:n.string.isRequired,folder:n.string.isRequired,view:n.string.isRequired,viewer:n.string.isRequired};f.exports=o;}),null);
__d('MessengerMasterViewHeader.react',['cx','fbt','Link.react','MessagingTag','MessengerActions','MessengerDirect','MessengerSettingsMenu.react','MessengerURIConstants','MessengerView','React','WorkGKs'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('MessengerDirect').module,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerMasterViewHeader7=function(t){t.preventDefault();if(this.props.view!==c('MessengerView').MASTER.RECENT)c('MessengerActions').changeMasterView(c('MessengerView').MASTER.RECENT);c('MessengerActions').changeFolder(c('MessagingTag').INBOX);}.bind(this),p;}n.prototype.$MessengerMasterViewHeader1=function(){var o=i._("Nouveau message");return c('React').createElement(c('Link.react'),{'aria-label':o,className:"_30yy _2oc8",href:c('MessengerURIConstants').COMPOSE_SUBPATH,onClick:this.$MessengerMasterViewHeader2,role:'button',title:o});};n.prototype.$MessengerMasterViewHeader3=function(){return l?c('React').createElement(l,{viewer:this.props.viewer}):null;};n.prototype.$MessengerMasterViewHeader4=function(){return c('React').createElement('div',{className:"_4kzu"},c('React').createElement(c('MessengerSettingsMenu.react'),{filter:this.props.filter,folder:this.props.folder,view:this.props.view,viewer:this.props.viewer}));};n.prototype.render=function(){var o=this.props.folder!==c('MessagingTag').INBOX||this.props.view!==c('MessengerView').MASTER.RECENT?this.$MessengerMasterViewHeader5():this.$MessengerMasterViewHeader4();return c('React').createElement('div',{className:"_36ic _5l-3",role:'banner'},o,this.$MessengerMasterViewHeader3(),c('React').createElement('div',{className:"_1tqi"},this.$MessengerMasterViewHeader6()),this.$MessengerMasterViewHeader1());};n.prototype.$MessengerMasterViewHeader6=function(){if(this.props.folder===c('MessagingTag').PENDING){return i._("Invitations par message");}else if(this.props.folder===c('MessagingTag').OTHER){return i._("Demandes filtr\u00e9es");}else if(this.props.view===c('MessengerView').MASTER.PEOPLE){return i._("Actifs");}else if(c('WorkGKs').workplace_www_chat_branding){return i._("Work Chat");}else return i._("Messenger");};n.prototype.$MessengerMasterViewHeader5=function(){var o=this.props.folder===c('MessagingTag').PENDING||this.props.folder===c('MessagingTag').ACTION_ARCHIVED||this.props.view!==c('MessengerView').MASTER.RECENT,p=o?this.$MessengerMasterViewHeader7:this.$MessengerMasterViewHeader8,q=o?i._("Retour aux messages r\u00e9cents"):i._("Revenir aux invitations par message");return c('React').createElement(c('Link.react'),{'aria-label':q,className:"_30yy _2oc9",onClick:p,role:'button',title:q});};n.prototype.$MessengerMasterViewHeader2=function(o){o.preventDefault();c('MessengerActions').changeDetailView(c('MessengerView').DETAIL.COMPOSE);};n.prototype.$MessengerMasterViewHeader8=function(o){o.preventDefault();c('MessengerActions').changeFolder(c('MessagingTag').PENDING);};n.propTypes={filter:m.string.isRequired,folder:m.string.isRequired,view:m.string.isRequired,viewer:m.string.isRequired};f.exports=n;}),null);
__d('P2PBannerStore',['invariant','EventEmitter','P2PActionConstants','P2PAPI','P2PDispatcher'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=void 0,l={},m=false,n=false;i=babelHelpers.inherits(o,c('EventEmitter'));j=i&&i.prototype;function o(){j.constructor.call(this);k=c('P2PDispatcher').register(this.onEventDispatched.bind(this));}o.prototype.onEventDispatched=function(p){var q=p.type,r=p.data;switch(q){case c('P2PActionConstants').BANNER_STATES_UPDATED:this.handleBannerStatesUpdated(r);this.emit('change');break;case c('P2PActionConstants').BANNER_DISMISSED:this.handleBannerDismissed(r);this.emit('change');break;case c('P2PActionConstants').BANNER_COMPLETED:this.handleBannerCompleted(r);this.emit('change');break;}};o.prototype.handleBannerStatesUpdated=function(p){m=true;l=p;};o.prototype.handleBannerDismissed=function(p){var q=this.getBannerState(p);q.hasBeenDismissed=true;};o.prototype.shouldShowBanner=function(p){var q=void 0;if(!n){c('P2PAPI').getBannerStates();n=true;return false;}if(!m)return false;q=this.getBannerState(p);return (q.eligible&&!q.hasBeenDismissed);};o.prototype.handleBannerCompleted=function(p){var q=this.getBannerState(p);q.eligible=false;};o.prototype.getBannerState=function(p){var q=l[p];q||h(0);return q;};f.exports=new o();}),null);
__d('P2PJewelBanner.react',['cx','fbt','ix','Image.react','Layout.react','P2PButton.react','React','TooltipLink.react','URI','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').FillColumn,n=c('Layout.react').Column,o=c('React').PropTypes;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.handleCloseClick=function(v){v.stopPropagation();if(this.props.onClose)this.props.onClose();}.bind(this),this.handleClick=function(){this.execPrimaryClick();}.bind(this),this.handlePrimaryClick=function(v){v.stopPropagation();this.execPrimaryClick();}.bind(this),this.execPrimaryClick=function(){if(this.props.primaryActionConfig.uri)new (c('URI'))(this.props.primaryActionConfig.uri).go();this.props.primaryActionConfig.onClick&&this.props.primaryActionConfig.onClick();}.bind(this),this.handleSecondaryActionClick=function(v){v.stopPropagation();this.props.secondaryActionConfig&&this.props.secondaryActionConfig.onClick&&this.props.secondaryActionConfig.onClick();}.bind(this),this.renderCloseButton=function(){return (c('React').createElement(c('TooltipLink.react'),{alignH:'center',className:"_47d8",href:'#',onClick:this.handleCloseClick,position:'above',tooltip:i._("Annuler")},c('React').createElement(c('Image.react'),{className:"_47dg",height:7,src:j('/images/p2p/jewel-banner-close.png'),width:7})));}.bind(this),this.renderActions=function(){var v=this.props.primaryActionConfig,w=void 0,x=this.props.secondaryActionConfig;if(x)w=c('React').createElement(c('P2PButton.react'),{className:"_5d0t",href:'#',label:x.text,onClick:this.handleSecondaryActionClick,size:'large',target:'_blank',type:'primary'});return (c('React').createElement('div',null,w,c('React').createElement(c('P2PButton.react'),{className:"_5d0t",href:v.uri||'#',label:v.text,onClick:this.handlePrimaryClick,size:'large',target:'_blank',type:'primary',use:'confirm'})));}.bind(this),r;}p.prototype.render=function(){var q=void 0;if(this.props.isDismissable)q=this.renderCloseButton();return (c('React').createElement('div',{className:"_5d0n",onClick:this.handleClick},q,c('React').createElement(c('Layout.react'),null,c('React').createElement(n,{className:"_400i"},c('React').createElement('div',{className:"_400j"},c('React').createElement(c('Image.react'),{className:"_5d0q",height:50,src:j('/images/p2p/jewel-banner-coin.png'),width:50}))),c('React').createElement(m,{className:"_47di"},c('React').createElement('div',{className:"_400j"},c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'dark',weight:'bold'},this.props.titleText),c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'light'},this.props.bodyText))),c('React').createElement(n,{className:"_400k"},c('React').createElement('div',{className:"_400j"},this.renderActions())))));};p.propTypes={bodyText:o.node,isDismissable:o.bool,onClose:o.func,primaryActionConfig:o.shape({onClick:o.func,text:o.node.isRequired,uri:o.oneOfType([o.string,o.object])}).isRequired,secondaryActionConfig:o.shape({onClick:o.func.isRequired,text:o.node.isRequired}),titleText:o.node.isRequired};p.defaultProps={isDismissable:false};f.exports=p;}),null);
__d('P2PPendingPaymentRequestJewelBanner.react',['fbt','P2PJewelBanner.react','P2PPaymentRequest','P2PPaymentRequestActionHelper','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.handleDeclineClick=function(){c('P2PPaymentRequestActionHelper').initDeclinePaymentRequestFlow(this.props.paymentRequest);}.bind(this),this.handlePayClick=function(){c('P2PPaymentRequestActionHelper').initPayForPaymentRequestFlow(this.props.paymentRequest,'banner');}.bind(this),this.renderBodyText=function(){var r=this.props.paymentRequest,s=r.memoText;if(!s)return null;return h._("Pour {What the user paid for}",[h.param('What the user paid for',s)]);}.bind(this),n;}l.prototype.render=function(){var m=this.props.paymentRequest;return (c('React').createElement(c('P2PJewelBanner.react'),{bodyText:this.renderBodyText(),primaryActionConfig:{onClick:this.handlePayClick,text:h._("Payer")},secondaryActionConfig:{onClick:this.handleDeclineClick,text:h._("Refuser")},titleText:h._("{requester_name} a demand\u00e9 {amount}",[h.param('requester_name',m.requester.name),h.param('amount',m.amountWithSymbol)])}));};l.propTypes={paymentRequest:k.instanceOf(c('P2PPaymentRequest')).isRequired};f.exports=l;}),null);
__d('P2PPendingPushFailJewelBanner.react',['fbt','P2PJewelBanner.react','P2PLinkConstants','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.getActionText=function(){return h._("En savoir plus");},this.getBodyText=function(){var r=this.props.transfer;return h._("Impossible de d\u00e9poser le montant de {amount} {currency} de {sender_name} \u00e0 l\u2019aide de votre carte de d\u00e9bit.",[h.param('currency',r.currency),h.param('amount',r.amount),h.param('sender_name',r.sender.name)]);}.bind(this),n;}l.prototype.render=function(){return (c('React').createElement(c('P2PJewelBanner.react'),{bodyText:this.getBodyText(),primaryActionConfig:{text:this.getActionText(),uri:c('P2PLinkConstants').helpTransferPushFailURI},titleText:h._("Mettez votre carte \u00e0 jour")}));};l.propTypes={transfer:k.object.isRequired};f.exports=l;}),null);
__d('P2PTimeBasedAcceptMessage.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.transfer,n=m.creationTime*1000,o=1000*60*60*24,p=Date.now(),q=(p-n)/o,r=m.expirationTimestamp*1000-p,s=Math.round(Math.max(r/o,1)),t=void 0;if(q<=2){t=h._("Ajoutez une carte de d\u00e9bit pour que l\u2019argent aille directement \u00e0 votre banque.");}else if(q<=4){t=h._("Cet argent sera renvoy\u00e9 dans {days left} jours. Ajoutez une carte de d\u00e9bit pour l\u2019accepter.",[h.param('days left',s)]);}else if(q<=5){t=h._({"day":"Vous avez encore {days left} jour pour ajouter une carte de d\u00e9bit avant que l\u2019argent ne soit renvoy\u00e9 \u00e0 {sender_name}.","days":"Vous avez {days left} jours pour ajouter une carte de d\u00e9bit avant que l\u2019argent ne soit renvoy\u00e9 \u00e0 {sender_name}."},[h.param('days left',s),h['enum'](s===1?'day':'days',{day:'day',days:'days'}),h.param('sender_name',m.sender.name)]);}else t=h._("Vous avez 24 heures pour ajouter une carte de d\u00e9bit avant que l\u2019argent ne soit renvoy\u00e9 \u00e0 {sender_name}.",[h.param('sender_name',m.sender.name)]);return c('React').createElement('div',null,t);};function l(){i.apply(this,arguments);}l.propTypes={transfer:k.object.isRequired};f.exports=l;}),null);
__d('P2PPendingRecipientNUXJewelBanner.react',['fbt','P2PAcceptMoneyDialog.react','P2PActions','P2PCreditCardStore','P2PJewelBanner.react','P2PTimeBasedAcceptMessage.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PPendingRecipientNUXJewelBanner',propTypes:{transfer:i.object.isRequired},getInitialState:function k(){return {creditCards:c('P2PCreditCardStore').getAll()};},creditCardStoreSub:null,componentDidMount:function k(){this.creditCardStoreSub=c('P2PCreditCardStore').addListener('change',this.onCreditCardStoreChange);},componentWillUnmount:function k(){if(this.creditCardStoreSub){this.creditCardStoreSub.remove();this.creditCardStoreSub=null;}},onCreditCardStoreChange:function k(){var l={creditCards:c('P2PCreditCardStore').getAll()};if(this.isMounted())this.setState(l);},handleClick:function k(){this.showAcceptMoneyDialog();},showAcceptMoneyDialog:function k(){c('P2PActions').showDialog(c('P2PAcceptMoneyDialog.react'),{creditCards:this.state.creditCards,onClose:c('P2PActions').hideDialog,transfer:this.props.transfer});},renderTimeBasedMessage:function k(){return (c('React').createElement(c('P2PTimeBasedAcceptMessage.react'),{transfer:this.props.transfer}));},render:function k(){var l=this.props.transfer;if(!c('P2PCreditCardStore').isCreditCardsFetchComplete())return null;return (c('React').createElement(c('P2PJewelBanner.react'),{bodyText:this.renderTimeBasedMessage(),primaryActionConfig:{onClick:this.handleClick,text:h._("Ajouter une carte")},titleText:h._("Accepter {amount} {currency} de {sender_name}.",[h.param('currency',l.currency),h.param('amount',l.amount),h.param('sender_name',l.sender.name)])}));}});f.exports=j;}),null);
__d('P2PPendingRecipientVerificationJewelBanner.react',['fbt','P2PJewelBanner.react','P2PTransferParam','P2PVerificationFlowHelper','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.handleClick=function(){c('P2PVerificationFlowHelper').startVerificationFlow(this.props.transfer[c('P2PTransferParam').TRANSFER_ID],false);}.bind(this),n;}l.prototype.render=function(){return (c('React').createElement(c('P2PJewelBanner.react'),{bodyText:h._("Pour accepter l\u2019argent que {sender_name} vous a envoy\u00e9, veuillez confirmer vos informations.",[h.param('sender_name',this.props.transfer.sender.name)]),primaryActionConfig:{onClick:this.handleClick,text:h._("Confirmer les informations")},titleText:h._("Veuillez confirmer vos infos")}));};l.propTypes={transfer:k.object.isRequired};f.exports=l;}),null);
__d('P2PJewelBannerContainer.react',['cx','CurrentUser','P2PBannerStore','P2PPaymentRequestsStore','P2PPendingPaymentRequestJewelBanner.react','P2PPendingPushFailJewelBanner.react','P2PPendingRecipientNUXJewelBanner.react','P2PPendingRecipientVerificationJewelBanner.react','P2PTransferParam','P2PTransferStatus','P2PTransferStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').createClass({displayName:'P2PJewelBannerContainer',mixins:[c('PureStoreBasedStateMixin')(c('P2PBannerStore'),c('P2PPaymentRequestsStore'),c('P2PTransferStore'))],statics:{calculateState:function j(){var k=c('P2PTransferStore').getNUXTransfer(),l=c('P2PPaymentRequestsStore').getPendingPaymentRequest();return {paymentRequest:l,paymentRequestBannerShown:!!l,transfer:k,transferBannerShown:k&&k.receiver.id==c('CurrentUser').getID()};}},renderTransferBanner:function j(){var k=this.state.transfer,l=k[c('P2PTransferParam').STATUS];switch(l){case c('P2PTransferStatus').PENDING_RECIPIENT_NUX:return (c('React').createElement(c('P2PPendingRecipientNUXJewelBanner.react'),{transfer:k}));case c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION:return (c('React').createElement(c('P2PPendingRecipientVerificationJewelBanner.react'),{transfer:k}));case c('P2PTransferStatus').PENDING_PUSH_FAIL:return (c('React').createElement(c('P2PPendingPushFailJewelBanner.react'),{transfer:k}));}},renderPaymentRequestBanner:function j(){return (c('React').createElement(c('P2PPendingPaymentRequestJewelBanner.react'),{paymentRequest:this.state.paymentRequest}));},render:function j(){var k=void 0;if(this.state.transferBannerShown){k=this.renderTransferBanner();}else if(this.state.paymentRequestBannerShown)k=this.renderPaymentRequestBanner();return (c('React').createElement('div',{className:"_1xfk"},k));}});f.exports=i;}),null);
__d('MercuryThreadlistContainer.react',['Bootloader','immutable','MercuryAPIArgsSource','MercuryFilters','MercuryThreadlistConstants','MessagingTag','P2PJewelBannerContainer.react','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k='search';h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={isLoading:true,isSearching:false,unreadMessageRequestThreads:[],threads:c('immutable').Map()},this.$MercuryThreadlistContainer12=function(){return (c('React').createElement(c('P2PJewelBannerContainer.react'),null));},this.$MercuryThreadlistContainer6=function(r,s){if(r===c('MessagingTag').INBOX&&this.props.source!==c('MercuryAPIArgsSource').JEWEL)this.$MercuryThreadlistContainer13();if(!this.$MercuryThreadlistContainer14(r,s)){this.$MercuryThreadlistContainer15(r,s,this.props.threadCount||c('MercuryThreadlistConstants').JEWEL_THREAD_COUNT+3);}else if(this.state.isLoading){this.setState({isLoading:false},function(){this.$MercuryThreadlistContainer5(r,s);}.bind(this));}else this.$MercuryThreadlistContainer5(r,s);}.bind(this),this.$MercuryThreadlistContainer13=function(){this.$MercuryThreadlistContainer1.getFilteredThreadlist(c('MercuryThreadlistConstants').RECENT_THREAD_OFFSET,c('MercuryThreadlistConstants').MAX_UNREAD_COUNT,c('MessagingTag').PENDING,c('MercuryFilters').UNREAD,this.$MercuryThreadlistContainer16,true,this.props.source);}.bind(this),this.$MercuryThreadlistContainer9=function(){if(!this.state.isSearching&&!this.state.isLoading&&!this.$MercuryThreadlistContainer1.hasLoadedThreadlist(this.props.folder,this.props.filter))this.$MercuryThreadlistContainer15(this.props.folder,this.props.filter,this.$MercuryThreadlistContainer17(this.props.folder)+c('MercuryThreadlistConstants').JEWEL_MORE_COUNT+1);}.bind(this),this.$MercuryThreadlistContainer15=function(r,s,t){if(!this.$MercuryThreadlistContainer1)return;this.$MercuryThreadlistContainer8();this.setState({isLoading:true},function(){var u=this.$MercuryThreadlistContainer1.getFilteredThreadlist(c('MercuryThreadlistConstants').RECENT_THREAD_OFFSET,t,r,s||c('MercuryFilters').ALL,function(v){return this.setState({isLoading:false});}.bind(this),true,this.props.source);this.$MercuryThreadlistContainer18={subscriberID:u,folder:r,filter:s};}.bind(this));}.bind(this),this.$MercuryThreadlistContainer5=function(r,s,t){if(!this.$MercuryThreadlistContainer1||!this.$MercuryThreadlistContainer2)return;this.$MercuryThreadlistContainer7();var u=t||this.$MercuryThreadlistContainer1.getAvailableThreadlistNow(r,s);this.$MercuryThreadlistContainer19=this.$MercuryThreadlistContainer2.getMultiThreadMeta(u,function(v){this.setState({threads:this.state.threads.set(r,u.map(function(w){return v[w];}))});}.bind(this));}.bind(this),this.$MercuryThreadlistContainer16=function(){if(!this.$MercuryThreadlistContainer1||!this.$MercuryThreadlistContainer2)return;var r=this.$MercuryThreadlistContainer1.getAvailableThreadlistNow(c('MessagingTag').PENDING,c('MercuryFilters').UNREAD);this.$MercuryThreadlistContainer2.getMultiThreadMeta(r,function(s){this.setState({unreadMessageRequestThreads:r.map(function(t){return s[t];})});}.bind(this));}.bind(this),this.$MercuryThreadlistContainer14=function(r,s){return !!(this.$MercuryThreadlistContainer1&&(this.$MercuryThreadlistContainer1.getThreadCount(r,s)>=c('MercuryThreadlistConstants').JEWEL_THREAD_COUNT+3||this.$MercuryThreadlistContainer1.hasLoadedThreadlist(r,s)));}.bind(this),this.$MercuryThreadlistContainer17=function(r){var s=this.state.threads.get(r);return s?s.length:0;}.bind(this),this.$MercuryThreadlistContainer7=function(){this.$MercuryThreadlistContainer2&&this.$MercuryThreadlistContainer19&&this.$MercuryThreadlistContainer2.unsubscribe(this.$MercuryThreadlistContainer19);}.bind(this),this.$MercuryThreadlistContainer8=function(){this.$MercuryThreadlistContainer1&&this.$MercuryThreadlistContainer18&&this.$MercuryThreadlistContainer1.unsubscribe(this.$MercuryThreadlistContainer18.subscriberID,this.$MercuryThreadlistContainer18.folder,this.$MercuryThreadlistContainer18.filter);}.bind(this),this.$MercuryThreadlistContainer11=function(r,s){this.setState({isLoading:s,searchThreads:[]},function(){return this.$MercuryThreadlistContainer5(k,c('MercuryFilters').ALL,r);}.bind(this));}.bind(this),this.$MercuryThreadlistContainer10=function(r){this.setState({isSearching:!!r});}.bind(this),n;}l.prototype.componentDidMount=function(){c('Bootloader').loadModules(["MercuryOrderedThreadlist","MercuryThreadInformer","MercuryThreads"],function(m,n,o){this.$MercuryThreadlistContainer1=m.getForFBID(this.props.viewer);this.$MercuryThreadlistContainer2=o.getForFBID(this.props.viewer);this.$MercuryThreadlistContainer3=n.getForFBID(this.props.viewer);this.$MercuryThreadlistContainer4=new (c('SubscriptionsHandler'))();this.$MercuryThreadlistContainer4.addSubscriptions(this.$MercuryThreadlistContainer3.subscribe('threadlist-updated',function(p,q){this.$MercuryThreadlistContainer5(this.props.folder,this.props.filter);}.bind(this)));this.$MercuryThreadlistContainer6(this.props.folder,this.props.filter);}.bind(this),'MercuryThreadlistContainer.react');};l.prototype.componentWillReceiveProps=function(m){if(m.folder!==this.props.folder||m.filter!==this.props.filter)this.$MercuryThreadlistContainer6(m.folder,m.filter);};l.prototype.componentWillUnmount=function(){this.$MercuryThreadlistContainer7();this.$MercuryThreadlistContainer8();this.$MercuryThreadlistContainer4&&this.$MercuryThreadlistContainer4.release();};l.prototype.render=function(){var m=this.props,n=m.ChildClass,o=m.folder,p=m.filter,q=babelHelpers.objectWithoutProperties(m,['ChildClass','folder','filter']),r=this.state.isSearching?this.state.threads.get(k)||[]:this.state.threads.get(o)||[];return c('React').createElement(n,babelHelpers['extends']({},q,{filter:this.props.filter,folder:o,isLoaded:!!this.$MercuryThreadlistContainer1&&this.$MercuryThreadlistContainer1.hasLoadedThreadlist(o,p),isLoading:this.state.isLoading,isSearching:this.state.isSearching,newMessageRequestThreads:this.state.unreadMessageRequestThreads,onLoadMoreRequest:this.$MercuryThreadlistContainer9,onQuery:this.$MercuryThreadlistContainer10,onSearchResults:this.$MercuryThreadlistContainer11,p2pJewelBannerContainer:this.$MercuryThreadlistContainer12(),threads:r}));};l.propTypes={ChildClass:j.func.isRequired,filter:j.string.isRequired,folder:j.string.isRequired,showCount:j.bool,showPresence:j.bool,source:j.string,threadCount:j.number,viewer:j.string.isRequired};l.defaultProps={source:c('MercuryAPIArgsSource').JEWEL};f.exports=l;}),null);
__d('ChatSidebarSheetChatOffline.react',['fbt','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('div',null,h._("{=Go online} pour voir qui est disponible.",[h.param('=Go online',c('React').createElement(c('Link.react'),{className:'fbChatGoOnlineLink',onClick:this.props.onGoOnlineClick},h._("Activer la discussion instantan\u00e9e")))])));};function l(){i.apply(this,arguments);}l.propTypes={onGoOnlineClick:k.func.isRequired};f.exports=l;}),null);
__d('ChatSidebarSheetChatReconnectMsg.react',['fbt','ChannelConstants','Link.react','MessengerSpinner.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.isMessenger,o=m.msecs,p=c('React').createElement(c('Link.react'),{className:'fbChatReconnectLink',onClick:this.props.onManuallyConnectClick},h._("Aucune connexion Internet"));if(o==null||false===navigator.onLine){return (n?p:c('React').createElement('div',null,h._("Impossible de se connecter \u00e0 la discussion instantan\u00e9e. V\u00e9rifiez votre connexion Internet.")));}else if(o>c('ChannelConstants').WARNING_COUNTDOWN_THRESHOLD_MSEC){return (n?p:c('React').createElement('div',null,h._("Impossible de se connecter \u00e0 la discussion instantan\u00e9e. {try-again-link}",[h.param('try-again-link',c('React').createElement(c('Link.react'),{className:'fbChatReconnectLink',onClick:this.props.onManuallyConnectClick},h._("Veuillez r\u00e9essayer")))])));}else if(o>1000){return (n?p:c('React').createElement('div',null,h._("Impossible de se connecter \u00e0 la discussion instantan\u00e9e. Reconnexion dans {seconds} secondes...",[h.param('seconds',Math.floor(o/1000))])));}else return (n?c('React').createElement('div',null,c('React').createElement(c('MessengerSpinner.react'),{color:'grey'}),h._("Connexion...")):c('React').createElement('div',null,h._("Impossible de se connecter \u00e0 la discussion instantan\u00e9e. Reconnexion...")));};function l(){i.apply(this,arguments);}l.propTypes={isMessenger:k.bool,msecs:k.number,onManuallyConnectClick:k.func};f.exports=l;}),null);
__d('ChatSidebarSheetChatShutdownMsg.react',['fbt','ChannelConstants','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.hint,o=m.isMessenger;switch(n){case c('ChannelConstants').HINT_AUTH:return (c('React').createElement('div',null,h._("Votre session a expir\u00e9. Veuillez vous reconnecter.")));case c('ChannelConstants').HINT_MAINT:return (o?c('React').createElement('div',null,h._("Messenger est en cours de maintenance.")):c('React').createElement('div',null,h._("{Chat} est en cours de maintenance.",[h.param('Chat',h._("Discussion instantan\u00e9e"))])));case c('ChannelConstants').HINT_CONN:default:return (o?c('React').createElement('div',null,h._("Messenger est actuellement indisponible.")):c('React').createElement('div',null,h._("{Chat} Facebook n\u2019est pas disponible.",[h.param('Chat',h._("Discussion instantan\u00e9e"))])));}};function l(){i.apply(this,arguments);}l.propTypes={hint:k.string,isMessenger:k.bool};f.exports=l;}),null);
__d('ChatSidebarSheet.react',['fbt','Arbiter','ChannelConnection','ChatBehavior','ChatSidebarSheetChatOffline.react','ChatSidebarSheetChatReconnectMsg.react','ChatSidebarSheetChatShutdownMsg.react','ChatVisibility','MessengerEnvironment','CSS','JSLogger','MercurySyncConstants','PresencePrivacy','React','SubscriptionsHandler','emptyFunction','joinClasses','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('JSLogger').create('sidebar_sheet'),l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$ChatSidebarSheet3=function(o,p){this.setState({channelStatus:o,channelData:p});this.$ChatSidebarSheet4();}.bind(this);this.$ChatSidebarSheet4=function(){this.setState({isConnected:!c('ChannelConnection').disconnected(),isOnline:c('ChatVisibility').isOnline(),notifiesUserMessages:c('ChatBehavior').notifiesUserMessages()});}.bind(this);this.state={channelStatus:null,channelData:null,isConnected:!c('ChannelConnection').disconnected(),isOnline:c('ChatVisibility').isOnline(),notifiesUserMessages:c('ChatBehavior').notifiesUserMessages(),syncStateInvalid:false,syncStateReconnecting:false};}m.prototype.componentDidMount=function(){this.$ChatSidebarSheet1=new (c('SubscriptionsHandler'))();this.$ChatSidebarSheet1.addSubscriptions(c('ChannelConnection').subscribe([c('ChannelConnection').CONNECTED,c('ChannelConnection').SHUTDOWN,c('ChannelConnection').RECONNECTING],this.$ChatSidebarSheet3),c('ChannelConnection').subscribe([c('ChannelConnection').MUTE_WARNING,c('ChannelConnection').UNMUTE_WARNING],this.$ChatSidebarSheet4),c('PresencePrivacy').subscribe('privacy-user-presence-changed',this.$ChatSidebarSheet4),c('ChatBehavior').subscribe(c('ChatBehavior').ON_CHANGED,this.$ChatSidebarSheet4),c('Arbiter').subscribe(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE,function(){this.setState({syncStateInvalid:true,syncStateReconnecting:false});}.bind(this)),c('Arbiter').subscribe(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE_RETRY,function(){this.setState({syncStateReconnecting:true});}.bind(this)),c('Arbiter').subscribe(c('MercurySyncConstants').ARBITER_EVENT_INVALID_STATE_RECOVER,function(){this.setState({syncStateInvalid:false,syncStateReconnecting:false});}.bind(this)));};m.prototype.componentWillUpdate=function(){if(this.$ChatSidebarSheet2){clearTimeout(this.$ChatSidebarSheet2);this.$ChatSidebarSheet2=null;}};m.prototype.componentWillUnmount=function(){this.$ChatSidebarSheet1&&this.$ChatSidebarSheet1.release();};m.prototype.render=function(){var n=c('MessengerEnvironment').messengerui,o=void 0,p=void 0;if(!this.state.isOnline&&!n){o='offline';p=this.$ChatSidebarSheet5();}else if(!this.state.isConnected||this.state.syncStateInvalid||this.state.syncStateReconnecting){o='error';p=this.$ChatSidebarSheet6(n);}else if(!this.state.notifiesUserMessages&&!n){o='notice';p=this.$ChatSidebarSheet7();}if(this.state.channelStatus===c('ChannelConnection').RECONNECTING&&this.state.channelData<1000||this.state.syncStateReconnecting)o=c('joinClasses')(o,'reconnecting');return c('React').createElement('div',{className:c('joinClasses')(this.props.className,o)},n?null:c('React').createElement('div',{className:'img'}),c('React').createElement('div',{className:'message'},p));};m.prototype.$ChatSidebarSheet6=function(n){if(this.state.channelStatus===c('ChannelConnection').SHUTDOWN||this.state.syncStateInvalid){return (c('React').createElement(c('ChatSidebarSheetChatShutdownMsg.react'),{hint:this.state.syncStateInvalid?undefined:this.state.channelData,isMessenger:n}));}else if(this.state.channelStatus===c('ChannelConnection').RECONNECTING||this.state.syncStateReconnecting){var o=this.state.syncStateReconnecting?1:this.state.channelData;if(o>1000)this.$ChatSidebarSheet2=c('setTimeoutAcrossTransitions')(this.$ChatSidebarSheet3.bind(this,c('ChannelConnection').RECONNECTING,o-1000),1000);return (c('React').createElement(c('ChatSidebarSheetChatReconnectMsg.react'),{isMessenger:n,msecs:o,onManuallyConnectClick:function(){if(!this.state.syncStateReconnecting)c('ChannelConnection').reconnect();}.bind(this)}));}return null;};m.prototype.$ChatSidebarSheet5=function(){return (c('React').createElement(c('ChatSidebarSheetChatOffline.react'),{onGoOnlineClick:function n(o){k.log('sidebar_go_online');c('ChatVisibility').goOnline();}}));};m.prototype.$ChatSidebarSheet7=function(){return (c('React').createElement('div',null,h._("Les alertes sont d\u00e9sactiv\u00e9es lorsque vous utilisez un autre client de discussion instantan\u00e9e.")));};f.exports=m;}),null);
__d('MessengerMessageRequestsInfo.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=function k(){return (c('React').createElement('div',{className:"_5u15"},i._("Ouvrez une demande pour obtenir plus d\u2019infos sur la personne qui vous envoie un message."),' ',i._("Ils ne sauront pas que vous l\u2019avez vu tant que vous n\u2019aurez pas accept\u00e9.")));};f.exports=j;}),null);
__d('MessengerThreadlistLinkRow.react',['cx','fbt','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=function l(m){return (c('React').createElement('li',{className:"_5l-3 _1ht1 _2ogr"},c('React').createElement('div',{className:"_2ogs"},c('React').createElement(c('Link.react'),{className:"_2ogt",onClick:m.onClick},i._("Voir les invitations filtr\u00e9es")))));};k.propTypes={onClick:j.func.isRequired};f.exports=k;}),null);
__d('MessengerThreadlistMessageRequestsRow.react',['cx','fbt','ix','Image.react','ImmutableObject','Link.react','MercuryIDs','MercuryParticipants','MessagingTag','MessengerActions','MNAdsLogMessageUtils','React','shallowEqual'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=50,n=j('/images/mercury/clients/messenger/threadlist/Pending.png'),o=c('React').PropTypes;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$MessengerThreadlistMessageRequestsRow2=function(){return (c('React').createElement('div',{className:"_5l-3 _1qt3 _5nxe"},c('React').createElement(c('Image.react'),{alt:'',height:m,src:n,width:m}),c('React').createElement('span',{className:"_5nxf"},i._({"*":"{count}"},[i.param('count',this.props.newMessageRequestThreads.length,[0])]))));}.bind(this),this.$MessengerThreadlistMessageRequestsRow3=function(){var v=this.props.newMessageRequestThreads,w=i._({"someone":"D\u2019une personne que vous connaissez peut-\u00eatre","people":"De personnes que vous connaissez peut-\u00eatre"},[i['enum'](v.length===1?'someone':'people',{someone:'someone',people:'people'})]),x=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),y=v[0].participants.find(function(aa){return aa!==x;});if(!y)return w;var z=c('MercuryParticipants').getOrFetch(y);if(!z||!z.name)return w;if(v.length>0)c('MNAdsLogMessageUtils').logAdsThreadListImpression(v[0]);return v.length===1?i._("De {name}",[i.param('name',z.name)]):i._({"*":"De {name} et {count} autres personnes"},[i.param('name',z.name),i.param('count',v.length-1,[0])]);}.bind(this),this.$MessengerThreadlistMessageRequestsRow1=function(v){v.preventDefault();c('MessengerActions').changeFolder(c('MessagingTag').PENDING);},r;}p.prototype.shouldComponentUpdate=function(q){return !c('shallowEqual')(this.props,q);};p.prototype.render=function(){var q=this.props.newMessageRequestThreads.length;if(q===0)return null;return c('React').createElement('li',{className:"_5l-3 _1ht1 _2il3 _2kt",role:'row'},c('React').createElement(c('Link.react'),{onClick:this.$MessengerThreadlistMessageRequestsRow1,className:"_1ht5 _5l-3"},this.$MessengerThreadlistMessageRequestsRow2(),c('React').createElement('div',{className:"_1qt4 _5l-m"},c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement('div',{className:"_1ht6 _5nxa"},i._({"Request":"Nouvelle invitation par message","Requests":"Nouvelles invitations par message"},[i['enum'](q===1?'Request':'Requests',{Request:'Request',Requests:'Requests'})]))),c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement('div',{className:"_1htf _5nxb"},this.$MessengerThreadlistMessageRequestsRow3())))));};p.propTypes={newMessageRequestThreads:o.arrayOf(o.instanceOf(c('ImmutableObject'))).isRequired,viewer:o.string.isRequired};f.exports=p;}),null);
__d('MessengerThreadlistNewMessageRow.react',['cx','fbt','ix','Image.react','Link.react','MercuryIDs','MercuryParticipantListRenderer','MercuryParticipants','MercuryParticipantsImage.react','MessengerActions','MessengerComposerStore','MessengerProfileImageWrapper.react','MessengerView','ReactComponentWithPureRenderMixin','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=50,l=j('/images/mercury/clients/messenger/threadlist/NewMessage.png'),m=c('React').PropTypes,n=c('React').createClass({displayName:'MessengerThreadlistNewMessageRow',mixins:[c('ReactComponentWithPureRenderMixin'),c('PureStoreBasedStateMixin')(c('MercuryParticipants'),c('MessengerComposerStore'))],propTypes:{isActive:m.bool,onClose:m.func.isRequired},statics:{calculateState:function o(){return {participants:c('MessengerComposerStore').getState().recipients.map(function(p){return c('MercuryParticipants').getOrFetch(c('MercuryIDs').getParticipantIDFromUserID(p.getUniqueID()));}).filter(function(p){return !!p;})};}},render:function o(){return (c('React').createElement('li',{className:"_5l-3"+(' '+"_1ht1")+(this.props.isActive?' '+"_1ht2":'')},c('React').createElement(c('Link.react'),{onClick:this._handleClickRow,className:"_1ht5 _2il3 _5l-3"},this._renderImage(),c('React').createElement('div',{className:"_1qt4 _5l-m"},c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement('div',{className:"_1ht6"},this._renderTitle()),c('React').createElement('div',{className:"_23ct",onClick:this.props.onClose})),c('React').createElement('div',{className:"_1qt5 _5l-3"},'\u00A0')))));},_renderImage:function o(){var p=this.state.participants;if(!p.isEmpty())return (c('React').createElement('div',{className:"_1qt3 _5l-3"},c('React').createElement(c('MessengerProfileImageWrapper.react'),{isMessengerUser:p.size===1&&p.first().is_messenger_user,size:k,showBadge:p.size===1},c('React').createElement(c('MercuryParticipantsImage.react'),{participants:p.map(function(q){return q.id;}).slice(0,3).toArray(),size:k}))));return (c('React').createElement('div',{className:"_1qt3 _5l-3"},c('React').createElement(c('Image.react'),{height:k,src:l,width:k})));},_renderTitle:function o(){if(this.state.participants.isEmpty())return i._("Nouveau message");return i._("Nouveau message \u00e0 {List of message recipients}",[i.param('List of message recipients',new (c('MercuryParticipantListRenderer'))().renderParticipantList(this.state.participants.toArray()))]);},_handleClickRow:function o(p){p.preventDefault();c('MessengerActions').changeDetailView(c('MessengerView').DETAIL.COMPOSE);}});f.exports=n;}),null);
__d('MercuryThreadlistRowContainer.react',['immutable','ImmutableObject','MercuryParticipants','React','StoreAndPropBasedStateMixin','shallowEqual'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'MercuryThreadlistRowContainer',mixins:[c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{ChildClass:h.func.isRequired,thread:h.instanceOf(c('ImmutableObject')).isRequired,viewer:h.string.isRequired},statics:{calculateState:function j(k){return {participants:c('immutable').Map(c('immutable').Seq(k.thread.participants).map(function(l){return [l,c('MercuryParticipants').getOrFetch(l)];}))};}},shouldComponentUpdate:function j(k,l){return (!c('shallowEqual')(k,this.props)||!c('immutable').is(l.participants,this.state.participants));},render:function j(){var k=this.props,l=k.ChildClass,m=babelHelpers.objectWithoutProperties(k,['ChildClass']);return (c('React').createElement(l,babelHelpers['extends']({},m,{participants:this.state.participants})));}});f.exports=i;}),null);
__d('MessengerThreadlistRowSeenHead.react',['cx','Image.react','immutable','ImmutableObject','MercuryIDs','MercuryMessageInfo','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){if(this.props.isHidden||!this.props.thread.is_canonical)return null;var n=this.props,o=n.lastMessage,p=n.participants,q=n.readReceipts,r=n.thread,s=n.viewer,t=c('MercuryIDs').getParticipantIDFromUserID(s),u=c('MercuryIDs').getParticipantIDFromUserID(r.other_user_fbid),v=q.get(u),w=p.get(u),x=v?v.watermark:null;if(!w||!m(t,x,r,o))return null;return (c('React').createElement(c('Image.react'),{className:c('joinClasses')(this.props.className,"_2_a2"),src:w.image_src,title:w.name}));};function l(){i.apply(this,arguments);}l.propTypes={isHidden:k.bool,lastMessage:k.instanceOf(c('ImmutableObject')),participants:k.instanceOf(c('immutable').Map).isRequired,readReceipts:k.instanceOf(c('immutable').OrderedMap).isRequired,thread:k.instanceOf(c('ImmutableObject')).isRequired,viewer:k.string.isRequired};function m(n,o,p,q){if(q){return (q.author===n&&o>=q.timestamp&&!c('MercuryMessageInfo').isSending(q)&&!c('MercuryMessageInfo').hasError(q));}else return (p.snippet_sender===n&&o>=p.timestamp);}f.exports=l;}),null);
__d('MessengerThreadlistRow.react',['cx','fbt','ix','FBRTCCore','Image.react','immutable','ImmutableObject','Link.react','MercuryIDs','MercuryMessageInfo','MercuryThreadSnippet.react','MercuryThreadTimestamp.react','MercuryThreadTitle.react','MercuryTimestamp','MessengerAdminGroupUtils','MessengerButton.react','MessengerThreadImage.react','messengerThreadlistRowActionsReact','MessengerThreadlistRowSeenHead.react','messengerURIUtilsRe','MNAdsMessageUtils','React','ReactDOM','RTCConfig','UserAgent','joinClasses','messengerRTLClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('messengerThreadlistRowActionsReact').comp,n=c('React').PropTypes,o=50,p=j('/images/mercury/clients/messenger/message/messageStateFailed.png'),q=j('/images/mercury/clients/messenger/message/messageStateSending.png');k=babelHelpers.inherits(r,c('React').PureComponent);l=k&&k.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=l.constructor).call.apply(s,[this].concat(v)),this.state={actionsOpen:false},this.$MessengerThreadlistRow1=0,this.$MessengerThreadlistRow2=null,this.$MessengerThreadlistRow12=function(){var x=this.props.lastMessage;if(this.state.actionsOpen||!x)return null;var y=c('MercuryMessageInfo').isSending(x),z=c('MercuryMessageInfo').hasError(x);if(!y&&!z)return null;return (c('React').createElement(c('Image.react'),{className:"_wtw"+(y?' '+"_3qh2":''),src:y?q:p}));}.bind(this),this.$MessengerThreadlistRow4=function(x){x.preventDefault();this.props.onFocus(this.props.thread.thread_id);}.bind(this),this.$MessengerThreadlistRow5=function(x){this.$MessengerThreadlistRow1++;if(this.$MessengerThreadlistRow2)return;this.$MessengerThreadlistRow2=setTimeout(function(){this.props.onSelect&&this.props.onSelect();this.$MessengerThreadlistRow1=0;this.$MessengerThreadlistRow2=null;}.bind(this),1000);}.bind(this),this.$MessengerThreadlistRow6=function(x){this.$MessengerThreadlistRow1--;if(this.$MessengerThreadlistRow1===0){clearTimeout(this.$MessengerThreadlistRow2);this.$MessengerThreadlistRow2=null;}}.bind(this),this.$MessengerThreadlistRow8=function(x){if(this.props.logClickHandler){var y=this.props.thread.is_canonical?c('MercuryIDs').getUserIDFromThreadID(this.props.thread.thread_id)||'0':this.props.thread.thread_fbid;this.props.logClickHandler&&this.props.logClickHandler(y);}this.$MessengerThreadlistRow9();this.props.onSelect&&this.props.onSelect();x.preventDefault();this.$MessengerThreadlistRow3();}.bind(this),this.$MessengerThreadlistRow13=function(x){this.setState({actionsOpen:x});}.bind(this),this.$MessengerThreadlistRow14=function(x){x.preventDefault();x.stopPropagation();var y=this.props.thread,z=y.rtc_call_data,aa=y.thread_fbid;c('FBRTCCore').startGroupCall({clickSource:'multiway_thread_list_join_call_button',conferenceName:'GROUP:'+aa,hasVideo:true,serverInfoData:z.server_info_data});}.bind(this),this.$MessengerThreadlistRow7=function(x){return 'row_header_id_'+x;},this.$MessengerThreadlistRow3=function(){var x=c('ReactDOM').findDOMNode(this.refs.link);if(x.href){x.setAttribute('data-href',x.href);x.removeAttribute('href');}}.bind(this),this.$MessengerThreadlistRow9=function(){var x=c('ReactDOM').findDOMNode(this.refs.link),y=x.getAttribute('data-href');if(y){x.setAttribute('href',y);x.removeAttribute('data-href');}}.bind(this),t;}r.prototype.componentDidMount=function(){this.$MessengerThreadlistRow3();};r.prototype.componentDidUpdate=function(s){if(this.props.isFocused)if(!s.isFocused){if(this.props.isActionsFocused){c('ReactDOM').findDOMNode(this.refs.actions.refs.button).focus();}else c('ReactDOM').findDOMNode(this.refs.link).focus();}else if(!s.isActionsFocused&&this.props.isActionsFocused){c('ReactDOM').findDOMNode(this.refs.actions.refs.button).focus();}else if(s.isActionsFocused&&!this.props.isActionsFocused)c('ReactDOM').findDOMNode(this.refs.link).focus();};r.prototype.render=function(){var s=this.props,t=s.isActive,u=s.isActionsFocused,v=s.isTabbable,w=s.participants,x=s.thread,y=s.viewer,z=x.unread_count>0,aa=c('messengerURIUtilsRe').getURIForThreadID(x.thread_id),ba=c('MessengerAdminGroupUtils').isJoinableThread(x);return c('React').createElement('li',{'aria-live':z?'polite':null,'aria-relevant':t||z?'additions text':null,onFocus:this.$MessengerThreadlistRow4,className:"_5l-3"+(' '+"_1ht1")+(this.props.isActive?' '+"_1ht2":'')+(z?' '+"_1ht3":'')+(this.state.actionsOpen?' '+"_13aa":'')+(this.props.isMuted?' '+"_569x":'')+(this.props.isFocused?' '+"_23_m":'')+(z&&c('UserAgent').isBrowser('Chrome')&&c('UserAgent').isPlatform('Mac')?' '+"_5fx8":''),onDragEnter:t?null:this.$MessengerThreadlistRow5,onDragLeave:t?null:this.$MessengerThreadlistRow6,role:'row',ref:function(ca){return ca&&this.props.registerThreadRefs&&this.props.registerThreadRefs(ca);}.bind(this)},c('React').createElement('div',{className:"_5l-3 _1ht5",id:this.$MessengerThreadlistRow7(x.thread_id),role:'rowheader',tabIndex:-1},c('React').createElement(c('Link.react'),{href:aa.toString(),onBlur:this.$MessengerThreadlistRow3,onClick:this.$MessengerThreadlistRow8,onFocus:this.$MessengerThreadlistRow9,className:"_1ht5 _2il3 _5l-3",s:'true',ref:'link',role:'link',tabIndex:v&&!u?0:-1},c('React').createElement('div',{className:"_1qt3 _5l-3"},c('React').createElement(c('MessengerThreadImage.react'),{participants:w,size:o,thread:x,viewer:y})),c('React').createElement('div',{className:"_1qt4 _5l-m"},c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement(c('MercuryThreadTitle.react'),{className:"_1ht6",showUnreadCount:false,thread:x,useShortName:false,viewer:y}),c('React').createElement('div',null,c('MNAdsMessageUtils').isAdsMessageRequest(x)?c('MNAdsMessageUtils').renderAdsMessageRequestStatus():this.$MessengerThreadlistRow10(x))),c('React').createElement('div',{className:"_1qt5 _5l-3"},c('React').createElement(c('MercuryThreadSnippet.react'),{className:c('joinClasses')("_1htf",c('messengerRTLClasses')(x.snippet,true)),participants:w,shouldRenderYou:true,thread:x,viewer:y})),this.$MessengerThreadlistRow11()))),c('React').createElement('div',{role:'gridcell'},c('React').createElement('div',{'aria-describedby':this.$MessengerThreadlistRow7(x.thread_id),'aria-haspopup':'true','aria-label':i._("Actions"),className:"_2j6 _5l-3",tabIndex:v&&u?0:-1,role:'button'},c('React').createElement(c('MessengerThreadlistRowSeenHead.react'),{className:"_5bli",isHidden:this.state.actionsOpen,lastMessage:this.props.lastMessage,participants:w,readReceipts:this.props.readReceipts,thread:x,viewer:y}),this.$MessengerThreadlistRow12(),c('React').createElement(m,{className:"_5blh",isMessengerRoom:ba,isMuted:this.props.isMuted,isOpen:this.state.actionsOpen,isUnread:z,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onToggle:this.$MessengerThreadlistRow13,onUnmute:this.props.onUnmute,showLeaveGroup:this.props.showLeaveGroup,showMute:true,ref:'actions'}),c('React').createElement('div',{className:"_56ck"}))));};r.prototype.$MessengerThreadlistRow10=function(s){return c('React').createElement(c('MercuryThreadTimestamp.react'),{className:"_1ht7",time:s.timestamp,title:c('MercuryTimestamp').getAbsoluteTimestamp(s.timestamp),text:c('MercuryTimestamp').getRelativeTimestamp(s.timestamp)});};r.prototype.$MessengerThreadlistRow11=function(){if(!c('RTCConfig').RtcConferencingGK||!this.props.thread.rtc_call_data||this.props.thread.rtc_call_data.call_state==='NO_ONGOING_CALL')return null;return c('React').createElement(c('MessengerButton.react'),{className:"_4ry5",label:i._("Rejoindre l\u2019appel"),onClick:this.$MessengerThreadlistRow14,type:'primary'});};r.propTypes={isActive:n.bool.isRequired,isActionsFocused:n.bool,isFocused:n.bool,isMuted:n.bool.isRequired,lastMessage:n.instanceOf(c('ImmutableObject')),logClickHandler:n.func,onArchive:n.func.isRequired,onDelete:n.func.isRequired,onMarkRead:n.func.isRequired,onMarkSpam:n.func.isRequired,onMarkUnread:n.func.isRequired,onMute:n.func.isRequired,onSelect:n.func.isRequired,onUnmute:n.func.isRequired,participants:n.instanceOf(c('immutable').Map).isRequired,readReceipts:n.instanceOf(c('immutable').OrderedMap).isRequired,registerThreadRefs:n.func,thread:n.instanceOf(c('ImmutableObject')).isRequired,viewer:n.string.isRequired};f.exports=r;}),null);
__d('MessengerThreadlistRowContainer.react',['ImmutableObject','MercuryIDs','MercuryLogMessageType','MercuryMessageActions','MercuryMessageObject','MercuryMessages','MercuryRoger','MercuryThreadActions','MercuryThreadInfo','MercuryThreadlistRowContainer.react','MercuryTriodeSourceUtil','MessengerActions','MessengerConfirmLeaveGroupDialog.react','MessengerAdminGroupUtils','MessengerThreadlistRow.react','ReactComponentWithPureRenderMixin','React','ReactDOM','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryRoger').get(),i=c('React').PropTypes,j=c('React').createClass({displayName:'MessengerThreadlistRowContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryMessages'),h)],propTypes:{isActive:i.bool.isRequired,isTabbable:i.bool,thread:i.instanceOf(c('ImmutableObject')).isRequired,viewer:i.string.isRequired},statics:{calculateState:function k(l){var m=c('MercuryMessages').getForFBID(l.viewer),n=l.thread.thread_id,o=m.getThreadMessagesRangeNow(n,0,1)[0];return {lastMessage:o||null,readReceipts:h.getSeenTimestamps(n)};}},componentDidUpdate:function k(l){if(this.props.isActive&&!l.isActive)this.props.onScrollIntoView(c('ReactDOM').findDOMNode(this));},render:function k(){return (c('React').createElement(c('MercuryThreadlistRowContainer.react'),babelHelpers['extends']({},this.props,{ChildClass:c('MessengerThreadlistRow.react'),isMuted:c('MercuryThreadInfo').isMuted(this.props.thread),lastMessage:this.state.lastMessage,onArchive:this._handleArchive,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onSelect:this._handleSelect,onUnmute:this._handleUnmute,readReceipts:this.state.readReceipts,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical})));},_handleArchive:function k(){var l=this.props.isActive;this._getThreadActions().archive(this.props.thread.thread_id);l&&c('MessengerActions').selectThread(null);},_handleDelete:function k(){var l=this.props.isActive;this._getThreadActions()['delete'](this.props.thread.thread_id);l&&c('MessengerActions').selectThread(null);},_handleMarkRead:function k(){this._getThreadActions().markRead(this.props.thread.thread_id);},_handleMarkSpam:function k(){var l=this.props.isActive;this._getThreadActions().markSpam(this.props.thread.thread_id);l&&c('MessengerActions').selectThread(null);},_handleMarkUnread:function k(){this._getThreadActions().markUnread(this.props.thread.thread_id);},_handleMute:function k(l){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,l);},_handleSelect:function k(){c('MessengerActions').selectThread(this.props.thread.thread_id);},_handleUnmute:function k(){this._getThreadActions().unmute(this.props.thread.thread_id);},_handleLeaveGroup:function k(){if(this.props.viewer){var l=c('MessengerAdminGroupUtils').isViewerAdmin(this.props.thread.admin_ids,this.props.viewer);c('MessengerActions').showDialog(c('MessengerConfirmLeaveGroupDialog.react'),{onLeave:this._onLeaveGroupConfirm,isViewerAdmin:l});}},_onLeaveGroupConfirm:function k(){if(!c('MercuryThreadInfo').isEmptyLocalThread(this.props.thread)){var l=this._getMessageObject().constructLogMessageObject(c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),this.props.thread.thread_id,c('MercuryLogMessageType').UNSUBSCRIBE,{removed_participants:[c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(l);}},_getThreadActions:function k(){return c('MercuryThreadActions').getForFBID(this.props.viewer);},_getMessageActions:function k(){return c('MercuryMessageActions').getForFBID(this.props.viewer);},_getMessageObject:function k(){return c('MercuryMessageObject').getForFBID(this.props.viewer);}});f.exports=j;}),null);
__d("XMessengerModularInboxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messaging\/modular_inbox\/",{});}),null);
__d('ModularInboxLogger',['AsyncRequest','XMessengerModularInboxController'],(function a(b,c,d,e,f,g){'use strict';var h={logUnitClick:function i(j,k,l){var m=c('XMessengerModularInboxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(m).setData({event:'item_click',logging_data:j,module_id:k,target_id:l}).setMethod('POST').setAllowCrossPageTransition(true).send();},logSeeMoreClick:function i(j,k){var l=c('XMessengerModularInboxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).setData({event:'unit_click_see_more',logging_data:j,module_id:k}).setMethod('POST').setAllowCrossPageTransition(true).send();},logItemImpression:function i(j,k,l){var m=c('XMessengerModularInboxController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(m).setData({event:'item_impression',logging_data:j,module_id:k,impression_ids:l}).setMethod('POST').setAllowCrossPageTransition(true).send();}};f.exports=h;}),null);
__d('ModularInboxModuleFooter.react',['ix','cx','fbt','Image.react','Link.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('React').PropTypes,l=function m(n){return (c('React').createElement(c('Link.react'),{'aria-label':j._("Afficher d\u2019autres contacts"),className:"_4iuc",onClick:n.onClickHandler,role:'button'},j._("Voir tout"),c('React').createElement(c('Image.react'),{className:"_4iuf",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/chevron-right_12_fig-blue.png")})));};l.propTypes={onClickHandler:k.func.isRequired};f.exports=l;}),null);
__d('ModularInboxHideUnitMutation',['Relay','RelayMutationType'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Relay').Mutation);i=h&&h.prototype;j.prototype.getMutation=function(){return function(){return {calls:[{kind:'Call',metadata:{},name:'messenger_inbox_unit_record_action',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Mutation',metadata:{inputType:'MessengerInboxUnitRecordActionData!'},name:'ModularInboxHideUnitMutation',responseType:'MessengerInboxUnitRecordActionResponsePayload'};}();};j.prototype.getVariables=function(){return {client_mutation_id:this.props.client_mutation_id,actor_id:this.props.actor_id,unit_id:this.props.unit_id,action_type:this.props.action_type,unit_logging_data:this.props.unit_logging_data};};j.prototype.getFatQuery=function(){return function(){return {children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_hides_remaining',kind:'Field',metadata:{},type:'Int'}],fieldName:'messenger_inbox_unit',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessengerInboxUnit'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'ModularInboxHideUnitMutationRelayQL',type:'MessengerInboxUnitRecordActionResponsePayload'};}();};j.prototype.getConfigs=function(){return [{type:c('RelayMutationType').FIELDS_CHANGE,fieldIDs:{messenger_inbox_unit:this.props.unit_id}}];};j.prototype.getOptimisticResponse=function(){return {messenger_inbox_unit:{id:this.props.unit_id,messenger_inbox_unit_hides_remaining:0}};};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('ModularInboxModuleHeader.react',['cx','fbt','CurrentUser','Link.react','MessengerMenu.react','MessengerPopoverMenu.react','ModularInboxHideUnitMutation','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('MessengerMenu.react').Item;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ModularInboxModuleHeader3=function(){this.props.onHideHandler&&this.props.onHideHandler();var t=c('CurrentUser').getID();this.props.relay.commitUpdate(new (c('ModularInboxHideUnitMutation'))({client_mutation_id:t,actor_id:t,unit_id:this.props.headerData.id,action_type:'HIDE',unit_logging_data:this.props.headerData.messenger_inbox_unit_logging_data}));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement('div',{className:"_1rqg"},c('React').createElement('div',{className:"_1rqh"},this.props.headerData.messenger_inbox_unit_title.text,this.$ModularInboxModuleHeader1()),this.props.showSettings?c('React').createElement(c('MessengerPopoverMenu.react'),{menu:this.$ModularInboxModuleHeader2()},c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':i._("Options du module"),className:"_1rqi",role:'button'})):null);};n.prototype.$ModularInboxModuleHeader1=function(){if(this.props.showCount&&this.props.count&&this.props.count>0)return c('React').createElement('span',null,' ('+this.props.count+')');return null;};n.prototype.$ModularInboxModuleHeader2=function(){return c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(m,{label:i._("Masquer la section"),onclick:this.$ModularInboxModuleHeader3}));};n.PropTypes={count:l.number,headerData:l.object.isRequired,onHideHandler:l.func,showCount:l.bool,showSettings:l.bool.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{headerData:function o(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'messenger_inbox_unit_title',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxModuleHeader_react_HeaderDataRelayQL',type:'MessengerInboxUnit'};}();}}});}),null);
__d('ModularInboxActiveNowModule.react',['cx','AvailableListConstants','Image.react','Map','MercuryIDs','MercuryParticipants','MessengerActions','MessengerHorizontalScroll.react','MessengerProfileImageWrapper.react','MessengerResponsiveBlock.react','MessengerView','ModularInboxLogger','ModularInboxModuleFooter.react','ModularInboxModuleHeader.react','PresenceOrderedList','PresencePrivacy','PresenceStatusStore','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=200,m=50;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.$ModularInboxActiveNowModule1={};this.$ModularInboxActiveNowModule2=null;this.$ModularInboxActiveNowModule3=null;this.$ModularInboxActiveNowModule8=function(){c('MessengerActions').changeMasterView(c('MessengerView').MASTER.PEOPLE);var q=this.props.activeNowData;c('ModularInboxLogger').logSeeMoreClick(q.messenger_inbox_unit_logging_data,q.id);}.bind(this);this.$ModularInboxActiveNowModule9=function(q,r){var s=this.state.rankedUsers.get(q),t=this.state.rankedUsers.get(r);if(s===undefined||t===undefined)return 0;if(s<t){return -1;}else if(s>t)return 1;return 0;}.bind(this);this.$ModularInboxActiveNowModule4=function(){c('PresenceOrderedList').getSorted(l,function(q){var r=c('PresenceOrderedList').getAvailableSorted(q),s=q.filter(function(v){return c('PresencePrivacy').allows(v);}),t=s.concat(r).filter(function(v){return c('PresenceStatusStore').get(v)===c('AvailableListConstants').ACTIVE;});if(this.state.rankedUsers.size!==0)t=t.filter(function(v){return this.state.rankedUsers.get(v)!==undefined;}.bind(this)).sort(this.$ModularInboxActiveNowModule9);t=t.map(function(v){return c('MercuryIDs').getParticipantIDFromUserID(v);}).map(function(v){return c('MercuryParticipants').getOrFetch(v);}).filter(function(v){return !!v;});var u=t.filter(Boolean).filter(function(v){return v&&v.big_image_src===undefined;}).map(function(v){return v.id;});if(u.length!==0)c('MercuryParticipants').getBigImageMulti(u,function(){this.$ModularInboxActiveNowModule4();}.bind(this));this.setState({onlineUsers:t});}.bind(this));}.bind(this);var p=new (c('Map'))();o.activeNowData.messenger_inbox_unit_items.map(function(q,r){p.set(q.messenger_inbox_item_attachment.user_id,r);});this.state={onlineUsers:[],rankedUsers:p};}n.prototype.componentWillMount=function(){this.$ModularInboxActiveNowModule2=c('MercuryParticipants').addListener('change',this.$ModularInboxActiveNowModule4);this.$ModularInboxActiveNowModule3=c('PresenceStatusStore').addListener(function(){this.$ModularInboxActiveNowModule4;}.bind(this));this.$ModularInboxActiveNowModule4();};n.prototype.componentWillUnmount=function(){this.$ModularInboxActiveNowModule2&&this.$ModularInboxActiveNowModule2.remove();this.$ModularInboxActiveNowModule3&&this.$ModularInboxActiveNowModule3.remove();};n.prototype.render=function(){var o,p=this;if(this.state.onlineUsers.length===0||this.props.activeNowData.messenger_inbox_unit_hides_remaining===0)return null;var q=[];for(var r=this.state.onlineUsers,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var u;if(s){if(t>=r.length)break;u=r[t++];}else{t=r.next();if(t.done)break;u=t.value;}var v=u;if(!v||!v.fbid){continue;}else (function(){var w=v.fbid;q.push(c('React').createElement('div',{className:"_4a57",key:w,onClick:function(){return this.$ModularInboxActiveNowModule5(w);}.bind(p),role:'button',ref:function(x){return x&&this.$ModularInboxActiveNowModule6(w,x);}.bind(p)},c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:"_4a58",renderOnlineStatus:true,isMessengerUser:v.is_messenger_user,size:m,showBadge:true},c('React').createElement(c('Image.react'),{className:"_4a59",src:v.big_image_src||v.image_src})),c('React').createElement('div',{className:"_4a5a"},v.short_name)));})();}return c('React').createElement('div',{ref:function(w){return w&&this.$ModularInboxActiveNowModule7(w);}.bind(this)},c('React').createElement(c('ModularInboxModuleHeader.react'),{count:this.state.onlineUsers.length,headerData:this.props.activeNowData,onHideHandler:this.props.onHideHandler,showCount:true,showSettings:true}),c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function w(x){return [x];}},function(w){var x=w[0];if(x===null)return null;var y=5;if(x<=380&&x>=310){y=4;}else if(x<310)y=3;return c('React').createElement(c('MessengerHorizontalScroll.react'),{key:this.state.onlineUsers.length,batchScroll:true,childPadding:8,childWidth:65,leftOffset:7,numChildrenVisible:y,width:x},q);}.bind(this)),this.props.activeNowData.messenger_inbox_unit_should_show_see_more&&c('React').createElement(c('ModularInboxModuleFooter.react'),{onClickHandler:this.$ModularInboxActiveNowModule8}));};n.prototype.$ModularInboxActiveNowModule6=function(o,p){this.$ModularInboxActiveNowModule1[o]=p;};n.prototype.$ModularInboxActiveNowModule7=function(o){if(Object.keys(this.$ModularInboxActiveNowModule1).length!==0){this.props.registerModularInboxData(this.props.activeNowData.id,{ref:o,refs:this.$ModularInboxActiveNowModule1,loggingData:this.props.activeNowData.messenger_inbox_unit_logging_data});this.$ModularInboxActiveNowModule1={};}};n.prototype.$ModularInboxActiveNowModule5=function(o){var p=this.props.activeNowData,q=c('MercuryIDs').getThreadIDFromUserID(o);c('MessengerActions').selectThread(q);c('ModularInboxLogger').logUnitClick(p.messenger_inbox_unit_logging_data,p.id,o);};n.propTypes={activeNowData:k.object.isRequired,onHideHandler:k.func.isRequired,registerModularInboxData:k.func.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{activeNowData:function o(){return function(p){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'},{fieldName:'messenger_inbox_unit_hides_remaining',kind:'Field',metadata:{},type:'Int'},{fieldName:'messenger_inbox_unit_should_show_see_more',kind:'Field',metadata:{},type:'Boolean'},{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'user_id',kind:'Field',metadata:{},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerInbox2ItemUserIDAttachment',type:'MessengerInbox2ItemUserIDAttachment'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'messenger_inbox_item_attachment',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'MessengerInboxItemAttachment'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'messenger_inbox_unit_items',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'MessengerInboxItem'},c('RelayQL').__frag(p)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxActiveNowModule_react_ActiveNowDataRelayQL',type:'MessengerInboxUnit'};}(c('ModularInboxModuleHeader.react').getFragment('headerData'));}}});}),null);
__d('ModularInboxThreadlistRow.react',['cx','MessengerContactImage.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=function k(l){return (c('React').createElement('div',{className:"_1mcf",'data-hover':'tooltip','data-tooltip-content':l.contactMessage,'data-tooltip-display':'overflow','data-tooltip-position':'right',onClick:function m(){return l.onClickHandler(l.birthdayUser.id);},role:'button',ref:function m(n){return n&&l.registerThreadRefs&&l.registerThreadRefs(n);}},c('React').createElement(c('MessengerContactImage.react'),{isMessengerUser:l.birthdayUser.is_messenger_user,size:50,src:l.birthdayUser.profile_picture.uri}),c('React').createElement('div',{className:"_1mch"},c('React').createElement('div',{className:"_1mci"},l.birthdayUser.name),c('React').createElement('div',{className:"_1mcj"},l.glyph,c('React').createElement('div',{className:"_1mck"},l.contactMessage)))));};j.propTypes={birthdayUser:i.object.isRequired,contactMessage:i.any.isRequired,glyph:i.object,onClickHandler:i.func.isRequired,registerThreadRefs:i.func};f.exports=c('Relay').createContainer(j,{fragments:{birthdayUser:function k(){return function(){return {children:[{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxThreadlistRow_react_BirthdayUserRelayQL',type:'User'};}();}}});}),null);
__d('ModularInboxBirthdaysModule.react',['ix','cx','fbt','Image.react','MercuryIDs','MessengerActions','ModularInboxLogger','ModularInboxModuleHeader.react','ModularInboxThreadlistRow.react','React','Relay','RelayQL','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$ModularInboxBirthdaysModule1={},this.$ModularInboxBirthdaysModule2=function(t){var u=this.props.birthdayData,v=c('MercuryIDs').getThreadIDFromUserID(t);c('MessengerActions').selectThread(v);c('ModularInboxLogger').logUnitClick(u.messenger_inbox_unit_logging_data,u.id,t);}.bind(this),p;}n.prototype.render=function(){if(this.props.birthdayData.messenger_inbox_unit_hides_remaining===0)return null;var o=j._("Envoyer un message d\u2019anniversaire"),p=c('React').createElement(c('Image.react'),{className:"_5m_-",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/cake_16_fig-light-30.png")}),q=this.props.birthdayData.messenger_inbox_unit_items,r=q.map(function(s){var t=s.messenger_inbox_item_attachment.item_user;return c('React').createElement(c('ModularInboxThreadlistRow.react'),{birthdayUser:t,contactMessage:o,key:t.id,onClickHandler:this.$ModularInboxBirthdaysModule2,glyph:p,registerThreadRefs:this.$ModularInboxBirthdaysModule3.bind(this,t.id)});}.bind(this));return c('React').createElement('div',{ref:function(s){return s&&this.$ModularInboxBirthdaysModule4(s);}.bind(this)},c('React').createElement(c('ModularInboxModuleHeader.react'),{headerData:this.props.birthdayData,onHideHandler:this.props.onHideHandler,showSettings:true}),c('React').createElement('div',null,r));};n.prototype.$ModularInboxBirthdaysModule3=function(o,p){this.$ModularInboxBirthdaysModule1[o]=p;};n.prototype.$ModularInboxBirthdaysModule4=function(o){if(Object.keys(this.$ModularInboxBirthdaysModule1).length!==0){this.props.registerModularInboxData(this.props.birthdayData.id,{ref:o,refs:this.$ModularInboxBirthdaysModule1,loggingData:this.props.birthdayData.messenger_inbox_unit_logging_data});this.$ModularInboxBirthdaysModule1={};}};n.propTypes={birthdayData:m.object.isRequired,onHideHandler:m.func.isRequired,registerModularInboxData:m.func.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{birthdayData:function o(){return function(p,q){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'},{fieldName:'messenger_inbox_unit_hides_remaining',kind:'Field',metadata:{},type:'Int'},{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},c('RelayQL').__frag(q)]),fieldName:'item_user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerConversationStarterItem',type:'MessengerConversationStarterItem'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'messenger_inbox_item_attachment',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'MessengerInboxItemAttachment'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'messenger_inbox_unit_items',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'MessengerInboxItem'},c('RelayQL').__frag(p)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxBirthdaysModule_react_BirthdayDataRelayQL',type:'MessengerInboxUnit'};}(c('ModularInboxModuleHeader.react').getFragment('headerData'),c('ModularInboxThreadlistRow.react').getFragment('birthdayUser'));}}});}),null);
__d('ModularInboxFavoritesModule.react',['cx','MercuryIDs','MessengerActions','MessengerContactImage.react','MessengerHorizontalScroll.react','MessengerResponsiveBlock.react','ModularInboxLogger','ModularInboxModuleHeader.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=50;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$ModularInboxFavoritesModule1={},o;}m.prototype.render=function(){if(this.props.favoritesData.messenger_inbox_unit_hides_remaining===0)return null;var n=this.props.favoritesData.messenger_inbox_unit_items,o=n.map(function(p){var q=p.messenger_inbox_item_attachment.user;return (c('React').createElement('div',{className:"_5t9x",key:q.id,onClick:function(){return this.$ModularInboxFavoritesModule2(q.id);}.bind(this),role:'button',ref:function(r){return r&&this.$ModularInboxFavoritesModule3(q.id,r);}.bind(this)},c('React').createElement(c('MessengerContactImage.react'),{className:"_2bde",isMessengerUser:q.is_messenger_user,size:l,src:q.profile_picture.uri}),c('React').createElement('div',{className:"_5tww"},q.first_name)));}.bind(this));return (c('React').createElement('div',{ref:function(p){return p&&this.$ModularInboxFavoritesModule4(p);}.bind(this)},c('React').createElement(c('ModularInboxModuleHeader.react'),{headerData:this.props.favoritesData,onHideHandler:this.props.onHideHandler,showSettings:true}),c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function p(q){return [q];}},function(p){var q=p[0];if(q===null)return null;var r=5;if(q<=380&&q>=310){r=4;}else if(q<310)r=3;return (c('React').createElement(c('MessengerHorizontalScroll.react'),{batchScroll:true,childPadding:8,childWidth:65,leftOffset:7,numChildrenVisible:r,width:q},o));})));};m.prototype.$ModularInboxFavoritesModule3=function(n,o){this.$ModularInboxFavoritesModule1[n]=o;};m.prototype.$ModularInboxFavoritesModule4=function(n){if(Object.keys(this.$ModularInboxFavoritesModule1).length!==0){this.props.registerModularInboxData(this.props.favoritesData.id,{ref:n,refs:this.$ModularInboxFavoritesModule1,loggingData:this.props.favoritesData.messenger_inbox_unit_logging_data});this.$ModularInboxFavoritesModule1={};}};m.prototype.$ModularInboxFavoritesModule2=function(n){var o=this.props.favoritesData,p=c('MercuryIDs').getThreadIDFromUserID(n);c('MessengerActions').selectThread(p);c('ModularInboxLogger').logUnitClick(o.messenger_inbox_unit_logging_data,o.id,n);};m.propTypes={favoritesData:k.object.isRequired,onHideHandler:k.func.isRequired,registerModularInboxData:k.func.isRequired};f.exports=c('Relay').createContainer(m,{fragments:{favoritesData:function n(){return function(o){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'},{fieldName:'messenger_inbox_unit_hides_remaining',kind:'Field',metadata:{},type:'Int'},{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{children:[{fieldName:'first_name',kind:'Field',metadata:{},type:'String'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'}],fieldName:'user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerPYMMUser',type:'MessengerPYMMUser'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'messenger_inbox_item_attachment',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'MessengerInboxItemAttachment'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'messenger_inbox_unit_items',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isPlural:true},type:'MessengerInboxItem'},c('RelayQL').__frag(o)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxFavoritesModule_react_FavoritesDataRelayQL',type:'MessengerInboxUnit'};}(c('ModularInboxModuleHeader.react').getFragment('headerData'));}}});}),null);
__d('ModularInboxRecentThreadsModule.react',['ImmutableObject','MessengerThreadlistRowContainer.react','ModularInboxLogger','React','Relay','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ModularInboxRecentThreadsModule1={},this.logItemClick=function(q){var r=this.props.recentThreadsData;c('ModularInboxLogger').logUnitClick(r.messenger_inbox_unit_logging_data,r.id,q);}.bind(this),m;}k.prototype.render=function(){var l=this.props.threads.map(function(m){return (c('React').createElement(c('MessengerThreadlistRowContainer.react'),{isActive:m.thread_id===this.props.activeThreadID,isFocused:m.thread_id===this.props.focusedThreadID,isActionsFocused:this.props.isThreadActionMenuFocused,isTabbable:!!(m.thread_id===this.props.activeThreadID&&!this.props.focusedThreadID)||m.thread_id===this.props.focusedThreadID,key:m.thread_id,logClickHandler:this.logItemClick,onFocus:this.props.onFocusHandler,onScrollIntoView:this.props.onScrollIntoViewHandler,registerThreadRefs:this.$ModularInboxRecentThreadsModule2.bind(this,m.thread_fbid),thread:m,viewer:this.props.viewer}));}.bind(this));return (c('React').createElement('div',{ref:function(m){return m&&this.$ModularInboxRecentThreadsModule3(m);}.bind(this)},l));};k.prototype.$ModularInboxRecentThreadsModule2=function(l,m){this.$ModularInboxRecentThreadsModule1[l]=m;};k.prototype.$ModularInboxRecentThreadsModule3=function(l){if(Object.keys(this.$ModularInboxRecentThreadsModule1).length!==0){this.props.registerModularInboxData(this.props.recentThreadsData.id,{ref:l,refs:this.$ModularInboxRecentThreadsModule1,loggingData:this.props.recentThreadsData.messenger_inbox_unit_logging_data});this.$ModularInboxRecentThreadsModule1={};}};k.propTypes={recentThreadsData:j.object.isRequired,activeThreadID:j.string,focusedThreadID:j.string,isThreadActionMenuFocused:j.bool.isRequired,onFocusHandler:j.func.isRequired,onScrollIntoViewHandler:j.func.isRequired,registerModularInboxData:j.func.isRequired,threads:j.arrayOf(j.instanceOf(c('ImmutableObject'))).isRequired,viewer:j.string.isRequired};f.exports=c('Relay').createContainer(k,{fragments:{recentThreadsData:function l(){return function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxRecentThreadsModule_react_RecentThreadsDataRelayQL',type:'MessengerInboxUnit'};}();}}});}),null);
__d('ModularInboxRemainingThreadsModule.react',['ImmutableObject','MessengerThreadlistRowContainer.react','ModularInboxLogger','ModularInboxModuleHeader.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ModularInboxRemainingThreadsModule1={},this.logItemClick=function(q){var r=this.props.remainingThreadsData;c('ModularInboxLogger').logUnitClick(r.messenger_inbox_unit_logging_data,r.id,q);}.bind(this),m;}k.prototype.render=function(){var l=this.props.threads.map(function(m){return (c('React').createElement(c('MessengerThreadlistRowContainer.react'),{isActive:m.thread_id===this.props.activeThreadID,isFocused:m.thread_id===this.props.focusedThreadID,isActionsFocused:this.props.isThreadActionMenuFocused,isTabbable:!!(m.thread_id===this.props.activeThreadID&&!this.props.focusedThreadID)||m.thread_id===this.props.focusedThreadID,key:m.thread_id,logClickHandler:this.logItemClick,onFocus:this.props.onFocusHandler,onScrollIntoView:this.props.onScrollIntoViewHandler,registerThreadRefs:this.$ModularInboxRemainingThreadsModule2.bind(this,m.thread_fbid),thread:m,viewer:this.props.viewer}));}.bind(this));return (c('React').createElement('div',{ref:function(m){return m&&this.$ModularInboxRemainingThreadsModule3(m);}.bind(this)},c('React').createElement(c('ModularInboxModuleHeader.react'),{headerData:this.props.remainingThreadsData,showSettings:false}),c('React').createElement('div',null,l)));};k.prototype.$ModularInboxRemainingThreadsModule2=function(l,m){this.$ModularInboxRemainingThreadsModule1[l]=m;};k.prototype.$ModularInboxRemainingThreadsModule3=function(l){if(Object.keys(this.$ModularInboxRemainingThreadsModule1).length!==0){this.props.registerModularInboxData(this.props.remainingThreadsData.id,{ref:l,refs:this.$ModularInboxRemainingThreadsModule1,loggingData:this.props.remainingThreadsData.messenger_inbox_unit_logging_data});this.$ModularInboxRemainingThreadsModule1={};}};k.propTypes={remainingThreadsData:j.object.isRequired,activeThreadID:j.string,focusedThreadID:j.string,isThreadActionMenuFocused:j.bool.isRequired,onFocusHandler:j.func.isRequired,onScrollIntoViewHandler:j.func.isRequired,registerModularInboxData:j.func.isRequired,threads:j.arrayOf(j.instanceOf(c('ImmutableObject'))).isRequired,viewer:j.string.isRequired};f.exports=c('Relay').createContainer(k,{fragments:{remainingThreadsData:function l(){return function(m){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'messenger_inbox_unit_logging_data',kind:'Field',metadata:{},type:'String'},c('RelayQL').__frag(m)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxRemainingThreadsModule_react_RemainingThreadsDataRelayQL',type:'MessengerInboxUnit'};}(c('ModularInboxModuleHeader.react').getFragment('headerData'));}}});}),null);
__d('ModularInboxView.react',['ImmutableObject','MessengerInbox2UnitType','MessengerResponsiveBlock.react','MessengerThreadlistRowContainer.react','ModularInboxActiveNowModule.react','ModularInboxBirthdaysModule.react','ModularInboxFavoritesModule.react','ModularInboxModuleHeader.react','ModularInboxRecentThreadsModule.react','ModularInboxRemainingThreadsModule.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k=5,l=60*60*1000,m=100,n=[c('MessengerInbox2UnitType').MOST_RECENT_THREADS,c('MessengerInbox2UnitType').ACTIVE_NOW,c('MessengerInbox2UnitType').PYMM,c('MessengerInbox2UnitType').BIRTHDAYS,c('MessengerInbox2UnitType').ALL_REMAINING_THREADS];h=babelHelpers.inherits(o,c('React').Component);i=h&&h.prototype;function o(q){i.constructor.call(this,q);p.call(this);var r=this.props.messengerModules.messenger_inbox_units.edges||[],s=null,t=r.reduce(function(w,x){if(x.node.id===c('MessengerInbox2UnitType').MOST_RECENT_THREADS)s=x.node.messenger_inbox_unit_config;if(n.includes(x.node.id)){return w.concat(x.node.id);}else return w;},[]),u=t.length,v=k;if(s)v=this.$ModularInboxView1(s.max_hours_back,s.min_num_threads_to_show,s.max_num_threads_to_show);this.state={numRecentThreads:v,numDisplayedModules:u};}o.prototype.$ModularInboxView1=function(q,r,s){var t=0;this.props.threads.map(function(u){if((Date.now()-u.last_message_timestamp)/l<q)t+=1;});if(t>s){return s;}else if(t<r)return r;return t;};o.prototype.render=function(){if(this.state.numDisplayedModules<=2){return this.renderLegacyThreadlist();}else return this.renderModules();};o.prototype.renderModules=function(){var q=this.props.messengerModules.messenger_inbox_units.edges||[],r=q.map(function(s){switch(s.node.id){case c('MessengerInbox2UnitType').MOST_RECENT_THREADS:return (c('React').createElement(c('ModularInboxRecentThreadsModule.react'),{recentThreadsData:s.node,key:s.node.id,activeThreadID:this.props.activeThreadID,focusedThreadID:this.props.focusedThreadID,isThreadActionMenuFocused:this.props.isThreadActionMenuFocused,onFocusHandler:this.props.onFocusHandler,onScrollIntoViewHandler:this.props.onScrollIntoViewHandler,registerModularInboxData:this.props.registerModularInboxData,threads:this.props.threads.slice(0,this.state.numRecentThreads),viewer:this.props.viewer}));case c('MessengerInbox2UnitType').ACTIVE_NOW:return (c('React').createElement(c('ModularInboxActiveNowModule.react'),{activeNowData:s.node,key:s.node.id,onHideHandler:this.$ModularInboxView2,registerModularInboxData:this.props.registerModularInboxData}));case c('MessengerInbox2UnitType').PYMM:return (c('React').createElement(c('ModularInboxFavoritesModule.react'),{favoritesData:s.node,key:s.node.id,onHideHandler:this.$ModularInboxView2,registerModularInboxData:this.props.registerModularInboxData}));case c('MessengerInbox2UnitType').BIRTHDAYS:return (c('React').createElement(c('ModularInboxBirthdaysModule.react'),{birthdayData:s.node,key:s.node.id,onHideHandler:this.$ModularInboxView2,registerModularInboxData:this.props.registerModularInboxData}));case c('MessengerInbox2UnitType').ALL_REMAINING_THREADS:return (c('React').createElement(c('ModularInboxRemainingThreadsModule.react'),{remainingThreadsData:s.node,key:s.node.id,activeThreadID:this.props.activeThreadID,focusedThreadID:this.props.focusedThreadID,isThreadActionMenuFocused:this.props.isThreadActionMenuFocused,onFocusHandler:this.props.onFocusHandler,onScrollIntoViewHandler:this.props.onScrollIntoViewHandler,registerModularInboxData:this.props.registerModularInboxData,threads:this.props.threads.slice(this.state.numRecentThreads,this.props.threads.length),viewer:this.props.viewer}));default:return null;}}.bind(this));return (c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function s(t){return [t];}},function(s){var t=s[0];if(t===null)return null;if(t>m){return (c('React').createElement('div',null,r));}else return this.renderLegacyThreadlist();}.bind(this)));};o.prototype.renderLegacyThreadlist=function(){var q=this.props.threads.map(function(r){return (c('React').createElement(c('MessengerThreadlistRowContainer.react'),{isActive:r.thread_id===this.props.activeThreadID,isFocused:r.thread_id===this.props.focusedThreadID,isActionsFocused:this.props.isThreadActionMenuFocused,isTabbable:!!(r.thread_id===this.props.activeThreadID&&!this.props.focusedThreadID)||r.thread_id===this.props.focusedThreadID,key:r.thread_id,onFocus:this.props.onFocusHandler,onScrollIntoView:this.props.onScrollIntoViewHandler,thread:r,viewer:this.props.viewer}));}.bind(this));return (c('React').createElement('div',null,q));};o.propTypes={messengerModules:j.object.isRequired,activeThreadID:j.string,focusedThreadID:j.string,isThreadActionMenuFocused:j.bool.isRequired,onFocusHandler:j.func.isRequired,onScrollIntoViewHandler:j.func.isRequired,registerModularInboxData:j.func.isRequired,threads:j.arrayOf(j.instanceOf(c('ImmutableObject'))).isRequired,viewer:j.string.isRequired};var p=function q(){this.$ModularInboxView2=function(){var r=this.state.numDisplayedModules;this.setState({numDisplayedModules:r-1});}.bind(this);};f.exports=c('Relay').createContainer(o,{fragments:{messengerModules:function q(){return function(r,s,t,u,v,w){return {children:[{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:10}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'max_hours_back',kind:'Field',metadata:{},type:'Int'},{fieldName:'min_num_threads_to_show',kind:'Field',metadata:{},type:'Int'},{fieldName:'max_num_threads_to_show',kind:'Field',metadata:{},type:'Int'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerInbox2RecentUnitConfig',type:'MessengerInbox2RecentUnitConfig'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'messenger_inbox_unit_config',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'MessengerInboxUnitConfig'},c('RelayQL').__frag(r),c('RelayQL').__frag(s),c('RelayQL').__frag(t),c('RelayQL').__frag(u),c('RelayQL').__frag(v),c('RelayQL').__frag(w)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessengerInboxUnit'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessengerInboxUnitsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'messenger_inbox_units',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'MessengerInboxUnitsConnection'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'ModularInboxView_react_MessengerModulesRelayQL',type:'Viewer'};}(c('ModularInboxRecentThreadsModule.react').getFragment('recentThreadsData'),c('ModularInboxRemainingThreadsModule.react').getFragment('remainingThreadsData'),c('ModularInboxModuleHeader.react').getFragment('headerData'),c('ModularInboxFavoritesModule.react').getFragment('favoritesData'),c('ModularInboxBirthdaysModule.react').getFragment('birthdayData'),c('ModularInboxActiveNowModule.react').getFragment('activeNowData'));}}});}),null);
__d('ModularInboxViewRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='ModularInboxViewRoute';j.queries={messengerModules:function k(l){return function(m){return {children:[].concat.apply([],[c('RelayQL').__frag(m)]),fieldName:'viewer',kind:'Query',metadata:{},name:'ModularInboxViewRoute',type:'Viewer'};}(l.getFragment('messengerModules'));}};f.exports=j;}),null);
__d('ModularInboxViewContainer.react',['cx','ImmutableObject','MessengerSpinner.react','ModularInboxView.react','ModularInboxViewRoute','React','Relay'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Relay').RootContainer,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$ModularInboxViewContainer1=function(s){return (c('React').createElement(c('ModularInboxView.react'),babelHelpers['extends']({},s,this.props)));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(k,{Component:c('ModularInboxView.react'),route:new (c('ModularInboxViewRoute'))(),renderFetched:this.$ModularInboxViewContainer1,renderLoading:function n(){return c('React').createElement('div',{className:"_o__"},c('React').createElement(c('MessengerSpinner.react'),{color:'grey',size:c('MessengerSpinner.react').Sizes.MEDIUM}));},renderFailure:this.$ModularInboxViewContainer2});};m.prototype.$ModularInboxViewContainer2=function(){return null;};m.PropTypes={activeThreadID:l.string,focusedThreadID:l.string,isThreadActionMenuFocused:l.bool.isRequired,onFocusHandler:l.func.isRequired,onScrollIntoViewHandler:l.func.isRequired,registerModularInboxData:l.func.isRequired,threads:l.arrayOf(l.instanceOf(c('ImmutableObject'))).isRequired,viewer:l.string.isRequired};f.exports=m;}),null);
__d('MessengerThreadlist.react',['csx','cx','fbt','invariant','ChatSidebarSheet.react','ImmutableObject','KeyEventController','Link.react','MercuryFilters','MercuryThreadInfo','MessagingTag','MessengerActions','MessengerComposerActions','MessengerConfig','MessengerDialogStore','MessengerFlexScrollableArea.react','MessengerInbox2UnitType','MessengerGraphQLSearchTypeahead.react','MessengerMessageRequestsInfo.react','MessengerNewMessagesNotice.react','MessengerSpinner.react','MessengerThreadlistLinkRow.react','MessengerThreadlistMessageRequestsRow.react','MessengerThreadlistNewMessageRow.react','MessengerThreadlistRowContainer.react','MessengerThreadSearchStore','MessengerTypeaheadUtils','MessengerView','ModularInboxLogger','ModularInboxViewContainer.react','Parent','React','StoreAndPropBasedStateMixin','SubscriptionsHandler','WorkGKs','debounce'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l=c('React').PropTypes,m=10,n=64;function o(r,s,t){if(!(r&&s))return false;var u=r[0]||0,v=s[0]||0;return !!(u&&v&&u.unread_count&&u.thread_id!==t&&(u.unread_count!==v.unread_count||u!==v)&&!c('MercuryThreadInfo').isMuted(u));}function p(event,r){return !!(!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&c('KeyEventController').filterEventTypes(event,r)&&c('KeyEventController').filterEventTargets(event,r)&&!c('Parent').bySelector(event.getTarget(),"._150g"));}var q=c('React').createClass({displayName:'MessengerThreadlist',mixins:[c('StoreAndPropBasedStateMixin')(c('MessengerDialogStore'),c('MessengerThreadSearchStore'))],propTypes:{activeThreadID:l.string,filter:l.string.isRequired,folder:l.string.isRequired,isComposing:l.bool,isLoaded:l.bool,isLoading:l.bool,isNewMessageActive:l.bool,newMessageRequestThreads:l.arrayOf(l.instanceOf(c('ImmutableObject'))).isRequired,onLoadMoreRequest:l.func,renderLoadMore:l.func,threads:l.arrayOf(l.instanceOf(c('ImmutableObject'))).isRequired,viewer:l.string.isRequired},statics:{calculateState:function r(s){return {dialogShown:!!c('MessengerDialogStore').getState().dialogClass};}},_moduleData:{},_subscriptions:null,getInitialState:function r(){return {focusedThreadID:null,isSearchFocused:false,isThreadActionMenuFocused:false,queryString:'',searchResults:[],showNewMessagesNotice:false};},componentDidMount:function r(){var s=new (c('SubscriptionsHandler'))();s.addSubscriptions(c('KeyEventController').registerKey('UP',function(t){return this._handleArrowKey(-1,t);}.bind(this),p),c('KeyEventController').registerKey('DOWN',function(t){return this._handleArrowKey(1,t);}.bind(this),p),c('KeyEventController').registerKey('PAGE_UP',function(t){return this._handleArrowKey(-5,t);}.bind(this)),c('KeyEventController').registerKey('PAGE_DOWN',function(t){return this._handleArrowKey(5,t);}.bind(this)),c('KeyEventController').registerKey('HOME',function(t){return this._handleArrowKey(-this.props.threads.length,t);}.bind(this)),c('KeyEventController').registerKey('END',function(t){return this._handleArrowKey(this.props.threads.length,t);}.bind(this)),c('KeyEventController').registerKey('LEFT',function(t){return this._handleActionsFocus(false,t);}.bind(this)),c('KeyEventController').registerKey('RIGHT',function(t){return this._handleActionsFocus(true,t);}.bind(this)));this._subscriptions=s;if(c('MessengerConfig').ShowModularInbox)this._checkAndUpdateModuleImpressions=c('debounce')(this._checkAndUpdateModuleImpressions,250,this);},componentWillUnmount:function r(){this._subscriptions&&this._subscriptions.release();},componentWillReceiveProps:function r(s){var t=this.refs.scrollable.isScrolledToTop();if(!t&&o(s.threads,this.props.threads,s.activeThreadID)){this.setState({queryString:s.queryString||this.state.queryString,showNewMessagesNotice:true});}else this.setState({queryString:s.queryString||this.state.queryString,showNewMessagesNotice:this.state.showNewMessagesNotice&&!t});},componentDidUpdate:function r(s,t){if(this.state.isSearchFocused!==t.isSearchFocused||this.props.isComposing&&!s.isComposing)this.refs.scrollable&&this.refs.scrollable.scrollToTop();},render:function r(){var s=this.state.showNewMessagesNotice&&!this.state.isSearchFocused,t=j._("Conversations"),u=j._("Liste de conversations"),v={className:"_5iwm"+(this.state.isSearchFocused||!!this.state.queryString?' '+"_5iwn":'')+(' '+"_150g"),enableMessageSearch:true,hasHoverState:false,placeholder:c('WorkGKs').workplace_www_chat_branding?j._("Rechercher dans Work Chat"):j._("Rechercher dans Messenger"),excludeGroups:false,excludePages:false,shouldQueryInternalBot:true,shouldQueryVCEndpoint:true,typeaheadViewClassName:"_11_d"},w=this.props.queryString!=null;return (c('React').createElement('div',{className:"_2xhi"},c('React').createElement(c('ChatSidebarSheet.react'),{className:"_p0g"}),c('React').createElement(c('MessengerNewMessagesNotice.react'),{isOpen:s,onClick:this._handleNewMessageNoticeClick}),c('React').createElement(c('MessengerFlexScrollableArea.react'),{onScroll:this._handleScroll,ref:'scrollable'},this.props.folder===c('MessagingTag').INBOX?c('React').createElement(c('MessengerGraphQLSearchTypeahead.react'),babelHelpers['extends']({hideClearButton:this.state.queryString===''&&!w,hideResults:w,isFocused:this.state.isSearchFocused,onBlur:this._handleBlur,onChange:this._handleChange,onClear:this._handleClear,onFocus:this._handleFocus,onScrollIntoView:this._handleScrollIntoView,onSelect:c('MessengerActions').selectThread,queryString:this.state.queryString,viewer:this.props.viewer},v)):null,this.props.folder===c('MessagingTag').PENDING?c('React').createElement(c('MessengerMessageRequestsInfo.react'),null):null,c('React').createElement('div',{'aria-label':t,className:this.state.isSearchFocused&&!w?"accessible_elem":'',role:'navigation'},c('React').createElement('h2',{className:"accessible_elem"},u),c('React').createElement('ul',{'aria-label':u,role:'grid'},this.props.folder===c('MessagingTag').INBOX&&this.props.newMessageRequestThreads.length?c('React').createElement(c('MessengerThreadlistMessageRequestsRow.react'),{newMessageRequestThreads:this.props.newMessageRequestThreads,viewer:this.props.viewer}):null,this.props.isComposing?c('React').createElement(c('MessengerThreadlistNewMessageRow.react'),{isActive:this.props.isNewMessageActive,onClose:this._handleCloseNewMessage}):null,this._renderInbox(w),this.props.folder===c('MessagingTag').PENDING?c('React').createElement(c('MessengerThreadlistLinkRow.react'),{onClick:this._handleFilteredRequestsClick}):null),this.props.renderLoadMore?this.props.renderLoadMore():this._renderLoadMoreLink()))));},_renderInbox:function r(s){if(this.props.threads.length===0)return this._renderLegacyInbox();if(s)return this._renderLegacyInbox();if(this.props.folder===c('MessagingTag').INBOX&&this.props.filter===c('MercuryFilters').ALL)if(c('MessengerConfig').ShowModularInbox){return this._renderInbox2();}else return this._renderLegacyInbox();return this._renderLegacyInbox();},_renderEmptyInbox:function r(){var s='';switch(this.props.folder){case c('MessagingTag').INBOX:s=this.props.filter===c('MercuryFilters').UNREAD?j._("Aucun message non lu trouv\u00e9."):j._("Aucun message trouv\u00e9.");break;case c('MessagingTag').PENDING:s=j._("Aucune invitation par message trouv\u00e9e.");break;case c('MessagingTag').OTHER:s=j._("Aucune invitation filtr\u00e9e trouv\u00e9e.");break;default:break;}var t=this.props.folder!==c('MessagingTag').INBOX||this.props.filter!==c('MercuryFilters').ALL?c('React').createElement(c('Link.react'),{onClick:this._handleReturnToInboxClick},j._("Revenez \u00e0 la bo\u00eete de r\u00e9ception.")):null;return (c('React').createElement('div',{className:"_3blk"},s,c('React').createElement('div',{className:"_3bll"},t)));},_renderLegacyInbox:function r(){if(this.props.threads.length===0){return this._renderEmptyInbox();}else return (c('React').createElement('div',null,this.props.threads.map(function(s){return this._renderThread(s);}.bind(this))));},_renderInbox2:function r(){return (c('React').createElement(c('ModularInboxViewContainer.react'),{activeThreadID:this.props.activeThreadID,focusedThreadID:this.state.focusedThreadID,isThreadActionMenuFocused:this.state.isThreadActionMenuFocused,onFocusHandler:this._handleThreadFocus,onScrollIntoViewHandler:this._handleScrollIntoView,registerModularInboxData:this._registerModularInboxData,threads:this.props.threads,viewer:this.props.viewer}));},_renderThread:function r(s){return (c('React').createElement(c('MessengerThreadlistRowContainer.react'),{isActive:s.thread_id===this.props.activeThreadID,isFocused:s.thread_id===this.state.focusedThreadID,isActionsFocused:this.state.isThreadActionMenuFocused,isTabbable:!!(s.thread_id===this.props.activeThreadID&&!this.state.focusedThreadID)||s.thread_id===this.state.focusedThreadID,key:s.thread_id,onFocus:this._handleThreadFocus,onScrollIntoView:this._handleScrollIntoView,thread:s,viewer:this.props.viewer}));},_renderLoadMoreLink:function r(){if(this.props.isLoaded)return null;if(this.props.isLoading)return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('MessengerSpinner.react'),null)));return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('Link.react'),{href:'#',onClick:this._handleLoadMoreClick,tabIndex:-1},j._("Afficher les plus anciens"))));},_handleScroll:function r(){if(this.state.isSearchFocused&&this.props.isLoaded)return;if(this.refs.scrollable.isScrolledToBottom())this.props.onLoadMoreRequest&&this.props.onLoadMoreRequest();if(this.refs.scrollable.isScrolledToTop()&&this.state.showNewMessagesNotice)this.setState({showNewMessagesNotice:false});if(c('MessengerConfig').ShowModularInbox)this._checkAndUpdateModuleImpressions();},_checkAndUpdateModuleImpressions:function r(){var s=this.refs.scrollable.getArea().getElement().getBoundingClientRect();for(var t in this._moduleData){var u=this._moduleData[t],v=u.ref.getBoundingClientRect();if(s.bottom-v.top>n&&v.bottom-s.top>n){var w=[];if(t===c('MessengerInbox2UnitType').PYMM||t===c('MessengerInbox2UnitType').ACTIVE_NOW){for(var x in u.refs){var y=u.refs[x].getBoundingClientRect();if(y.right<s.right&&y.left>s.left)w.push(x);}}else for(var z in u.refs){var aa=u.refs[z].getBoundingClientRect();if(aa.top>s.top-m&&aa.bottom<s.bottom+m)w.push(z);}c('ModularInboxLogger').logItemImpression(u.loggingData,t,w);}}},_registerModularInboxData:function r(s,t){this._moduleData[s]=t;},_handleLoadMoreClick:function r(s){s.preventDefault();this.props.onLoadMoreRequest&&this.props.onLoadMoreRequest();},_handleNewMessageNoticeClick:function r(s){s.preventDefault();this.setState({showNewMessagesNotice:false});this.refs.scrollable.scrollToTop();},_handleArrowKey:function r(s,event){if(event.altKey&&c('Parent').bySelector(event.target,"._4rv3")){if(this.state.dialogShown)return;if(this.props.isNewMessageActive){if(s===1&&this.props.threads[0])c('MessengerActions').selectThread(this.props.threads[0].thread_id);return;}var t=this.props.threads.findIndex(function(v){return v.thread_id===this.props.activeThreadID;}.bind(this));if(t===-1)return;var u=this.props.threads[t+s];if(u){c('MessengerActions').selectThread(u.thread_id);}else if(this.props.isComposing&&t===0&&s===-1)c('MessengerActions').changeDetailView(c('MessengerView').DETAIL.COMPOSE);if(t===this.props.threads.length-1)this.props.onLoadMoreRequest&&this.props.onLoadMoreRequest();}else if(this.state.focusedThreadID&&c('Parent').bySelector(event.target,"._1ht1")){event.preventDefault();this._updateThreadFocus(s);}},_handleActionsFocus:function r(s,event){event.preventDefault();this.setState({isThreadActionMenuFocused:s});},_handleThreadFocus:function r(s){this.setState({focusedThreadID:s});},_updateThreadFocus:function r(s){var t=-1;this.props.threads.some(function(v,w){if(v.thread_id===this.state.focusedThreadID){t=w;return true;}}.bind(this));var u=Math.min(Math.max(0,t+s),this.props.threads.length-1);this.setState({focusedThreadID:this.props.threads[u].thread_id});},_handleFocus:function r(){this.setState({isSearchFocused:true});},_handleBlur:function r(){this.setState({isSearchFocused:false,queryString:''});},_handleChange:function r(event){event.target instanceof HTMLInputElement||k(0);this.setState({queryString:event.target.value});},_handleClear:function r(){this.setState({queryString:''});this.props.clearQuery&&this.props.clearQuery();},_handleScrollIntoView:function r(s){c('MessengerTypeaheadUtils').scrollEntryIntoView(s,this.refs.scrollable);},_handleCloseNewMessage:function r(s){s.stopPropagation();c('MessengerComposerActions').exitComposeState();if(this.props.isNewMessageActive){var t=this.props.threads.find(function(u){return u.unread_count===0;});c('MessengerActions').selectThread(t?t.thread_id:null);}},_handleFilteredRequestsClick:function r(s){s.preventDefault();c('MessengerActions').changeFolder(c('MessagingTag').OTHER);},_handleReturnToInboxClick:function r(s){s.preventDefault();c('MessengerActions').changeFolder(c('MessagingTag').INBOX);c('MessengerActions').changeFilter(c('MercuryFilters').ALL);}});f.exports=q;}),null);
__d('MessengerRecentContainer.react',['MercuryAPIArgsSource','MercuryThreadlistContainer.react','MessengerComposerSteps','MessengerComposerStore','MessengerThreadlist.react','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'MessengerRecentContainer',mixins:[c('PureStoreBasedStateMixin')(c('MessengerComposerStore'))],propTypes:{activeThreadID:h.string,filter:h.string.isRequired,folder:h.string.isRequired,viewer:h.string.isRequired},statics:{calculateState:function j(){return {isComposing:c('MessengerComposerStore').getState().step!==c('MessengerComposerSteps').NULL};}},render:function j(){return (c('React').createElement(c('MercuryThreadlistContainer.react'),{ChildClass:c('MessengerThreadlist.react'),activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isComposing:this.state.isComposing,isNewMessageActive:this.props.isNewMessageActive,source:c('MercuryAPIArgsSource').WEBMESSENGER,viewer:this.props.viewer}));}});f.exports=i;}),null);
__d('MessengerSearchContainer.react',['cx','fbt','Link.react','MessengerActions','MessengerDialogStore','MessengerSpinner.react','MessengerThreadlist.react','MessengerThreadSearchActions','MessengerThreadSearchStore','MessengerView','React','SubscriptionsHandler','StoreAndPropBasedStateMixin','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'MessengerSearchContainer',mixins:[c('StoreAndPropBasedStateMixin')(c('MessengerDialogStore'),c('MessengerThreadSearchStore'))],propTypes:{activeThreadID:j.string,filter:j.string.isRequired,folder:j.string.isRequired,isComposing:j.bool,isLoaded:j.bool,isLoading:j.bool,isNewMessageActive:j.bool,viewer:j.string.isRequired},statics:{calculateState:function l(m){var n=c('MessengerThreadSearchStore').getState();return {dialogShown:!!c('MessengerDialogStore').getState().dialogClass,threads:n.threads?n.threads.toArray():[],threadsExhausted:n.threadsExhausted,loading:n.loading,query:n.query};}},_subscriptions:null,render:function l(){return (c('React').createElement(c('MessengerThreadlist.react'),babelHelpers['extends']({},this.props,{clearQuery:this._handleClear,isLoaded:!this.state.loading&&!!this.state.threads,isLoading:this.state.loading,isSearching:false,newMessageRequestThreads:[],onLoadMoreRequest:c('MessengerThreadSearchActions').loadMoreThreads,onQuery:c('MessengerActions').changeQueryAll,onSearchResults:c('emptyFunction'),p2pJewelBannerContainer:null,queryString:this.state.query,renderLoadMore:this._renderLoadMoreLink,threads:this.state.threads})));},_renderLoadMoreLink:function l(){if(this.state.threadsExhausted)return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('Link.react'),{href:'#',onClick:this._handleClear},i._("Aucune conversation trouv\u00e9e"))));if(this.state.loading)return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('MessengerSpinner.react'),null)));return (c('React').createElement('div',{className:"_19hf"},c('React').createElement(c('Link.react'),{href:'#',onClick:c('MessengerThreadSearchActions').loadMoreThreads,tabIndex:-1},i._("Charger plus de r\u00e9sultats"))));},_handleClear:function l(){c('MessengerActions').changeMasterView(c('MessengerView').MASTER.RECENT);}});f.exports=k;}),null);
__d('MessengerMasterView.react',['cx','BootloadOnRender.react','JSResource','LazyComponent.react','MessengerMasterViewHeader.react','MessengerRecentContainer.react','MessengerSearchContainer.react','MessengerSpinner.react','MessengerView','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement(c('MessengerMasterViewHeader.react'),{filter:this.props.filter,folder:this.props.folder,view:this.props.view,viewer:this.props.viewer}),this.$MessengerMasterView1()));};l.prototype.$MessengerMasterView1=function(){var m=this.props.detailView===c('MessengerView').DETAIL.COMPOSE;switch(this.props.view){case c('MessengerView').MASTER.PEOPLE:return (c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{activeThreadID:m?null:this.props.activeThreadID,viewer:this.props.viewer}),loader:c('JSResource')('MessengerPeopleList.react').__setRef('MessengerMasterView.react'),placeholder:c('React').createElement('div',{className:"_2pif",style:{textAlign:'center'}},c('React').createElement(c('MessengerSpinner.react'),null))}));case c('MessengerView').MASTER.RECENT:return (c('React').createElement(c('MessengerRecentContainer.react'),{activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isNewMessageActive:m,viewer:this.props.viewer}));case c('MessengerView').MASTER.SEARCH:return (c('React').createElement(c('MessengerSearchContainer.react'),{activeThreadID:this.props.activeThreadID,filter:this.props.filter,folder:this.props.folder,isNewMessageActive:m,viewer:this.props.viewer}));default:throw new Error('Unknown master view: '+this.props.view);}};function l(){i.apply(this,arguments);}l.propTypes={activeThreadID:k.string,detailView:k.string,filter:k.string,folder:k.string.isRequired,view:k.string.isRequired,viewer:k.string.isRequired};f.exports=l;}),null);
__d('P2PDialogStore',['EventEmitter','P2PActionConstants','P2PDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=void 0,k={};h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;function l(){i.constructor.call(this);j=c('P2PDispatcher').register(this.onEventDispatched.bind(this));k={dialogClass:null,dialogProps:null};}l.prototype.getState=function(){return k;};l.prototype.onEventDispatched=function(m){var n=m.type,o=m.data;switch(n){case c('P2PActionConstants').DIALOG_SHOWN:k.dialogClass=o.dialogClass;k.dialogProps=o.dialogProps;this.emit('change');break;case c('P2PActionConstants').DIALOG_CLOSED:k.dialogClass=null;k.dialogProps=null;this.emit('change');break;}};f.exports=new l();}),null);
__d('P2PDialogContainer.react',['P2PDialogStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state=c('P2PDialogStore').getState(),this.onDialogStoreChange=function(){this.setState(c('P2PDialogStore').getState());}.bind(this),l;}j.prototype.componentDidMount=function(){this.dialogStoreSub=c('P2PDialogStore').addListener('change',this.onDialogStoreChange);};j.prototype.componentWillUnmount=function(){if(this.dialogStoreSub){this.dialogStoreSub.remove();this.dialogStoreSub=null;}};j.prototype.render=function(){if(!this.state.dialogClass)return null;var k=this.state.dialogClass;return c('React').createElement(k,babelHelpers['extends']({},this.state.dialogProps,{key:'dialog'}));};f.exports=j;}),null);
__d('PagesPlatformActionConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={BOOKING_REQUEST_ACCEPT_ERROR:'booking_request_accept_error',BOOKING_REQUEST_ACCEPT_INITIATED:'booking_request_accept_initiated',BOOKING_REQUEST_ACCEPTED:'booking_request_accepted',BOOKING_REQUEST_CREATED:'booking_request_created',BOOKING_REQUEST_DECLINE_ERROR:'booking_request_decline_error',BOOKING_REQUEST_DECLINE_INITIATED:'booking_request_decline_initiated',BOOKING_REQUEST_DECLINED:'booking_request_declined',BOOKING_REQUEST_RESCHEDULE_INITIATED:'booking_request_reschedule_initiated',BOOKING_REQUEST_RESCHEULED:'booking_request_reschedule',DIALOG_CLOSED:'dialog_closed',DIALOG_SHOWN:'dialog_shown',NEW_TIME_CHOSEN:'new_time_chosen'};f.exports=h;}),null);
__d('PagesPlatformRequestDispatcher',['Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('Dispatcher_DEPRECATED'))();}),null);
__d('PagesPlatformDialogStore',['EventEmitter','PagesPlatformActionConstants','PagesPlatformRequestDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j={};h=babelHelpers.inherits(k,c('EventEmitter'));i=h&&h.prototype;function k(){i.constructor.call(this);c('PagesPlatformRequestDispatcher').register(this.onEventDispatched.bind(this));j={dialogClass:null,dialogProps:null};}k.prototype.getState=function(){return j;};k.prototype.onEventDispatched=function(l){var m=l.type,n=l.data;switch(m){case c('PagesPlatformActionConstants').DIALOG_SHOWN:j.dialogClass=n.dialogClass;j.dialogProps=n.dialogProps;this.emit('change');break;case c('PagesPlatformActionConstants').DIALOG_CLOSED:j.dialogClass=null;j.dialogProps=null;this.emit('change');break;}};f.exports=new k();}),null);
__d('PagesPlatformDialogContainer.react',['PagesPlatformDialogStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').createClass({displayName:'PagesPlatformDialogContainer',mixins:[c('PureStoreBasedStateMixin')(c('PagesPlatformDialogStore'))],statics:{calculateState:function i(){return c('PagesPlatformDialogStore').getState();}},render:function i(){if(!this.state.dialogClass)return null;var j=this.state.dialogClass;return c('React').createElement(j,babelHelpers['extends']({},this.state.dialogProps,{key:'dialog'}));}});f.exports=h;}),null);
__d("messengerReact",["cx","CurrentUser","FBPaymentsDialogContainer.react","bs_js_boolean","bs_js_primitive","MNCommerceDialogContainer.react","MercuryConfig","MessengerActions","MessengerBanner.react","MessengerBugNub.react","MessengerDetailView.react","MessengerDialogContainer.react","MessengerDiodeWelcomeDialog.react","MessengerErrorBoundary.react","MessengerMasterView.react","MessengerStateStore","P2PDialogContainer.react","PagesPlatformDialogContainer.react","PureStoreBasedStateMixin","React","ReactComponentWithPureRenderMixin","reactRe","utilsRe"],(function a(b,c,d,e,f,g,h){'use strict';function i(s){return [c("bs_js_primitive").js_from_nullable_def(s.employeeData),s.mobileAppInfo,c("utilsRe").nullUndefinedBooleanToOptionBool(s.isFirstRedirect),c("bs_js_primitive").js_from_nullable_def(s.promotionData),s.viewer];}function j(s){return s.preventDefault();}function k(){c("MessengerStateStore").unregister();return 0;}function l(s){if(c("utilsRe").isSomeTrue(s[2])&&!c("MercuryConfig").WebMessengerTriode){c("MessengerActions").showDialog(c("MessengerDiodeWelcomeDialog.react"),{});return 0;}else return 0;}function m(s,t){var u=+c("CurrentUser").isEmployee(),v;if(u!==0){var w=s[0],x=s[0];v=c("React").createElement(c("MessengerBugNub.react"),{isBetaEnabled:w?c("bs_js_boolean").to_js_boolean(c("utilsRe").isTruthy(w[0].isBetaEnabled)):false,unixName:x?x[0].unixName:undefined});}else v=null;return c("React").createElement("div",null,c("React").createElement(c("MessengerBanner.react"),{mobileAppInfo:s[1],initialPromotionData:c("utilsRe").optionToJsNullUndefined(s[3]),isFirstRedirect:c("utilsRe").optionBoolToNullUndefinedBoolean(s[2])}),c("React").createElement("div",{className:"_4sp8 _li",onDragEnter:j,onDragOver:j,onDrop:j},c("React").createElement("div",{className:"_1enh"},c("React").createElement(c("MessengerErrorBoundary.react"),{component:"conversation list"},c("React").createElement(c("MessengerMasterView.react"),{activeThreadID:t.activeThreadID,detailView:t.detailView,folder:t.folder,filter:t.filter,view:t.masterView,viewer:c("CurrentUser").getID()})),v),c("React").createElement(c("MessengerDetailView.react"),{activeThreadID:t.activeThreadID,mid:t.mid,query:t.query,view:t.detailView,viewer:c("CurrentUser").getID()}),c("React").createElement(c("MessengerDialogContainer.react"),null),c("React").createElement(c("MNCommerceDialogContainer.react"),null),c("React").createElement(c("P2PDialogContainer.react"),null),c("React").createElement(c("PagesPlatformDialogContainer.react"),null),c("React").createElement(c("FBPaymentsDialogContainer.react"),null)));}var n=c("React").createClass({displayName:"MessengerReact",mixins:[c("ReactComponentWithPureRenderMixin"),c("PureStoreBasedStateMixin")(c("MessengerStateStore"))],statics:{calculateState:function s(){return c("MessengerStateStore").getState();}},componentWillUnmount:function s(){c("MessengerStateStore").unregister();return 0;},componentDidMount:function s(){var t=this;return l(i(t.props));},render:function s(){var t=this,u=i(t.props),v=t.state;return m(u,v);}}),o=c("reactRe").Component[0],p=c("reactRe").Component[2],q=c("reactRe").Component[3],r=c("reactRe").Component[5];g.getInstanceVariables=o;g.componentDidUpdate=p;g.componentWillReceiveProps=q;g.createClass=r;g.jsPropsToReasonProps=i;g.preventDefault=j;g.componentWillUnmount=k;g.componentDidMount=l;g.render=m;g.comp=n;}),null);
__d('MessengerMount',['cx','CSS','ChannelConnection','CurrentUser','HotLikeSound','MercuryBlockedParticipants','MercuryChannelHandlerDEPRECATED','MercuryDelayedRoger','MercuryDeliveryReceipts','MercuryDeliveryState','MercuryOrderedThreadlist','MercuryParticipants','MercuryServerPayloadPreprocessor','MercurySyncEnvironment','MercuryThreads','MercuryThreadIDMap','MercuryUnreadState','MercuryUnseenState','messengerReact','MessengerActions','MessengerComposerActions','MessengerBrowserAlerts','MessengerComposerStore','MessengerConfig','MessengerEnvironment','MessengerMDotMeReferralStore','MessengerPage','MessengerRTCMessageHandler','MessengerSettingsStore','MessengerStateStore','MessengerThreadSearchStore','MessengerURIListener','MessengerURIConstants','MessengerView','OmniMStore','React','ReactDOM','MercuryConfig','ServiceWorkerRegistration','URI','goURI','OrderedFriendsList','PageHooks','ChannelManager'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('MercuryDelayedRoger').get(),j=c('messengerReact').comp;c('OrderedFriendsList');c('PageHooks');c('ChannelManager');var k={mount:function o(p,q){c('MessengerEnvironment').setMessengerUI(true);c('MessengerPage').emit(c('MessengerPage').Events.JS_LOADED);var r=c('CurrentUser').getID();l(r);m(r);n(r,q);c('MessengerPage').emit(c('MessengerPage').Events.DATA_INITIALIZED);c('CSS').addClass(document.documentElement,"_51l0");c('CSS').addClass(document.body,"_z4_");if(c('MessengerConfig').FlexBubblesEnabled)c('CSS').addClass(document.body,"_5v7-");if(c('MessengerConfig').SFFontEnabled)c('CSS').addClass(document.body,"__6g");if(c('MessengerConfig').SegoeUIDisabled)c('CSS').addClass(document.body,"_2por");c('HotLikeSound').setCheckSoundEnabledFunc(function(){return c('MessengerSettingsStore').getSettings().sound_enabled;});c('ReactDOM').render(c('React').createElement(j,{employeeData:q.employeeData,facebookNotificationTokens:q.facebookNotificationTokens,mobileAppInfo:q.mobileAppInfo,promotionData:q.promotionData,isFirstRedirect:!c('MercuryConfig').MessengerDotComUser,viewer:r}),p,function(){c('MessengerPage').emit(c('MessengerPage').Events.APP_MOUNTED);});if(q.MessengerServiceWorkerAction==='install'&&q.serviceWorker){c('ServiceWorkerRegistration').registerWorkerIfUnregistered(q.serviceWorker);}else if(q.MessengerServiceWorkerAction==='remove')c('ServiceWorkerRegistration').unregisterControllingWorker();}};function l(o){i;c('MercuryDeliveryReceipts').getForFBID(o);c('MercuryDeliveryState').getForFBID(o);c('MercuryOrderedThreadlist').getForFBID(o);c('MercuryParticipants');c('MercuryBlockedParticipants').getForFBID(o);c('MercuryThreads').getForFBID(o);c('MercuryUnreadState').getForFBID(o);c('MercuryUnseenState').getForFBID(o);c('MessengerComposerStore');c('MessengerMDotMeReferralStore');c('MessengerSettingsStore');c('MessengerStateStore');c('MessengerThreadSearchStore').getForFBID(o);}function m(o){c('MessengerURIListener').start();c('MercuryChannelHandlerDEPRECATED').getForFBID(o).turnOn();c('MercurySyncEnvironment').setUp();c('MessengerBrowserAlerts').init(o);c('MessengerRTCMessageHandler').init();c('ChannelConnection');c('OmniMStore').setUp();}function n(o,p){var q=c('MercuryServerPayloadPreprocessor').getForFBID(o);q.handleUpdate(p.mercuryPayload);var r=new (c('URI'))(window.location.href);c('goURI')(r);if(r.getPath().endsWith(c('MessengerURIConstants').COMPOSE_SUBPATH))return;c('MessengerActions').changeMDotMeReferral(p.mDotMeReferral,p.mDotMeReferralThreadKey);var s=c('MercuryThreadIDMap').get(),t=s.getClientIDFromServerIDNow(p.lastReadThreadKey);if(t){c('MessengerComposerActions').exitComposeState();c('MessengerActions').selectThread(t);}else if(r.getPath()==='/')c('MessengerActions').changeDetailView(c('MessengerView').DETAIL.COMPOSE);}f.exports=k;}),null);
__d('MessengerWorkAvailabilityStatus.react',['fbt','React','AsyncRequest'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k='/ajax/mercury/bypass_focus_mode.php';i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.displayFocusBanner=function(m,n){var o=false;n.forEach(function(p){if(!p||p.fbid===m)return;o=o||p.is_user_focusing;});return !!o;};l.prototype.$MessengerWorkAvailabilityStatus1=function(){new (c('AsyncRequest'))(k).setData({thread_fbid:this.props.thread.thread_fbid,other_user_fbid:this.props.thread.other_user_fbid,new_setting:true}).send();};l.prototype.render=function(){var m=this.props,n=m.viewer,o=m.thread,p=m.participants,q=l.displayFocusBanner(n,p);if(!q)return null;if(o&&o.bypass_focus_mode_until&&o.bypass_focus_mode_until>Date.now()/1000)return (c('React').createElement('div',{className:this.props.className},h._("Mode focus ignor\u00e9.")));var r=p.size>2?'coworkers are':'coworker is';return (c('React').createElement('div',{className:this.props.className},h._("Votre {coworkerText} en mode focus.",[h.param('coworkerText',r)]),' ',c('React').createElement('a',{href:'#',onClick:function(){return this.$MessengerWorkAvailabilityStatus1();}.bind(this)},h._("Ignorer"))));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('KillabyteHTMLXHPTemplateProcessor',[],(function a(b,c,d,e,f,g){f.exports=function(h){var i=[h];while(i.length){var j=i.pop();if(j.removeAttribute)j.removeAttribute('data-from-server');if(j.childNodes)i.push.apply(i,j.childNodes);}return h;};}),null);
__d('XHPTemplate',['DataStore','DOM','HTML','XHPTemplateProcessor'],(function a(b,c,d,e,f,g){var h=c('XHPTemplateProcessor').processor;function i(k){'use strict';if(h instanceof Function)k=h(k);this._model=k;}i.prototype.render=function(){'use strict';if(c('HTML').isHTML(this._model))this._model=c('DOM').setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);};i.prototype.build=function(){'use strict';return new j(this.render());};i.getNode=function(k,l){'use strict';return i.getNodes(k)[l];};i.getNodes=function(k){'use strict';var l=c('DataStore').get(k,'XHPTemplate:nodes');if(!l){l={};var m=c('DOM').scry(k,'[data-jsid]');m.push(k);var n=m.length;while(n--){var o=m[n];l[o.getAttribute('data-jsid')]=o;o.removeAttribute('data-jsid');}c('DataStore').set(k,'XHPTemplate:nodes',l);}return l;};function j(k){'use strict';this._root=k;this._populateNodes();}j.prototype._populateNodes=function(){'use strict';this._nodes={};this._leaves={};var k=this._root.getElementsByTagName('*');for(var l=0,m=k.length;l<m;l++){var n=k[l],o=n.getAttribute('data-jsid');if(o){n.removeAttribute('data-jsid');this._nodes[o]=n;this._leaves[o]=!n.childNodes.length;}}};j.prototype.getRoot=function(){'use strict';return this._root;};j.prototype.getNode=function(k){'use strict';return this._nodes[k];};j.prototype.setNodeProperty=function(k,l,m){'use strict';this.getNode(k)[l]=m;return this;};j.prototype.setNodeContent=function(k,l){'use strict';if(!this._leaves[k])throw new Error("Can't setContent on non-leaf node: "+k);c('DOM').setContent(this.getNode(k),l);return this;};f.exports=i;}),null);
__d('WorkFocusMode',['WorkModeConfig','WorkUserAvailabilityStatusType','emptyFunction','ifRequired'],(function a(b,c,d,e,f,g){'use strict';var h={},i={status:'AVAILABLE',end_date:0};if(c('WorkModeConfig').availability){i.status=c('WorkModeConfig').availability.status;i.end_date=c('WorkModeConfig').availability.end_date;}f.exports={updateAvailability:function j(k,l){k=Object.keys(c('WorkUserAvailabilityStatusType')).find(function(m){return c('WorkUserAvailabilityStatusType')[m]===k;});i.status=k;i.end_date=l;},currentViewerInFocusMode:function j(k){if(!c('WorkModeConfig').focus_messaging_enabled)return false;if(k){if(h[k])return false;var l=null;c('ifRequired')('MercuryThreads',function(n){l=n.get().getThreadMetaNow(k);},c('emptyFunction'));if(l&&l.bypass_focus_mode_until&&l.bypass_focus_mode_until>Date.now()/1000)return false;}var m=c('WorkUserAvailabilityStatusType')[i.status];if(m===c('WorkUserAvailabilityStatusType').FOCUS&&i.end_date*1000>Date.now())return true;return false;},addBypassFocusModeForThread:function j(k){h[k]=true;},removeBypassFocusModeForThread:function j(k){h[k]=false;}};}),null);
__d('SimpleFBAuthenticatedXHRRequest',['invariant','CurrentUser','DTSG','ServerJSDefine','XHRRequest','isFacebookURI'],(function a(b,c,d,e,f,g,h){var i,j,k=1;i=babelHelpers.inherits(l,c('XHRRequest'));j=i&&i.prototype;function l(m,n){'use strict';j.constructor.call(this,m);var o={__dyn:c('ServerJSDefine').getLoadedModuleHash(),__req:(k++).toString(36),__ajax__:1,__a:1,__user:c('CurrentUser').getID()};j.setData.call(this,babelHelpers['extends']({},n,o));}l.prototype.send=function(){'use strict';if(!c('isFacebookURI')(this.getURI()))return j.send.call(this);if(c('DTSG').getCachedToken){var m=c('DTSG').getCachedToken();if(m){return this.sendOnDTSGToken(m);}else{c('DTSG').getToken().done(function(n){return this.sendOnDTSGToken(n);}.bind(this));return this;}}else this.sendOnDTSGToken(c('DTSG').getToken());};l.prototype.sendOnDTSGToken=function(m){'use strict';if(m)j.setData.call(this,babelHelpers['extends']({},this.getData(),{fb_dtsg:m}));return j.send.call(this);};l.prototype.setData=function(m){'use strict';h(0);};l.parseResponse=function(m){'use strict';return JSON.parse(m.substr(9));};l.getPayload=function(m){'use strict';var n=l.parseResponse(m).payload;return n.payload?n.payload:n;};f.exports=l;}),null);
__d("XFantailLogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/fantail\/",{service:{type:"String",required:true}});}),null);
__d('FantailLogQueue',['ChannelClientID','CircularBuffer','destroyOnUnload','FantailConfig','PHPQuerySerializer','setIntervalAcrossTransitions','SimpleFBAuthenticatedXHRRequest','sprintf','XFantailLogController'],(function a(b,c,d,e,f,g){var h={DEBUG:'debug',INFO:'info',WARN:'warn',ERROR:'error'};function i(j){'use strict';this.$FantailLogQueue2=j;this.$FantailLogQueue3=new (c('CircularBuffer'))(c('FantailConfig').queueSize||200);c('setIntervalAcrossTransitions')(this.$FantailLogQueue4.bind(this),c('FantailConfig').flushInterval||30*1000);c('destroyOnUnload')(this.$FantailLogQueue4.bind(this));}i.get=function(j){'use strict';i.$FantailLogQueue1=i.$FantailLogQueue1||{};i.$FantailLogQueue1[j]=i.$FantailLogQueue1[j]||new i(j);return i.$FantailLogQueue1[j];};i.prototype.debug=function(j){'use strict';for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.DEBUG,j].concat(l));};i.prototype.info=function(j){'use strict';for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.INFO,j].concat(l));};i.prototype.warn=function(j){'use strict';for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.WARN,j].concat(l));};i.prototype.error=function(j){'use strict';for(var k=arguments.length,l=Array(k>1?k-1:0),m=1;m<k;m++)l[m-1]=arguments[m];this.$FantailLogQueue5.apply(this,[h.ERROR,j].concat(l));};i.prototype.$FantailLogQueue5=function(j,k){'use strict';for(var l=arguments.length,m=Array(l>2?l-2:0),n=2;n<l;n++)m[n-2]=arguments[n];var o=c('sprintf').apply(undefined,[k].concat(m));this.$FantailLogQueue3.write({log_time:Date.now(),log:o,severity:j,device_id:c('ChannelClientID').getID()});};i.prototype.$FantailLogQueue4=function(){'use strict';var j=this.$FantailLogQueue3.read();if(j.length>0){var k={log_time:[],log:[],severity:[],device_id:[]};j.forEach(function(m){k.log_time.push(m.log_time);k.log.push(m.log);k.severity.push(m.severity);k.device_id.push(m.device_id);});this.$FantailLogQueue3.clear();var l=c('XFantailLogController').getURIBuilder().setString('service',this.$FantailLogQueue2).getURI();new (c('SimpleFBAuthenticatedXHRRequest'))(l,k).setMethod('POST').setDataSerializer(c('PHPQuerySerializer').serialize).setRequestHeader('Content-Type','application/x-www-form-urlencoded').send();}};f.exports=i;}),null);